[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24007#discussion_r780849935"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/780849935"
         }
      },
      "author_association" : "MEMBER",
      "body" : "While I've seen protocol proposals leveraging same-txid-different-witness, I don't know any of them which is effectively deployed now (?). If they're and their usages is high enough to lead to a significant rate of witness conflicts, by that time I would expect this new replacement policy to be widely deployed in the miner ecosystem.\r\n\r\nOf course, the majority of miners might run a different policy than the default Core's one. Though, until the contrary is corroborated by periodic probing of miner's mempools, I think we can reasonably hold the assumption they're.\r\n\r\nSo to simplify, I lean to account witness replacement in fee estimation as early as this PR.\r\n\r\nWhat do you think ?",
      "commit_id" : "b15079ac7bc539df9854069b834f9ca437e79b8e",
      "created_at" : "2022-01-10T00:06:40Z",
      "diff_hunk" : "@@ -1013,18 +1038,33 @@ bool MemPoolAccept::Finalize(const ATMPArgs& args, Workspace& ws)\n                 (int)entry->GetTxSize() - (int)ws.m_conflicting_size);\n         ws.m_replaced_transactions.push_back(it->GetSharedTx());\n     }\n-    m_pool.RemoveStaged(ws.m_all_conflicting, false, MemPoolRemovalReason::REPLACED);\n+    if (ws.m_witness_replace) {\n+        // Only remove the direct conflict; preserve and update the descendants.\n+        m_pool.RemoveStaged(ws.m_iters_conflicting, /* updateDescendants */ true, MemPoolRemovalReason::REPLACED);\n+    } else {\n+        m_pool.RemoveStaged(ws.m_all_conflicting, /* updateDescendants */ false, MemPoolRemovalReason::REPLACED);\n+    }\n \n     // This transaction should only count for fee estimation if:\n     // - it's not being re-added during a reorg which bypasses typical mempool fee limits\n     // - the node is not behind\n     // - the transaction is not dependent on any other transactions in the mempool\n     // - it's not part of a package. Since package relay is not currently supported, this\n-    // transaction has not necessarily been accepted to miners' mempools.\n-    bool validForFeeEstimation = !bypass_limits && !args.m_package_submission && IsCurrentForFeeEstimation(m_active_chainstate) && m_pool.HasNoInputsOf(tx);\n+    //   transaction has not necessarily been accepted to miners' mempools\n+    // - this is not a witness replacement. Miners may not have witness replacement implemented\n+    //   (yet). TODO: re-include witness replacements in v25.0",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#discussion_r780849935",
      "id" : 780849935,
      "line" : 1055,
      "node_id" : "PRRC_kwDOABII584uitMP",
      "original_commit_id" : "b15079ac7bc539df9854069b834f9ca437e79b8e",
      "original_line" : 1055,
      "original_position" : 130,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 130,
      "pull_request_review_id" : 847323456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/780849935/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-10T00:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/780849935",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24007#discussion_r781043034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781043034"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The reasoning was based on #9519 - adding a witness replacement to the fee estimator isn't really accurate unless miners are also allowing witness replacements. I think it's reasonable to wait 1 or 2 releases for miners to update their policies? We just need to not forget to remove this bool. I imagine it'll take some time for it to be used, anyway.",
      "commit_id" : "b15079ac7bc539df9854069b834f9ca437e79b8e",
      "created_at" : "2022-01-10T10:06:42Z",
      "diff_hunk" : "@@ -1013,18 +1038,33 @@ bool MemPoolAccept::Finalize(const ATMPArgs& args, Workspace& ws)\n                 (int)entry->GetTxSize() - (int)ws.m_conflicting_size);\n         ws.m_replaced_transactions.push_back(it->GetSharedTx());\n     }\n-    m_pool.RemoveStaged(ws.m_all_conflicting, false, MemPoolRemovalReason::REPLACED);\n+    if (ws.m_witness_replace) {\n+        // Only remove the direct conflict; preserve and update the descendants.\n+        m_pool.RemoveStaged(ws.m_iters_conflicting, /* updateDescendants */ true, MemPoolRemovalReason::REPLACED);\n+    } else {\n+        m_pool.RemoveStaged(ws.m_all_conflicting, /* updateDescendants */ false, MemPoolRemovalReason::REPLACED);\n+    }\n \n     // This transaction should only count for fee estimation if:\n     // - it's not being re-added during a reorg which bypasses typical mempool fee limits\n     // - the node is not behind\n     // - the transaction is not dependent on any other transactions in the mempool\n     // - it's not part of a package. Since package relay is not currently supported, this\n-    // transaction has not necessarily been accepted to miners' mempools.\n-    bool validForFeeEstimation = !bypass_limits && !args.m_package_submission && IsCurrentForFeeEstimation(m_active_chainstate) && m_pool.HasNoInputsOf(tx);\n+    //   transaction has not necessarily been accepted to miners' mempools\n+    // - this is not a witness replacement. Miners may not have witness replacement implemented\n+    //   (yet). TODO: re-include witness replacements in v25.0",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#discussion_r781043034",
      "id" : 781043034,
      "in_reply_to_id" : 780849935,
      "line" : 1055,
      "node_id" : "PRRC_kwDOABII584ujcVa",
      "original_commit_id" : "b15079ac7bc539df9854069b834f9ca437e79b8e",
      "original_line" : 1055,
      "original_position" : 130,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 130,
      "pull_request_review_id" : 847595420,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781043034/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-10T10:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781043034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We should probably use the same criteria for the feerate increase. Either this new criteria is safe to apply to other replacements, or it isn't safe.",
      "created_at" : "2022-01-12T07:44:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1010736034",
      "id" : 1010736034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII5848Ppui",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010736034/reactions"
      },
      "updated_at" : "2022-01-12T07:44:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010736034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> We should probably use the same criteria for the feerate increase. Either this new criteria is safe to apply to other replacements, or it isn't safe.\r\n\r\nJust to clarify, what do you mean by \"the same\" criteria? Our current rules require an increase in absolute fees, which is not possible when the txid is the same.",
      "created_at" : "2022-01-14T10:28:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1012996025",
      "id" : 1012996025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII5848YRe5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012996025/reactions"
      },
      "updated_at" : "2022-01-14T10:28:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012996025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-01-22T22:53:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1019372291",
      "id" : 1019372291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII5848wmMD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019372291/reactions"
      },
      "updated_at" : "2022-01-22T22:53:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019372291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nWould it be worth documenting the behaviour in a new section of [doc/policy/mempool-replacements.md](https://github.com/bitcoin/bitcoin/blob/6d859cbd794a36ed1c0c72324a4ec54d029b3d3b/doc/policy/mempool-replacements.md) in this PR, or are we just reserving that for RBF?\r\n\r\nI'd need to try and convince myself whether 5% smaller witness is a reasonable anti-DoS or not.\r\n",
      "created_at" : "2022-01-24T07:07:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1019781991",
      "id" : 1019781991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII5848yKNn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019781991/reactions"
      },
      "updated_at" : "2022-01-24T07:07:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019781991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3072149?v=4",
         "events_url" : "https://api.github.com/users/dunxen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dunxen/followers",
         "following_url" : "https://api.github.com/users/dunxen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dunxen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dunxen",
         "id" : 3072149,
         "login" : "dunxen",
         "node_id" : "MDQ6VXNlcjMwNzIxNDk=",
         "organizations_url" : "https://api.github.com/users/dunxen/orgs",
         "received_events_url" : "https://api.github.com/users/dunxen/received_events",
         "repos_url" : "https://api.github.com/users/dunxen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dunxen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dunxen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dunxen"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I understood the proposal by reading the functional test, however I couldn't imagine a real use case that could reduce the witness. Could you please give an example?",
      "created_at" : "2022-01-25T00:12:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1020678073",
      "id" : 1020678073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58481k-5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020678073/reactions"
      },
      "updated_at" : "2022-01-25T00:12:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020678073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@brunoerg \r\n> I understood the proposal by reading the functional test, however I couldn't imagine a real use case that could reduce the witness. Could you please give an example?\r\n\r\nThere's some discussion of the motivations in #19645 but one simple example I can mention here involves Taproot. You may know that there are two ways to spend a Taproot output, the _key_ path or the _script_ path. The key path requires all participants to be in agreement with the spend and has a smaller witness. But suppose there is an absence of unanimous agreement, requiring broadcasting a transaction with an input using the script path (which has a large witness). While it's in the mempool, agreement is reached, and the transaction is sent again but this time using the key path. It's beneficial to the miner (in terms of feerate) and to the transaction participants (in terms of privacy and confirmation speed) if this second version of the transaction can replace the first, as this PR enables.\r\n\r\nI believe this can happen when L2s (such as LN) integrate the use of Taproot, but I don't understand the details.",
      "created_at" : "2022-01-25T17:08:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1021414502",
      "id" : 1021414502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58484Yxm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021414502/reactions"
      },
      "updated_at" : "2022-01-25T17:08:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021414502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@LarryRuane Great, thank you so much!",
      "created_at" : "2022-01-25T18:12:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1021471248",
      "id" : 1021471248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58484moQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021471248/reactions"
      },
      "updated_at" : "2022-01-25T18:12:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021471248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hi @LarryRuane this PR needs a Rebase because of #21464 which intruduced mandatory parameters for UpdateTransactionsFromBlock() which needs now `ancestor_size_limit`and `ancestor_count_limit`thanks to lightlike who pointed me into this direction. ",
      "created_at" : "2022-01-25T22:59:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1021687422",
      "id" : 1021687422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58485bZ-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021687422/reactions"
      },
      "updated_at" : "2022-01-25T22:59:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021687422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/90319354?v=4",
         "events_url" : "https://api.github.com/users/ziggie1984/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ziggie1984/followers",
         "following_url" : "https://api.github.com/users/ziggie1984/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ziggie1984/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ziggie1984",
         "id" : 90319354,
         "login" : "ziggie1984",
         "node_id" : "MDQ6VXNlcjkwMzE5MzU0",
         "organizations_url" : "https://api.github.com/users/ziggie1984/orgs",
         "received_events_url" : "https://api.github.com/users/ziggie1984/received_events",
         "repos_url" : "https://api.github.com/users/ziggie1984/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ziggie1984/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ziggie1984/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ziggie1984"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed to improve the test comments, no functional change.",
      "created_at" : "2022-01-26T01:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1021761070",
      "id" : 1021761070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58485tYu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021761070/reactions"
      },
      "updated_at" : "2022-01-26T01:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021761070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26451](https://github.com/bitcoin/bitcoin/pull/26451) (Enforce incentive compatibility for all RBF replacements by sdaftuar)\n* [#26403](https://github.com/bitcoin/bitcoin/pull/26403) ([POLICY] Ephemeral anchors by instagibbs)\n* [#25038](https://github.com/bitcoin/bitcoin/pull/25038) (policy: nVersion=3 and Package RBF by glozow)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-01-26T04:11:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1021844458",
      "id" : 1021844458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58486Bvq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021844458/reactions"
      },
      "updated_at" : "2022-11-07T22:08:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021844458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed to resolve hidden conflict due to #21464.",
      "created_at" : "2022-01-26T05:21:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1021878482",
      "id" : 1021878482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58486KDS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021878482/reactions"
      },
      "updated_at" : "2022-01-26T05:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021878482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-01-26T09:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022014376",
      "id" : 1022014376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58486rOo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022014376/reactions"
      },
      "updated_at" : "2022-01-26T09:24:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022014376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Just to clarify, what do you mean by \"the same\" criteria? Our current rules require an increase in absolute fees, which is not possible when the txid is the same.\r\n\r\nRight. So for this to be consistent, those \"current rules\" would have to change. That's either safe or not. If not, then it isn't safe to do for this case either.",
      "created_at" : "2022-01-26T10:04:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022046675",
      "id" : 1022046675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58486zHT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022046675/reactions"
      },
      "updated_at" : "2022-01-26T10:04:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022046675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr agree, I should have clarified that we are indeed looking to propose a new set of RBF rules in general as well. I've been dragging my feet on it (sorry to everyone) but hopefully posting to ML soon.",
      "created_at" : "2022-01-26T10:33:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022069930",
      "id" : 1022069930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII584864yq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022069930/reactions"
      },
      "updated_at" : "2022-01-26T10:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022069930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\n> I believe this can happen when L2s (such as LN) integrate the use of Taproot, but I don't understand the details.\r\n\r\nMaybe other L2s but LN wouldn't use this (I don't think). In LN you might broadcast a unilateral close (sending to a timelocked output) because your counterparty is unresponsive. Then your counterparty comes back online and you agree to do a cooperative close to replace the unilateral close with no timelocked output. But the transactions aren't identical so you wouldn't be able to make use of this.\r\n\r\nI agree in principle that it makes no sense to prevent someone from using a smaller witness if for whatever reason they previously broadcast a larger witness than was necessary. But I also agree with Luke that it will be much easier to review these RBF PRs once we know what the updated RBF rules are. At the moment we are being asked to review PRs without knowing what the updated rules are.",
      "created_at" : "2022-01-26T10:56:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022087030",
      "id" : 1022087030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58486892",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022087030/reactions"
      },
      "updated_at" : "2022-01-26T10:56:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022087030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd still like to see a concrete use case (even just a proposal) before we consider merging support for this.  This all seems very theoretical to me, and there are both code complexity concerns as well as anti-DoS concerns around using the network to relay transactions that never get mined.  So if some protocol is relying on coordinating signatures for transactions by relaying messages on the bitcoin network rather than communicating over some other channel, I think we should be skeptical and carefully evaluate whether this makes sense.  Does the bitcoin p2p network really need to serve as a communication medium for layer 2 protocols to construct efficient transactions?\r\n\r\n> Right. So for this to be consistent, those \"current rules\" would have to change. That's either safe or not. If not, then it isn't safe to do for this case either.\r\n\r\nI believe this proposal is equivalent to reducing the minrelayfee for witness-replacement transactions by approximately a factor of 20 -- you could imagine someone constructs a transaction with bloated witness which just meets the minrelayfee, and then repeatedly replaces it, dropping the size by 5% each time, resulting in using nearly 20x the bandwidth for the same total fee expended.\r\n\r\nPresumably the 5% number could be changed to accommodate a more (or less) conservative bandwidth limit, but I don't know how we should be picking it without knowing what use cases we are trying to support in the first place.  So I tend to concept NACK, at least until we understand concretely what those use cases are.",
      "created_at" : "2022-01-26T15:21:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022303102",
      "id" : 1022303102,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58487xt-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022303102/reactions"
      },
      "updated_at" : "2022-01-26T15:21:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022303102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed to incorporate https://github.com/bitcoin/bitcoin/pull/24007#pullrequestreview-863782916, thanks, @theStack!",
      "created_at" : "2022-01-26T19:55:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022549974",
      "id" : 1022549974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58488t_W",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022549974/reactions"
      },
      "updated_at" : "2022-01-26T19:55:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022549974",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "NACK, will follow up with the author privately",
      "created_at" : "2022-01-27T00:48:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022739870",
      "id" : 1022739870,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII58489cWe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022739870/reactions"
      },
      "updated_at" : "2022-01-27T00:48:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022739870",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> NACK, will follow up with the author privately\r\n\r\nNot entirely sure why a justification for a NACK can't be posted on a currently unmerged PR and why justifying it privately is somehow preferable. Regardless if the PR author summarizes whatever that justification is afterwards on the PR that's fine I guess.",
      "created_at" : "2022-01-27T14:27:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1023266422",
      "id" : 1023266422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII5848_c52",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023266422/reactions"
      },
      "updated_at" : "2022-01-27T14:27:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023266422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed to address review comments, except https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022739870 (still working on that).",
      "created_at" : "2022-01-28T15:53:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1024351285",
      "id" : 1024351285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII5849Dlw1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024351285/reactions"
      },
      "updated_at" : "2022-01-28T15:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1024351285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-07T09:17:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1091403530",
      "id" : 1091403530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585BDX8K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1091403530/reactions"
      },
      "updated_at" : "2022-04-07T09:17:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1091403530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24007#discussion_r844984488"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/844984488"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n                            /*m_allow_witness_replace=*/true,\r\n```\r\nAnywhere you are adding / touching named args, please use the [style from the developer docs](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c-named-arguments).",
      "commit_id" : "61b2d79405d61f103bb27b9ecc9445af004501e9",
      "created_at" : "2022-04-07T10:39:14Z",
      "diff_hunk" : "@@ -498,6 +500,7 @@ class MemPoolAccept\n                             /* m_test_accept */ test_accept,\n                             /* m_allow_bip125_replacement */ true,\n                             /* m_package_submission */ false,\n+                            /* m_allow_witness_replace */ true,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#discussion_r844984488",
      "id" : 844984488,
      "line" : 503,
      "node_id" : "PRRC_kwDOABII584yXXCo",
      "original_commit_id" : "61b2d79405d61f103bb27b9ecc9445af004501e9",
      "original_line" : 503,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 13,
      "pull_request_review_id" : 934852363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/844984488/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T10:39:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/844984488",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed rebase to 86ead0f\r\nForce-pushed for [review comment](https://github.com/bitcoin/bitcoin/pull/24007#discussion_r844984488) to af4bf1a",
      "created_at" : "2022-04-21T19:22:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1105663899",
      "id" : 1105663899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585B5xeb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1105663899/reactions"
      },
      "updated_at" : "2022-04-21T19:22:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1105663899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed to d9b5b831fb to fix CI failure",
      "created_at" : "2022-04-23T04:03:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1107355207",
      "id" : 1107355207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585CAOZH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1107355207/reactions"
      },
      "updated_at" : "2022-04-23T04:03:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1107355207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Based on https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022303102 and discussion in https://bitcoincore.reviews/24007#l-181, marking this with \"needs conceptual review\" until more concrete use cases are given and the change has been discussed more thoroughly on e.g. the ML.",
      "created_at" : "2022-08-01T10:37:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1201024653",
      "id" : 1201024653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585Hli6N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1201024653/reactions"
      },
      "updated_at" : "2022-08-01T10:37:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1201024653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-03T09:24:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1203704556",
      "id" : 1203704556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585HvxLs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203704556/reactions"
      },
      "updated_at" : "2022-08-03T09:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203704556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sdaftuar re https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022303102\r\n\r\nI agree we need a more solid use case or cases, but just a general thought: \r\n\r\nCould _rate-limiting_ mitigate the DoS attack surface? If an attacker submitted the same transaction with incrementally smaller witnesses 20 times, could the node not accept (or relay) the new transaction if the one it's replacing was accepted and relayed less than so many seconds ago? Maybe implement an exponential backoff policy by requiring an ever-greater delay before accepting the next version of the same transaction.\r\n\r\nIt's true that the total required bandwidth would be the same, but if it's spread out over many minutes or hours, it would be less of a practical DoS threat.",
      "created_at" : "2022-08-10T06:07:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1210202927",
      "id" : 1210202927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585IIjsv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210202927/reactions"
      },
      "updated_at" : "2022-08-10T06:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210202927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed rebase to fix conflicts.\r\n\r\n@sdaftuar re https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1022303102\r\n\r\n> I believe this proposal is equivalent to reducing the minrelayfee for witness-replacement transactions by approximately a factor of 20 -- you could imagine someone constructs a transaction with bloated witness which just meets the minrelayfee, and then repeatedly replaces it, dropping the size by 5% each time, resulting in using nearly 20x the bandwidth for the same total fee expended.\r\n\r\nGood point. Is the following a possible solution?: Have the mempool keep track of the _sum_ of the sizes of all versions of this transaction (same txid, different witnesses) that it has accepted and relayed, and require that this _sum_ satisfy `minrelayfee` as a condition of accepting a newer version of the tx.\r\n\r\nThis would incentivize submitters to supply an initial fee large enough to cover the anticipated series of replacements. If it's not possible to submit another version of the transaction due to this constraint, it's not the end of the world; the existing (latest accepted and relayed) transaction remains in the mempool (and presumably will eventually get mined) -- this is no worse than today.\r\n\r\nAnother benefit may be that we could eliminate the requirement that the replacement tx be at least 5% smaller than the existing tx. Instead, the only size constraint would be that the replacement is strictly smaller. \r\n\r\nA possible objection here is that an attacker could submit a series of transactions that are each one byte smaller than the previous, thus \"using up\" the entire `minrelayfee`, so that the honest party is no longer able to replace the transaction. But two points seem relevant: First, this is no worse than today, since witness-replacement is currently impossible. Second, all these transactions have the same _effect_ on the UTXO set, so the inability to submit a replacement transaction could not be preventing (for example) a layer-2 penalty transaction.",
      "created_at" : "2022-11-07T07:08:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1305175644",
      "id" : 1305175644,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585Ny2Zc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1305175644/reactions"
      },
      "updated_at" : "2022-11-07T07:08:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1305175644",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "One idea that comes to mind that would mitigate DoS but still provide utility in the way I think this might be intended to be used:\r\n\r\nOnly allow going from a Tr script path to a Tr key path.\r\n\r\nThis ensures that the witness replacement can only happen once, and prioritizes lazy cooperation.\r\n\r\nIf APO is added later, another allowable replacement can be added for the 0x01 top branch script.",
      "created_at" : "2022-11-09T02:12:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1308104119",
      "id" : 1308104119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585N-BW3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1308104119/reactions"
      },
      "updated_at" : "2022-11-09T02:12:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1308104119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@LarryRuane It's hard to evaluate what the right strategy is for mitigating potential network DoS in these cases, without first understanding the use cases we're trying to support.  \r\n\r\nAt the highest level, I'd say that there's a benefit to never writing the code or figuring out rules to support tx-replacement-via-smaller-witness if that meant that we just deter all possible protocols people might otherwise come up with which would use our public relay network unnecessarily.  If people can figure out a way to relay the best version of their transactions the first time, that's a strict win for the public relay network.  \r\n\r\nExpanding on that more: I think a really important idea is that we influence behavior on the network via the policy choices we implement and support.  Inventing a standard in the absence of a use case is risky, both because we might encourage unintended behaviors which are bad for the network (and would otherwise have been avoided), and because we add more complexity to our code base without a corresponding benefit.\r\n\r\nOn the other hand, if there is a use case / protocol where relaying alternate versions of the same txid might arise, we should just talk about what those are, because I would agree that we should find a way to support behaviors that users need and have economic value, to discourage the development of private relay to miners (which would be damaging to the ecosystem).\r\n\r\nSo regarding your specific proposal: I'm really not sure; something like that might work?  But I don't think it's worth adding that kind of complexity to our code when we don't know what specific use cases we're even trying to reason about.  ",
      "created_at" : "2022-11-09T14:44:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24007#issuecomment-1308871258",
      "id" : 1308871258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24007",
      "node_id" : "IC_kwDOABII585OA8pa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1308871258/reactions"
      },
      "updated_at" : "2022-11-09T14:44:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1308871258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   }
]
