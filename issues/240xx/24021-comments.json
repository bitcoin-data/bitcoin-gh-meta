[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r781302181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781302181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is 1ULL guaranteed to be of the same width as uint64_t{1}? Even if they are, maybe still replace it while touching this line?\r\n\r\nAlso, the function could be moved closer to GetRand*Duration, to bundle related calls?",
      "commit_id" : "35cf6e4ebb550dda6c3ef7853090ace2560af877",
      "created_at" : "2022-01-10T15:37:40Z",
      "diff_hunk" : "@@ -714,3 +715,10 @@ void RandomInit()\n \n     ReportHardwareRand();\n }\n+\n+std::chrono::microseconds GetExponentialRand(std::chrono::microseconds now, std::chrono::seconds average_interval)\n+{\n+    double unscaled = -std::log1p(GetRand(1ULL << 48) * -0.0000000000000035527136788 /* -1/2^48 */);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r781302181",
      "id" : 781302181,
      "line" : 721,
      "node_id" : "PRRC_kwDOABII584ukbml",
      "original_commit_id" : "35cf6e4ebb550dda6c3ef7853090ace2560af877",
      "original_line" : 721,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/random.cpp",
      "position" : 15,
      "pull_request_review_id" : 847979904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781302181/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-10T15:39:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781302181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Thanks for taking this over, @mzumsande!",
      "created_at" : "2022-01-10T16:14:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#issuecomment-1009037370",
      "id" : 1009037370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24021",
      "node_id" : "IC_kwDOABII5848JLA6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009037370/reactions"
      },
      "updated_at" : "2022-01-10T16:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009037370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> the resulting random timestamps don't follow a Poisson distribution but an exponential distribution\r\n\r\nTrue.\r\n\r\nConcept ACK.",
      "created_at" : "2022-01-10T16:30:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#issuecomment-1009065637",
      "id" : 1009065637,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24021",
      "node_id" : "IC_kwDOABII5848JR6l",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009065637/reactions"
      },
      "updated_at" : "2022-01-10T16:30:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009065637",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r781355023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781355023"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops. I should have removed this comment since it's obvious from the function signature and the assert above that cs_main is always held when reading/writing this data.",
      "commit_id" : "35cf6e4ebb550dda6c3ef7853090ace2560af877",
      "created_at" : "2022-01-10T16:34:27Z",
      "diff_hunk" : "@@ -819,6 +831,19 @@ static void UpdatePreferredDownload(const CNode& node, CNodeState* state) EXCLUS\n     nPreferredDownload += state->fPreferredDownload;\n }\n \n+std::chrono::microseconds PeerManagerImpl::NextInvToInbounds(std::chrono::microseconds now,\n+                                                             std::chrono::seconds average_interval)\n+{\n+    AssertLockHeld(cs_main);\n+    if (m_next_inv_to_inbounds < now) {\n+        // If this function were called from multiple threads simultaneously\n+        // it would possible that both update the next send variable, and return a different result to their caller.\n+        // This is not possible in practice as only the net processing thread invokes this function.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r781355023",
      "id" : 781355023,
      "line" : 841,
      "node_id" : "PRRC_kwDOABII584ukogP",
      "original_commit_id" : "35cf6e4ebb550dda6c3ef7853090ace2560af877",
      "original_line" : 841,
      "original_position" : 37,
      "original_start_line" : 839,
      "path" : "src/net_processing.cpp",
      "position" : 37,
      "pull_request_review_id" : 848054387,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781355023/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 839,
      "start_side" : "RIGHT",
      "updated_at" : "2022-01-10T16:35:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/781355023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r784038080"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784038080"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I wasn't able to find systems where it wouldn't be the same width, but I don't think there is a guarantee. Changed it to  `uint64_t{1}`.\r\nAlso moved the function up in `random.h` as suggested.",
      "commit_id" : "4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "created_at" : "2022-01-13T14:58:38Z",
      "diff_hunk" : "@@ -714,3 +715,10 @@ void RandomInit()\n \n     ReportHardwareRand();\n }\n+\n+std::chrono::microseconds GetExponentialRand(std::chrono::microseconds now, std::chrono::seconds average_interval)\n+{\n+    double unscaled = -std::log1p(GetRand(1ULL << 48) * -0.0000000000000035527136788 /* -1/2^48 */);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r784038080",
      "id" : 784038080,
      "in_reply_to_id" : 781302181,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584uu3jA",
      "original_commit_id" : "35cf6e4ebb550dda6c3ef7853090ace2560af877",
      "original_line" : 721,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 851827270,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784038080/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-13T14:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784038080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r784038801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784038801"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks - removed.",
      "commit_id" : "4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "created_at" : "2022-01-13T14:59:22Z",
      "diff_hunk" : "@@ -819,6 +831,19 @@ static void UpdatePreferredDownload(const CNode& node, CNodeState* state) EXCLUS\n     nPreferredDownload += state->fPreferredDownload;\n }\n \n+std::chrono::microseconds PeerManagerImpl::NextInvToInbounds(std::chrono::microseconds now,\n+                                                             std::chrono::seconds average_interval)\n+{\n+    AssertLockHeld(cs_main);\n+    if (m_next_inv_to_inbounds < now) {\n+        // If this function were called from multiple threads simultaneously\n+        // it would possible that both update the next send variable, and return a different result to their caller.\n+        // This is not possible in practice as only the net processing thread invokes this function.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r784038801",
      "id" : 784038801,
      "in_reply_to_id" : 781355023,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584uu3uR",
      "original_commit_id" : "35cf6e4ebb550dda6c3ef7853090ace2560af877",
      "original_line" : 841,
      "original_position" : 37,
      "original_start_line" : 839,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 851828302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784038801/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-01-13T14:59:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/784038801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "created_at" : "2022-01-13T18:23:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#issuecomment-1012394718",
      "id" : 1012394718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24021",
      "node_id" : "IC_kwDOABII5848V-re",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012394718/reactions"
      },
      "updated_at" : "2022-01-13T18:23:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012394718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r785346699"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785346699"
         }
      },
      "author_association" : "MEMBER",
      "body" : "While here why not\r\n```suggestion\r\nstd::chrono::microseconds GetExponentialRand(std::chrono::microseconds now, std::chrono::microseconds average_interval)\r\n```\r\nand drop the following `std::chrono::duration_cast`?",
      "commit_id" : "4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "created_at" : "2022-01-15T19:56:21Z",
      "diff_hunk" : "@@ -714,3 +715,9 @@ void RandomInit()\n \n     ReportHardwareRand();\n }\n+\n+std::chrono::microseconds GetExponentialRand(std::chrono::microseconds now, std::chrono::seconds average_interval)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r785346699",
      "id" : 785346699,
      "line" : 719,
      "node_id" : "PRRC_kwDOABII584uz3CL",
      "original_commit_id" : "4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "original_line" : 719,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/random.cpp",
      "position" : 13,
      "pull_request_review_id" : 853588884,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785346699/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-15T19:59:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/785346699",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r787919305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/787919305"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think that it is possible: The duration cast is there not because of the type of `average_interval`, but because we do floating-point arithmetic inside of `GetExponentialRand()`:\r\nThe expression `unscaled * average_interval + 0.5us` is of type `std::chrono::duration<long double, std::micro>`, no matter whether `average_interval` is of type `std::chrono::seconds` or `std::chrono::microseconds`.\r\n\r\nSo in order to convert to the integer-type `std::chrono::microseconds`, a `std::chrono::duration_cast` is  necessary anyway.",
      "commit_id" : "9b8dcb25b57ad31b77c9f37d9a1f5b07dc6378b4",
      "created_at" : "2022-01-19T16:19:54Z",
      "diff_hunk" : "@@ -714,3 +715,9 @@ void RandomInit()\n \n     ReportHardwareRand();\n }\n+\n+std::chrono::microseconds GetExponentialRand(std::chrono::microseconds now, std::chrono::seconds average_interval)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r787919305",
      "id" : 787919305,
      "in_reply_to_id" : 785346699,
      "line" : 719,
      "node_id" : "PRRC_kwDOABII584u9rHJ",
      "original_commit_id" : "4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "original_line" : 719,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/random.cpp",
      "position" : 13,
      "pull_request_review_id" : 857038240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/787919305/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-19T16:19:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/787919305",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> My only concerns are about the last commit [4ab9913](https://github.com/bitcoin/bitcoin/commit/4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87) _\"[net processing] Guard NextInvToInbounds and m_next_inv_to_inbounds with cs_main\"_:\r\n\r\nI pushed an update, dropping the last commit (which changed the locking from `std::atomic` to using `cs_main`). \r\n\r\nWhile I think that  if this had been new code (instead of being moved from net), we likely wouldn't have used an atomic, I agree that it's better if the focus of this PR is smaller and does not include locking changes.\r\n",
      "created_at" : "2022-01-19T16:33:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#issuecomment-1016646169",
      "id" : 1016646169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24021",
      "node_id" : "IC_kwDOABII5848mMoZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1016646169/reactions"
      },
      "updated_at" : "2022-01-19T16:33:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1016646169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r788149955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788149955"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You're right. Sorry.",
      "commit_id" : "9b8dcb25b57ad31b77c9f37d9a1f5b07dc6378b4",
      "created_at" : "2022-01-19T21:25:19Z",
      "diff_hunk" : "@@ -714,3 +715,9 @@ void RandomInit()\n \n     ReportHardwareRand();\n }\n+\n+std::chrono::microseconds GetExponentialRand(std::chrono::microseconds now, std::chrono::seconds average_interval)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#discussion_r788149955",
      "id" : 788149955,
      "in_reply_to_id" : 785346699,
      "line" : 719,
      "node_id" : "PRRC_kwDOABII584u-jbD",
      "original_commit_id" : "4ab99133c4f72db57d80c0c6f5a6ab1f2b736f87",
      "original_line" : 719,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/random.cpp",
      "position" : 13,
      "pull_request_review_id" : 857378743,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24021",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788149955/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-19T21:25:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788149955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 9b8dcb25b5\r\n\r\nOnly difference from previous iteration is that the final commit has been dropped.",
      "created_at" : "2022-01-20T15:56:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24021#issuecomment-1017653428",
      "id" : 1017653428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24021",
      "node_id" : "IC_kwDOABII5848qCi0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017653428/reactions"
      },
      "updated_at" : "2022-01-20T15:56:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017653428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
