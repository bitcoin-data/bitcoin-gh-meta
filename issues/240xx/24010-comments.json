[
   {
      "author_association" : "MEMBER",
      "body" : "> \"cannot convert wide string to output locale\" 84 #f #f)'.\r\n\r\nLooking at an upstream bug report containing the exact same issue, https://issues.guix.gnu.org/issue/37662: \r\n\r\n> This package contains non-ASCII UTF-8-encoded file names.\r\n\r\n> I suppose the error here is because youâre daemon is missing its UTF-8\r\nlocales.\r\n\r\n> This could be because you upgraded the daemon but did not upgrade the\r\nâglibc-utf8-localesâ or âglibc-localesâ you installed as root, no?\r\n\r\nWhat version of Guix are you using, and how was it installed? Does installing / upgrading your locale packages solve the problem?",
      "created_at" : "2022-01-08T01:44:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1007861549",
      "id" : 1007861549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848Er8t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1007861549/reactions"
      },
      "updated_at" : "2022-01-08T01:44:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1007861549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm using guix 1.3.0, in a freshly built image/container using the steps in https://github.com/fanquake/core-review/tree/master/guix",
      "created_at" : "2022-01-08T11:24:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1007962796",
      "id" : 1007962796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848FEqs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1007962796/reactions"
      },
      "updated_at" : "2022-01-08T11:24:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1007962796",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12950210?v=4",
         "events_url" : "https://api.github.com/users/psgreco/events{/privacy}",
         "followers_url" : "https://api.github.com/users/psgreco/followers",
         "following_url" : "https://api.github.com/users/psgreco/following{/other_user}",
         "gists_url" : "https://api.github.com/users/psgreco/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/psgreco",
         "id" : 12950210,
         "login" : "psgreco",
         "node_id" : "MDQ6VXNlcjEyOTUwMjEw",
         "organizations_url" : "https://api.github.com/users/psgreco/orgs",
         "received_events_url" : "https://api.github.com/users/psgreco/received_events",
         "repos_url" : "https://api.github.com/users/psgreco/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/psgreco/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/psgreco/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/psgreco"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm using guix 1.3.0, in a freshly built image/container using the steps in\r\n\r\nThanks. To clarify, this is the Alpine container, not the Debian one? I'll take a look today.",
      "created_at" : "2022-01-10T03:42:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1008519331",
      "id" : 1008519331,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848HMij",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008519331/reactions"
      },
      "updated_at" : "2022-01-10T03:42:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008519331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I can reproduce in the Alpine container:\r\n\r\n```\r\n...\r\n libdrm-2.4.107.tar.xz  416KiB                                                                                                                                                                      527KiB/s 00:01 [##################] 100.0%\r\n libelf-0.8.13.tar.gz  145KiB                                                                                                                                                                       736KiB/s 00:00 [##################] 100.0%\r\n libev-4.33.tar.gz  556KiB                                                                                                                                                                          627KiB/s 00:01 [##################] 100.0%\r\n libevent-2.1.12-stable.tar.gz  1.0MiB                                                                                                                                                              568KiB/s 00:02 [##################] 100.0%\r\n libffi-3.3.tar.gz  1.2MiB                                                                                                                                                                          584KiB/s 00:02 [##################] 100.0%\r\n libffi-3.3.tar.xz  921KiB                                                                                                                                                                          645KiB/s 00:01 [##################] 100.0%\r\n libfontenc-1.1.4  14KiB                                                                                                                                                                            1.9MiB/s 00:00 [##################] 100.0%\r\n libgcrypt-1.8.8.tar.bz2  2.8MiB                                                                                                                                                                    520KiB/s 00:06 [##################] 100.0%\r\n libgd-2.3.2.tar.xz  2.7MiB                                                                                                                                                                         454KiB/s 00:06 [##################] 100.0%\r\n libgit2-1.3.0-checkout  3.1MiB                                                                                                                                                                     420KiB/s 00:07 [################# ]  96.1%Backtrace:\r\nIn ice-9/boot-9.scm:\r\n  1736:10 19 (with-exception-handler _ _ #:unwind? _ # _)\r\n  1736:10 18 (with-exception-handler _ _ #:unwind? _ # _)\r\n  1731:15 17 (with-exception-handler #<procedure 7ff67784bf60 at ic?> ?)\r\nIn guix/scripts/substitute.scm:\r\n   765:15 16 (_)\r\n    538:9 15 (process-substitution #<output: file 4> _ _ #:cache-urls ?)\r\nIn guix/serialization.scm:\r\n    424:4 14 (fold-archive _ _ _ _)\r\n   468:33 13 (read \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-lib?\" ?)\r\n   468:33 12 (read \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-lib?\" ?)\r\n   468:33 11 (read \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-lib?\" ?)\r\n   468:33 10 (read \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-lib?\" ?)\r\n   442:24  9 (read \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-lib?\" ?)\r\n   525:24  8 (_ \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-libgit?\" ?)\r\nIn guix/store/deduplication.scm:\r\n    227:2  7 (dump-file/deduplicate \"/gnu/store/l3nzsf04lai8kis5g75?\" ?)\r\nIn ice-9/ports.scm:\r\n   461:11  6 (call-with-output-file \"/gnu/store/l3nzsf04lai8kis5g75?\" ?)\r\nIn unknown file:\r\n           5 (open-file \"/gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gi?\" ?)\r\nIn ice-9/boot-9.scm:\r\n  1669:16  4 (raise-exception _ #:continuable? _)\r\n  1669:16  3 (raise-exception _ #:continuable? _)\r\n  1764:13  2 (_ #<&compound-exception components: (#<&error> #<&orig?>)\r\n  1669:16  1 (raise-exception _ #:continuable? _)\r\n  1669:16  0 (raise-exception _ #:continuable? _)\r\n\r\nice-9/boot-9.scm:1669:16: In procedure raise-exception:\r\nThrow to key `encoding-error' with args `(\"scm_to_stringn\" \"cannot convert wide string to output locale\" 84 #f #f)'.\r\nsubstitution of /gnu/store/l3nzsf04lai8kis5g75rfrmvb7c78gig-libgit2-1.3.0-checkout failed\r\nguix time-machine: error: corrupt input while restoring archive from #<closed: file 7f20ad1b8770>\r\nbash-5.1#  history \r\n    1  HOSTS=\"x86_64-w64-mingw32\" ./contrib/guix/guix-build\r\n    2  ls\r\n    3  git status\r\n    4  git log\r\n    5  HOSTS=\"x86_64-w64-mingw32\" ./contrib/guix/guix-build\r\n    6   history \r\nbash-5.1# \r\n",
      "created_at" : "2022-01-10T08:54:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1008658596",
      "id" : 1008658596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848Huik",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008658596/reactions"
      },
      "updated_at" : "2022-01-10T08:54:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008658596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yes, sorry for not being clear, alpine container",
      "created_at" : "2022-01-10T12:07:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1008811966",
      "id" : 1008811966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848IT--",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008811966/reactions"
      },
      "updated_at" : "2022-01-10T12:07:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008811966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12950210?v=4",
         "events_url" : "https://api.github.com/users/psgreco/events{/privacy}",
         "followers_url" : "https://api.github.com/users/psgreco/followers",
         "following_url" : "https://api.github.com/users/psgreco/following{/other_user}",
         "gists_url" : "https://api.github.com/users/psgreco/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/psgreco",
         "id" : 12950210,
         "login" : "psgreco",
         "node_id" : "MDQ6VXNlcjEyOTUwMjEw",
         "organizations_url" : "https://api.github.com/users/psgreco/orgs",
         "received_events_url" : "https://api.github.com/users/psgreco/received_events",
         "repos_url" : "https://api.github.com/users/psgreco/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/psgreco/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/psgreco/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/psgreco"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@psgreco Sorry for the slow follow up. I've made a number of changes to the [alpine-guix container](https://github.com/fanquake/core-review/tree/master/guix) that have improved the installation process, and fixed this issue. Note that if you try and build master inside the container at the moment, builds will fail, although is due to a different issue, see #24055. If you test builds with the branch in #24057, they will work for all HOSTs apart from Windows.",
      "created_at" : "2022-01-18T02:50:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1015024510",
      "id" : 1015024510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848gAt-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1015024510/reactions"
      },
      "updated_at" : "2022-01-18T02:50:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1015024510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "yeah, builds are back using #24057 , thanks for fixing this!!\r\n```\r\n34450003092d37fa08e3ab749b457b989930b4866fbf550dce118f452c46c2e7  guix-build-85d2da92e6ae/output/dist-archive/bitcoin-85d2da92e6ae.tar.gz\r\n603620fcf5a4477b0bf66bbd6838111afd4d9c241a10d4ab6f959bba86916f8e  guix-build-85d2da92e6ae/output/x86_64-linux-gnu/SHA256SUMS.part\r\nda8d5a1f3d79a9b6fc96cff1f8e1b5b39e04e787c7da6806bdc88709cfb694ad  guix-build-85d2da92e6ae/output/x86_64-linux-gnu/bitcoin-85d2da92e6ae-x86_64-linux-gnu-debug.tar.gz\r\nbb79636cb7e768d22b1a41e72e78c043749b09284fe826f07ef39b1d75e4b64b  guix-build-85d2da92e6ae/output/x86_64-linux-gnu/bitcoin-85d2da92e6ae-x86_64-linux-gnu.tar.gz\r\n```",
      "created_at" : "2022-01-18T12:07:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24010#issuecomment-1015348180",
      "id" : 1015348180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24010",
      "node_id" : "IC_kwDOABII5848hPvU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1015348180/reactions"
      },
      "updated_at" : "2022-01-18T12:13:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1015348180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12950210?v=4",
         "events_url" : "https://api.github.com/users/psgreco/events{/privacy}",
         "followers_url" : "https://api.github.com/users/psgreco/followers",
         "following_url" : "https://api.github.com/users/psgreco/following{/other_user}",
         "gists_url" : "https://api.github.com/users/psgreco/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/psgreco",
         "id" : 12950210,
         "login" : "psgreco",
         "node_id" : "MDQ6VXNlcjEyOTUwMjEw",
         "organizations_url" : "https://api.github.com/users/psgreco/orgs",
         "received_events_url" : "https://api.github.com/users/psgreco/received_events",
         "repos_url" : "https://api.github.com/users/psgreco/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/psgreco/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/psgreco/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/psgreco"
      }
   }
]
