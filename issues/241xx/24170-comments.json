[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1122470916), [brunoerg](https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1282833252) |\n| Stale ACK | [jnewbery](https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1182992724), [willcl-ark](https://github.com/bitcoin/bitcoin/pull/24170#pullrequestreview-1250175022), [aureleoules](https://github.com/bitcoin/bitcoin/pull/24170#pullrequestreview-1250405059), [rajarshimaitra](https://github.com/bitcoin/bitcoin/pull/24170#pullrequestreview-1261754421), [LarryRuane](https://github.com/bitcoin/bitcoin/pull/24170#pullrequestreview-1293784567) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27264](https://github.com/bitcoin/bitcoin/pull/27264) (p2p: Improve diversification of new connections by stratospher)\n* [#27257](https://github.com/bitcoin/bitcoin/pull/27257) (refactor, net: End friendship of CNode, CConnman and ConnmanTestMsg by dergoegge)\n* [#26621](https://github.com/bitcoin/bitcoin/pull/26621) (refactor: Continue moving application data from CNode to Peer by dergoegge)\n* [#26366](https://github.com/bitcoin/bitcoin/pull/26366) (p2p, rpc, test: `getpeerinfo` improv + add test coverage for invalid command by brunoerg)\n* [#26343](https://github.com/bitcoin/bitcoin/pull/26343) (p2p: Don't require services from `ADDR_FETCH` peers by mzumsande)\n* [#25572](https://github.com/bitcoin/bitcoin/pull/25572) (refactor: Introduce EvictionManager and use it for the inbound eviction logic by dergoegge)\n* [#25268](https://github.com/bitcoin/bitcoin/pull/25268) (refactor: Introduce EvictionManager by dergoegge)\n* [#17581](https://github.com/bitcoin/bitcoin/pull/17581) (refactor: Remove settings merge reverse precedence code by ryanofsky)\n* [#17580](https://github.com/bitcoin/bitcoin/pull/17580) (refactor: Add ALLOW_LIST flags and enforce usage in CheckArgFlags by ryanofsky)\n* [#17493](https://github.com/bitcoin/bitcoin/pull/17493) (util: Forbid ambiguous multiple assignments in config file by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-01-26T23:08:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1022685492",
      "id" : 1022685492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII58489PE0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022685492/reactions"
      },
      "updated_at" : "2023-03-17T03:33:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022685492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795315918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795315918"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`IsBlockOnlyConn` and `IsManualConn` (below) should just return true for `MANUAL_BLOCK_RELAY` rather than additional checks every place",
      "commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "created_at" : "2022-01-31T03:06:00Z",
      "diff_hunk" : "@@ -1273,7 +1273,7 @@ void PeerManagerImpl::FinalizeNode(const CNode& node)\n     }\n     } // cs_main\n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n-        !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n+        !node.IsBlockOnlyConn() && !node.IsManualBlockOnlyConn() && !node.IsInboundConn()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795315918",
      "id" : 795315918,
      "line" : 1276,
      "node_id" : "PRRC_kwDOABII584vZ47O",
      "original_commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "original_line" : 1276,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 867340302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795315918/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T03:08:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795315918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795316261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795316261"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should be a `connection_type` String param, not a Boolean (see also #20551).\r\n\r\n(Throw an exception if an unsupported value is passed, for this PR)",
      "commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "created_at" : "2022-01-31T03:07:46Z",
      "diff_hunk" : "@@ -278,6 +278,7 @@ static RPCHelpMan addnode()\n                 {\n                     {\"node\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The node (see getpeerinfo for nodes)\"},\n                     {\"command\", RPCArg::Type::STR, RPCArg::Optional::NO, \"'add' to add a node to the list, 'remove' to remove a node from the list, 'onetry' to try a connection to the node once\"},\n+                    {\"block_relay_only\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"If set, treat as block-relay-only connection (deactivating transaction and addr relay on this connection).\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795316261",
      "id" : 795316261,
      "line" : 281,
      "node_id" : "PRRC_kwDOABII584vZ5Al",
      "original_commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "original_line" : 281,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 867340302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795316261/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T03:08:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795316261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795316459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795316459"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Rather use `ConnectionType` here",
      "commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "created_at" : "2022-01-31T03:08:43Z",
      "diff_hunk" : "@@ -877,7 +903,7 @@ class CConnman\n     // Count the number of block-relay-only peers we have over our limit.\n     int GetExtraBlockRelayCount() const;\n \n-    bool AddNode(const std::string& node);\n+    bool AddNode(const std::string& node, bool block_relay_only);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795316459",
      "id" : 795316459,
      "line" : 906,
      "node_id" : "PRRC_kwDOABII584vZ5Dr",
      "original_commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "original_line" : 906,
      "original_position" : 72,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 72,
      "pull_request_review_id" : 867340302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795316459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T03:08:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795316459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795710002"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795710002"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I didn't do that because `IsBlockOnlyConn()` is used in several places (e.g. `PeerManagerImpl::EvictExtraOutboundPeers`, `CConnman::GetExtraBlockRelayCount()`, `GetCurrentBlockRelayOnlyConns()`) which would not apply to manual block-relay-only connections.",
      "commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "created_at" : "2022-01-31T14:15:44Z",
      "diff_hunk" : "@@ -1273,7 +1273,7 @@ void PeerManagerImpl::FinalizeNode(const CNode& node)\n     }\n     } // cs_main\n     if (node.fSuccessfullyConnected && misbehavior == 0 &&\n-        !node.IsBlockOnlyConn() && !node.IsInboundConn()) {\n+        !node.IsBlockOnlyConn() && !node.IsManualBlockOnlyConn() && !node.IsInboundConn()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795710002",
      "id" : 795710002,
      "in_reply_to_id" : 795315918,
      "line" : 1276,
      "node_id" : "PRRC_kwDOABII584vbZIy",
      "original_commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "original_line" : 1276,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 867901393,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795710002/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T14:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795710002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd be really interested in opinions whether the use case (as outlined in OP and linked issue) is  important enough to justify the added complexity of adding another connection type (and also adding more complexity to `-addnode`).",
      "created_at" : "2022-01-31T14:17:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1025784947",
      "id" : 1025784947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII5849JDxz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025784947/reactions"
      },
      "updated_at" : "2022-01-31T14:17:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025784947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-02-04T08:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1029775460",
      "id" : 1029775460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII5849YSBk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1029775460/reactions"
      },
      "updated_at" : "2022-02-04T08:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1029775460",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r849957430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849957430"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done with the latest push.",
      "commit_id" : "6196e9565757a920b4ee5622396166ef07850df9",
      "created_at" : "2022-04-13T22:53:53Z",
      "diff_hunk" : "@@ -278,6 +278,7 @@ static RPCHelpMan addnode()\n                 {\n                     {\"node\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The node (see getpeerinfo for nodes)\"},\n                     {\"command\", RPCArg::Type::STR, RPCArg::Optional::NO, \"'add' to add a node to the list, 'remove' to remove a node from the list, 'onetry' to try a connection to the node once\"},\n+                    {\"block_relay_only\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"If set, treat as block-relay-only connection (deactivating transaction and addr relay on this connection).\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r849957430",
      "id" : 849957430,
      "in_reply_to_id" : 795316261,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yqVI2",
      "original_commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "original_line" : 281,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 941633235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849957430/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-13T22:53:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849957430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r849957511"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849957511"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "6196e9565757a920b4ee5622396166ef07850df9",
      "created_at" : "2022-04-13T22:54:06Z",
      "diff_hunk" : "@@ -877,7 +903,7 @@ class CConnman\n     // Count the number of block-relay-only peers we have over our limit.\n     int GetExtraBlockRelayCount() const;\n \n-    bool AddNode(const std::string& node);\n+    bool AddNode(const std::string& node, bool block_relay_only);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r849957511",
      "id" : 849957511,
      "in_reply_to_id" : 795316459,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yqVKH",
      "original_commit_id" : "f2fc01fd5ea98060640c79cc82ebe71f8f1ed6bc",
      "original_line" : 906,
      "original_position" : 72,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 941633346,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849957511/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-13T22:54:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849957511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and addressed feedback.",
      "created_at" : "2022-04-13T22:55:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1098555109",
      "id" : 1098555109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Bep7l",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098555109/reactions"
      },
      "updated_at" : "2022-04-13T22:55:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098555109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r860411252"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860411252"
         }
      },
      "author_association" : "NONE",
      "body" : "Why not try std::map<std::string, ConnectionType> m_added_nodes, then we can avoid to define AddedNodeEntry?",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-28T02:31:39Z",
      "diff_hunk" : "@@ -1087,7 +1114,7 @@ class CConnman\n     AddrMan& addrman;\n     std::deque<std::string> m_addr_fetches GUARDED_BY(m_addr_fetches_mutex);\n     Mutex m_addr_fetches_mutex;\n-    std::vector<std::string> m_added_nodes GUARDED_BY(m_added_nodes_mutex);\n+    std::vector<AddedNodeEntry> m_added_nodes GUARDED_BY(m_added_nodes_mutex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r860411252",
      "id" : 860411252,
      "line" : 1117,
      "node_id" : "PRRC_kwDOABII584zSNV0",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1117,
      "original_position" : 105,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 105,
      "pull_request_review_id" : 955757376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860411252/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-28T02:34:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860411252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7625606?v=4",
         "events_url" : "https://api.github.com/users/www222fff/events{/privacy}",
         "followers_url" : "https://api.github.com/users/www222fff/followers",
         "following_url" : "https://api.github.com/users/www222fff/following{/other_user}",
         "gists_url" : "https://api.github.com/users/www222fff/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/www222fff",
         "id" : 7625606,
         "login" : "www222fff",
         "node_id" : "MDQ6VXNlcjc2MjU2MDY=",
         "organizations_url" : "https://api.github.com/users/www222fff/orgs",
         "received_events_url" : "https://api.github.com/users/www222fff/received_events",
         "repos_url" : "https://api.github.com/users/www222fff/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/www222fff/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/www222fff/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/www222fff"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r860411953"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860411953"
         }
      },
      "author_association" : "NONE",
      "body" : "Why not directly change IsBlockOnlyConn() directly as below, then can avoid to define new function IsManualBlockRelayConn()?\r\n\r\n     bool IsBlockOnlyConn() const {\r\n-        return m_conn_type == ConnectionType::BLOCK_RELAY;\r\n+        return m_conn_type == ConnectionType::BLOCK_RELAY || m_conn_type == ConnectionType::MANUAL_BLOCK_RELAY;\r\n     }\r\n",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-28T02:33:25Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ void PeerManagerImpl::InitializeNode(CNode *pnode)\n         mapNodeState.emplace_hint(mapNodeState.end(), std::piecewise_construct, std::forward_as_tuple(nodeid), std::forward_as_tuple(pnode->IsInboundConn()));\n         assert(m_txrequest.Count(nodeid) == 0);\n     }\n-    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/ !pnode->IsBlockOnlyConn());\n+    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/!pnode->IsBlockOnlyConn() && !pnode->IsManualBlockRelayConn());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r860411953",
      "id" : 860411953,
      "line" : 1233,
      "node_id" : "PRRC_kwDOABII584zSNgx",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1233,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 955757376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860411953/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-28T02:34:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860411953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7625606?v=4",
         "events_url" : "https://api.github.com/users/www222fff/events{/privacy}",
         "followers_url" : "https://api.github.com/users/www222fff/followers",
         "following_url" : "https://api.github.com/users/www222fff/following{/other_user}",
         "gists_url" : "https://api.github.com/users/www222fff/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/www222fff",
         "id" : 7625606,
         "login" : "www222fff",
         "node_id" : "MDQ6VXNlcjc2MjU2MDY=",
         "organizations_url" : "https://api.github.com/users/www222fff/orgs",
         "received_events_url" : "https://api.github.com/users/www222fff/received_events",
         "repos_url" : "https://api.github.com/users/www222fff/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/www222fff/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/www222fff/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/www222fff"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r860672619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860672619"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "See https://github.com/bitcoin/bitcoin/pull/24170#discussion_r795710002 - there are several placed that use `IsBlockOnlyConn()` with logic specific to automatic block-relay-only connections that have logic that does not apply to manual ones. So if I did that, we'd need additional logic in these places to distinguish between manual and automatic connections. ",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-28T09:20:55Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ void PeerManagerImpl::InitializeNode(CNode *pnode)\n         mapNodeState.emplace_hint(mapNodeState.end(), std::piecewise_construct, std::forward_as_tuple(nodeid), std::forward_as_tuple(pnode->IsInboundConn()));\n         assert(m_txrequest.Count(nodeid) == 0);\n     }\n-    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/ !pnode->IsBlockOnlyConn());\n+    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/!pnode->IsBlockOnlyConn() && !pnode->IsManualBlockRelayConn());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r860672619",
      "id" : 860672619,
      "in_reply_to_id" : 860411953,
      "line" : 1233,
      "node_id" : "PRRC_kwDOABII584zTNJr",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1233,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 956123934,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860672619/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-28T09:20:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/860672619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861572702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861572702"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    for (auto node_to_add : lAddresses) {\r\n```\r\n\r\n(since you're iterating over the items individually, `node_to_add` is singular)",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T08:28:09Z",
      "diff_hunk" : "@@ -2202,9 +2206,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto nodes_to_add : lAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861572702",
      "id" : 861572702,
      "line" : 2209,
      "node_id" : "PRRC_kwDOABII584zWo5e",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2209,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 41,
      "pull_request_review_id" : 957412617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861572702/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T08:54:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861572702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861572926"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861572926"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since you're touching this line, can you comment the boolean arguments?",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T08:28:28Z",
      "diff_hunk" : "@@ -2202,9 +2206,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto nodes_to_add : lAddresses) {\n+        CService service(LookupNumeric(nodes_to_add.m_node_address, Params().GetDefaultPort(nodes_to_add.m_node_address)));\n+        AddedNodeInfo addedNode{nodes_to_add.m_node_address, CService(), false, false, nodes_to_add.conn_type};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861572926",
      "id" : 861572926,
      "line" : 2211,
      "node_id" : "PRRC_kwDOABII584zWo8-",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2211,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 43,
      "pull_request_review_id" : 957412617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861572926/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T08:54:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861572926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861575629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861575629"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since you're adding `IsManualBlockRelayConn()`, consider renaming `IsBlockOnlyConn()` to `IsAutomaticBlockRelayConn()`, otherwise that function name is misleading (it returns `false` for connections that are block relay only connections but were created manually).",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T08:32:10Z",
      "diff_hunk" : "@@ -523,10 +541,16 @@ class CNode\n         return m_conn_type == ConnectionType::INBOUND;\n     }\n \n+    bool IsManualBlockRelayConn() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861575629",
      "id" : 861575629,
      "line" : 544,
      "node_id" : "PRRC_kwDOABII584zWpnN",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 544,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 59,
      "pull_request_review_id" : 957412617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861575629/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T08:54:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861575629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861577089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861577089"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I know that this is maybe a bit of a stretch for this PR, but I really don't like the addnode/addednode terminology, and would much prefer this to be named something like `ManualConnectionEntry`, which much more precisely describes the nature of these connections.",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T08:34:10Z",
      "diff_hunk" : "@@ -188,6 +180,31 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as\n+     * Tor, manual block-relay-only connections to IPv4 or IPv6 nodes can be\n+     * used for hardening against eclipse attacks, while at the same time\n+     * making fingerprinting attacks more difficult and preserving a higher degree\n+     * of privacy by not transmitting transactions and addresses over these links.\n+     */\n+    MANUAL_BLOCK_RELAY,\n+};\n+\n+struct AddedNodeInfo {\n+    std::string strAddedNode;\n+    CService resolvedAddress;\n+    bool fConnected;\n+    bool fInbound;\n+    ConnectionType conn_type;\n+};\n+\n+struct AddedNodeEntry {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861577089",
      "id" : 861577089,
      "line" : 205,
      "node_id" : "PRRC_kwDOABII584zWp-B",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 205,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 41,
      "pull_request_review_id" : 957412617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861577089/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T08:54:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861577089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861578067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861578067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Be consistent with the `m_` prefix (either `m_node_address` and `m_conn_type` or `node_address` and `conn_type`). I prefer naming all members of structs with the `m_` prefix, but opinions vary.",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T08:35:31Z",
      "diff_hunk" : "@@ -188,6 +180,31 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as\n+     * Tor, manual block-relay-only connections to IPv4 or IPv6 nodes can be\n+     * used for hardening against eclipse attacks, while at the same time\n+     * making fingerprinting attacks more difficult and preserving a higher degree\n+     * of privacy by not transmitting transactions and addresses over these links.\n+     */\n+    MANUAL_BLOCK_RELAY,\n+};\n+\n+struct AddedNodeInfo {\n+    std::string strAddedNode;\n+    CService resolvedAddress;\n+    bool fConnected;\n+    bool fInbound;\n+    ConnectionType conn_type;\n+};\n+\n+struct AddedNodeEntry {\n+    std::string m_node_address;\n+    ConnectionType conn_type;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861578067",
      "id" : 861578067,
      "line" : 207,
      "node_id" : "PRRC_kwDOABII584zWqNT",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 207,
      "original_position" : 43,
      "original_start_line" : 206,
      "path" : "src/net.h",
      "position" : 43,
      "pull_request_review_id" : 957412617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861578067/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 206,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-29T08:54:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861578067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861592353"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861592353"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it possible to use `ConnectionTypeAsString()` here to avoid defining these strings in multiple places in the source?",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T08:46:31Z",
      "diff_hunk" : "@@ -293,6 +294,20 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    std::string connection_type_name = \"manual\";\n+    if (!request.params[2].isNull()) {\n+        connection_type_name = request.params[2].get_str();\n+    }\n+    if (connection_type_name != \"manual\" && connection_type_name != \"manual-block-relay\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r861592353",
      "id" : 861592353,
      "line" : 301,
      "node_id" : "PRRC_kwDOABII584zWtsh",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 301,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 16,
      "pull_request_review_id" : 957412617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861592353/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T08:54:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861592353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862080703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862080703"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That seems preferable?",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T19:13:40Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ void PeerManagerImpl::InitializeNode(CNode *pnode)\n         mapNodeState.emplace_hint(mapNodeState.end(), std::piecewise_construct, std::forward_as_tuple(nodeid), std::forward_as_tuple(pnode->IsInboundConn()));\n         assert(m_txrequest.Count(nodeid) == 0);\n     }\n-    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/ !pnode->IsBlockOnlyConn());\n+    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/!pnode->IsBlockOnlyConn() && !pnode->IsManualBlockRelayConn());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862080703",
      "id" : 862080703,
      "in_reply_to_id" : 860411953,
      "line" : 1233,
      "node_id" : "PRRC_kwDOABII584zYk6_",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1233,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 958143179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862080703/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T19:13:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862080703",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862081323"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862081323"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Prefer `=blocksonly` to be clearer and match the existing `-blocksonly` option.",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T19:14:48Z",
      "diff_hunk" : "@@ -440,7 +440,7 @@ void SetupServerArgs(ArgsManager& argsman)\n                  \" If <type> is not supplied or if <type> = 1, indexes for all known types are enabled.\",\n                  ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n \n-    argsman.AddArg(\"-addnode=<ip>\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-addnode=<ip>[=manual-block-relay]\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit. Append =manual-block-relay to disable transaction and address relay.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862081323",
      "id" : 862081323,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII584zYlEr",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 443,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 958144085,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862081323/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T19:25:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862081323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862177197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862177197"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`-blocksonly` mode is different from block relay peers.",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T21:37:57Z",
      "diff_hunk" : "@@ -440,7 +440,7 @@ void SetupServerArgs(ArgsManager& argsman)\n                  \" If <type> is not supplied or if <type> = 1, indexes for all known types are enabled.\",\n                  ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n \n-    argsman.AddArg(\"-addnode=<ip>\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-addnode=<ip>[=manual-block-relay]\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit. Append =manual-block-relay to disable transaction and address relay.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862177197",
      "id" : 862177197,
      "in_reply_to_id" : 862081323,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII584zY8et",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 443,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 958287551,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862177197/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T21:37:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862177197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862207474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862207474"
         }
      },
      "author_association" : "NONE",
      "body" : "Supposed option modify case need not be handled?\r\nIf add node firstly with setting manual and then setting manual block relay.",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T22:14:01Z",
      "diff_hunk" : "@@ -2812,22 +2816,22 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)\n {\n     LOCK(m_added_nodes_mutex);\n-    for (const std::string& it : m_added_nodes) {\n-        if (strNode == it) return false;\n+    for (const auto& it : m_added_nodes) {\n+        if (strNode == it.m_node_address) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862207474",
      "id" : 862207474,
      "line" : 2823,
      "node_id" : "PRRC_kwDOABII584zZD3y",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2823,
      "original_position" : 76,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 76,
      "pull_request_review_id" : 958328721,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862207474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T22:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862207474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7625606?v=4",
         "events_url" : "https://api.github.com/users/www222fff/events{/privacy}",
         "followers_url" : "https://api.github.com/users/www222fff/followers",
         "following_url" : "https://api.github.com/users/www222fff/following{/other_user}",
         "gists_url" : "https://api.github.com/users/www222fff/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/www222fff",
         "id" : 7625606,
         "login" : "www222fff",
         "node_id" : "MDQ6VXNlcjc2MjU2MDY=",
         "organizations_url" : "https://api.github.com/users/www222fff/orgs",
         "received_events_url" : "https://api.github.com/users/www222fff/received_events",
         "repos_url" : "https://api.github.com/users/www222fff/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/www222fff/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/www222fff/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/www222fff"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862210147"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862210147"
         }
      },
      "author_association" : "NONE",
      "body" : "Addconnection rpc should not support manual block relay, so seems here need not check?",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T22:16:46Z",
      "diff_hunk" : "@@ -1258,6 +1260,7 @@ bool CConnman::AddConnection(const std::string& address, ConnectionType conn_typ\n     switch (conn_type) {\n     case ConnectionType::INBOUND:\n     case ConnectionType::MANUAL:\n+    case ConnectionType::MANUAL_BLOCK_RELAY:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862210147",
      "id" : 862210147,
      "line" : 1263,
      "node_id" : "PRRC_kwDOABII584zZEhj",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1263,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 13,
      "pull_request_review_id" : 958332314,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862210147/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T22:16:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862210147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7625606?v=4",
         "events_url" : "https://api.github.com/users/www222fff/events{/privacy}",
         "followers_url" : "https://api.github.com/users/www222fff/followers",
         "following_url" : "https://api.github.com/users/www222fff/following{/other_user}",
         "gists_url" : "https://api.github.com/users/www222fff/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/www222fff",
         "id" : 7625606,
         "login" : "www222fff",
         "node_id" : "MDQ6VXNlcjc2MjU2MDY=",
         "organizations_url" : "https://api.github.com/users/www222fff/orgs",
         "received_events_url" : "https://api.github.com/users/www222fff/received_events",
         "repos_url" : "https://api.github.com/users/www222fff/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/www222fff/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/www222fff/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/www222fff"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862252028"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862252028"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How so? Maybe it needs better docs on the difference...",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-29T23:10:07Z",
      "diff_hunk" : "@@ -440,7 +440,7 @@ void SetupServerArgs(ArgsManager& argsman)\n                  \" If <type> is not supplied or if <type> = 1, indexes for all known types are enabled.\",\n                  ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n \n-    argsman.AddArg(\"-addnode=<ip>\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-addnode=<ip>[=manual-block-relay]\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit. Append =manual-block-relay to disable transaction and address relay.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862252028",
      "id" : 862252028,
      "in_reply_to_id" : 862081323,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII584zZOv8",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 443,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 958385116,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862252028/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T23:10:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862252028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862387357"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862387357"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Here you go: https://bitcoin.stackexchange.com/questions/112828/what-is-a-block-relay-only-connection-what-is-it-used-for",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-30T19:07:32Z",
      "diff_hunk" : "@@ -440,7 +440,7 @@ void SetupServerArgs(ArgsManager& argsman)\n                  \" If <type> is not supplied or if <type> = 1, indexes for all known types are enabled.\",\n                  ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n \n-    argsman.AddArg(\"-addnode=<ip>\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-addnode=<ip>[=manual-block-relay]\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit. Append =manual-block-relay to disable transaction and address relay.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862387357",
      "id" : 862387357,
      "in_reply_to_id" : 862081323,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII584zZvyd",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 443,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 958513139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862387357/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T19:07:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862387357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862388509"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862388509"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That doesn't contrast.",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-30T19:22:19Z",
      "diff_hunk" : "@@ -440,7 +440,7 @@ void SetupServerArgs(ArgsManager& argsman)\n                  \" If <type> is not supplied or if <type> = 1, indexes for all known types are enabled.\",\n                  ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n \n-    argsman.AddArg(\"-addnode=<ip>\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-addnode=<ip>[=manual-block-relay]\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit. Append =manual-block-relay to disable transaction and address relay.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862388509",
      "id" : 862388509,
      "in_reply_to_id" : 862081323,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII584zZwEd",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 443,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 958514114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862388509/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T19:22:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862388509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862393584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862393584"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Some differences:\r\n- -blocksonly is a global startup option (applying to all connections) -block-relay-only is connection-specific\r\n- A node in -blocksonly mode participates in address relay, we never send out addresses on -block-relay-only connections (and ignore incoming ones).\r\n- A node in -blocksonly signals not to receive any transactions (`fRelay`) and will disconnect if that is breached, but it may in special cases send out transactions itself (if submitted via RPC). We'll  never send a tx over a block-relay-only connection.\r\n- A node in -blocksonly mode still has two of their outbound connections as -block-relay-only (for which then the block-relay-only rules apply).",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-04-30T20:30:59Z",
      "diff_hunk" : "@@ -440,7 +440,7 @@ void SetupServerArgs(ArgsManager& argsman)\n                  \" If <type> is not supplied or if <type> = 1, indexes for all known types are enabled.\",\n                  ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n \n-    argsman.AddArg(\"-addnode=<ip>\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-addnode=<ip>[=manual-block-relay]\", strprintf(\"Add a node to connect to and attempt to keep the connection open (see the addnode RPC help for more info). This option can be specified multiple times to add multiple nodes; connections are limited to %u at a time and are counted separately from the -maxconnections limit. Append =manual-block-relay to disable transaction and address relay.\", MAX_ADDNODE_CONNECTIONS), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862393584",
      "id" : 862393584,
      "in_reply_to_id" : 862081323,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII584zZxTw",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 443,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 958518276,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862393584/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T20:30:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862393584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862525759"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862525759"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's true that it doesn't support this, just as it doesn't support INBOUND or MANUAL. But leaving it out her would result in a compiler warning for the switch, see comment below:\r\n`// no default case, so the compiler can warn about missing cases`",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-05-01T21:52:09Z",
      "diff_hunk" : "@@ -1258,6 +1260,7 @@ bool CConnman::AddConnection(const std::string& address, ConnectionType conn_typ\n     switch (conn_type) {\n     case ConnectionType::INBOUND:\n     case ConnectionType::MANUAL:\n+    case ConnectionType::MANUAL_BLOCK_RELAY:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862525759",
      "id" : 862525759,
      "in_reply_to_id" : 862210147,
      "line" : 1263,
      "node_id" : "PRRC_kwDOABII584zaRk_",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1263,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 13,
      "pull_request_review_id" : 958634001,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862525759/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-01T21:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862525759",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862526220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862526220"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "No, a modify option is not supported, especially since it is not possible to change the connection connection type of an existing connection. A user could instead use the 'remove' option and then re-add with another connection type (which would not change existing connections though). ",
      "commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "created_at" : "2022-05-01T21:56:41Z",
      "diff_hunk" : "@@ -2812,22 +2816,22 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)\n {\n     LOCK(m_added_nodes_mutex);\n-    for (const std::string& it : m_added_nodes) {\n-        if (strNode == it) return false;\n+    for (const auto& it : m_added_nodes) {\n+        if (strNode == it.m_node_address) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862526220",
      "id" : 862526220,
      "in_reply_to_id" : 862207474,
      "line" : 2823,
      "node_id" : "PRRC_kwDOABII584zaRsM",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2823,
      "original_position" : 76,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 76,
      "pull_request_review_id" : 958634341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862526220/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-01T21:56:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862526220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528297"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528297"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "6e3e1863941e978631687be234532293c94ae07e",
      "created_at" : "2022-05-01T22:21:33Z",
      "diff_hunk" : "@@ -2202,9 +2206,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto nodes_to_add : lAddresses) {\n+        CService service(LookupNumeric(nodes_to_add.m_node_address, Params().GetDefaultPort(nodes_to_add.m_node_address)));\n+        AddedNodeInfo addedNode{nodes_to_add.m_node_address, CService(), false, false, nodes_to_add.conn_type};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528297",
      "id" : 862528297,
      "in_reply_to_id" : 861572926,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zaSMp",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2211,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 958636395,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528297/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-01T22:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528312"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528312"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "6e3e1863941e978631687be234532293c94ae07e",
      "created_at" : "2022-05-01T22:21:49Z",
      "diff_hunk" : "@@ -2202,9 +2206,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto nodes_to_add : lAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528312",
      "id" : 862528312,
      "in_reply_to_id" : 861572702,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zaSM4",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2209,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 958636412,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528312/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-01T22:21:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528348"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528348"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "changed to `m_conn_type`",
      "commit_id" : "6e3e1863941e978631687be234532293c94ae07e",
      "created_at" : "2022-05-01T22:22:25Z",
      "diff_hunk" : "@@ -188,6 +180,31 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as\n+     * Tor, manual block-relay-only connections to IPv4 or IPv6 nodes can be\n+     * used for hardening against eclipse attacks, while at the same time\n+     * making fingerprinting attacks more difficult and preserving a higher degree\n+     * of privacy by not transmitting transactions and addresses over these links.\n+     */\n+    MANUAL_BLOCK_RELAY,\n+};\n+\n+struct AddedNodeInfo {\n+    std::string strAddedNode;\n+    CService resolvedAddress;\n+    bool fConnected;\n+    bool fInbound;\n+    ConnectionType conn_type;\n+};\n+\n+struct AddedNodeEntry {\n+    std::string m_node_address;\n+    ConnectionType conn_type;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528348",
      "id" : 862528348,
      "in_reply_to_id" : 861578067,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zaSNc",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 207,
      "original_position" : 43,
      "original_start_line" : 206,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 958636471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528348/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-05-01T22:22:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528462"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528462"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good idea! Used `ConnectionTypeAsString()` here and in the last commit (also rearranged the rpc processing code a bit).",
      "commit_id" : "6e3e1863941e978631687be234532293c94ae07e",
      "created_at" : "2022-05-01T22:23:48Z",
      "diff_hunk" : "@@ -293,6 +294,20 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    std::string connection_type_name = \"manual\";\n+    if (!request.params[2].isNull()) {\n+        connection_type_name = request.params[2].get_str();\n+    }\n+    if (connection_type_name != \"manual\" && connection_type_name != \"manual-block-relay\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862528462",
      "id" : 862528462,
      "in_reply_to_id" : 861592353,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zaSPO",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 301,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 958636588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528462/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-01T22:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862528462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862529121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862529121"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The downside of `ManualConnectionEntry` is that it is not a connection, just a name of a node we'll try to connect to (which may succeed or not). I didn't really like the name AddedNodeEntry either though, but couldn't think of anything better. Maybe `ManualNodeEntry`?",
      "commit_id" : "6e3e1863941e978631687be234532293c94ae07e",
      "created_at" : "2022-05-01T22:31:19Z",
      "diff_hunk" : "@@ -188,6 +180,31 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as\n+     * Tor, manual block-relay-only connections to IPv4 or IPv6 nodes can be\n+     * used for hardening against eclipse attacks, while at the same time\n+     * making fingerprinting attacks more difficult and preserving a higher degree\n+     * of privacy by not transmitting transactions and addresses over these links.\n+     */\n+    MANUAL_BLOCK_RELAY,\n+};\n+\n+struct AddedNodeInfo {\n+    std::string strAddedNode;\n+    CService resolvedAddress;\n+    bool fConnected;\n+    bool fInbound;\n+    ConnectionType conn_type;\n+};\n+\n+struct AddedNodeEntry {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r862529121",
      "id" : 862529121,
      "in_reply_to_id" : 861577089,
      "line" : 205,
      "node_id" : "PRRC_kwDOABII584zaSZh",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 205,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 41,
      "pull_request_review_id" : 958637249,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862529121/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-01T22:31:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862529121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863023967"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863023967"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I have changed the logic now such that `IsBlockRelayConn` is used when both connection types are meant, where as `IsManualBlockRelayConn` and `IsAutomaticBlockRelayConn` are used in spots where only one is meant.",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-02T17:09:18Z",
      "diff_hunk" : "@@ -1230,7 +1230,7 @@ void PeerManagerImpl::InitializeNode(CNode *pnode)\n         mapNodeState.emplace_hint(mapNodeState.end(), std::piecewise_construct, std::forward_as_tuple(nodeid), std::forward_as_tuple(pnode->IsInboundConn()));\n         assert(m_txrequest.Count(nodeid) == 0);\n     }\n-    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/ !pnode->IsBlockOnlyConn());\n+    PeerRef peer = std::make_shared<Peer>(nodeid, /*tx_relay=*/!pnode->IsBlockOnlyConn() && !pnode->IsManualBlockRelayConn());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863023967",
      "id" : 863023967,
      "in_reply_to_id" : 860411953,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zcLNf",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1233,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 959324089,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863023967/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T17:09:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863023967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863024605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863024605"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done, see also https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863023967.",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-02T17:10:17Z",
      "diff_hunk" : "@@ -523,10 +541,16 @@ class CNode\n         return m_conn_type == ConnectionType::INBOUND;\n     }\n \n+    bool IsManualBlockRelayConn() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863024605",
      "id" : 863024605,
      "in_reply_to_id" : 861575629,
      "line" : 545,
      "node_id" : "PRRC_kwDOABII584zcLXd",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 545,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 68,
      "pull_request_review_id" : 959325049,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863024605/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T17:10:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863024605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863032175"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863032175"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, I'm a bit undecided about that: I think avoiding a struct is not really a good argument for switching form vector to map: We would need to switch to a pair or struct if we'd ever need to add another member, plus there is a case for introducing a struct even if we'd switch to a map, as was recently done in [PruneLocks](https://github.com/bitcoin/bitcoin/blob/037c5e511fe2185d244049cae25a98f99b878787/src/node/blockstorage.h#L139) example. \r\nPerformance-wise, this doesn't seem important at all since the container cannot have more than 8 entries (MAX_ADDNODE_CONNECTIONS). ",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-02T17:20:52Z",
      "diff_hunk" : "@@ -1087,7 +1114,7 @@ class CConnman\n     AddrMan& addrman;\n     std::deque<std::string> m_addr_fetches GUARDED_BY(m_addr_fetches_mutex);\n     Mutex m_addr_fetches_mutex;\n-    std::vector<std::string> m_added_nodes GUARDED_BY(m_added_nodes_mutex);\n+    std::vector<AddedNodeEntry> m_added_nodes GUARDED_BY(m_added_nodes_mutex);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863032175",
      "id" : 863032175,
      "in_reply_to_id" : 860411252,
      "line" : 1132,
      "node_id" : "PRRC_kwDOABII584zcNNv",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 1132,
      "original_position" : 105,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 128,
      "pull_request_review_id" : 959335870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863032175/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T17:20:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863032175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the reviews @www222fff @luke-jr  @jnewbery I pushed an update, addressing the feedback.\r\n\r\n> I wonder if in future, we could change the net/net_processing responsibilities such that net_processing is unaware of whether a connection is manual or not. The only places that net_processing uses that information are in `MaybeDiscourageAndDisconnect()` (before this PR), and `EvictExtraOutboundPeers()` (in this PR). If disconnection and eviction logic is moved out of net_processing (cc @cfields), then net_processing won't need to be aware of the difference between manual and automatic connections.\r\n\r\nYes, that sounds like a nice side-effect of moving the eviction logic out of `net_processing`.",
      "created_at" : "2022-05-02T17:24:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1115147821",
      "id" : 1115147821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Cd84t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1115147821/reactions"
      },
      "updated_at" : "2022-05-02T17:27:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1115147821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863599210"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863599210"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Or maybe `ManualConnectionTarget` or `DesiredManualConnection`? I'm not sure they're great either.",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-03T09:13:18Z",
      "diff_hunk" : "@@ -188,6 +180,31 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as\n+     * Tor, manual block-relay-only connections to IPv4 or IPv6 nodes can be\n+     * used for hardening against eclipse attacks, while at the same time\n+     * making fingerprinting attacks more difficult and preserving a higher degree\n+     * of privacy by not transmitting transactions and addresses over these links.\n+     */\n+    MANUAL_BLOCK_RELAY,\n+};\n+\n+struct AddedNodeInfo {\n+    std::string strAddedNode;\n+    CService resolvedAddress;\n+    bool fConnected;\n+    bool fInbound;\n+    ConnectionType conn_type;\n+};\n+\n+struct AddedNodeEntry {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863599210",
      "id" : 863599210,
      "in_reply_to_id" : 861577089,
      "line" : 206,
      "node_id" : "PRRC_kwDOABII584zeXpq",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 206,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 41,
      "pull_request_review_id" : 960110608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863599210/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-03T09:13:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863599210",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863600208"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863600208"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            for (auto added_node : connOptions.m_added_nodes) {\r\n```",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-03T09:14:50Z",
      "diff_hunk" : "@@ -786,7 +815,9 @@ class CConnman\n         vWhitelistedRange = connOptions.vWhitelistedRange;\n         {\n             LOCK(m_added_nodes_mutex);\n-            m_added_nodes = connOptions.m_added_nodes;\n+            for (auto addedNode : connOptions.m_added_nodes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863600208",
      "id" : 863600208,
      "line" : 818,
      "node_id" : "PRRC_kwDOABII584zeX5Q",
      "original_commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "original_line" : 818,
      "original_position" : 91,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 91,
      "pull_request_review_id" : 960111998,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863600208/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-03T09:34:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863600208",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863607985"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863607985"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should this assert or return false if `conn_type != ConnectionType::MANUAL && conn_type != ConnectionType::MANUAL_BLOCK_RELAY`? What would it mean to have a non-manual connection type in the `m_added_nodes` container?\r\n\r\nIf this is changed to an assert you'd need to also update the test in fuzz/connman.",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-03T09:27:06Z",
      "diff_hunk" : "@@ -2836,22 +2840,22 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863607985",
      "id" : 863607985,
      "line" : 2843,
      "node_id" : "PRRC_kwDOABII584zeZyx",
      "original_commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "original_line" : 2843,
      "original_position" : 112,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 112,
      "pull_request_review_id" : 960111998,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863607985/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-03T09:34:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863607985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863609859"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863609859"
         }
      },
      "author_association" : "MEMBER",
      "body" : "These can be const.",
      "commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "created_at" : "2022-05-03T09:29:56Z",
      "diff_hunk" : "@@ -293,6 +294,22 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r863609859",
      "id" : 863609859,
      "line" : 297,
      "node_id" : "PRRC_kwDOABII584zeaQD",
      "original_commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "original_line" : 297,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 12,
      "pull_request_review_id" : 960111998,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863609859/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-03T09:34:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863609859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r865001116"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865001116"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "changed (and also changed the argument of `GetAddedNodeEntry` with the same name)",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-05-04T15:51:23Z",
      "diff_hunk" : "@@ -786,7 +815,9 @@ class CConnman\n         vWhitelistedRange = connOptions.vWhitelistedRange;\n         {\n             LOCK(m_added_nodes_mutex);\n-            m_added_nodes = connOptions.m_added_nodes;\n+            for (auto addedNode : connOptions.m_added_nodes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r865001116",
      "id" : 865001116,
      "in_reply_to_id" : 863600208,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zjt6c",
      "original_commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "original_line" : 818,
      "original_position" : 91,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 962105092,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865001116/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-04T15:51:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865001116",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r865001307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865001307"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-05-04T15:51:34Z",
      "diff_hunk" : "@@ -293,6 +294,22 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r865001307",
      "id" : 865001307,
      "in_reply_to_id" : 863609859,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zjt9b",
      "original_commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "original_line" : 297,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 962105354,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865001307/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-04T15:51:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865001307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r865003408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865003408"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I added an assert and updated the fuzz test to comply with that.",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-05-04T15:53:33Z",
      "diff_hunk" : "@@ -2836,22 +2840,22 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r865003408",
      "id" : 865003408,
      "in_reply_to_id" : 863607985,
      "line" : 2861,
      "node_id" : "PRRC_kwDOABII584zjueQ",
      "original_commit_id" : "4ad26899169c45a6295efe8f1798e91ac0810e00",
      "original_line" : 2861,
      "original_position" : 112,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 117,
      "pull_request_review_id" : 962108105,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865003408/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-04T15:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865003408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[4ad2689 ](https://github.com/bitcoin/bitcoin/commit/4ad26899169c45a6295efe8f1798e91ac0810e00) to [6d75df7](https://github.com/bitcoin/bitcoin/commit/6d75df749d4aa9f2479fbe9d1551c8a5c1a3607f):\r\naddressed feedback by @jnewbery ",
      "created_at" : "2022-05-04T15:54:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1117521730",
      "id" : 1117521730,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585CnAdC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117521730/reactions"
      },
      "updated_at" : "2022-05-04T15:54:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117521730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 6d75df749d",
      "created_at" : "2022-05-04T17:30:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1117617431",
      "id" : 1117617431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585CnX0X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117617431/reactions"
      },
      "updated_at" : "2022-05-04T17:30:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117617431",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : " It seems to me the linked issue would be solved in the general case by https://github.com/bitcoin/bitcoin/pull/24545 (or alternatively since v22 by adding manual connections to other non-clearnet networks).\r\n\r\n> In that situation, manual block-relay-only connections to peers on clearnet networks can help us staying connected to the best chain, but in contrast to normal manual connections, transactions and addresses aren't transmitted on these links - in particular not our own address or transaction from our wallet. This increases privacy and will also make it harder to perform fingerprinting attacks (connecting our identities over different networks).\r\n\r\nManual connections are to trusted peers, so if I understand correctly, the specific threat model here is that of a trusted peer fingerprinting us?",
      "created_at" : "2022-05-09T05:59:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1120675097",
      "id" : 1120675097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585CzCUZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120675097/reactions"
      },
      "updated_at" : "2022-05-10T14:34:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120675097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Manual connections are to trusted peers, so if I understand correctly, the specific threat model here is that of a trusted peer fingerprinting us?\r\n\r\nMy understanding is that the problem being addressed here is a passive MITM observing that a particular transaction originated from our node when we send it to our trusted peer, added with `-addnode` (over clearnet).",
      "created_at" : "2022-05-10T09:02:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1122124213",
      "id" : 1122124213,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585C4kG1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122124213/reactions"
      },
      "updated_at" : "2022-05-10T09:02:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122124213",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > Manual connections are to trusted peers, so if I understand correctly, the specific threat model here is that of a trusted peer fingerprinting us?\r\n> \r\n> My understanding is that the problem being addressed here is a passive MITM observing that a particular transaction originated from our node when we send it to our trusted peer, added with `-addnode` (over clearnet).\r\n\r\nIf so, my understanding was that BIP324 is designed to address this: https://drive.google.com/file/d/1o6PaA-vAWXhpCHHbBkUGZJ-6bmde6gEY/view",
      "created_at" : "2022-05-10T09:50:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1122172967",
      "id" : 1122172967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585C4wAn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122172967/reactions"
      },
      "updated_at" : "2022-05-10T09:50:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122172967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Overall I think this is a useful addition, if it ends up being used. I'm a bit concerned it's too obscure for people to decide to configure links like this. Weak concept ACK.\r\n\r\n@mzumsande / @dhruv It seems both this PR and #24545 add a way to associate flags with manually configured connections. Perhaps it's worth seeing if the interfaces can be made the same?\r\n\r\n@vasild Maybe just a terminology note, but a MitM is by definition an active attacker that inserts themselves in the connection. I think perhaps you mean more something like an eavesdropper / large scale surveillance (which just observes without interfering)?\r\n\r\n@jonatack Even BIP324, and even when combined with some mechanism of authentication, cannot fully prevent information about transaction origin to a global surveillant due to traffic patterns. We do intend to include affordances for dummy traffic / traffic shaping in BIP324, but actually making use of that to hide transaction propagation patterns is out of scope.\r\n\r\n",
      "created_at" : "2022-05-10T14:26:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1122470916",
      "id" : 1122470916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585C54wE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122470916/reactions"
      },
      "updated_at" : "2022-05-10T14:29:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1122470916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa, yes, by passive man in the middle, I mean eavesdropping or spying. Btw, [wikipedia MITM](https://en.wikipedia.org/wiki/Man-in-the-middle_attack) reads \"... attacker secretly relays and **possibly** alters the communications between two parties ...\"",
      "created_at" : "2022-05-11T06:33:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1123240659",
      "id" : 1123240659,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585C80rT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123240659/reactions"
      },
      "updated_at" : "2022-05-11T06:33:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123240659",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Manual connections are to trusted peers, so if I understand correctly, the specific threat model here is that of a trusted peer fingerprinting us?\r\n\r\nThere are different levels of trust and I think that it is quite typical that users would just choose a peer with a good uptime and no past misbehaviour as a \"trusted\" addnode peer without actually being able to vouch for its operator completely.\r\n\r\nBut even if the peer is indeed good, there is still the possibility of indirect attempts to infer this connection, where a third party would connect to us (on the privacy network where we accept connections) and also to our suspected addnode peer (via clearnet). In this situation, I think it would be possible to infer the existence of this connection with a reasonable degree of confidence using addr relay probing, and probably some tricks exist within tx relay as well. I think that there is a much larger attack surface if you participate in addr and tx relay, and part of the reason block-relay-only connections were introduced is to just disable these attack vectors completely on these connections instead of trying to solve all relevant issues with addr and tx relay.\r\n\r\n> It seems both this PR and https://github.com/bitcoin/bitcoin/pull/24545 add a way to associate flags with manually configured connections. Perhaps it's worth seeing if the interfaces can be made the same?\r\n\r\nYes, this should be easily possible. I had a look at an older version of this (#23900), and I think that the changes in `net` are quite similar already. I will soon take a closer look and possibly change some nomenclature/details here to make them more compatible.\r\n\r\n> I'm a bit concerned it's too obscure for people to decide to configure links like this.\r\n\r\nYes, that's definitely a valid point, I was unsure about this [myself](https://github.com/bitcoin/bitcoin/issues/23763#issuecomment-1098558732). It seems really hard to gauge what features users will actually use.\r\n",
      "created_at" : "2022-05-11T12:39:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1123706503",
      "id" : 1123706503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585C-maH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123706503/reactions"
      },
      "updated_at" : "2022-05-11T12:39:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123706503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-05-16T13:05:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1127648411",
      "id" : 1127648411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585DNoyb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1127648411/reactions"
      },
      "updated_at" : "2022-05-16T13:05:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1127648411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "6d75df7 to c348172:\r\nRebased and made the approach analogous to the one by @dhruv in [#24545](https://github.com/bitcoin/bitcoin/pull/24545/commits/36bb7117a45ee2e0c411ab1152b818e0acfa0c5c) by renaming `AddedNodeEntry` to `AddedNodeParams` and and making it a member of `AddedNodeInfo`.",
      "created_at" : "2022-05-18T15:19:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1130155402",
      "id" : 1130155402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585DXM2K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130155402/reactions"
      },
      "updated_at" : "2022-05-18T15:19:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1130155402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-05-19T10:20:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1131512162",
      "id" : 1131512162,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585DcYFi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1131512162/reactions"
      },
      "updated_at" : "2022-05-19T10:20:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1131512162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[c348172 ](https://github.com/bitcoin/bitcoin/commit/c34817279cca646be09d6210d2a7b3dd45b03fe0)to [8af5283](https://github.com/bitcoin/bitcoin/commit/8af528399289c89df5917aa1e7190265609b6eb2):\r\n\r\nRebased after the merge of https://github.com/bitcoin/bitcoin/pull/22778 - this meant adding a couple more calls to `IsBlockRelayConn()`, that used to be `m_tx_relay == nullptr` checks before  #22778 and therefore apply for both manual and automatic block-relay-only connections.",
      "created_at" : "2022-05-19T14:44:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1131810481",
      "id" : 1131810481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Ddg6x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1131810481/reactions"
      },
      "updated_at" : "2022-05-19T14:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1131810481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK 8af5283992",
      "created_at" : "2022-05-20T07:37:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1132580788",
      "id" : 1132580788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Dgc-0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132580788/reactions"
      },
      "updated_at" : "2022-05-20T07:37:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132580788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Attempted a couple of week-long Twitter surveys related to this topic at https://twitter.com/jonatack/status/1524377548062351360 and https://twitter.com/jonatack/status/1524380125126660096.",
      "created_at" : "2022-05-20T14:21:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1132955642",
      "id" : 1132955642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Dh4f6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132955642/reactions"
      },
      "updated_at" : "2022-05-20T14:21:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1132955642",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> [6d75df7](https://github.com/bitcoin/bitcoin/commit/6d75df749d4aa9f2479fbe9d1551c8a5c1a3607f) to [c348172](https://github.com/bitcoin/bitcoin/commit/c34817279cca646be09d6210d2a7b3dd45b03fe0): Rebased and made the approach analogous to the one by @dhruv in [#24545](https://github.com/bitcoin/bitcoin/pull/24545/commits/36bb7117a45ee2e0c411ab1152b818e0acfa0c5c) by renaming `AddedNodeEntry` to `AddedNodeParams` and and making it a member of `AddedNodeInfo`.\r\n\r\nSuggestion, if possible do the rebase and PR changes in separate force-pushes, to make it easier for reviewers to see just the PR changes. I think I've seen GitHub combine the two force-pushes if they're close in time, so it may be advisable to wait a bit between the force-pushes.",
      "created_at" : "2022-06-15T00:07:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1155824759",
      "id" : 1155824759,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585E5Hx3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1155824759/reactions"
      },
      "updated_at" : "2022-06-15T00:07:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1155824759",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-15T08:01:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1156128998",
      "id" : 1156128998,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585E6SDm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156128998/reactions"
      },
      "updated_at" : "2022-06-15T08:01:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156128998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[8af5283 ](https://github.com/bitcoin/bitcoin/commit/8af528399289c89df5917aa1e7190265609b6eb2)to [629a6f4](https://github.com/bitcoin/bitcoin/commit/629a6f404056e3228f49fd03e6c682d8f2820e37):\r\nRebased due to conflict with #25156.\r\n\r\n> Suggestion, if possible do the rebase and PR changes in separate force-pushes, to make it easier for reviewers to see just the PR changes.\r\n\r\nOk, I'll try to think of that next time!\r\n",
      "created_at" : "2022-06-15T14:22:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1156539799",
      "id" : 1156539799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585E72WX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156539799/reactions"
      },
      "updated_at" : "2022-06-15T14:22:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156539799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898398579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898398579"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If this argument is provided with \"remove\", throw an exception?",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-15T20:40:50Z",
      "diff_hunk" : "@@ -278,6 +278,7 @@ static RPCHelpMan addnode()\n                 {\n                     {\"node\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The node (see getpeerinfo for nodes)\"},\n                     {\"command\", RPCArg::Type::STR, RPCArg::Optional::NO, \"'add' to add a node to the list, 'remove' to remove a node from the list, 'onetry' to try a connection to the node once\"},\n+                    {\"connection_type\", RPCArg::Type::STR, RPCArg::Default{\"manual\"}, \"Type of connection to open ('manual' or 'manual-block-relay')\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898398579",
      "id" : 898398579,
      "line" : 281,
      "node_id" : "PRRC_kwDOABII5841jHlz",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 281,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 1008101752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898398579/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-16T16:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898398579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898412367"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898412367"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    for (const auto& node_to_add : lAddresses) {\r\n```",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-15T20:58:30Z",
      "diff_hunk" : "@@ -2227,9 +2231,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto node_to_add : lAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898412367",
      "id" : 898412367,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841jK9P",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 2234,
      "original_position" : 74,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1008101752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898412367/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-16T16:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898412367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898417583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898417583"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            // node_to_add.m_node_address is an IP:port\r\n```",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-15T21:04:05Z",
      "diff_hunk" : "@@ -2227,9 +2231,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto node_to_add : lAddresses) {\n+        CService service(LookupNumeric(node_to_add.m_node_address, Params().GetDefaultPort(node_to_add.m_node_address)));\n+        AddedNodeInfo addedNode{node_to_add, CService(), /*fConnected=*/false, /*fInbound=*/false};\n         if (service.IsValid()) {\n             // strAddNode is an IP:port",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898417583",
      "id" : 898417583,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841jMOv",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 2238,
      "original_position" : 78,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1008101752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898417583/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-16T16:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898417583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898420820"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898420820"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            // node_to_add.m_node_address is a name\r\n```",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-15T21:04:31Z",
      "diff_hunk" : "@@ -2240,7 +2244,7 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n             }\n         } else {\n             // strAddNode is a name",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r898420820",
      "id" : 898420820,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841jNBU",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 2246,
      "original_position" : 83,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1008101752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898420820/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-16T16:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/898420820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r899251802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/899251802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            for (const auto& added_node : connOptions.m_added_nodes) {\r\n```",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-16T15:57:18Z",
      "diff_hunk" : "@@ -785,7 +813,9 @@ class CConnman\n         vWhitelistedRange = connOptions.vWhitelistedRange;\n         {\n             LOCK(m_added_nodes_mutex);\n-            m_added_nodes = connOptions.m_added_nodes;\n+            for (auto added_node : connOptions.m_added_nodes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r899251802",
      "id" : 899251802,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841mX5a",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 816,
      "original_position" : 90,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1008101752,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/899251802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-16T16:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/899251802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901909478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901909478"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-20T18:04:13Z",
      "diff_hunk" : "@@ -278,6 +278,7 @@ static RPCHelpMan addnode()\n                 {\n                     {\"node\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The node (see getpeerinfo for nodes)\"},\n                     {\"command\", RPCArg::Type::STR, RPCArg::Optional::NO, \"'add' to add a node to the list, 'remove' to remove a node from the list, 'onetry' to try a connection to the node once\"},\n+                    {\"connection_type\", RPCArg::Type::STR, RPCArg::Default{\"manual\"}, \"Type of connection to open ('manual' or 'manual-block-relay')\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901909478",
      "id" : 901909478,
      "in_reply_to_id" : 898398579,
      "line" : 281,
      "node_id" : "PRRC_kwDOABII5841wgvm",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 281,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 1012630230,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901909478/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T18:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901909478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901912199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901912199"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I changed it to \"node address\", so I don't have to use a variable name here.",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-20T18:06:36Z",
      "diff_hunk" : "@@ -2227,9 +2231,9 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (auto node_to_add : lAddresses) {\n+        CService service(LookupNumeric(node_to_add.m_node_address, Params().GetDefaultPort(node_to_add.m_node_address)));\n+        AddedNodeInfo addedNode{node_to_add, CService(), /*fConnected=*/false, /*fInbound=*/false};\n         if (service.IsValid()) {\n             // strAddNode is an IP:port",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901912199",
      "id" : 901912199,
      "in_reply_to_id" : 898417583,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841whaH",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 2238,
      "original_position" : 78,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1012631845,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901912199/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T18:06:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901912199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901912474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901912474"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "as above",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-20T18:06:51Z",
      "diff_hunk" : "@@ -2240,7 +2244,7 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n             }\n         } else {\n             // strAddNode is a name",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901912474",
      "id" : 901912474,
      "in_reply_to_id" : 898420820,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841whea",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 2246,
      "original_position" : 83,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1012632000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901912474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T18:06:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901912474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901913214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901913214"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done, thanks.",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-20T18:07:27Z",
      "diff_hunk" : "@@ -785,7 +813,9 @@ class CConnman\n         vWhitelistedRange = connOptions.vWhitelistedRange;\n         {\n             LOCK(m_added_nodes_mutex);\n-            m_added_nodes = connOptions.m_added_nodes;\n+            for (auto added_node : connOptions.m_added_nodes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r901913214",
      "id" : 901913214,
      "in_reply_to_id" : 899251802,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841whp-",
      "original_commit_id" : "629a6f404056e3228f49fd03e6c682d8f2820e37",
      "original_line" : 816,
      "original_position" : 90,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1012632429,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901913214/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T18:07:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901913214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[629a6f4 ](https://github.com/bitcoin/bitcoin/commit/629a6f404056e3228f49fd03e6c682d8f2820e37)to [00ea370](https://github.com/bitcoin/bitcoin/commit/00ea3706617da8ff526e666661d98d339cda1372):\r\naddressed suggestions by @LarryRuane - thank you!",
      "created_at" : "2022-06-20T18:10:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1160722050",
      "id" : 1160722050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585FLzaC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160722050/reactions"
      },
      "updated_at" : "2022-06-20T18:10:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160722050",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r903147643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903147643"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We're not checking that the connection type string is valid here, as we are in the `addnode` rpc handler. It's understandable because it's actually too late to check it here. I recommend checking it in `AppInitMain()` where many other config / arg parameters are checked. If it's not one of the valid types, call `InitError()`. You may want to refactor the connection type string checking logic out of the rpc handler into a separate function (probably should be a static `CConnman` method), and then call it from there and from `AppInitMain()`.",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-21T23:28:54Z",
      "diff_hunk" : "@@ -3156,6 +3161,19 @@ uint64_t CConnman::CalculateKeyedNetGroup(const CAddress& address) const\n     return GetDeterministicRandomizer(RANDOMIZER_ID_NETGROUP).Write(vchNetGroup.data(), vchNetGroup.size()).Finalize();\n }\n \n+AddedNodeParams CConnman::GetAddedNodeParams(std::string added_node)\n+{\n+    ConnectionType conn_type = ConnectionType::MANUAL;\n+    const size_t index = added_node.rfind('=');\n+    if (index != std::string::npos) {\n+        if (added_node.substr(index + 1) == ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)) {\n+            added_node = added_node.substr(0, index);\n+            conn_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r903147643",
      "id" : 903147643,
      "line" : 3172,
      "node_id" : "PRRC_kwDOABII58411PB7",
      "original_commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "original_line" : 3172,
      "original_position" : 154,
      "original_start_line" : 3169,
      "path" : "src/net.cpp",
      "position" : 154,
      "pull_request_review_id" : 1014347755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903147643/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 3169,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-22T01:42:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903147643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r903200928"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903200928"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nAddedNodeParams CConnman::GetAddedNodeParams(std::string added_node) const\r\n```",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-22T01:38:01Z",
      "diff_hunk" : "@@ -3156,6 +3161,19 @@ uint64_t CConnman::CalculateKeyedNetGroup(const CAddress& address) const\n     return GetDeterministicRandomizer(RANDOMIZER_ID_NETGROUP).Write(vchNetGroup.data(), vchNetGroup.size()).Finalize();\n }\n \n+AddedNodeParams CConnman::GetAddedNodeParams(std::string added_node)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r903200928",
      "id" : 903200928,
      "line" : 3164,
      "node_id" : "PRRC_kwDOABII58411cCg",
      "original_commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "original_line" : 3164,
      "original_position" : 146,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 146,
      "pull_request_review_id" : 1014347755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903200928/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T01:42:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903200928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r903201490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903201490"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    AddedNodeParams GetAddedNodeParams(std::string addedNode) const;\r\n```",
      "commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "created_at" : "2022-06-22T01:39:18Z",
      "diff_hunk" : "@@ -1054,6 +1084,7 @@ class CConnman\n \n     size_t SocketSendData(CNode& node) const EXCLUSIVE_LOCKS_REQUIRED(node.cs_vSend);\n     void DumpAddresses();\n+    AddedNodeParams GetAddedNodeParams(std::string addedNode);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r903201490",
      "id" : 903201490,
      "line" : 1087,
      "node_id" : "PRRC_kwDOABII58411cLS",
      "original_commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "original_line" : 1087,
      "original_position" : 109,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 109,
      "pull_request_review_id" : 1014347755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903201490/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T01:42:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903201490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Should this have release notes?",
      "created_at" : "2022-06-22T20:08:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1163551849",
      "id" : 1163551849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585FWmRp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1163551849/reactions"
      },
      "updated_at" : "2022-06-22T20:08:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1163551849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r914185621"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914185621"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I added a check to init - in doing so, I realized that if I check for invalid connection types anyway, I might as well do therest of the parsing of the string there as well - so I changed it to pass a vector of `AddedNodeParams` structs already in `CConnman::Options` and removed the CConnman::GetAddedNodeParams function. Let me know if that makes sense to you!",
      "commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "created_at" : "2022-07-05T20:40:17Z",
      "diff_hunk" : "@@ -3156,6 +3161,19 @@ uint64_t CConnman::CalculateKeyedNetGroup(const CAddress& address) const\n     return GetDeterministicRandomizer(RANDOMIZER_ID_NETGROUP).Write(vchNetGroup.data(), vchNetGroup.size()).Finalize();\n }\n \n+AddedNodeParams CConnman::GetAddedNodeParams(std::string added_node)\n+{\n+    ConnectionType conn_type = ConnectionType::MANUAL;\n+    const size_t index = added_node.rfind('=');\n+    if (index != std::string::npos) {\n+        if (added_node.substr(index + 1) == ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)) {\n+            added_node = added_node.substr(0, index);\n+            conn_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r914185621",
      "id" : 914185621,
      "in_reply_to_id" : 903147643,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842fV2V",
      "original_commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "original_line" : 3172,
      "original_position" : 154,
      "original_start_line" : 3169,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1029182263,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914185621/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-05T20:46:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914185621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r914185946"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914185946"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This became obsolete, since GetAddedNodeParams was removed.",
      "commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "created_at" : "2022-07-05T20:40:45Z",
      "diff_hunk" : "@@ -3156,6 +3161,19 @@ uint64_t CConnman::CalculateKeyedNetGroup(const CAddress& address) const\n     return GetDeterministicRandomizer(RANDOMIZER_ID_NETGROUP).Write(vchNetGroup.data(), vchNetGroup.size()).Finalize();\n }\n \n+AddedNodeParams CConnman::GetAddedNodeParams(std::string added_node)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r914185946",
      "id" : 914185946,
      "in_reply_to_id" : 903200928,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842fV7a",
      "original_commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "original_line" : 3164,
      "original_position" : 146,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1029182672,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914185946/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-05T20:40:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914185946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r914186022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914186022"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This became obsolete, since GetAddedNodeParams was removed.",
      "commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "created_at" : "2022-07-05T20:40:52Z",
      "diff_hunk" : "@@ -1054,6 +1084,7 @@ class CConnman\n \n     size_t SocketSendData(CNode& node) const EXCLUSIVE_LOCKS_REQUIRED(node.cs_vSend);\n     void DumpAddresses();\n+    AddedNodeParams GetAddedNodeParams(std::string addedNode);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r914186022",
      "id" : 914186022,
      "in_reply_to_id" : 903201490,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842fV8m",
      "original_commit_id" : "00ea3706617da8ff526e666661d98d339cda1372",
      "original_line" : 1087,
      "original_position" : 109,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1029182779,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914186022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-05T20:40:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/914186022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, @LarryRuane  it took me some time to address your comments.\r\n[00ea370 ](https://github.com/bitcoin/bitcoin/commit/00ea3706617da8ff526e666661d98d339cda1372)to [20b6e75](https://github.com/bitcoin/bitcoin/commit/20b6e75ddc88a8d11aaae32700e606b5eada24f5):\r\n- Addressed feedback to validate the connection type when passing via bitcoind arg. Note that the node name is not being validated, like before.\r\n- Added a commit with a relase note.\r\n\r\nI also extended the test coverage of the RPC -addnode to cover manual-block-relay connections (`rpc_net.py`).",
      "created_at" : "2022-07-05T20:45:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1175481520",
      "id" : 1175481520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585GEGyw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1175481520/reactions"
      },
      "updated_at" : "2022-07-05T20:45:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1175481520",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r916736247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916736247"
         }
      },
      "author_association" : "MEMBER",
      "body" : "grammar nit:\r\n\r\n```suggestion\r\n     * connections. When the node is connected to a privacy network such as\r\n```\r\n\r\nOtherwise, the \"connected to...\" clause seems like it's attached to the \"manual block-relay-only connection\" (equivalent to \"when the manual block-relay-only connections are connected to a privacy network...)",
      "commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "created_at" : "2022-07-08T11:40:49Z",
      "diff_hunk" : "@@ -188,6 +180,30 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r916736247",
      "id" : 916736247,
      "line" : 188,
      "node_id" : "PRRC_kwDOABII5842pEj3",
      "original_commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "original_line" : 188,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 24,
      "pull_request_review_id" : 1032795134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916736247/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-08T14:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916736247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r916749308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916749308"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's very strange to say \"connection type is IsAutomaticBlockRelayConn() == false\", when the logic for setting m_protect is `pfrom.IsFullOutboundConn()`. I know this line is only touched by the scripted diff, but since it's being touched perhaps updated to say \"its connection type is `OUTBOUND_FULL_RELAY`.\r\n\r\n(in general I don't think it's useful to have comments that simply restate the programming logic in english so would prefer to see this removed, but that's out of scope for this PR).",
      "commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "created_at" : "2022-07-08T12:00:21Z",
      "diff_hunk" : "@@ -413,7 +413,7 @@ struct CNodeState {\n       * Both are only in effect for outbound, non-manual, non-protected connections.\n       * Any peer protected (m_protect = true) is not chosen for eviction. A peer is\n       * marked as protected if all of these are true:\n-      *   - its connection type is IsBlockOnlyConn() == false\n+      *   - its connection type is IsAutomaticBlockRelayConn() == false",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r916749308",
      "id" : 916749308,
      "line" : 416,
      "node_id" : "PRRC_kwDOABII5842pHv8",
      "original_commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "original_line" : 416,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 1032795134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916749308/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-08T14:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916749308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r916855445"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916855445"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps add \"see bitcoind help documentation and RPC help documentation for parameter semantics\" or similar",
      "commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "created_at" : "2022-07-08T14:09:48Z",
      "diff_hunk" : "@@ -104,6 +104,11 @@ Low-level changes\n RPC\n ---\n \n+- The RPC `addnode` and the `-addnode` bitcoind startup option now\n+optionally support adding manual peers that are block-relay-only.\n+On these connections, the node doesn't participate in transaction or\n+address relay. (#24170)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r916855445",
      "id" : 916855445,
      "line" : 110,
      "node_id" : "PRRC_kwDOABII5842phqV",
      "original_commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "original_line" : 110,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 7,
      "pull_request_review_id" : 1032795134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916855445/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-08T14:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916855445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[20b6e75 ](https://github.com/bitcoin/bitcoin/commit/20b6e75ddc88a8d11aaae32700e606b5eada24f5) to [40d996e](https://github.com/bitcoin/bitcoin/commit/40d996e5cc278cea1b14ede9b5d028077e9994fe): \r\nrebased due to conflict with #25500\r\n[40d996e ](https://github.com/bitcoin/bitcoin/commit/40d996e5cc278cea1b14ede9b5d028077e9994fe)to [d37c267](https://github.com/bitcoin/bitcoin/commit/d37c267503bb94d2e93a8b3c01a4afd444337af8): \r\nAddressed comments by @jnewbery ",
      "created_at" : "2022-07-11T20:33:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1180842488",
      "id" : 1180842488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585GYjn4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180842488/reactions"
      },
      "updated_at" : "2022-07-11T21:00:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180842488",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r918343725"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918343725"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good point, I changed this in the commit where the manual-block-relay connections are introduced.",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2022-07-11T20:56:44Z",
      "diff_hunk" : "@@ -413,7 +413,7 @@ struct CNodeState {\n       * Both are only in effect for outbound, non-manual, non-protected connections.\n       * Any peer protected (m_protect = true) is not chosen for eviction. A peer is\n       * marked as protected if all of these are true:\n-      *   - its connection type is IsBlockOnlyConn() == false\n+      *   - its connection type is IsAutomaticBlockRelayConn() == false",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r918343725",
      "id" : 918343725,
      "in_reply_to_id" : 916749308,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842vNAt",
      "original_commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "original_line" : 421,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1034924005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918343725/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-11T20:56:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918343725",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r918343837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918343837"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done, thanks!",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2022-07-11T20:56:55Z",
      "diff_hunk" : "@@ -188,6 +180,30 @@ enum class ConnectionType {\n      * AddrMan is empty.\n      */\n     ADDR_FETCH,\n+\n+    /**\n+     * Manual-block-relay connections are manually added nodes (via -addnode)\n+     * that behave like BLOCK_RELAY connections in that they don't participate in\n+     * transaction and address relay, and also share the properties of MANUAL\n+     * connections. When connected to a privacy network such as",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r918343837",
      "id" : 918343837,
      "in_reply_to_id" : 916736247,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842vNCd",
      "original_commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "original_line" : 188,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1034924178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918343837/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-11T20:56:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918343837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r918344693"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918344693"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done, in a slightly shortened form.",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2022-07-11T20:58:07Z",
      "diff_hunk" : "@@ -104,6 +104,11 @@ Low-level changes\n RPC\n ---\n \n+- The RPC `addnode` and the `-addnode` bitcoind startup option now\n+optionally support adding manual peers that are block-relay-only.\n+On these connections, the node doesn't participate in transaction or\n+address relay. (#24170)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r918344693",
      "id" : 918344693,
      "in_reply_to_id" : 916855445,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842vNP1",
      "original_commit_id" : "20b6e75ddc88a8d11aaae32700e606b5eada24f5",
      "original_line" : 114,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 1034925363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918344693/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-11T20:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918344693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-12T15:16:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1181891400",
      "id" : 1181891400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585GcjtI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181891400/reactions"
      },
      "updated_at" : "2022-07-12T15:16:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181891400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[d37c267 ](https://github.com/bitcoin/bitcoin/commit/d37c267503bb94d2e93a8b3c01a4afd444337af8)to [70595a5](https://github.com/bitcoin/bitcoin/commit/70595a585483539b19e3fe77f07e32d06063266b):\r\nrebased (conflict with #25591)",
      "created_at" : "2022-07-12T16:10:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1181962527",
      "id" : 1181962527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Gc1Ef",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181962527/reactions"
      },
      "updated_at" : "2022-07-12T16:10:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181962527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 70595a585483539b19e3fe77f07e32d06063266b\r\n\r\nVerified git range-diff",
      "created_at" : "2022-07-13T09:31:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1182992724",
      "id" : 1182992724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585GgwlU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1182992724/reactions"
      },
      "updated_at" : "2022-07-13T09:31:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1182992724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-19T08:38:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1188766770",
      "id" : 1188766770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585G2yQy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1188766770/reactions"
      },
      "updated_at" : "2022-07-19T08:38:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1188766770",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[70595a5 ](https://github.com/bitcoin/bitcoin/commit/70595a585483539b19e3fe77f07e32d06063266b)to [690b040 ](https://github.com/bitcoin/bitcoin/commit/690b040c6e011e4ec1195dde9932cdf3f367ff5d):\r\nrebased due to conflict with #25514 ",
      "created_at" : "2022-07-19T19:34:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1189475807",
      "id" : 1189475807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585G5fXf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189475807/reactions"
      },
      "updated_at" : "2022-07-19T19:34:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189475807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-26T10:10:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1195285674",
      "id" : 1195285674,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585HPpyq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195285674/reactions"
      },
      "updated_at" : "2022-07-26T10:10:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195285674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[690b040 ](https://github.com/bitcoin/bitcoin/commit/690b040c6e011e4ec1195dde9932cdf3f367ff5d)to [894486a](https://github.com/bitcoin/bitcoin/commit/894486a7420303f77010b9c49cd4633deb2fd00a):\r\nrebased (conflict with #25699)",
      "created_at" : "2022-07-28T20:40:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1198610815",
      "id" : 1198610815,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585HcVl_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198610815/reactions"
      },
      "updated_at" : "2022-07-28T20:40:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198610815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-16T08:07:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1249053312",
      "id" : 1249053312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585KcwqA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249053312/reactions"
      },
      "updated_at" : "2022-09-16T08:07:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249053312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "[894486a ](https://github.com/bitcoin/bitcoin/commit/894486a7420303f77010b9c49cd4633deb2fd00a)to [9bc3178](https://github.com/bitcoin/bitcoin/commit/9bc317883358fb27851de50c256f36505f2fc51a): \r\n\r\nRebased (moved release note into its own file)",
      "created_at" : "2022-09-19T17:20:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1251316192",
      "id" : 1251316192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585KlZHg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251316192/reactions"
      },
      "updated_at" : "2022-09-19T17:20:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251316192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nShould we consider the manual block-relay-only connections as anchors? E.g I added 2 manual block-relay-only connections in addition to the 2 outbound block-relay-only ones and I'd like to consider the manual ones as my anchors. so, when my node starts it would connect to that 2 peers. Could it make sense?",
      "created_at" : "2022-10-18T18:25:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1282833252",
      "id" : 1282833252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Mdntk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1282833252/reactions"
      },
      "updated_at" : "2022-10-18T18:25:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1282833252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-10-21T09:56:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1286730017",
      "id" : 1286730017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585MsfEh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1286730017/reactions"
      },
      "updated_at" : "2022-10-21T09:56:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1286730017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased\r\n\r\n> Should we consider the manual block-relay-only connections as anchors? E.g I added 2 manual block-relay-only connections in addition to the 2 outbound block-relay-only ones and I'd like to consider the manual ones as my anchors. so, when my node starts it would connect to that 2 peers. Could it make sense?\r\n\r\nThis PR allows to add the manual block-relay-only connections as addnode peers to `bitcoin.conf` - I think if we do this, it's essentially the same behavior as if it was an anchor, we'll connect to them with each new restart.",
      "created_at" : "2022-10-21T18:43:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1287318467",
      "id" : 1287318467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585MuuvD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1287318467/reactions"
      },
      "updated_at" : "2022-10-21T18:43:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1287318467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2022-11-02T08:21:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1299789799",
      "id" : 1299789799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585NeTfn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1299789799/reactions"
      },
      "updated_at" : "2022-11-02T08:21:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1299789799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1071247932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1071247932"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It might be an option to use `std::any_of` here if using standard library algorithms is preferable, but personally I think it might end up a little less readable.",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-01-16T13:29:49Z",
      "diff_hunk" : "@@ -2812,22 +2816,22 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)\n {\n     LOCK(m_added_nodes_mutex);\n-    for (const std::string& it : m_added_nodes) {\n-        if (strNode == it) return false;\n+    for (const auto& it : m_added_nodes) {\n+        if (strNode == it.m_node_address) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1071247932",
      "id" : 1071247932,
      "in_reply_to_id" : 862207474,
      "line" : 2533,
      "node_id" : "PRRC_kwDOABII584_2fI8",
      "original_commit_id" : "99154c5c314859874dee47cd54d035c7308b35b3",
      "original_line" : 2533,
      "original_position" : 76,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 115,
      "pull_request_review_id" : 1250175022,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1071247932/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-16T14:07:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1071247932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1071398598"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1071398598"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe also add the case for `ConnectionType::MANUAL`?\r\n\r\n`./src/bitcoind -addnode='test.local=manual'`\r\n> 2023-01-16T16:04:19Z Error: Invalid -addnode connection type: manual\r\n> Error: Invalid -addnode connection type: manual",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-01-16T16:05:32Z",
      "diff_hunk" : "@@ -1713,7 +1713,23 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     connOptions.m_msgproc = node.peerman.get();\n     connOptions.nSendBufferMaxSize = 1000 * args.GetIntArg(\"-maxsendbuffer\", DEFAULT_MAXSENDBUFFER);\n     connOptions.nReceiveFloodSize = 1000 * args.GetIntArg(\"-maxreceivebuffer\", DEFAULT_MAXRECEIVEBUFFER);\n-    connOptions.m_added_nodes = args.GetArgs(\"-addnode\");\n+\n+    std::vector<AddedNodeParams> added_nodes;\n+    for (auto added_node : args.GetArgs(\"-addnode\")) {\n+        ConnectionType conn_type = ConnectionType::MANUAL;\n+        const size_t index = added_node.rfind('=');\n+        if (index != std::string::npos) {\n+            const std::string conn_name = added_node.substr(index + 1);\n+            if (conn_name == ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)) {\n+                added_node = added_node.substr(0, index);\n+                conn_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+            } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1071398598",
      "id" : 1071398598,
      "line" : 1726,
      "node_id" : "PRRC_kwDOABII584_3D7G",
      "original_commit_id" : "401f9c57bb0601d07ff78e93cf8e7f3ec58acecf",
      "original_line" : 1726,
      "original_position" : 24,
      "original_start_line" : 1723,
      "path" : "src/init.cpp",
      "position" : 24,
      "pull_request_review_id" : 1250405059,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1071398598/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1723,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-16T16:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1071398598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This PR allows to add the manual block-relay-only connections as addnode peers to bitcoin.conf - I think if we do this, it's essentially the same behavior as if it was an anchor, we'll connect to them with each new restart.\r\n\r\nNot sure if I was clear, just to clarify. If I use `-addnode=ip=manual-block-relay` in CLI, not putting it in `bitcoin.conf`, when I shutdown my node, this peer is not gonna be dump into `anchors.dat`, right? ",
      "created_at" : "2023-01-16T16:28:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1384292798",
      "id" : 1384292798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585SgqG-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1384292798/reactions"
      },
      "updated_at" : "2023-01-16T16:28:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1384292798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1081240881"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081240881"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If we are changing the name of the functions to `AutomaticBlockRelayConns` would it make sense to call the connection `BLOCK_RELAY` type also to `AUTOMATIC_BLOCK_RELAY`? \r\n\r\nThen comments like this and the connection type returned would be consistent and could be less confusing for future readers. \r\n\r\nFor example this call only returns automatic block relays, not all block relays.. ",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-01-19T13:11:09Z",
      "diff_hunk" : "@@ -972,7 +988,7 @@ class CConnman\n     /**\n      * Return vector of current BLOCK_RELAY peers.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1081240881",
      "id" : 1081240881,
      "line" : 989,
      "node_id" : "PRRC_kwDOABII585Acm0x",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 989,
      "original_position" : 93,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 93,
      "pull_request_review_id" : 1261754421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081240881/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-19T17:02:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081240881",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1081266047"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081266047"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I might be confused, but why don't we wanna consider `MANUAL_BLOCK_RELAY` as `Outbound` and `BlockRelay`? ",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-01-19T13:35:10Z",
      "diff_hunk" : "@@ -424,6 +428,7 @@ class CNode\n             case ConnectionType::MANUAL:\n             case ConnectionType::ADDR_FETCH:\n             case ConnectionType::FEELER:\n+            case ConnectionType::MANUAL_BLOCK_RELAY:\n                 return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1081266047",
      "id" : 1081266047,
      "line" : 432,
      "node_id" : "PRRC_kwDOABII585Acs9_",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 432,
      "original_position" : 39,
      "original_start_line" : 431,
      "path" : "src/net.h",
      "position" : 39,
      "pull_request_review_id" : 1261754421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081266047/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 431,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-19T17:02:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081266047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1081520434"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081520434"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We had this question in our review club:\r\n\r\nalong with testing `addnode`, does it also makes sense to connect with `self.nodes[1]` in `manual-blocks-only` mode and assert that only block data is received and not other types of data? \r\n\r\nIf that makes sense, maybe it could be a nice follow-up after adding the new category. perhaps can be done in `p2p_add_connections.py`? ",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-01-19T16:26:58Z",
      "diff_hunk" : "@@ -218,13 +218,25 @@ def test_getaddednodeinfo(self):\n         assert_equal(added_nodes[0]['addednode'], ip_port)\n         # check that node cannot be added again\n         assert_raises_rpc_error(-23, \"Node already added\", self.nodes[0].addnode, node=ip_port, command='add')\n+        # check that the node cannot be added again as manual-block-relay\n+        assert_raises_rpc_error(-23, \"Node already added\", self.nodes[0].addnode, node=ip_port, command='add', connection_type='manual-block-relay')\n         # check that node can be removed\n         self.nodes[0].addnode(node=ip_port, command='remove')\n         assert_equal(self.nodes[0].getaddednodeinfo(), [])\n         # check that trying to remove the node again returns an error\n         assert_raises_rpc_error(-24, \"Node could not be removed\", self.nodes[0].addnode, node=ip_port, command='remove')\n         # check that a non-existent node returns an error\n         assert_raises_rpc_error(-24, \"Node has not been added\", self.nodes[0].getaddednodeinfo, '1.1.1.1')\n+        # add a node with an invalid connection type\n+        dummy_node = \"dummyNode.invalid.\"\n+        assert_raises_rpc_error(-5, \"Unsupported connection type\", self.nodes[0].addnode, node=dummy_node, command='add', connection_type='foo')\n+        # add a manual-block-relay node (the validity of the 'node' parameter is not validated)\n+        self.nodes[0].addnode(node=dummy_node, command='add', connection_type='manual-block-relay')\n+        added_nodes = self.nodes[0].getaddednodeinfo(dummy_node)\n+        assert_equal(len(added_nodes), 1)\n+        assert_equal(added_nodes[0]['addednode'], dummy_node)\n+        assert_equal(added_nodes[0]['connection_type'], 'manual-block-relay')\n+        self.nodes[0].addnode(node=dummy_node, command='remove')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1081520434",
      "id" : 1081520434,
      "line" : 239,
      "node_id" : "PRRC_kwDOABII585AdrEy",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 239,
      "original_position" : 22,
      "original_start_line" : 235,
      "path" : "test/functional/rpc_net.py",
      "position" : 22,
      "pull_request_review_id" : 1261754421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081520434/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 235,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-19T17:02:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1081520434",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Any net people want to take a look here?",
      "created_at" : "2023-01-31T17:18:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1410771311",
      "id" : 1410771311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585UFqlv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410771311/reactions"
      },
      "updated_at" : "2023-01-31T17:18:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410771311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "As mentioned in the issue #23763, perhaps I'm missing something but this seems somewhat redundant with\r\n\r\n- using a VPN, and/or\r\n- running bitcoind over multiple encrypted networks (Tor, I2P, CJDNS), and/or\r\n- BIP324 v2 encrypted p2p in the future",
      "created_at" : "2023-01-31T17:46:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1410812585",
      "id" : 1410812585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585UF0qp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410812585/reactions"
      },
      "updated_at" : "2023-01-31T17:46:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410812585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> As mentioned in the issue #23763, perhaps I'm missing something but this seems somewhat redundant with\r\n> \r\n> * using a VPN, and/or\r\n> * running bitcoind over multiple encrypted networks (Tor, I2P, CJDNS), and/or\r\n\r\nI don't see how any of those are relevant. Privacy networks and VPNs are generally bandwidth constrained and have a much smaller pool of nodes to connect to, therefore making it easier for an attacker to eclipse you. Being able to add manual blocksonly connections allows nodes to add connections to clearnet nodes for public data that they are unlikely to originate - blocks. Any transactions would still be relayed through connections made on the privacy networks so their origins are masked.\r\n\r\n> * BIP324 v2 encrypted p2p in the future\r\n\r\nSince we're talking about active attackers rather than passive listening, BIP 324 doesn't help.",
      "created_at" : "2023-01-31T18:03:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1410835636",
      "id" : 1410835636,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585UF6S0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410835636/reactions"
      },
      "updated_at" : "2023-01-31T18:03:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410835636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Privacy networks and VPNs are generally bandwidth constrained\r\n\r\nI've been running bitcoind over VPNs and all of our encrypted networks since years without bandwidth issues, and currently since 3 months from rural Central America on slow/flakey connections.  Even when GitHub takes a long time to load a page, bitcoind thankfully runs well in making peer connections under adverse conditions from what I can see between the debug log and a live -netinfo 4 dashboard. Most of the time it's running onlynet=tor/i2p/cjdns, e.g. all three without clearnet.\r\n\r\n> and have a much smaller pool of nodes to connect to, therefore making it easier for an attacker to eclipse you\r\n\r\nThis may have evolved with a significant increase in Tor and I2P nodes.  As one example, my little dev node on my laptop out here currently knows 14k Tor peers and 1100 I2P peers after the `IsTerrible` filter.  15k seems like a pretty decent amount of peers to connect to -- there are significantly more of them nowadays relative to a year ago; for I2P in particular the number seems to have grown quite a lot recently.\r\n\r\n<img width=\"210\" alt=\"Screenshot 2023-02-15 at 08 03 47\" src=\"https://user-images.githubusercontent.com/2415484/219812434-f2e7a608-ff06-4a73-8198-ebe7ea9733db.png\">\r\n\r\n",
      "created_at" : "2023-01-31T18:56:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1410904719",
      "id" : 1410904719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585UGLKP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410904719/reactions"
      },
      "updated_at" : "2023-02-17T22:53:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410904719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103096776"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103096776"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "if you retouch\r\n```suggestion\r\n        ConnectionType conn_type{ConnectionType::MANUAL};\r\n        const size_t index{added_node.rfind('=')};\r\n```",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-02-10T18:34:29Z",
      "diff_hunk" : "@@ -1713,7 +1713,23 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     connOptions.m_msgproc = node.peerman.get();\n     connOptions.nSendBufferMaxSize = 1000 * args.GetIntArg(\"-maxsendbuffer\", DEFAULT_MAXSENDBUFFER);\n     connOptions.nReceiveFloodSize = 1000 * args.GetIntArg(\"-maxreceivebuffer\", DEFAULT_MAXRECEIVEBUFFER);\n-    connOptions.m_added_nodes = args.GetArgs(\"-addnode\");\n+\n+    std::vector<AddedNodeParams> added_nodes;\n+    for (auto added_node : args.GetArgs(\"-addnode\")) {\n+        ConnectionType conn_type = ConnectionType::MANUAL;\n+        const size_t index = added_node.rfind('=');",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103096776",
      "id" : 1103096776,
      "line" : 1720,
      "node_id" : "PRRC_kwDOABII585Bv-vI",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 1720,
      "original_position" : 18,
      "original_start_line" : 1719,
      "path" : "src/init.cpp",
      "position" : 18,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103096776/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1719,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-10T19:24:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103096776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103097087"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103097087"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            const std::string conn_name{added_node.substr(index + 1)};\r\n```",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-02-10T18:34:48Z",
      "diff_hunk" : "@@ -1713,7 +1713,23 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     connOptions.m_msgproc = node.peerman.get();\n     connOptions.nSendBufferMaxSize = 1000 * args.GetIntArg(\"-maxsendbuffer\", DEFAULT_MAXSENDBUFFER);\n     connOptions.nReceiveFloodSize = 1000 * args.GetIntArg(\"-maxreceivebuffer\", DEFAULT_MAXRECEIVEBUFFER);\n-    connOptions.m_added_nodes = args.GetArgs(\"-addnode\");\n+\n+    std::vector<AddedNodeParams> added_nodes;\n+    for (auto added_node : args.GetArgs(\"-addnode\")) {\n+        ConnectionType conn_type = ConnectionType::MANUAL;\n+        const size_t index = added_node.rfind('=');\n+        if (index != std::string::npos) {\n+            const std::string conn_name = added_node.substr(index + 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103097087",
      "id" : 1103097087,
      "line" : 1722,
      "node_id" : "PRRC_kwDOABII585Bv-z_",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 1722,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 20,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103097087/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T19:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103097087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103105202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103105202"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            AddedNodeInfo addedNode{\r\n            .m_params{node_to_add},\r\n            .resolvedAddress{CService()},\r\n            .fConnected{false},\r\n            .fInbound{false}};\r\n```",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-02-10T18:43:24Z",
      "diff_hunk" : "@@ -1899,20 +1901,20 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (const auto& node_to_add : lAddresses) {\n+        CService service(LookupNumeric(node_to_add.m_node_address, Params().GetDefaultPort(node_to_add.m_node_address)));\n+        AddedNodeInfo addedNode{node_to_add, CService(), /*fConnected=*/false, /*fInbound=*/false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103105202",
      "id" : 1103105202,
      "line" : 1906,
      "node_id" : "PRRC_kwDOABII585BwAyy",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 1906,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 67,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103105202/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T19:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103105202",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103125331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103125331"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    m_added_nodes.push_back(AddedNodeParams{\r\n        .m_node_address{strNode},\r\n        .m_conn_type{conn_type}});\r\n\r\n```",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-02-10T19:02:49Z",
      "diff_hunk" : "@@ -2523,22 +2525,23 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)\n {\n     LOCK(m_added_nodes_mutex);\n-    for (const std::string& it : m_added_nodes) {\n-        if (strNode == it) return false;\n+    assert(conn_type == ConnectionType::MANUAL || conn_type == ConnectionType::MANUAL_BLOCK_RELAY);\n+    for (const auto& it : m_added_nodes) {\n+        if (strNode == it.m_node_address) return false;\n     }\n \n-    m_added_nodes.push_back(strNode);\n+    m_added_nodes.push_back({strNode, conn_type});",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103125331",
      "id" : 1103125331,
      "line" : 2536,
      "node_id" : "PRRC_kwDOABII585BwFtT",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 2536,
      "original_position" : 119,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 119,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103125331/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T19:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103125331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103136412"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103136412"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/pull/24170/files#r1081240881\r\n> If we are changing the name of the functions to AutomaticBlockRelayConns would it make sense to call the connection BLOCK_RELAY type also to AUTOMATIC_BLOCK_RELAY?\r\n\r\nDoing this rename would touch 20 lines of code in 8 files, but could be done with a scripted diff. I agree it would be more consistent, so personally, I'm in favor, but I'd also understand not wanting to increase the diff that much.",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-10T19:13:37Z",
      "diff_hunk" : "@@ -972,7 +988,7 @@ class CConnman\n     /**\n      * Return vector of current BLOCK_RELAY peers.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103136412",
      "id" : 1103136412,
      "in_reply_to_id" : 1081240881,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585BwIac",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 989,
      "original_position" : 93,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103136412/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-11T20:40:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103136412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103142722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103142722"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    std::string connection_type_name{manual_name};\r\n```",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-02-10T19:18:00Z",
      "diff_hunk" : "@@ -299,6 +300,25 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\n+    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\n+    if (strCommand == \"remove\" && !request.params[2].isNull()) {\n+        throw JSONRPCError(RPC_INVALID_PARAMS, \"Cannot specify a connection type with 'remove'\");\n+    }\n+    std::string connection_type_name = manual_name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103142722",
      "id" : 1103142722,
      "line" : 308,
      "node_id" : "PRRC_kwDOABII585BwJ9C",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 308,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 17,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103142722/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T19:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103142722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103147296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103147296"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "clang-format says (also below)\r\n```suggestion\r\n    } else if (connection_type_name == manual_name) {\r\n```",
      "commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "created_at" : "2023-02-10T19:21:31Z",
      "diff_hunk" : "@@ -299,6 +300,25 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\n+    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\n+    if (strCommand == \"remove\" && !request.params[2].isNull()) {\n+        throw JSONRPCError(RPC_INVALID_PARAMS, \"Cannot specify a connection type with 'remove'\");\n+    }\n+    std::string connection_type_name = manual_name;\n+    if (!request.params[2].isNull()) {\n+        connection_type_name = request.params[2].get_str();\n+    }\n+    ConnectionType connection_type;\n+    if (connection_type_name == manual_block_relay_name){\n+        connection_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+    }\n+    else if (connection_type_name == manual_name) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1103147296",
      "id" : 1103147296,
      "line" : 316,
      "node_id" : "PRRC_kwDOABII585BwLEg",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 316,
      "original_position" : 25,
      "original_start_line" : 315,
      "path" : "src/rpc/net.cpp",
      "position" : 25,
      "pull_request_review_id" : 1293784567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103147296/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 315,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-10T19:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103147296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I was busy with other things in the last weeks, but I will get back to address feedback later this week!",
      "created_at" : "2023-02-13T19:18:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1428518885",
      "id" : 1428518885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585VJXfl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428518885/reactions"
      },
      "updated_at" : "2023-02-13T19:18:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428518885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110405441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110405441"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure about this: Currently, the help for \"addnode\" states that only `=manual-block-relay` is possible (manual is the default). Adding this to the help might only complicate things for the user, because there would be no difference between `=manual` and no argument at all?\r\n",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:00:42Z",
      "diff_hunk" : "@@ -1713,7 +1713,23 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     connOptions.m_msgproc = node.peerman.get();\n     connOptions.nSendBufferMaxSize = 1000 * args.GetIntArg(\"-maxsendbuffer\", DEFAULT_MAXSENDBUFFER);\n     connOptions.nReceiveFloodSize = 1000 * args.GetIntArg(\"-maxreceivebuffer\", DEFAULT_MAXRECEIVEBUFFER);\n-    connOptions.m_added_nodes = args.GetArgs(\"-addnode\");\n+\n+    std::vector<AddedNodeParams> added_nodes;\n+    for (auto added_node : args.GetArgs(\"-addnode\")) {\n+        ConnectionType conn_type = ConnectionType::MANUAL;\n+        const size_t index = added_node.rfind('=');\n+        if (index != std::string::npos) {\n+            const std::string conn_name = added_node.substr(index + 1);\n+            if (conn_name == ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)) {\n+                added_node = added_node.substr(0, index);\n+                conn_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+            } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110405441",
      "id" : 1110405441,
      "in_reply_to_id" : 1071398598,
      "line" : 1741,
      "node_id" : "PRRC_kwDOABII585CL3FB",
      "original_commit_id" : "401f9c57bb0601d07ff78e93cf8e7f3ec58acecf",
      "original_line" : 1741,
      "original_position" : 24,
      "original_start_line" : 1723,
      "path" : "src/init.cpp",
      "position" : 24,
      "pull_request_review_id" : 1304254300,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110405441/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1738,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T22:00:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110405441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110406081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110406081"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree that it would be more consistent and added a commit to do this - I'll check how many additional conflicts this introduces...",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:01:51Z",
      "diff_hunk" : "@@ -972,7 +988,7 @@ class CConnman\n     /**\n      * Return vector of current BLOCK_RELAY peers.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110406081",
      "id" : 1110406081,
      "in_reply_to_id" : 1081240881,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CL3PB",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 989,
      "original_position" : 93,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1304255251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110406081/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T22:01:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110406081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110406730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110406730"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's used in `net_processing` in places suchas  `ConsiderEviction()` where we wouldn't want to consider manual connections. \r\nI think the name \"IsOutboundOrBlockRelayConn\" isn't ideal (even before this PR, because manual connections are  also outbound connections), maybe the name \"IsAutomaticOutboundOrBlockRelayConn\" would be better. I added a commit to do that.",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:03:00Z",
      "diff_hunk" : "@@ -424,6 +428,7 @@ class CNode\n             case ConnectionType::MANUAL:\n             case ConnectionType::ADDR_FETCH:\n             case ConnectionType::FEELER:\n+            case ConnectionType::MANUAL_BLOCK_RELAY:\n                 return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110406730",
      "id" : 1110406730,
      "in_reply_to_id" : 1081266047,
      "line" : 433,
      "node_id" : "PRRC_kwDOABII585CL3ZK",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 433,
      "original_position" : 39,
      "original_start_line" : 431,
      "path" : "src/net.h",
      "position" : 50,
      "pull_request_review_id" : 1304256187,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110406730/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 432,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T22:03:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110406730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110407979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110407979"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, I think it makes sense as a follow-up! Though, if I'm not missing something we don't even support regular MANUAL connections there, so adding support for these would make sense as well?",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:05:31Z",
      "diff_hunk" : "@@ -218,13 +218,25 @@ def test_getaddednodeinfo(self):\n         assert_equal(added_nodes[0]['addednode'], ip_port)\n         # check that node cannot be added again\n         assert_raises_rpc_error(-23, \"Node already added\", self.nodes[0].addnode, node=ip_port, command='add')\n+        # check that the node cannot be added again as manual-block-relay\n+        assert_raises_rpc_error(-23, \"Node already added\", self.nodes[0].addnode, node=ip_port, command='add', connection_type='manual-block-relay')\n         # check that node can be removed\n         self.nodes[0].addnode(node=ip_port, command='remove')\n         assert_equal(self.nodes[0].getaddednodeinfo(), [])\n         # check that trying to remove the node again returns an error\n         assert_raises_rpc_error(-24, \"Node could not be removed\", self.nodes[0].addnode, node=ip_port, command='remove')\n         # check that a non-existent node returns an error\n         assert_raises_rpc_error(-24, \"Node has not been added\", self.nodes[0].getaddednodeinfo, '1.1.1.1')\n+        # add a node with an invalid connection type\n+        dummy_node = \"dummyNode.invalid.\"\n+        assert_raises_rpc_error(-5, \"Unsupported connection type\", self.nodes[0].addnode, node=dummy_node, command='add', connection_type='foo')\n+        # add a manual-block-relay node (the validity of the 'node' parameter is not validated)\n+        self.nodes[0].addnode(node=dummy_node, command='add', connection_type='manual-block-relay')\n+        added_nodes = self.nodes[0].getaddednodeinfo(dummy_node)\n+        assert_equal(len(added_nodes), 1)\n+        assert_equal(added_nodes[0]['addednode'], dummy_node)\n+        assert_equal(added_nodes[0]['connection_type'], 'manual-block-relay')\n+        self.nodes[0].addnode(node=dummy_node, command='remove')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110407979",
      "id" : 1110407979,
      "in_reply_to_id" : 1081520434,
      "line" : 236,
      "node_id" : "PRRC_kwDOABII585CL3sr",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 236,
      "original_position" : 22,
      "original_start_line" : 235,
      "path" : "test/functional/rpc_net.py",
      "position" : 22,
      "pull_request_review_id" : 1304258115,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110407979/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 232,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T22:05:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110407979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110408410"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408410"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think I prefer the more concise version here, especially when most of the args are just defaults that are set to their actual values in the following lines. Also see below.",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:06:31Z",
      "diff_hunk" : "@@ -1899,20 +1901,20 @@ std::vector<AddedNodeInfo> CConnman::GetAddedNodeInfo() const\n         }\n     }\n \n-    for (const std::string& strAddNode : lAddresses) {\n-        CService service(LookupNumeric(strAddNode, Params().GetDefaultPort(strAddNode)));\n-        AddedNodeInfo addedNode{strAddNode, CService(), false, false};\n+    for (const auto& node_to_add : lAddresses) {\n+        CService service(LookupNumeric(node_to_add.m_node_address, Params().GetDefaultPort(node_to_add.m_node_address)));\n+        AddedNodeInfo addedNode{node_to_add, CService(), /*fConnected=*/false, /*fInbound=*/false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110408410",
      "id" : 1110408410,
      "in_reply_to_id" : 1103105202,
      "line" : 1926,
      "node_id" : "PRRC_kwDOABII585CL3za",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 1926,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 113,
      "pull_request_review_id" : 1304258831,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408410/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T22:40:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110408474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408474"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "tried it, but the CI doesn't like it:  designated initializers are C++20-only?",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:06:38Z",
      "diff_hunk" : "@@ -2523,22 +2525,23 @@ std::vector<CAddress> CConnman::GetAddresses(CNode& requestor, size_t max_addres\n     return cache_entry.m_addrs_response_cache;\n }\n \n-bool CConnman::AddNode(const std::string& strNode)\n+bool CConnman::AddNode(const std::string& strNode, ConnectionType conn_type)\n {\n     LOCK(m_added_nodes_mutex);\n-    for (const std::string& it : m_added_nodes) {\n-        if (strNode == it) return false;\n+    assert(conn_type == ConnectionType::MANUAL || conn_type == ConnectionType::MANUAL_BLOCK_RELAY);\n+    for (const auto& it : m_added_nodes) {\n+        if (strNode == it.m_node_address) return false;\n     }\n \n-    m_added_nodes.push_back(strNode);\n+    m_added_nodes.push_back({strNode, conn_type});",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110408474",
      "id" : 1110408474,
      "in_reply_to_id" : 1103125331,
      "line" : 2556,
      "node_id" : "PRRC_kwDOABII585CL30a",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 2556,
      "original_position" : 119,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 165,
      "pull_request_review_id" : 1304258923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T22:35:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110408583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408583"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-02-17T22:06:52Z",
      "diff_hunk" : "@@ -299,6 +300,25 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\n+    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\n+    if (strCommand == \"remove\" && !request.params[2].isNull()) {\n+        throw JSONRPCError(RPC_INVALID_PARAMS, \"Cannot specify a connection type with 'remove'\");\n+    }\n+    std::string connection_type_name = manual_name;\n+    if (!request.params[2].isNull()) {\n+        connection_type_name = request.params[2].get_str();\n+    }\n+    ConnectionType connection_type;\n+    if (connection_type_name == manual_block_relay_name){\n+        connection_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+    }\n+    else if (connection_type_name == manual_name) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1110408583",
      "id" : 1110408583,
      "in_reply_to_id" : 1103147296,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CL32H",
      "original_commit_id" : "3eb8c42368a6e059b1842cbcec478815d947a341",
      "original_line" : 316,
      "original_position" : 25,
      "original_start_line" : 315,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1304259105,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408583/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T22:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110408583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry for the delay\r\nI addressed the outstanding comments, rebased and pushed an update.\r\n\r\nMajor changes are two scripted-diff commits renaming the function.\r\n`IsOutboundOrBlockRelayConn` to `IsAutomaticOutboundOrBlockRelayConn`\r\nand the connection type\r\n`BLOCK_RELAY` to `AUTOMATIC_BLOCK_RELAY`\r\n\r\n\r\n> If you touch again (to kick the CI.) you might consider also amending [this comment](https://github.com/bitcoin/bitcoin/blob/3eb8c42368a6e059b1842cbcec478815d947a341/src/net_processing.cpp#L2725-L2726) to clarify that that manual-block-relay peers are **not** excluded from the protection, only automatic-block-relay peers are?\r\n\r\nSince the protection only applies to Full Outbound connections (and nothing else), manual block-relay peers are also excluded from it (just like all other manual peers). It just makes most sense naming (automatic) block-relay-only peers here.\r\n\r\n> Not sure if I was clear, just to clarify. If I use -addnode=ip=manual-block-relay in CLI, not putting it in bitcoin.conf, when I shutdown my node, this peer is not gonna be dump into anchors.dat, right?\r\n\r\nyes, that is correct, anchors are only chosen from automatic block-relay-only connections. I think it makes sense not to mix automatic and manual connections that way: \r\nIf the node operator wants to be permanently connected to a given manual connection, they can add this to their permanent config.\r\n",
      "created_at" : "2023-02-17T22:13:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1435335044",
      "id" : 1435335044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585VjXmE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435335044/reactions"
      },
      "updated_at" : "2023-02-17T22:38:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435335044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> As mentioned in the issue #23763, perhaps I'm missing something but this seems somewhat redundant with\r\n> \r\n> * using a VPN, and/or\r\n> * running bitcoind over multiple encrypted networks (Tor, I2P, CJDNS), and/or\r\n> * BIP324 v2 encrypted p2p in the future\r\n\r\nI'm not only thinking about a third party monitoring your connections, but also about about the information you'd give the clearnet outbound peers you connect to.\r\nI think there are good reasons to have a connection to clearnet (getting blocks quickly, eclipse attack resistance), and a way to do that which ensures you don't send your wallet transactions over these connections makes sense to me  \r\n(especially since rebroadcast still has privacy issues).\r\n\r\nFor me, the critical question is still if this opt-in feature will find enough users to justify the added complexity in `net` - I honestly don't know that, and I wouldn't have a problem closing this for now if people think there isn't enough demand for this use case currently.",
      "created_at" : "2023-02-17T22:50:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1435367900",
      "id" : 1435367900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585Vjfnc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435367900/reactions"
      },
      "updated_at" : "2023-02-17T22:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435367900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> For me, the critical question is still if this opt-in feature will find enough users to justify the added complexity in net - I honestly don't know that, and I wouldn't have a problem closing this for now if people think there isn't enough demand for this use case currently.\r\n\r\nif it helps, i found some related issues: (but i donât know this either)\r\n\r\n- thereâs an [issue in raspiblitz](https://github.com/rootzoll/raspiblitz/issues/3329) where they talk about wanting to connect their tor node to clearnet to speed up IBD and and not lose privacy. they ended up using i2p peers.\r\n- thereâs also [https://github.com/bitcoin/bitcoin/issues/19042](https://github.com/bitcoin/bitcoin/issues/19042) and [https://github.com/bitcoin/bitcoin/issues/14692](https://github.com/bitcoin/bitcoin/issues/14692) where they talk about wanting to connect to clearnet peers without relaying own transactions.\r\n\r\nin the very unlikely scenario that everyone likes this connection and all bitcoin nodes on tor connect with clearnet only using this option - that wouldn't be good for the network right? (assuming an average tor user wouldnât want their addresses/transactions relayed to their clearnet peers)",
      "created_at" : "2023-02-22T10:02:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1439737580",
      "id" : 1439737580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585V0Kbs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1439737580/reactions"
      },
      "updated_at" : "2023-02-22T10:02:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1439737580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> in the very unlikely scenario that everyone likes this connection and all bitcoin nodes on tor connect with clearnet only using this option - that wouldn't be good for the network right? (assuming an average tor user wouldnât want their addresses/transactions relayed to their clearnet peers)\r\n\r\nWe'd need enough inbound capacity on clearnet to accomodate the additional manual connections to it, and also some users relaying transactions on both networks, otherwise txns submitted through tor wouldn't make it into clearnet and vice versa. I think that there are many nodes with a lesser need for privacy (e.g. because they don't submit transactions regularly) that don't have the need for something like and would be fine having full connections to both networks.",
      "created_at" : "2023-02-23T21:23:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1442450925",
      "id" : 1442450925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585V-g3t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1442450925/reactions"
      },
      "updated_at" : "2023-02-23T21:23:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1442450925",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123587538"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123587538"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I prefer not having `=manual`, it would add more stuff to the code and I believe it might complicate for the user, it's the default behavior, not sure why someone would want to specify it.",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-03-02T19:05:48Z",
      "diff_hunk" : "@@ -1713,7 +1713,23 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     connOptions.m_msgproc = node.peerman.get();\n     connOptions.nSendBufferMaxSize = 1000 * args.GetIntArg(\"-maxsendbuffer\", DEFAULT_MAXSENDBUFFER);\n     connOptions.nReceiveFloodSize = 1000 * args.GetIntArg(\"-maxreceivebuffer\", DEFAULT_MAXRECEIVEBUFFER);\n-    connOptions.m_added_nodes = args.GetArgs(\"-addnode\");\n+\n+    std::vector<AddedNodeParams> added_nodes;\n+    for (auto added_node : args.GetArgs(\"-addnode\")) {\n+        ConnectionType conn_type = ConnectionType::MANUAL;\n+        const size_t index = added_node.rfind('=');\n+        if (index != std::string::npos) {\n+            const std::string conn_name = added_node.substr(index + 1);\n+            if (conn_name == ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)) {\n+                added_node = added_node.substr(0, index);\n+                conn_type = ConnectionType::MANUAL_BLOCK_RELAY;\n+            } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123587538",
      "id" : 1123587538,
      "in_reply_to_id" : 1071398598,
      "line" : 1741,
      "node_id" : "PRRC_kwDOABII585C-JXS",
      "original_commit_id" : "401f9c57bb0601d07ff78e93cf8e7f3ec58acecf",
      "original_line" : 1741,
      "original_position" : 24,
      "original_start_line" : 1723,
      "path" : "src/init.cpp",
      "position" : 24,
      "pull_request_review_id" : 1322453874,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123587538/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1738,
      "start_side" : "RIGHT",
      "updated_at" : "2023-03-02T19:05:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123587538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123591071"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123591071"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What would be the difference between `resolvedAddress` and `m_node_address`?",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-03-02T19:09:56Z",
      "diff_hunk" : "@@ -123,6 +115,18 @@ struct CSerializedNetMsg {\n     std::string m_type;\n };\n \n+struct AddedNodeParams {\n+    std::string m_node_address;\n+    ConnectionType m_conn_type;\n+};\n+\n+struct AddedNodeInfo {\n+    AddedNodeParams m_params;\n+    CService resolvedAddress;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123591071",
      "id" : 1123591071,
      "line" : 125,
      "node_id" : "PRRC_kwDOABII585C-KOf",
      "original_commit_id" : "a1d6516d0237c5bf62c5d3947d22040146c7efa4",
      "original_line" : 125,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 26,
      "pull_request_review_id" : 1322460373,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123591071/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-02T19:09:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123591071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123596809"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123596809"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: you could create `manual_name` and `manual_block_relay_name` after checking the connection type with \"remove\":\r\n```diff\r\ndiff --git a/src/rpc/net.cpp b/src/rpc/net.cpp\r\nindex 6155af323..9d87d89e3 100644\r\n--- a/src/rpc/net.cpp\r\n+++ b/src/rpc/net.cpp\r\n@@ -304,11 +304,14 @@ static RPCHelpMan addnode()\r\n         throw std::runtime_error(\r\n             self.ToString());\r\n     }\r\n-    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\r\n-    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\r\n+\r\n     if (strCommand == \"remove\" && !request.params[2].isNull()) {\r\n         throw JSONRPCError(RPC_INVALID_PARAMS, \"Cannot specify a connection type with 'remove'\");\r\n     }\r\n+\r\n+    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\r\n+    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\r\n+\r\n     std::string connection_type_name{manual_name};\r\n     if (!request.params[2].isNull()) {\r\n         connection_type_name = request.params[2].get_str();\r\n```",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-03-02T19:16:38Z",
      "diff_hunk" : "@@ -303,6 +304,23 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123596809",
      "id" : 1123596809,
      "line" : 307,
      "node_id" : "PRRC_kwDOABII585C-LoJ",
      "original_commit_id" : "a1d6516d0237c5bf62c5d3947d22040146c7efa4",
      "original_line" : 307,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 12,
      "pull_request_review_id" : 1322469073,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123596809/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-02T19:16:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123596809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123652674"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123652674"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "perhaps there is a way to simplify it:\r\n```diff\r\ndiff --git a/src/rpc/net.cpp b/src/rpc/net.cpp\r\nindex 6155af323..b9e082a63 100644\r\n--- a/src/rpc/net.cpp\r\n+++ b/src/rpc/net.cpp\r\n@@ -304,22 +304,19 @@ static RPCHelpMan addnode()\r\n         throw std::runtime_error(\r\n             self.ToString());\r\n     }\r\n-    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\r\n-    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\r\n+\r\n     if (strCommand == \"remove\" && !request.params[2].isNull()) {\r\n         throw JSONRPCError(RPC_INVALID_PARAMS, \"Cannot specify a connection type with 'remove'\");\r\n     }\r\n-    std::string connection_type_name{manual_name};\r\n+\r\n+    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\r\n+    ConnectionType connection_type{ConnectionType::MANUAL};\r\n     if (!request.params[2].isNull()) {\r\n-        connection_type_name = request.params[2].get_str();\r\n-    }\r\n-    ConnectionType connection_type;\r\n-    if (connection_type_name == manual_block_relay_name) {\r\n-        connection_type = ConnectionType::MANUAL_BLOCK_RELAY;\r\n-    } else if (connection_type_name == manual_name) {\r\n-        connection_type = ConnectionType::MANUAL;\r\n-    }  else {\r\n-        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Unsupported connection type: \" + connection_type_name);\r\n+        const std::string connection_type_name{request.params[2].get_str()};\r\n+        if (connection_type_name == manual_block_relay_name)\r\n+            connection_type = ConnectionType::MANUAL_BLOCK_RELAY;\r\n+        else\r\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Unsupported connection type: \" + connection_type_name);\r\n     }\r\n \r\n     NodeContext& node = EnsureAnyNodeContext(request.context);\r\n```",
      "commit_id" : "b36db717b50de318e22461141f5c0135263beee4",
      "created_at" : "2023-03-02T20:21:02Z",
      "diff_hunk" : "@@ -303,6 +304,23 @@ static RPCHelpMan addnode()\n         throw std::runtime_error(\n             self.ToString());\n     }\n+    const std::string manual_name{ConnectionTypeAsString(ConnectionType::MANUAL)};\n+    const std::string manual_block_relay_name{ConnectionTypeAsString(ConnectionType::MANUAL_BLOCK_RELAY)};\n+    if (strCommand == \"remove\" && !request.params[2].isNull()) {\n+        throw JSONRPCError(RPC_INVALID_PARAMS, \"Cannot specify a connection type with 'remove'\");\n+    }\n+    std::string connection_type_name{manual_name};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#discussion_r1123652674",
      "id" : 1123652674,
      "line" : 312,
      "node_id" : "PRRC_kwDOABII585C-ZRC",
      "original_commit_id" : "a1d6516d0237c5bf62c5d3947d22040146c7efa4",
      "original_line" : 312,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 17,
      "pull_request_review_id" : 1322552081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24170",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123652674/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-02T20:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1123652674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-03-19T13:39:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1475260128",
      "id" : 1475260128,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585X7q7g",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475260128/reactions"
      },
      "updated_at" : "2023-03-19T13:39:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475260128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "b36db717b50de318e22461141f5c0135263beee4 to c13c986: rebased (will address the oustanding review comments soon!)",
      "created_at" : "2023-04-26T11:53:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24170#issuecomment-1523288640",
      "id" : 1523288640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24170",
      "node_id" : "IC_kwDOABII585ay4pA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523288640/reactions"
      },
      "updated_at" : "2023-04-26T11:53:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523288640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   }
]
