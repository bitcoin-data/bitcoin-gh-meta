[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24105#discussion_r788180423"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24105"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788180423"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps it is cleaner to not make this `mutable`, but instead make the places where `ScriptExecutionData` is used non-`const`? That'd make it also clear that it is not safe for concurrent modification.",
      "commit_id" : "4a8fd0af4e6df47252d994ce47e94fc59f5ea4cf",
      "created_at" : "2022-01-19T21:57:22Z",
      "diff_hunk" : "@@ -215,6 +216,9 @@ struct ScriptExecutionData\n     bool m_validation_weight_left_init = false;\n     //! How much validation weight is left (decremented for every successful non-empty signature check).\n     int64_t m_validation_weight_left;\n+\n+    //! The hash of the corresponding output\n+    mutable std::optional<uint256> m_output_hash;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#discussion_r788180423",
      "id" : 788180423,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII584u-q3H",
      "original_commit_id" : "4a8fd0af4e6df47252d994ce47e94fc59f5ea4cf",
      "original_line" : 221,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/script/interpreter.h",
      "position" : 14,
      "pull_request_review_id" : 857407031,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24105",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788180423/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-19T21:57:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788180423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24105#discussion_r788191295"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24105"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788191295"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "i think that seems reasonable, but it is a little bit of a tradeoff because you really ought not to be modifying the fields after creation except in this case, and non-consting it would make that unclear.\r\n\r\ni'd also (ideally) make the m_output_hash retrieved through a getter function rather than inline logic, but I didn't want to make this PR more complex of an interface change.\r\n\r\nmaybe in a followup PR we could do some refactors to make it gotten through a Getter and rename the class to MutableScriptExecutionData? Or break out the Mutable and Immutable part as two separate caches? Also an option to just always pre-cache this, but that violates 'dont pay for what you dont use'",
      "commit_id" : "4a8fd0af4e6df47252d994ce47e94fc59f5ea4cf",
      "created_at" : "2022-01-19T22:15:08Z",
      "diff_hunk" : "@@ -215,6 +216,9 @@ struct ScriptExecutionData\n     bool m_validation_weight_left_init = false;\n     //! How much validation weight is left (decremented for every successful non-empty signature check).\n     int64_t m_validation_weight_left;\n+\n+    //! The hash of the corresponding output\n+    mutable std::optional<uint256> m_output_hash;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#discussion_r788191295",
      "id" : 788191295,
      "in_reply_to_id" : 788180423,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII584u-tg_",
      "original_commit_id" : "4a8fd0af4e6df47252d994ce47e94fc59f5ea4cf",
      "original_line" : 221,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/script/interpreter.h",
      "position" : 14,
      "pull_request_review_id" : 857421908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24105",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788191295/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-19T22:15:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788191295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24105#discussion_r788198006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24105"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788198006"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's a simple struct with some state data. As long as there is no benefit to actually having anything immutable, I don't think there is much of a problem with just making it non-const everywhere. `m_validation_weight_left` is also changed at runtime.",
      "commit_id" : "4a8fd0af4e6df47252d994ce47e94fc59f5ea4cf",
      "created_at" : "2022-01-19T22:26:36Z",
      "diff_hunk" : "@@ -215,6 +216,9 @@ struct ScriptExecutionData\n     bool m_validation_weight_left_init = false;\n     //! How much validation weight is left (decremented for every successful non-empty signature check).\n     int64_t m_validation_weight_left;\n+\n+    //! The hash of the corresponding output\n+    mutable std::optional<uint256> m_output_hash;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#discussion_r788198006",
      "id" : 788198006,
      "in_reply_to_id" : 788180423,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII584u-vJ2",
      "original_commit_id" : "4a8fd0af4e6df47252d994ce47e94fc59f5ea4cf",
      "original_line" : 221,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/script/interpreter.h",
      "position" : 14,
      "pull_request_review_id" : 857430940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24105",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788198006/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-19T22:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/788198006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22793](https://github.com/bitcoin/bitcoin/pull/22793) (Simplify BaseSignatureChecker virtual functions and GenericTransactionSignatureChecker constructors by achow101)\n* [#21702](https://github.com/bitcoin/bitcoin/pull/21702) (Implement BIP-119 Validation (CheckTemplateVerify) by JeremyRubin)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-01-20T07:56:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017206427",
      "id" : 1017206427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848oVab",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017206427/reactions"
      },
      "updated_at" : "2022-01-21T20:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017206427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Benchmarks are showing results consistent with a 0.5% speedup:\r\n\r\n|          bench name           |                                                                      command                                                                      |\r\n|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|\r\n| ibd.local.range.500000.550000 | `bitcoind -dbcache=10000 -debug=coindb -debug=bench -listen=0 -connect=0 -addnode=127.0.0.1:8888 -prune=9999999 -printtoconsole=0 -assumevalid=0` |\r\n\r\n\r\n\r\n#### #24105 vs. $mergebase (absolute)\r\n|                  bench name                   |  x  |           #24105           |        $mergebase         |\r\n|-----------------------------------------------|----:|----------------------------|---------------------------|\r\n| ibd.local.range.500000.550000.total_secs      |   2 | 6004.5920 (Â± 11.7900)      | 6035.6871 (Â± 1.0297)      |\r\n| ibd.local.range.500000.550000.peak_rss_KiB    |   2 | 7234538.0000 (Â± 3322.0000) | 7236830.0000 (Â± 250.0000) |\r\n| ibd.local.range.500000.550000.cpu_kernel_secs |   2 | 357.3100 (Â± 3.3900)        | 359.2450 (Â± 0.8750)       |\r\n| ibd.local.range.500000.550000.cpu_user_secs   |   2 | 36706.6300 (Â± 8.2500)      | 36801.1350 (Â± 10.6050)    |\r\n\r\n\r\n#### #24105 vs. $mergebase (relative)\r\n|                  bench name                   |  x  | #24105 | $mergebase |\r\n|-----------------------------------------------|----:|-------:|-----------:|\r\n| ibd.local.range.500000.550000.total_secs      |   2 |      1 |      1.005 |\r\n| ibd.local.range.500000.550000.peak_rss_KiB    |   2 |      1 |      1.000 |\r\n| ibd.local.range.500000.550000.cpu_kernel_secs |   2 |      1 |      1.005 |\r\n| ibd.local.range.500000.550000.cpu_user_secs   |   2 |      1 |      1.003 |",
      "created_at" : "2022-01-20T15:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017601141",
      "id" : 1017601141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848p1x1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017601141/reactions"
      },
      "updated_at" : "2022-01-20T15:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017601141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK cfa575266bc0198574a82e8e386040e969b05dea",
      "created_at" : "2022-01-20T17:07:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017724970",
      "id" : 1017724970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848qUAq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017724970/reactions"
      },
      "updated_at" : "2022-01-20T17:43:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017724970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> ibd.local.range.500000.550000\r\n\r\nwat?\r\n\r\nHow can this result in a speedup in syncing a part of the chain that has no taproot inputs at all? This code is almost dead during IBD, so shouldn't at all influence IBD time.",
      "created_at" : "2022-01-20T17:24:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017742410",
      "id" : 1017742410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848qYRK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017742410/reactions"
      },
      "updated_at" : "2022-01-20T17:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017742410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If someone wants to write a \"real\" benchmark there is already `src/bench/verify_script.cpp` which can serve as a template.",
      "created_at" : "2022-01-20T18:15:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017785582",
      "id" : 1017785582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848qizu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017785582/reactions"
      },
      "updated_at" : "2022-01-20T18:18:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017785582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke i don't think that's a useful template since what is needed is a taproot transaction to test this.\r\n\r\nI agree that the @jamesob result is suspect for the reason you mentioned.",
      "created_at" : "2022-01-20T19:03:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017829193",
      "id" : 1017829193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848qtdJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017829193/reactions"
      },
      "updated_at" : "2022-01-20T19:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017829193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Jup, with template I meant that all you need to do is create the taproot transaction. Obviously the benchmark doesn't yet bench taproot, since the bench was written before taproot.",
      "created_at" : "2022-01-20T19:09:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017834190",
      "id" : 1017834190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848qurO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017834190/reactions"
      },
      "updated_at" : "2022-01-20T19:09:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017834190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > ibd.local.range.500000.550000\r\n> \r\n> wat?\r\n> \r\n> How can this result in a speedup in syncing a part of the chain that has no taproot inputs at all? This code is almost dead during IBD, so shouldn't at all influence IBD time.\r\n\r\nYeah I just blindly ran \r\n```sh\r\nbitcoinperf bench-pr --num-blocks 50_000 \\\r\n  --run-id checksigadd-optimize \\\r\n  --bitcoind-args='-dbcache=10000 -assumevalid=0' \\\r\n  --run-count 2 24105\r\n```\r\nwhich anyone is capable of doing (provided they're willing to navigate the somewhat labyrinthine `bitcoinperf setup` process).\r\n\r\nI had only cursorily skimmed the change when doing this; the standard deviation of the timing on this branch's IBD is ~0.2%, so there's a decent chance the result is just noise. But it's not like I cooked the benchmark or anything.",
      "created_at" : "2022-01-20T19:34:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017853596",
      "id" : 1017853596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848qzac",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017853596/reactions"
      },
      "updated_at" : "2022-01-20T19:34:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017853596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sometimes even seemingly unrelated code changes can affect performance (e.g. by ordering the functions slightly differently in memory, resulting in different CPU instruction caching or alignment) in small but statistically significant ways.",
      "created_at" : "2022-01-20T20:21:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1017896178",
      "id" : 1017896178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848q9zy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017896178/reactions"
      },
      "updated_at" : "2022-01-20T20:21:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017896178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "review ACK cfa575266bc0198574a82e8e386040e969b05dea",
      "created_at" : "2022-01-22T13:06:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1019253010",
      "id" : 1019253010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848wJES",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019253010/reactions"
      },
      "updated_at" : "2022-01-22T13:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019253010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ready to merge?",
      "created_at" : "2022-01-22T17:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1019321309",
      "id" : 1019321309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848wZvd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019321309/reactions"
      },
      "updated_at" : "2022-01-22T17:50:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019321309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "nit addressed",
      "created_at" : "2022-01-24T00:21:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1019603801",
      "id" : 1019603801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848xetZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019603801/reactions"
      },
      "updated_at" : "2022-01-24T00:21:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1019603801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Conceptually the same optimization works also for bip 143 hashing, so I am wondering if it is worth it to keep the 143/341 symmetry. Though, this will likely make a larger/uglier diff.",
      "created_at" : "2022-01-24T11:35:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1020005287",
      "id" : 1020005287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII5848zAun",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020005287/reactions"
      },
      "updated_at" : "2022-01-24T11:36:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020005287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is good to go as is.\r\n\r\nThe optimization can be added for BIP-143 later, I can draft a follow up PR for that.\r\n\r\nIn any case, it would be separate commits because we want to preserve bisecting.",
      "created_at" : "2022-01-24T19:17:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24105#issuecomment-1020454152",
      "id" : 1020454152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24105",
      "node_id" : "IC_kwDOABII58480uUI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020454152/reactions"
      },
      "updated_at" : "2022-01-24T19:17:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1020454152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
