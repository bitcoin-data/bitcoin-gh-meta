[
   {
      "author_association" : "NONE",
      "body" : "hey @prayank23 please review the PR",
      "created_at" : "2022-01-27T18:34:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1023525508",
      "id" : 1023525508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849AcKE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023525508/reactions"
      },
      "updated_at" : "2022-01-27T18:34:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023525508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793898891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793898891"
         }
      },
      "author_association" : "MEMBER",
      "body" : "FWIW, if you want to allow only svgs you can also replace the first `'-'` with `'svg:-'`. This makes imagemagick check the format and would avoid adding two dependencies (or at least one).",
      "commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "created_at" : "2022-01-27T18:42:15Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if (svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50'):\n+        raise SystemExit(\"Captcha dimentions doesn't satisify\")\n+\n+    # SVG sanitizing\n+    content = bleach.clean(res.content.decode(), tags=['svg', 'path'], attributes={'*': ['path', 'fill', 'height', 'width', 'd']}).encode()\n+    # Allowing only SVG's\n+    if content == b\"\":\n+        raise SystemExit(f\"No captcha found URL {args.captcha}\")\n \n     # Convert SVG image to PPM, and load it\n     try:\n-        rv = subprocess.run([args.imagemagick, '-', '-depth', '8', 'ppm:-'], input=res.content, check=True, capture_output=True)\n+        rv = subprocess.run([args.imagemagick, '-', '-depth', '8', 'ppm:-'], input=content, check=True, capture_output=True)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793898891",
      "id" : 793898891,
      "line" : 142,
      "node_id" : "PRRC_kwDOABII584vUe-L",
      "original_commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "original_line" : 142,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 34,
      "pull_request_review_id" : 865289519,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793898891/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T18:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793898891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793903036"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793903036"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is not correct English, \"Captcha size doesn't match expected 150x50\" maybe",
      "commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "created_at" : "2022-01-27T18:47:58Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if (svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50'):\n+        raise SystemExit(\"Captcha dimentions doesn't satisify\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793903036",
      "id" : 793903036,
      "line" : 132,
      "node_id" : "PRRC_kwDOABII584vUf-8",
      "original_commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "original_line" : 132,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 23,
      "pull_request_review_id" : 865295181,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793903036/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T18:47:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793903036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I think a dependency on `etree` xml is acceptable as it is commonly installed (or maybe even part of Python, i don't know for sure), but would prefer to avoid `bleach`.",
      "created_at" : "2022-01-27T18:50:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1023537657",
      "id" : 1023537657,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849AfH5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023537657/reactions"
      },
      "updated_at" : "2022-01-27T18:50:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023537657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793908222"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793908222"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: no outer `()` needed for Python if",
      "commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "created_at" : "2022-01-27T18:54:54Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if (svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50'):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793908222",
      "id" : 793908222,
      "line" : 131,
      "node_id" : "PRRC_kwDOABII584vUhP-",
      "original_commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "original_line" : 131,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 22,
      "pull_request_review_id" : 865302277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793908222/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-27T18:54:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/793908222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> hey @prayank23 please review the PR\r\n\r\nConcept ACK\r\n\r\nWelcome as a new contributor ð¥ \r\n\r\nAgree about dependency and other things suggested by @laanwj I won't be able to review or test for a few days. Took a break. Hopefully this PR gets merged in a week or I will review and test next week.",
      "created_at" : "2022-01-27T21:49:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1023669195",
      "id" : 1023669195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849A_PL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023669195/reactions"
      },
      "updated_at" : "2022-01-27T21:49:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023669195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r795123958"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795123958"
         }
      },
      "author_association" : "NONE",
      "body" : "yes, okay",
      "commit_id" : "ea643f13c01d0ea966348a53b5bf614d7c22aaf2",
      "created_at" : "2022-01-30T04:22:14Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if (svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50'):\n+        raise SystemExit(\"Captcha dimentions doesn't satisify\")\n+\n+    # SVG sanitizing\n+    content = bleach.clean(res.content.decode(), tags=['svg', 'path'], attributes={'*': ['path', 'fill', 'height', 'width', 'd']}).encode()\n+    # Allowing only SVG's\n+    if content == b\"\":\n+        raise SystemExit(f\"No captcha found URL {args.captcha}\")\n \n     # Convert SVG image to PPM, and load it\n     try:\n-        rv = subprocess.run([args.imagemagick, '-', '-depth', '8', 'ppm:-'], input=res.content, check=True, capture_output=True)\n+        rv = subprocess.run([args.imagemagick, '-', '-depth', '8', 'ppm:-'], input=content, check=True, capture_output=True)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r795123958",
      "id" : 795123958,
      "in_reply_to_id" : 793898891,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vZKD2",
      "original_commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "original_line" : 142,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : null,
      "pull_request_review_id" : 867035577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795123958/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-30T04:22:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795123958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r795124022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795124022"
         }
      },
      "author_association" : "NONE",
      "body" : "Okay, my bad!",
      "commit_id" : "ea643f13c01d0ea966348a53b5bf614d7c22aaf2",
      "created_at" : "2022-01-30T04:23:00Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if (svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50'):\n+        raise SystemExit(\"Captcha dimentions doesn't satisify\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r795124022",
      "id" : 795124022,
      "in_reply_to_id" : 793903036,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vZKE2",
      "original_commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "original_line" : 132,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : null,
      "pull_request_review_id" : 867035604,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795124022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-30T04:23:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795124022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r795124206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795124206"
         }
      },
      "author_association" : "NONE",
      "body" : "okay",
      "commit_id" : "ea643f13c01d0ea966348a53b5bf614d7c22aaf2",
      "created_at" : "2022-01-30T04:25:59Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if (svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50'):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r795124206",
      "id" : 795124206,
      "in_reply_to_id" : 793908222,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vZKHu",
      "original_commit_id" : "11984ddd8e1b37533852b3214141fcacdf691877",
      "original_line" : 131,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : null,
      "pull_request_review_id" : 867035713,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795124206/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-30T04:26:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795124206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">would prefer to avoid `bleach`\r\n\r\nIn order to sanitize html content we need some or the other modules such as html-sanitizer, bs4, lxml.html, xml.html, etc. All these modules are not commonly installed. so I have choosen bleach because its has some good set of options. If you are familiar or heard of any other html content sanitizing module please mention, I will play with it for a while and update it. Thank you.",
      "created_at" : "2022-01-30T04:42:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1025068854",
      "id" : 1025068854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849GU82",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025068854/reactions"
      },
      "updated_at" : "2022-01-30T04:42:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025068854",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "hey @laanwj, I have updated the code and resolved the issues, please have a look.",
      "created_at" : "2022-01-30T04:54:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1025069989",
      "id" : 1025069989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849GVOl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025069989/reactions"
      },
      "updated_at" : "2022-01-30T04:54:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025069989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Just an anecdotal metric: My system has bleach available without any additional dependencies, but not html-sanitizer, bs4, or xml.html. On the other hand, lxml is already installed for KDE's Breeze icons, Inkscape, lv2 (an audio framework used by Audacity), and a few Gentoo development tools.",
      "created_at" : "2022-01-31T03:29:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1025345801",
      "id" : 1025345801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849HYkJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025345801/reactions"
      },
      "updated_at" : "2022-01-31T03:29:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025345801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "1. You could have used a new branch in your fork repo for this pull request as mentioned in https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#contributor-workflow\r\n\r\n2. Still not sure about error message which was corrected based on https://github.com/bitcoin/bitcoin/pull/24180#discussion_r793903036. It looks better but `size` and `dimension` have different meaning.\r\n\r\n> I think a dependency on etree xml is acceptable as it is commonly installed (or maybe even part of Python, i don't know for sure), but would prefer to avoid bleach.\r\n\r\n_laanwj_\r\n\r\n> Just an anecdotal metric: My system has bleach available without any additional dependencies, but not html-sanitizer, bs4, or xml.html. On the other hand, lxml is already installed for KDE's Breeze icons, Inkscape, lv2 (an audio framework used by Audacity), and a few Gentoo development tools.\r\n\r\n_luke-jr_\r\n\r\n3. I had no `bleach` on Fedora : \r\n\r\n```\r\nModuleNotFoundError: No module named 'bleach'\r\n```\r\nNot sure if there are better alternatives or we could sanitize without using it.\r\n\r\n4. L151: `print(f\"Captch from URL {args.captcha}\")` prints this which looks good:\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/152396326-57c3f4af-ee9f-451b-a1a5-9589d7b8d40b.png)\r\n\r\n5. L125 and L126 LGTM although others who understand python better could suggest if it still can be improved:\r\n\r\n```python\r\n\r\n        res.raise_for_status()\r\n    except requests.exceptions.RequestException as e:\r\n    \r\n```\r\n6. L130-132 code for limiting size looks okay. I did not test it yet.\r\n7. L133-138 code to sanitize and only allow svg looks okay. I have not tested it yet.\r\n\r\n",
      "created_at" : "2022-02-03T17:39:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1029236940",
      "id" : 1029236940,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849WOjM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1029236940/reactions"
      },
      "updated_at" : "2022-02-03T17:43:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1029236940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry I could not test this PR today because of below error:\r\n\r\n```\r\n./getcoins.py \r\nUnexpected error when contacting faucet: 502 Server Error: Bad Gateway for url: https://signetfaucet.com/captcha\r\n```\r\n\r\nI have [asked](https://twitter.com/prayankgahlot/status/1489765803947749377) @kallewoof and hoping it gets fixed in next few days so that I can test everything.",
      "created_at" : "2022-02-05T01:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1030480100",
      "id" : 1030480100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849a-Dk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030480100/reactions"
      },
      "updated_at" : "2022-02-05T01:08:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030480100",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@prayank23 It's back up. I shut it down for a few days as it was being swarmed with spammers.",
      "created_at" : "2022-02-05T01:52:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1030494269",
      "id" : 1030494269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849bBg9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030494269/reactions"
      },
      "updated_at" : "2022-02-05T01:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030494269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> but not html-sanitizer, bs4, or xml.html\r\n\r\n`xml.etree` is available in the python standard library. Not any of the other submodules IIRC.\r\nAnd I don't really like to add any dependencies beyond the standard library. I intentially used `ImageMagick` instead of any python specific SVG library.\r\n\r\nI'm a bit skeptical about the need to \"sanitize\" the XML at all, to be honest. It feels like a bit of security theater that doesn't address a specific issue. I'm ok with removing that part and just keeping the size check + ensure SVG format.\r\n\r\nThat said, iterating over an xml tree and keeping only certain elements and attributes doesn't seem rocket science, if we really want that it should be possible with just etree manipulation.",
      "created_at" : "2022-02-06T13:04:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1030828519",
      "id" : 1030828519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII5849cTHn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030828519/reactions"
      },
      "updated_at" : "2022-02-06T13:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1030828519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r801216985"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801216985"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested this part of code by using different url for captcha in getcoins.py:\r\n\r\n```python\r\nDEFAULT_GLOBAL_CAPTCHA = 'https://prayank23.github.io/svg-test/size.svg'\r\n```\r\nand this svg file:\r\n\r\n```xml\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"300\" width=\"100\">\r\n  <text x=\"0\" y=\"15\">Size test</text>\r\n</svg>\r\n```\r\n\r\nWorks as expected:\r\n\r\n```\r\n$ ./getcoins.py \r\n\r\nCaptcha size doesn't match expected dimensions 150x50\r\n```\r\n",
      "commit_id" : "ea643f13c01d0ea966348a53b5bf614d7c22aaf2",
      "created_at" : "2022-02-08T02:28:04Z",
      "diff_hunk" : "@@ -120,22 +122,34 @@ def bitcoin_cli(rpc_command_and_params):\n if args.captcha != '': # Retrieve a captcha\n     try:\n         res = session.get(args.captcha)\n-    except:\n-        print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n-        exit(1)\n+        res.raise_for_status()\n+    except requests.exceptions.RequestException as e:\n+        raise SystemExit(f\"Unexpected error when contacting faucet: {e}\")\n+\n+    # Size limitation\n+    svg = xml.etree.ElementTree.fromstring(res.content)\n+    if svg.attrib.get('width') != '150' or svg.attrib.get('height') != '50':\n+        raise SystemExit(\"Captcha size doesn't match expected dimensions 150x50\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r801216985",
      "id" : 801216985,
      "line" : 132,
      "node_id" : "PRRC_kwDOABII584vwZnZ",
      "original_commit_id" : "ea643f13c01d0ea966348a53b5bf614d7c22aaf2",
      "original_line" : 132,
      "original_position" : 23,
      "original_start_line" : 129,
      "path" : "contrib/signet/getcoins.py",
      "position" : 23,
      "pull_request_review_id" : 875455704,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801216985/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 129,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-08T02:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801216985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hey @laanwj and @prayank23, I have made all the changes to the script, waiting for merge. Thanks",
      "created_at" : "2022-02-12T11:59:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1037181098",
      "id" : 1037181098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII58490iCq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1037181098/reactions"
      },
      "updated_at" : "2022-02-12T11:59:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1037181098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58676502?v=4",
         "events_url" : "https://api.github.com/users/sh15h4nk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sh15h4nk/followers",
         "following_url" : "https://api.github.com/users/sh15h4nk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sh15h4nk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sh15h4nk",
         "id" : 58676502,
         "login" : "sh15h4nk",
         "node_id" : "MDQ6VXNlcjU4Njc2NTAy",
         "organizations_url" : "https://api.github.com/users/sh15h4nk/orgs",
         "received_events_url" : "https://api.github.com/users/sh15h4nk/received_events",
         "repos_url" : "https://api.github.com/users/sh15h4nk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sh15h4nk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sh15h4nk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sh15h4nk"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Hey @laanwj and @prayank23, I have made all the changes to the script, waiting for merge. Thanks\r\n\r\nYou will have to squash commits: https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits\r\n\r\nIf you haven't done this before and want to avoid mistakes, trying squashing a few commits in test repository or other branch could be helpful. Or you could even use [GitHub desktop application](https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/keeping-your-local-repository-in-sync-with-github/syncing-your-branch) for it.",
      "created_at" : "2022-02-13T03:36:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1037727184",
      "id" : 1037727184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII58492nXQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1037727184/reactions"
      },
      "updated_at" : "2022-02-13T03:45:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1037727184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "created_at" : "2022-02-14T08:11:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#issuecomment-1038777817",
      "id" : 1038777817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24180",
      "node_id" : "IC_kwDOABII58496n3Z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1038777817/reactions"
      },
      "updated_at" : "2022-02-14T08:11:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1038777817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r805593673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805593673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nimport defusedxml.ElementTree\r\n```\r\n\r\n\r\nSorry for the late review. I was still going through everything in the code and testing things. Found that `xml.etree.ElementTree.fromstring` is known to be vulnerable to XML attacks. Maybe this can be changed in a follow up PR.",
      "commit_id" : "7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "created_at" : "2022-02-14T08:19:25Z",
      "diff_hunk" : "@@ -8,6 +8,7 @@\n import requests\n import subprocess\n import sys\n+import xml.etree.ElementTree",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r805593673",
      "id" : 805593673,
      "line" : 11,
      "node_id" : "PRRC_kwDOABII584wBGJJ",
      "original_commit_id" : "7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "original_line" : 11,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 4,
      "pull_request_review_id" : 881281368,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805593673/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T08:19:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805593673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r805628567"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805628567"
         }
      },
      "author_association" : "MEMBER",
      "body" : "*If* there is a specific problem with `xml.etree` it needs to be addressed. But without introducing a third-party dependency, please. Adding `defusedxml` is not acceptable here.",
      "commit_id" : "7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "created_at" : "2022-02-14T09:03:55Z",
      "diff_hunk" : "@@ -8,6 +8,7 @@\n import requests\n import subprocess\n import sys\n+import xml.etree.ElementTree",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r805628567",
      "id" : 805628567,
      "in_reply_to_id" : 805593673,
      "line" : 11,
      "node_id" : "PRRC_kwDOABII584wBOqX",
      "original_commit_id" : "7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "original_line" : 11,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 4,
      "pull_request_review_id" : 881329689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805628567/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T09:03:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805628567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r808551746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808551746"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I will try fixing it without adding dependency.\r\n\r\nDetails: https://deepsource.io/gh/prayank23/bitcoin/run/61a5e60f-9376-4fd4-8a65-3b76190a56af/python/BAN-B314\r\n\r\nI found the issue using deepsource, it's really helpful for python but they don't support C++ yet. Will be helpful if some developers could upvote/share this: https://deepsource.canny.io/analyzer-requests/p/c-support-2",
      "commit_id" : "7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "created_at" : "2022-02-16T23:52:19Z",
      "diff_hunk" : "@@ -8,6 +8,7 @@\n import requests\n import subprocess\n import sys\n+import xml.etree.ElementTree",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24180#discussion_r808551746",
      "id" : 808551746,
      "in_reply_to_id" : 805593673,
      "line" : 11,
      "node_id" : "PRRC_kwDOABII584wMYVC",
      "original_commit_id" : "7c7dbe43983ea8408ece8e483320ec55083d6c09",
      "original_line" : 11,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 4,
      "pull_request_review_id" : 885277468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24180",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808551746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-16T23:52:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808551746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   }
]
