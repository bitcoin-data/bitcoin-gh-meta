[
   {
      "author_association" : "MEMBER",
      "body" : "Another one, this time `wallet_send.py --descriptors ` and line 559 instead of 332\r\n\r\nhttps://cirrus-ci.com/task/5115109138759680\r\n\r\n```\r\n2022-01-26T10:42:21.513000Z TestFramework (ERROR): Assertion failed \r\nTraceback (most recent call last):\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 132, in main\r\n    self.run_test()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/wallet_send.py\", line 559, in run_test\r\n    assert_fee_amount(testres[\"fees\"][\"base\"], testres[\"vsize\"], Decimal(0.0001))\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 45, in assert_fee_amount\r\n    raise AssertionError(\"Fee of %s BTC too high! (Should be %s BTC)\" % (str(fee), str(target_fee)))\r\nAssertionError: Fee of 0.00003160 BTC too high! (Should be 0.00003130 BTC)\r\n```",
      "created_at" : "2022-01-26T11:07:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1022095853",
      "id" : 1022095853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII58486_Ht",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022095853/reactions"
      },
      "updated_at" : "2022-01-26T11:09:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022095853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm seeing it as well, I think: https://github.com/bitcoin/bitcoin/runs/4969391918 (https://cirrus-ci.com/task/5815596024594432?logs=ci#L4509)",
      "created_at" : "2022-01-27T17:24:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1023465179",
      "id" : 1023465179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII5849ANbb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023465179/reactions"
      },
      "updated_at" : "2022-01-27T17:24:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023465179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonatack I would like to work on this. Can I?",
      "created_at" : "2022-01-27T21:36:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1023661282",
      "id" : 1023661282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII5849A9Ti",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023661282/reactions"
      },
      "updated_at" : "2022-01-27T21:36:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023661282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73042500?v=4",
         "events_url" : "https://api.github.com/users/YashPolu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/YashPolu/followers",
         "following_url" : "https://api.github.com/users/YashPolu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/YashPolu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/YashPolu",
         "id" : 73042500,
         "login" : "YashPolu",
         "node_id" : "MDQ6VXNlcjczMDQyNTAw",
         "organizations_url" : "https://api.github.com/users/YashPolu/orgs",
         "received_events_url" : "https://api.github.com/users/YashPolu/received_events",
         "repos_url" : "https://api.github.com/users/YashPolu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/YashPolu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/YashPolu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/YashPolu"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@YashPolu yes, of course, a fix would be great.",
      "created_at" : "2022-01-27T21:43:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1023665573",
      "id" : 1023665573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII5849A-Wl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023665573/reactions"
      },
      "updated_at" : "2022-01-27T21:43:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023665573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonatack great thank you so much, any suggestions on how to approach this problem",
      "created_at" : "2022-01-27T21:57:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1023674262",
      "id" : 1023674262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII5849BAeW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023674262/reactions"
      },
      "updated_at" : "2022-01-27T21:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023674262",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73042500?v=4",
         "events_url" : "https://api.github.com/users/YashPolu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/YashPolu/followers",
         "following_url" : "https://api.github.com/users/YashPolu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/YashPolu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/YashPolu",
         "id" : 73042500,
         "login" : "YashPolu",
         "node_id" : "MDQ6VXNlcjczMDQyNTAw",
         "organizations_url" : "https://api.github.com/users/YashPolu/orgs",
         "received_events_url" : "https://api.github.com/users/YashPolu/received_events",
         "repos_url" : "https://api.github.com/users/YashPolu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/YashPolu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/YashPolu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/YashPolu"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "See #24239 for a fix for the first failure in `wallet_send.py --legacy-wallet` line 332.\r\n\r\nThe other failures in `wallet_send.py --descriptors`  line 559 unfortunately cannot be explained by this: Looking at the numbers, it seems that for some reason the actual tx size deviates by 3 bytes from the one calculated by the wallet (only 2 bytes are tolerated), but I have no idea why.",
      "created_at" : "2022-02-02T17:15:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1028165723",
      "id" : 1028165723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII5849SJBb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028165723/reactions"
      },
      "updated_at" : "2022-02-02T17:15:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028165723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What is the status of this? Seems like 1 of the 2 issues is fixed, but the other is intermittent, and hasn't been seen again. Does this issue still need to be one the 23.0 milestone?",
      "created_at" : "2022-02-22T10:21:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1047642276",
      "id" : 1047642276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-ccCk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047642276/reactions"
      },
      "updated_at" : "2022-02-22T10:21:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047642276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I am still running into this issue daily.\r\n\r\nhttps://cirrus-ci.com/task/6564823138828288?logs=ci#L3673",
      "created_at" : "2022-02-22T11:08:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1047683948",
      "id" : 1047683948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-cmNs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047683948/reactions"
      },
      "updated_at" : "2022-02-22T11:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047683948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seeing it at line 560 now:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/8add59d77dd621be57059229f378822e4b707318/test/functional/wallet_send.py#L543-L560\r\n\r\nMaybe the `input_weight` calculation is wrong? Or perhaps too pessimistic, triggering the upper bound in the assert.\r\n\r\nThe `test_send()` function picks a new destination address every time its called, which means we can't predict the length of the ECDSA signature(s) in advance. And this particular test uses multiple inputs. So we should probably increase the tolerance, or use a Taproot wallet so the signature length is fixed.",
      "created_at" : "2022-02-22T12:21:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1047741633",
      "id" : 1047741633,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-c0TB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047741633/reactions"
      },
      "updated_at" : "2022-02-22T12:36:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047741633",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "After consulting with @achow101 I'm removing this from the 23.0 milestone. This isn't a blocker, and is a test-only problem.",
      "created_at" : "2022-03-01T13:47:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1055459313",
      "id" : 1055459313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-6Qfx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055459313/reactions"
      },
      "updated_at" : "2022-03-01T13:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055459313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ehh? This means the tests won't pass on the release branch. This will be flagging backports and users will be running into issues. But I guess no one is running the test outside the CI?\r\n\r\nI presume that this is caused by the \"rounding up\" thing. So just increasing the range by 1 byte for now might fix this?",
      "created_at" : "2022-03-01T14:06:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1055478301",
      "id" : 1055478301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-6VId",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055478301/reactions"
      },
      "updated_at" : "2022-03-01T14:06:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055478301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe the `input_weight` calculation is wrong? Or perhaps too pessimistic, triggering the upper bound in the assert.\r\n> \r\n> The `test_send()` function picks a new destination address every time its called, which means we can't predict the length of the ECDSA signature(s) in advance. And this particular test uses multiple inputs. So we should probably increase the tolerance, or use a Taproot wallet so the signature length is fixed.\r\n\r\nI believe this is the case. I think the `input_weight` calculation is wrong which is putting it at the upper bound of the assert. Then we are occasionally using a signature that is one byte shorter than what the estimator uses, so the final transaction ends up 3 bytes smaller than estimated, which is outside of the `assert_approx` bounds.\r\n\r\nI will have open a PR fixing the calculation.",
      "created_at" : "2022-03-01T14:08:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1055481448",
      "id" : 1055481448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-6V5o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055481448/reactions"
      },
      "updated_at" : "2022-03-01T14:08:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055481448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This was my fix:\r\n\r\n```diff\r\ndiff --git a/test/functional/test_framework/util.py b/test/functional/test_framework/util.py\r\nindex 210025104e..82a4967e7e 100644\r\n--- a/test/functional/test_framework/util.py\r\n+++ b/test/functional/test_framework/util.py\r\n@@ -40,8 +40,8 @@ def assert_fee_amount(fee, tx_size, feerate_BTC_kvB):\r\n     target_fee = get_fee(tx_size, feerate_BTC_kvB)\r\n     if fee < target_fee:\r\n         raise AssertionError(\"Fee of %s BTC too low! (Should be %s BTC)\" % (str(fee), str(target_fee)))\r\n-    # allow the wallet's estimation to be at most 2 bytes off\r\n-    high_fee = get_fee(tx_size + 2, feerate_BTC_kvB)\r\n+    # allow the wallet's estimation to be at most 3 bytes off\r\n+    high_fee = get_fee(tx_size + 3, feerate_BTC_kvB)\r\n     if fee > high_fee:\r\n         raise AssertionError(\"Fee of %s BTC too high! (Should be %s BTC)\" % (str(fee), str(target_fee)))\r\n \r\n",
      "created_at" : "2022-03-01T14:09:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1055483242",
      "id" : 1055483242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-6WVq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055483242/reactions"
      },
      "updated_at" : "2022-03-01T14:09:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055483242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "#24454 should fix this.",
      "created_at" : "2022-03-01T14:21:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1055496271",
      "id" : 1055496271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII584-6ZhP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055496271/reactions"
      },
      "updated_at" : "2022-03-01T14:21:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055496271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Keep seeing this, even several times today like https://cirrus-ci.com/task/5823757662027776. ",
      "created_at" : "2022-04-12T16:47:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1096961601",
      "id" : 1096961601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII585BYk5B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1096961601/reactions"
      },
      "updated_at" : "2022-04-12T16:47:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1096961601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Still seeing this fail in CI: https://cirrus-ci.com/task/4565158969212928",
      "created_at" : "2022-04-21T16:40:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24151#issuecomment-1105454403",
      "id" : 1105454403,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24151",
      "node_id" : "IC_kwDOABII585B4-VD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1105454403/reactions"
      },
      "updated_at" : "2022-04-21T16:40:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1105454403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
