[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "What if you replace `127.0.0.1 mynode` with `127.0.0.1 mynode.local` in /etc/hosts and pass -torcontrol=mynode.local:9051 as an argument?",
      "created_at" : "2021-06-13T20:22:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-860265309",
      "id" : 860265309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDI2NTMwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-13T20:22:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860265309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Still get the same error\r\n```\r\n2021-06-13T20:35:54Z tor: Error parsing socket address mynode.local:9051\r\n2021-06-13T20:35:54Z tor: Initiating connection to Tor control port mynode.local:9051 failed\r\n```",
      "created_at" : "2021-06-13T20:37:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-860267098",
      "id" : 860267098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDI2NzA5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-13T20:37:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860267098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/777143?v=4",
         "events_url" : "https://api.github.com/users/jrawsthorne/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrawsthorne/followers",
         "following_url" : "https://api.github.com/users/jrawsthorne/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrawsthorne/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrawsthorne",
         "id" : 777143,
         "login" : "jrawsthorne",
         "node_id" : "MDQ6VXNlcjc3NzE0Mw==",
         "organizations_url" : "https://api.github.com/users/jrawsthorne/orgs",
         "received_events_url" : "https://api.github.com/users/jrawsthorne/received_events",
         "repos_url" : "https://api.github.com/users/jrawsthorne/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrawsthorne/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrawsthorne/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrawsthorne"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It works for -proxy. Looks like it calls Lookup() first to resolve the hostname\r\nhttps://github.com/bitcoin/bitcoin/blob/d75a1df6178aabf6f19271786e48bc5d57eddb54/src/init.cpp#L1218-L1226\r\n\r\nFor -torcontrol it passes the hostname straight through\r\nhttps://github.com/bitcoin/bitcoin/blob/d75a1df6178aabf6f19271786e48bc5d57eddb54/src/torcontrol.cpp#L579-L584",
      "created_at" : "2021-06-13T20:51:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-860268554",
      "id" : 860268554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDI2ODU1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-13T20:51:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860268554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/777143?v=4",
         "events_url" : "https://api.github.com/users/jrawsthorne/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrawsthorne/followers",
         "following_url" : "https://api.github.com/users/jrawsthorne/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrawsthorne/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrawsthorne",
         "id" : 777143,
         "login" : "jrawsthorne",
         "node_id" : "MDQ6VXNlcjc3NzE0Mw==",
         "organizations_url" : "https://api.github.com/users/jrawsthorne/orgs",
         "received_events_url" : "https://api.github.com/users/jrawsthorne/received_events",
         "repos_url" : "https://api.github.com/users/jrawsthorne/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrawsthorne/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrawsthorne/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrawsthorne"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> It works for -proxy. Looks like it calls Lookup() first to resolve the hostname. For -torcontrol it passes the hostname straight through\r\n\r\nYes we can try using lookup for torcontrol as well. However I noticed a weird thing: hostname works in Ubuntu but fails in Fedora for `proxy`.\r\n\r\n```\r\nproxy=localhost:9050\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/121824358-5581e100-ccc9-11eb-8347-f1ea500e77b9.png)\r\n\r\n\r\n\r\n\r\n",
      "created_at" : "2021-06-13T23:02:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-860282127",
      "id" : 860282127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDI4MjEyNw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860282127/reactions"
      },
      "updated_at" : "2021-06-13T23:02:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860282127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=4",
         "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ghost/followers",
         "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ghost",
         "id" : 10137,
         "login" : "ghost",
         "node_id" : "MDQ6VXNlcjEwMTM3",
         "organizations_url" : "https://api.github.com/users/ghost/orgs",
         "received_events_url" : "https://api.github.com/users/ghost/received_events",
         "repos_url" : "https://api.github.com/users/ghost/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ghost"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Maybe I need to remove `::1` from hosts file. Ubuntu has a different hosts file(default)\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/121824523-6aab3f80-ccca-11eb-967f-b6aa558bec81.png)\r\n",
      "created_at" : "2021-06-13T23:04:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-860282428",
      "id" : 860282428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDI4MjQyOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860282428/reactions"
      },
      "updated_at" : "2021-06-13T23:09:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860282428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=4",
         "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ghost/followers",
         "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ghost",
         "id" : 10137,
         "login" : "ghost",
         "node_id" : "MDQ6VXNlcjEwMTM3",
         "organizations_url" : "https://api.github.com/users/ghost/orgs",
         "received_events_url" : "https://api.github.com/users/ghost/received_events",
         "repos_url" : "https://api.github.com/users/ghost/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ghost"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I still have this problem in 22.0.\r\nTor runs in a docker container and also bitcoind in a separete container(both bridged).\r\n`proxy=\"host.docker.internal:9050\"` resolves fine to the docker host `192.168.1.11:9050`\r\nbut \r\n`torcontrol=host.docker.internal:9051` fails with \r\n```\r\n2022-04-07T06:26:53Z torcontrol thread start\r\n2022-04-07T06:26:53Z tor: Error parsing socket address host.docker.internal:9051\r\n2022-04-07T06:26:53Z tor: Initiating connection to Tor control port host.docker.internal:9051 failed\r\n2022-04-07T06:26:53Z torcontrol thread exit\r\n```\r\nWhat can I do here when both Tor and bitcoind run in containers?",
      "created_at" : "2022-04-07T07:05:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-1091154225",
      "id" : 1091154225,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "IC_kwDOABII585BCbEx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1091154225/reactions"
      },
      "updated_at" : "2022-04-07T07:05:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1091154225",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4497675?v=4",
         "events_url" : "https://api.github.com/users/juxeii/events{/privacy}",
         "followers_url" : "https://api.github.com/users/juxeii/followers",
         "following_url" : "https://api.github.com/users/juxeii/following{/other_user}",
         "gists_url" : "https://api.github.com/users/juxeii/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/juxeii",
         "id" : 4497675,
         "login" : "juxeii",
         "node_id" : "MDQ6VXNlcjQ0OTc2NzU=",
         "organizations_url" : "https://api.github.com/users/juxeii/orgs",
         "received_events_url" : "https://api.github.com/users/juxeii/received_events",
         "repos_url" : "https://api.github.com/users/juxeii/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/juxeii/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/juxeii/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/juxeii"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I still have this problem in 22.0. Tor runs in a docker container and also bitcoind in a separete container(both bridged). `proxy=\"host.docker.internal:9050\"` resolves fine to the docker host `192.168.1.11:9050` but `torcontrol=host.docker.internal:9051` fails with\r\n> \r\n> ```\r\n> 2022-04-07T06:26:53Z torcontrol thread start\r\n> 2022-04-07T06:26:53Z tor: Error parsing socket address host.docker.internal:9051\r\n> 2022-04-07T06:26:53Z tor: Initiating connection to Tor control port host.docker.internal:9051 failed\r\n> 2022-04-07T06:26:53Z torcontrol thread exit\r\n> ```\r\n> \r\n> What can I do here when both Tor and bitcoind run in containers?\r\n\r\n@juxeii were you able to resolve this? I'm running the same setup as you. ",
      "created_at" : "2022-08-13T19:26:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-1214210906",
      "id" : 1214210906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "IC_kwDOABII585IX2Na",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214210906/reactions"
      },
      "updated_at" : "2022-08-13T19:26:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214210906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/28638529?v=4",
         "events_url" : "https://api.github.com/users/caheredia/events{/privacy}",
         "followers_url" : "https://api.github.com/users/caheredia/followers",
         "following_url" : "https://api.github.com/users/caheredia/following{/other_user}",
         "gists_url" : "https://api.github.com/users/caheredia/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/caheredia",
         "id" : 28638529,
         "login" : "caheredia",
         "node_id" : "MDQ6VXNlcjI4NjM4NTI5",
         "organizations_url" : "https://api.github.com/users/caheredia/orgs",
         "received_events_url" : "https://api.github.com/users/caheredia/received_events",
         "repos_url" : "https://api.github.com/users/caheredia/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/caheredia/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/caheredia/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/caheredia"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> \r\n\r\n@juxeii nevermind. I fixed by assigning fixed IPs to tor and bitcoind, using this example https://forums.docker.com/t/static-ip-on-docker-containers/110412/3\r\n",
      "created_at" : "2022-08-13T19:57:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22236#issuecomment-1214214443",
      "id" : 1214214443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22236",
      "node_id" : "IC_kwDOABII585IX3Er",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214214443/reactions"
      },
      "updated_at" : "2022-08-13T19:57:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214214443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/28638529?v=4",
         "events_url" : "https://api.github.com/users/caheredia/events{/privacy}",
         "followers_url" : "https://api.github.com/users/caheredia/followers",
         "following_url" : "https://api.github.com/users/caheredia/following{/other_user}",
         "gists_url" : "https://api.github.com/users/caheredia/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/caheredia",
         "id" : 28638529,
         "login" : "caheredia",
         "node_id" : "MDQ6VXNlcjI4NjM4NTI5",
         "organizations_url" : "https://api.github.com/users/caheredia/orgs",
         "received_events_url" : "https://api.github.com/users/caheredia/received_events",
         "repos_url" : "https://api.github.com/users/caheredia/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/caheredia/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/caheredia/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/caheredia"
      }
   }
]
