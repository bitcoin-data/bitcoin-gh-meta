[
   {
      "author_association" : "MEMBER",
      "body" : "* `exp` is used in `CRollingBloomFilter::CRollingBloomFilter` (in our code)\r\n* `fcntl64` has a data reference, it's not ever called in the code (`objdump -d bitcoin-qt|grep fcntl64@plt` shows nothing)\r\n```\r\n$ objdump -R bitcoin-qt|grep fcntl64                                                            \r\n00000000022b25d0 R_X86_64_64       fcntl64@GLIBC_2.28\r\n$ gdb bitcoin-qt.dbg\r\n(gdb) info symbol 0x00000000022b25d0\r\naSyscall + 176 in section .data\r\n```\r\n`aSyscall` appears to come from the sqlite dependency\r\n* `getentropy` is used in `QRandomGenerator::SystemGenerator::generate` (inside qt)\r\n* `getrandom` is used in one place: `arc4_stir at evutil_rand.c:?`  (libevent dependency)\r\n* `log` is used in various places throughout the code (mainly for log2_work computation for debug)\r\n* `pow` is used in *many* places in our code, also in qt\r\n* `renameat` is used in `QFileSystemEngine::renameFile` (inside qt)\r\n* `statx` is used in three places (`QFileSystemMetaData` inside qt)\r\n",
      "created_at" : "2021-06-14T19:21:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-860932169",
      "id" : 860932169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDkzMjE2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-14T19:24:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860932169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is there a reference document that explains what the offset is? I found a doc that mentioned it, but my reading of that also came to the original conclusion that you made.",
      "created_at" : "2021-06-14T20:58:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-860990766",
      "id" : 860990766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDk5MDc2Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-14T20:58:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860990766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is there a reference document that explains what the offset is? \r\n\r\nI couldn't find anything. But this matches the `objdump` output, and what the linker itself seems to do, which seems kind of important for a symbol check.\r\n\r\nAll the other offsets (`vn_next`, `vna_next`) are relative to the referring record, so it is at least consistent.",
      "created_at" : "2021-06-15T06:58:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-861232873",
      "id" : 861232873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MTIzMjg3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-15T06:58:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861232873",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Found it:\r\n\r\n> vn_aux\r\n>\r\n>    The byte offset, from the start of this Elf32_Verneed entry, to the Elf32_Vernaux array of version definitions that are required from the associated file dependency. At least one version dependency must exist. Additional version dependencies can be present, the number being indicated by the vn_cnt value.\r\n\r\nSource: [Oracle](https://docs.oracle.com/cd/E19120-01/open.solaris/819-0690/chapter6-61174/index.html), of all placesâ¦",
      "created_at" : "2021-06-17T17:05:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-863410818",
      "id" : 863410818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MzQxMDgxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-17T17:05:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863410818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Need more time to reason about the last commit to final ACK.\r\n\r\nFWW, the last commit is a continuation of #17538 from 2019, which bumped the minimum glibc to 2.17. See also your comment here you were rightly confused: https://github.com/bitcoin/bitcoin/pull/17538#issuecomment-674555826\r\n\r\nMaybe it would be better to rewrite the code so that the minimum GLIBC version isn't split over two places?",
      "created_at" : "2021-06-18T11:16:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-863963478",
      "id" : 863963478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2Mzk2MzQ3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-18T11:22:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863963478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe it would be better to rewrite the code so that the minimum GLIBC version isn't split over two places?\r\n\r\nOkay, pushed a new last commit that does this. Instead of hardcoding a separate table for GLIBC, it optionally allows entries in `MAX_VERSIONS` to be a per-architecture dictionary. I hope this is clearer.\r\n",
      "created_at" : "2021-06-18T11:27:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-863969387",
      "id" : 863969387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2Mzk2OTM4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-18T11:27:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863969387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This unfortunately brings to light some symbols that have been introduced since and weren't caught (from a gitian compile of master):\r\n\r\nOn master, with applied #22281, #22287 and this PR:\r\n```\r\nChecking glibc back compat...\r\nbitcoind: symbol getrandom from unsupported version GLIBC_2.25\r\nbitcoind: failed IMPORTED_SYMBOLS\r\nbitcoin-cli: symbol getrandom from unsupported version GLIBC_2.25\r\nbitcoin-cli: failed IMPORTED_SYMBOLS\r\ntest/test_bitcoin: symbol getrandom from unsupported version GLIBC_2.25\r\ntest/test_bitcoin: failed IMPORTED_SYMBOLS\r\nqt/bitcoin-qt: symbol statx from unsupported version GLIBC_2.28\r\nqt/bitcoin-qt: symbol getrandom from unsupported version GLIBC_2.25\r\nqt/bitcoin-qt: symbol renameat2 from unsupported version GLIBC_2.28\r\nqt/bitcoin-qt: symbol getentropy from unsupported version GLIBC_2.25\r\nqt/bitcoin-qt: failed IMPORTED_SYMBOLS\r\n```\r\n\r\nFor `statx` and `renameat2` I opened a dedicated #22280.",
      "created_at" : "2021-06-20T00:46:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-864482114",
      "id" : 864482114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDQ4MjExNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-22T13:57:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864482114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj \r\n>     * `getentropy` is used in `QRandomGenerator::SystemGenerator::generate` (inside qt)\r\n> \r\n>     * `getrandom` is used in one place: `arc4_stir at evutil_rand.c:?`  (libevent dependency)\r\n\r\nRemoved in #22318.",
      "created_at" : "2021-06-23T02:11:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-866466937",
      "id" : 866466937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NjQ2NjkzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-23T02:11:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866466937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj \r\n> * `renameat` is used in `QFileSystemEngine::renameFile` (inside qt)\r\n> \r\n> * `statx` is used in three places (`QFileSystemMetaData` inside qt)\r\n\r\nRemoved in #22321.",
      "created_at" : "2021-06-23T08:04:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-866622838",
      "id" : 866622838,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NjYyMjgzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-23T08:04:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866622838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "With #22281, #22287/#22305, #22318 and #22321 [combined](https://github.com/hebasto/bitcoin/commits/210623-glibc) the `symbol-check.py` passes successfully.",
      "created_at" : "2021-06-23T08:09:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22244#issuecomment-866626371",
      "id" : 866626371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22244",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NjYyNjM3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-23T08:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866626371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
