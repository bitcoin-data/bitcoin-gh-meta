[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "cc @sipa ",
      "created_at" : "2021-06-10T12:26:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-858576981",
      "id" : 858576981,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1ODU3Njk4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-10T12:26:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858576981",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Would be good to get this in 22.0.",
      "created_at" : "2021-06-10T12:28:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-858578456",
      "id" : 858578456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1ODU3ODQ1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-10T12:28:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/858578456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`ba45f02708..823b85e158`: append tests to ensure the behavior\r\n\r\n> More test coverage may be good.\r\n\r\nHere it is! :)",
      "created_at" : "2021-06-11T13:57:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-859600724",
      "id" : 859600724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1OTYwMDcyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-11T13:57:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/859600724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650065023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650065023"
         }
      },
      "author_association" : "MEMBER",
      "body" : "drive-by nit, f-strings for string interpolation\r\n\r\nlinter needs appeasing for \"test/functional/p2p_addrv2_relay.py:19:1: F401 'test_framework.util.assert_equal' imported but unused\"",
      "commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "created_at" : "2021-06-11T15:21:20Z",
      "diff_hunk" : "@@ -18,12 +18,19 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import assert_equal\n \n+I2P_ADDR = \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\"\n+\n ADDRS = []\n for i in range(10):\n     addr = CAddress()\n     addr.time = int(time.time()) + i\n     addr.nServices = NODE_NETWORK | NODE_WITNESS\n-    addr.ip = \"123.123.123.{}\".format(i % 256)\n+    # Add one I2P address at an arbitrary position.\n+    if i == 5:\n+        addr.net = addr.NET_I2P\n+        addr.ip = I2P_ADDR\n+    else:\n+        addr.ip = \"123.123.123.{}\".format(i % 256)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650065023",
      "id" : 650065023,
      "line" : 33,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDA2NTAyMw==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 33,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addrv2_relay.py",
      "position" : 17,
      "pull_request_review_id" : 681950693,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T15:23:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650065023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650065508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650065508"
         }
      },
      "author_association" : "MEMBER",
      "body" : "will review in any case very shortly",
      "commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "created_at" : "2021-06-11T15:22:01Z",
      "diff_hunk" : "@@ -18,12 +18,19 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import assert_equal\n \n+I2P_ADDR = \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\"\n+\n ADDRS = []\n for i in range(10):\n     addr = CAddress()\n     addr.time = int(time.time()) + i\n     addr.nServices = NODE_NETWORK | NODE_WITNESS\n-    addr.ip = \"123.123.123.{}\".format(i % 256)\n+    # Add one I2P address at an arbitrary position.\n+    if i == 5:\n+        addr.net = addr.NET_I2P\n+        addr.ip = I2P_ADDR\n+    else:\n+        addr.ip = \"123.123.123.{}\".format(i % 256)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650065508",
      "id" : 650065508,
      "in_reply_to_id" : 650065023,
      "line" : 33,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDA2NTUwOA==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 33,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addrv2_relay.py",
      "position" : 17,
      "pull_request_review_id" : 681951402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T15:22:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650065508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650065961"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650065961"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, sort",
      "commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "created_at" : "2021-06-11T15:22:43Z",
      "diff_hunk" : "@@ -18,6 +18,7 @@\n Classes use __slots__ to ensure extraneous attributes aren't accidentally added\n by tests, compromising their intended effect.\n \"\"\"\n+from base64 import b32encode, b32decode",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650065961",
      "id" : 650065961,
      "line" : 21,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDA2NTk2MQ==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 21,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/messages.py",
      "position" : 4,
      "pull_request_review_id" : 681952035,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T15:22:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650065961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650128664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650128664"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(maybe) add an assert independent of the logging to back up the comment in lines 71-72, if you think it is useful\r\n```diff\r\n         assert addr_receiver.addrv2_received_and_checked\r\n+        assert_equal(len(self.nodes[0].getnodeaddresses(count=0, network=\"i2p\")), 0)\r\n```\r\n",
      "commit_id" : "7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-06-11T16:43:19Z",
      "diff_hunk" : "@@ -64,9 +68,11 @@ def run_test(self):\n         addr_receiver = self.nodes[0].add_p2p_connection(AddrReceiver())\n         msg.addrs = ADDRS\n         with self.nodes[0].assert_debug_log([\n-                'Added 10 addresses from 127.0.0.1: 0 tried',\n-                'received: addrv2 (131 bytes) peer=0',\n-                'sending addrv2 (131 bytes) peer=1',\n+                # The I2P address is not added to node's own addrman because it has no\n+                # I2P reachability (thus 10 - 1 = 9).\n+                'Added 9 addresses from 127.0.0.1: 0 tried',\n+                'received: addrv2 (159 bytes) peer=0',\n+                'sending addrv2 (159 bytes) peer=1',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650128664",
      "id" : 650128664,
      "line" : 75,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDEyODY2NA==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 75,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addrv2_relay.py",
      "position" : 46,
      "pull_request_review_id" : 682035963,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T16:51:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650128664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`823b85e158...7593b06bd1`: address review suggestions and pet the linter",
      "created_at" : "2021-06-11T17:20:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-859728589",
      "id" : 859728589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1OTcyODU4OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-11T17:20:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/859728589",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650151385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650151385"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added.",
      "commit_id" : "7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-06-11T17:20:36Z",
      "diff_hunk" : "@@ -64,9 +68,11 @@ def run_test(self):\n         addr_receiver = self.nodes[0].add_p2p_connection(AddrReceiver())\n         msg.addrs = ADDRS\n         with self.nodes[0].assert_debug_log([\n-                'Added 10 addresses from 127.0.0.1: 0 tried',\n-                'received: addrv2 (131 bytes) peer=0',\n-                'sending addrv2 (131 bytes) peer=1',\n+                # The I2P address is not added to node's own addrman because it has no\n+                # I2P reachability (thus 10 - 1 = 9).\n+                'Added 9 addresses from 127.0.0.1: 0 tried',\n+                'received: addrv2 (159 bytes) peer=0',\n+                'sending addrv2 (159 bytes) peer=1',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650151385",
      "id" : 650151385,
      "in_reply_to_id" : 650128664,
      "line" : 75,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDE1MTM4NQ==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 75,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addrv2_relay.py",
      "position" : 46,
      "pull_request_review_id" : 682066244,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T17:20:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650151385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650151551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650151551"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-06-11T17:20:50Z",
      "diff_hunk" : "@@ -18,6 +18,7 @@\n Classes use __slots__ to ensure extraneous attributes aren't accidentally added\n by tests, compromising their intended effect.\n \"\"\"\n+from base64 import b32encode, b32decode",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650151551",
      "id" : 650151551,
      "in_reply_to_id" : 650065961,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDE1MTU1MQ==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 21,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/messages.py",
      "position" : null,
      "pull_request_review_id" : 682066425,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T17:20:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650151551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650151657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650151657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-06-11T17:21:00Z",
      "diff_hunk" : "@@ -18,12 +18,19 @@\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import assert_equal\n \n+I2P_ADDR = \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\"\n+\n ADDRS = []\n for i in range(10):\n     addr = CAddress()\n     addr.time = int(time.time()) + i\n     addr.nServices = NODE_NETWORK | NODE_WITNESS\n-    addr.ip = \"123.123.123.{}\".format(i % 256)\n+    # Add one I2P address at an arbitrary position.\n+    if i == 5:\n+        addr.net = addr.NET_I2P\n+        addr.ip = I2P_ADDR\n+    else:\n+        addr.ip = \"123.123.123.{}\".format(i % 256)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650151657",
      "id" : 650151657,
      "in_reply_to_id" : 650065023,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDE1MTY1Nw==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 33,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addrv2_relay.py",
      "position" : null,
      "pull_request_review_id" : 682066565,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T17:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650151657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650152493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650152493"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes (in that case no need to pet the linter)",
      "commit_id" : "7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-06-11T17:22:22Z",
      "diff_hunk" : "@@ -64,9 +68,11 @@ def run_test(self):\n         addr_receiver = self.nodes[0].add_p2p_connection(AddrReceiver())\n         msg.addrs = ADDRS\n         with self.nodes[0].assert_debug_log([\n-                'Added 10 addresses from 127.0.0.1: 0 tried',\n-                'received: addrv2 (131 bytes) peer=0',\n-                'sending addrv2 (131 bytes) peer=1',\n+                # The I2P address is not added to node's own addrman because it has no\n+                # I2P reachability (thus 10 - 1 = 9).\n+                'Added 9 addresses from 127.0.0.1: 0 tried',\n+                'received: addrv2 (159 bytes) peer=0',\n+                'sending addrv2 (159 bytes) peer=1',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#discussion_r650152493",
      "id" : 650152493,
      "in_reply_to_id" : 650128664,
      "line" : 75,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MDE1MjQ5Mw==",
      "original_commit_id" : "823b85e158161279f053e38935e7033d7d0a23a1",
      "original_line" : 75,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "test/functional/p2p_addrv2_relay.py",
      "position" : 46,
      "pull_request_review_id" : 682067576,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22211",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-11T17:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/650152493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-06-12T09:25:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-860027354",
      "id" : 860027354,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MDAyNzM1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-12T09:25:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/860027354",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 7593b06bd1262f438bf34769ecc00e9c22328e56.\r\nThank you for taking care of i2p.",
      "created_at" : "2021-06-18T09:44:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-863908705",
      "id" : 863908705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MzkwODcwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-18T09:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863908705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 7593b06bd1262f438bf34769ecc00e9c22328e56",
      "created_at" : "2021-07-15T14:51:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22211#issuecomment-880759143",
      "id" : 880759143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22211",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDc1OTE0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-15T14:51:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880759143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
