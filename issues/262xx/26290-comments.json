[
   {
      "author_association" : "NONE",
      "body" : "Hi. I just started contributing to the Bitcoin Core and I would like to address this feature.",
      "created_at" : "2022-10-11T13:42:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26290#issuecomment-1274706531",
      "id" : 1274706531,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26290",
      "node_id" : "IC_kwDOABII585L-npj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274706531/reactions"
      },
      "updated_at" : "2022-10-11T13:42:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274706531",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46436462?v=4",
         "events_url" : "https://api.github.com/users/araujo88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/araujo88/followers",
         "following_url" : "https://api.github.com/users/araujo88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/araujo88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/araujo88",
         "id" : 46436462,
         "login" : "araujo88",
         "node_id" : "MDQ6VXNlcjQ2NDM2NDYy",
         "organizations_url" : "https://api.github.com/users/araujo88/orgs",
         "received_events_url" : "https://api.github.com/users/araujo88/received_events",
         "repos_url" : "https://api.github.com/users/araujo88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/araujo88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/araujo88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/araujo88"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is a great first issue, i only didn't tag it as such since I don't know the particulars of how to solve it best.",
      "created_at" : "2022-10-11T15:04:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26290#issuecomment-1274844764",
      "id" : 1274844764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26290",
      "node_id" : "IC_kwDOABII585L_JZc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274844764/reactions"
      },
      "updated_at" : "2022-10-11T15:04:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274844764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@JeremyRubin you are referring to lines 1672-1674\r\n\r\n```\r\n    if (err != TransactionError::OK) {\r\n        throw JSONRPCTransactionError(err);\r\n    }\r\n```\r\nin the file `src/wallet/rpc/spend.cpp`?",
      "created_at" : "2022-10-13T19:14:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26290#issuecomment-1278066470",
      "id" : 1278066470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26290",
      "node_id" : "IC_kwDOABII585MLb8m",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1278066470/reactions"
      },
      "updated_at" : "2022-10-13T19:14:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1278066470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46436462?v=4",
         "events_url" : "https://api.github.com/users/araujo88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/araujo88/followers",
         "following_url" : "https://api.github.com/users/araujo88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/araujo88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/araujo88",
         "id" : 46436462,
         "login" : "araujo88",
         "node_id" : "MDQ6VXNlcjQ2NDM2NDYy",
         "organizations_url" : "https://api.github.com/users/araujo88/orgs",
         "received_events_url" : "https://api.github.com/users/araujo88/received_events",
         "repos_url" : "https://api.github.com/users/araujo88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/araujo88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/araujo88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/araujo88"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@araujo88 I believe the issue is more general than that. I haven't check the `walletcreatefundedpsbt` RPC but I was able to observe this behavior by using `validateaddress` on mainnet  for a signet address and on signet for a mainnet address, which gives the error : \"Not a valid Bech32 or Base58 encoding\" which is vague indeed.\r\n\r\nI haven't look into the specifics, but I agree that it looks like a good first issue. \r\n\r\nAlso, check [Creating a permanent link to a code snippet](https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/creating-a-permanent-link-to-a-code-snippet) for when you want to link to existing code on master. In your case you would end up with this:\r\nhttps://github.com/bitcoin/bitcoin/blob/0384b194149305ffc8580ad6947e0471a36446ff/src/wallet/rpc/spend.cpp#L1672-L1674\r\n",
      "created_at" : "2022-10-13T19:35:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26290#issuecomment-1278093825",
      "id" : 1278093825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26290",
      "node_id" : "IC_kwDOABII585MLioB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1278093825/reactions"
      },
      "updated_at" : "2022-10-13T19:35:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1278093825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> @araujo88 I believe the issue is more general than that. I haven't check the `walletcreatefundedpsbt` RPC but I was able to observe this behavior by using `validateaddress` on mainnet for a signet address and on signet for a mainnet address, which gives the error : \"Not a valid Bech32 or Base58 encoding\" which is vague indeed.\r\n> \r\n> I haven't look into the specifics, but I agree that it looks like a good first issue.\r\n> \r\n> Also, check [Creating a permanent link to a code snippet](https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/creating-a-permanent-link-to-a-code-snippet) for when you want to link to existing code on master. In your case you would end up with this:\r\n> \r\n> https://github.com/bitcoin/bitcoin/blob/0384b194149305ffc8580ad6947e0471a36446ff/src/wallet/rpc/spend.cpp#L1672-L1674\r\n\r\nI have looked into the source code and found that the error you mentioned (`Not a valid Bech32 or Base58 encoding`) is raised by the following function:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/c35b91afdc401696f4b1ee65a876328fd462aec9/src/key_io.cpp#L79\r\n\r\nSo I looked up the parameter called `const CChainParams& params` and it has the following method:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/c35b91afdc401696f4b1ee65a876328fd462aec9/src/chainparams.h#L111-L112\r\n\r\nSo I believe it can be used to provide a more insightful error message?",
      "created_at" : "2022-10-17T00:48:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26290#issuecomment-1280117282",
      "id" : 1280117282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26290",
      "node_id" : "IC_kwDOABII585MTQoi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280117282/reactions"
      },
      "updated_at" : "2022-10-17T00:49:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280117282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/46436462?v=4",
         "events_url" : "https://api.github.com/users/araujo88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/araujo88/followers",
         "following_url" : "https://api.github.com/users/araujo88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/araujo88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/araujo88",
         "id" : 46436462,
         "login" : "araujo88",
         "node_id" : "MDQ6VXNlcjQ2NDM2NDYy",
         "organizations_url" : "https://api.github.com/users/araujo88/orgs",
         "received_events_url" : "https://api.github.com/users/araujo88/received_events",
         "repos_url" : "https://api.github.com/users/araujo88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/araujo88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/araujo88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/araujo88"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This was quite fun to work on and I have submitted a PR for this. This was quite a difficult task to do and there could be room for improvement but it would require modifications to bech32.cpp for better error decoding.\r\n\r\nMy approach with to just create a struct as a part of the DecodeDestination. This struct is responsible for constructing a state where errors can be decoded and displayed to the user precisely.\r\n\r\nThese  are my results.\r\n\r\nBase58\r\n![image](https://user-images.githubusercontent.com/3104223/226165293-681d0119-3fa9-403a-bf72-8d84e1d3d553.png)\r\n\r\nBech32\r\n![image](https://user-images.githubusercontent.com/3104223/226165323-4e576fc2-91d2-45e7-8373-8f01a5b0db58.png)\r\n\r\n**Some notes about the implementation** \r\n\r\n1.  It's hard to deal with a string that contains both valid Base58 chars and Bech32 Chars. \r\n\r\n2. An invalid duplicate separator position in bech32 that is < 7 chars from the end causes Bech32.cpp to read everything before the second separator error as hrp. This causes the invalid character checker to only check the part the follows the last separator for invalid bech32 chars.  This is slightly annoying because inserting a second 1 can lead to the condition where it give invalid separator when it's very clear the intent was a bech32 but the user could have just inserted a 1 on accident.\r\n\r\n3. The fact these error string in the bech32.cpp error checker aren't stored in some sort of globally accessible variable creates this need to duplicate the strings in the code base. \r\n\r\n4. Previous errors had inconsistencies such as random periods in some errors and not others. Using the word encoded in some errors and not others. \r\n\r\n5. The previous implementation with 100% certainly would generate misleading errors when invalid prefixes were presented. \r\n\r\n**Items I didn't know how to handle.** \r\n\r\n1. Using a struct creates a need to use dot operators to access members. This looked quite awful so I opted to use direct bindings to create aliases to the members of the state struct.\r\n\r\n2. Use of declaration for the magic numbers in DecodeBase58. I did this for readability.",
      "created_at" : "2023-03-19T09:14:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26290#issuecomment-1475164448",
      "id" : 1475164448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26290",
      "node_id" : "IC_kwDOABII585X7Tkg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475164448/reactions"
      },
      "updated_at" : "2023-03-19T09:26:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475164448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3104223?v=4",
         "events_url" : "https://api.github.com/users/russeree/events{/privacy}",
         "followers_url" : "https://api.github.com/users/russeree/followers",
         "following_url" : "https://api.github.com/users/russeree/following{/other_user}",
         "gists_url" : "https://api.github.com/users/russeree/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/russeree",
         "id" : 3104223,
         "login" : "russeree",
         "node_id" : "MDQ6VXNlcjMxMDQyMjM=",
         "organizations_url" : "https://api.github.com/users/russeree/orgs",
         "received_events_url" : "https://api.github.com/users/russeree/received_events",
         "repos_url" : "https://api.github.com/users/russeree/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/russeree/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/russeree/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/russeree"
      }
   }
]
