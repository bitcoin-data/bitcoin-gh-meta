[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Wouldn't a `std::optional` approach make more sense here? And I think it'd be appropriate to update all Lookup functions at once, instead of just `LookupInternal`?",
      "created_at" : "2022-10-06T10:23:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1269760833",
      "id" : 1269760833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585LrwNB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1269760833/reactions"
      },
      "updated_at" : "2022-10-06T10:23:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1269760833",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@stickies-v \r\n\r\n> Wouldn't a std::optional approach make more sense here?\r\n\r\nGiven my experience in #26078, I'm not sure about using `std::optional` here. At some point, I'd have to check if it `has_value`, if so, I'd have to check the content of the vector anyway. Not sure about the benefits and code quality here.\r\n\r\n> And I think it'd be appropriate to update all Lookup functions at once, instead of just LookupInternal?\r\n\r\nI agree, I'd planned to do it in a follow-up (tried to keep this PR simple/easy to review) but could do it here, no problem.",
      "created_at" : "2022-10-06T16:15:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1270350149",
      "id" : 1270350149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585LuAFF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1270350149/reactions"
      },
      "updated_at" : "2022-10-06T16:15:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1270350149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r989942805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989942805"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We don't really use this naming style anymore for new code, perhaps just `addresses`?\r\n\r\n```suggestion\r\n    std::vector<CNetAddr> addresses;\r\n```",
      "commit_id" : "312415f070af43c933a9edc074756012371ba4c7",
      "created_at" : "2022-10-07T10:31:57Z",
      "diff_hunk" : "@@ -132,12 +132,12 @@ std::vector<std::string> GetNetworkNames(bool append_unroutable)\n     return names;\n }\n \n-static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+static std::vector<CNetAddr> LookupIntern(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    vIP.clear();\n+    std::vector<CNetAddr> vIP;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r989942805",
      "id" : 989942805,
      "line" : 137,
      "node_id" : "PRRC_kwDOABII5847AVQV",
      "original_commit_id" : "312415f070af43c933a9edc074756012371ba4c7",
      "original_line" : 137,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 8,
      "pull_request_review_id" : 1134266775,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989942805/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-07T10:32:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/989942805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : " > I think the main benefit of doing them all together is to ensure they all adhere to the same consistent interface. From a review point of view, that's most efficient too, and it shouldn't be a huge change anyway.\r\n\r\nYou're right, I am gonna turn this PR to draft to work on it.\r\n\r\n",
      "created_at" : "2022-10-07T12:57:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1271557357",
      "id" : 1271557357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585Lymzt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1271557357/reactions"
      },
      "updated_at" : "2022-10-07T12:57:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1271557357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r990124774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/990124774"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Cool, gonna adopt it",
      "commit_id" : "312415f070af43c933a9edc074756012371ba4c7",
      "created_at" : "2022-10-07T14:00:44Z",
      "diff_hunk" : "@@ -132,12 +132,12 @@ std::vector<std::string> GetNetworkNames(bool append_unroutable)\n     return names;\n }\n \n-static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+static std::vector<CNetAddr> LookupIntern(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    vIP.clear();\n+    std::vector<CNetAddr> vIP;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r990124774",
      "id" : 990124774,
      "in_reply_to_id" : 989942805,
      "line" : 137,
      "node_id" : "PRRC_kwDOABII5847BBrm",
      "original_commit_id" : "312415f070af43c933a9edc074756012371ba4c7",
      "original_line" : 137,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 8,
      "pull_request_review_id" : 1134540208,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/990124774/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-07T14:00:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/990124774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/26261#pullrequestreview-1401538483) |\n| Stale ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1473619930), [theStack](https://github.com/bitcoin/bitcoin/pull/26261#pullrequestreview-1349553691) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27385](https://github.com/bitcoin/bitcoin/pull/27385) (net, refactor: extract Network and BIP155Network logic to node/network by jonatack)\n* [#27375](https://github.com/bitcoin/bitcoin/pull/27375) (net: support unix domain sockets for -proxy and -onion by pinheadmz)\n* [#27071](https://github.com/bitcoin/bitcoin/pull/27071) (Handle CJDNS from LookupSubNet() by vasild)\n* [#26078](https://github.com/bitcoin/bitcoin/pull/26078) (p2p: return `CSubNet` in `LookupSubNet` by brunoerg)\n* [#25284](https://github.com/bitcoin/bitcoin/pull/25284) (net: Use serialization parameters for CAddress serialization by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-10-11T00:09:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1273929814",
      "id" : 1273929814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585L7qBW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273929814/reactions"
      },
      "updated_at" : "2023-04-26T09:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273929814",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999251060"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251060"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Developer notes state: \"If an if only has a single-statement then-clause, it can appear on the same line as the if, without braces. In every other case, braces are required, and the then and else clauses must appear correctly indented on a new line.\"\r\n\r\nHere, and in a few other instances too\r\n\r\n```suggestion\r\n    if(addresses.empty()) return std::nullopt;\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T10:26:22Z",
      "diff_hunk" : "@@ -164,67 +164,64 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return vIP;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if(addresses.empty())\n+        return std::nullopt;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999251060",
      "id" : 999251060,
      "line" : 190,
      "node_id" : "PRRC_kwDOABII5847j1x0",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 190,
      "original_position" : 67,
      "original_start_line" : 189,
      "path" : "src/netbase.cpp",
      "position" : 67,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251060/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 189,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999251399"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251399"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: consistent naming (you could do all the renaming in a first, new commit to minimize the renaming diff in subsequent commits)\r\n```suggestion\r\n            const std::vector<CNetAddr> addresses{LookupHost(host, nMaxIPs, true)};\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T10:26:44Z",
      "diff_hunk" : "@@ -1479,7 +1478,8 @@ void CConnman::ThreadDNSAddressSeed()\n                 continue;\n             }\n             unsigned int nMaxIPs = 256; // Limits number of IPs learned from a DNS seed\n-            if (LookupHost(host, vIPs, nMaxIPs, true)) {\n+            const std::vector<CNetAddr> vIPs{LookupHost(host, nMaxIPs, true)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999251399",
      "id" : 999251399,
      "line" : 1481,
      "node_id" : "PRRC_kwDOABII5847j13H",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 1481,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 43,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251399/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999251723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251723"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: consistent naming\r\n```suggestion\r\n    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T10:27:05Z",
      "diff_hunk" : "@@ -164,67 +164,64 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return vIP;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if(addresses.empty())\n+        return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> addresses;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> IPs{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999251723",
      "id" : 999251723,
      "line" : 204,
      "node_id" : "PRRC_kwDOABII5847j18L",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 204,
      "original_position" : 91,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 91,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251723/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999251723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999255655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999255655"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit (and in a few other places)\r\n```suggestion\r\n            const auto vIPs{LookupHost(host, nMaxIPs, true)};\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T10:31:12Z",
      "diff_hunk" : "@@ -1479,7 +1478,8 @@ void CConnman::ThreadDNSAddressSeed()\n                 continue;\n             }\n             unsigned int nMaxIPs = 256; // Limits number of IPs learned from a DNS seed\n-            if (LookupHost(host, vIPs, nMaxIPs, true)) {\n+            const std::vector<CNetAddr> vIPs{LookupHost(host, nMaxIPs, true)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999255655",
      "id" : 999255655,
      "line" : 1481,
      "node_id" : "PRRC_kwDOABII5847j25n",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 1481,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 43,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999255655/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999255655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999333490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999333490"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n * @returns The resulting network addresses to which the specified host\r\n *          string resolved.\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T11:49:18Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns Whether or not the specified host string successfully resolved to\n+ *          any resulting network addresses.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999333490",
      "id" : 999333490,
      "line" : 121,
      "node_id" : "PRRC_kwDOABII5847kJ5y",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 121,
      "original_position" : 24,
      "original_start_line" : 120,
      "path" : "src/netbase.h",
      "position" : 24,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999333490/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 120,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999333490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999344459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999344459"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "unused\r\n```suggestion\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T11:59:05Z",
      "diff_hunk" : "@@ -164,67 +164,64 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return vIP;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if(addresses.empty())\n+        return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> addresses;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> IPs{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (IPs.empty())\n+        return addresses;\n+    std::vector<CService> vAddr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999344459",
      "id" : 999344459,
      "line" : 207,
      "node_id" : "PRRC_kwDOABII5847kMlL",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 207,
      "original_position" : 94,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 94,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999344459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999344459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999345312"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999345312"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    std::vector<CService> services;\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T11:59:58Z",
      "diff_hunk" : "@@ -164,67 +164,64 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return vIP;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if(addresses.empty())\n+        return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> addresses;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999345312",
      "id" : 999345312,
      "line" : 196,
      "node_id" : "PRRC_kwDOABII5847kMyg",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 196,
      "original_position" : 74,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 74,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999345312/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999345312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999422199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999422199"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This can be simplified:\r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/netbase.cpp b/src/netbase.cpp\r\nindex 534dafdb4..2d4341a4c 100644\r\n--- a/src/netbase.cpp\r\n+++ b/src/netbase.cpp\r\n@@ -229,13 +229,9 @@ CService LookupNumeric(const std::string& name, uint16_t portDefault, DNSLookupF\r\n     if (!ContainsNoNUL(name)) {\r\n         return {};\r\n     }\r\n-    CService addr;\r\n     // \"1.2:345\" will fail to resolve the ip, but will still set the port.\r\n     // If the ip fails to resolve, re-init the result.\r\n-    const std::optional<CService> addr_opt{Lookup(name, portDefault, false, dns_lookup_function)};\r\n-    if (addr_opt.has_value())\r\n-        addr = addr_opt.value();\r\n-    return addr;\r\n+    return Lookup(name, portDefault, false, dns_lookup_function).value_or(CService{});\r\n }\r\n \r\n /** SOCKS version */\r\n```\r\n</details>",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T13:07:02Z",
      "diff_hunk" : "@@ -235,8 +232,9 @@ CService LookupNumeric(const std::string& name, uint16_t portDefault, DNSLookupF\n     CService addr;\n     // \"1.2:345\" will fail to resolve the ip, but will still set the port.\n     // If the ip fails to resolve, re-init the result.\n-    if(!Lookup(name, addr, portDefault, false, dns_lookup_function))\n-        addr = CService();\n+    const std::optional<CService> addr_opt{Lookup(name, portDefault, false, dns_lookup_function)};\n+    if (addr_opt.has_value())\n+        addr = addr_opt.value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999422199",
      "id" : 999422199,
      "line" : 237,
      "node_id" : "PRRC_kwDOABII5847kfj3",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 237,
      "original_position" : 131,
      "original_start_line" : 235,
      "path" : "src/netbase.cpp",
      "position" : 131,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999422199/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 235,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999422199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999425026"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999425026"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    const std::optional<CService> addr_opt{Lookup(name, portDefault, /*fAllowLookup=*/false, dns_lookup_function)};\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T13:09:34Z",
      "diff_hunk" : "@@ -235,8 +232,9 @@ CService LookupNumeric(const std::string& name, uint16_t portDefault, DNSLookupF\n     CService addr;\n     // \"1.2:345\" will fail to resolve the ip, but will still set the port.\n     // If the ip fails to resolve, re-init the result.\n-    if(!Lookup(name, addr, portDefault, false, dns_lookup_function))\n-        addr = CService();\n+    const std::optional<CService> addr_opt{Lookup(name, portDefault, false, dns_lookup_function)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999425026",
      "id" : 999425026,
      "line" : 235,
      "node_id" : "PRRC_kwDOABII5847kgQC",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 235,
      "original_position" : 129,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 129,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999425026/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999425026",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999434702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999434702"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        if (bind_addr.has_value() && bind_addr->GetPort() != dummy_port) return bind_addr->GetPort();\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T13:17:38Z",
      "diff_hunk" : "@@ -129,12 +129,12 @@ uint16_t GetListenPort()\n {\n     // If -bind= is provided with \":port\" part, use that (first one if multiple are provided).\n     for (const std::string& bind_arg : gArgs.GetArgs(\"-bind\")) {\n-        CService bind_addr;\n         constexpr uint16_t dummy_port = 0;\n \n-        if (Lookup(bind_arg, bind_addr, dummy_port, /*fAllowLookup=*/false)) {\n-            if (bind_addr.GetPort() != dummy_port) {\n-                return bind_addr.GetPort();\n+        const std::optional<CService> bind_addr{Lookup(bind_arg, dummy_port, /*fAllowLookup=*/false)};\n+        if (bind_addr.has_value()) {\n+            if (bind_addr.value().GetPort() != dummy_port) {\n+                return bind_addr.value().GetPort();\n             }\n         }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999434702",
      "id" : 999434702,
      "line" : 139,
      "node_id" : "PRRC_kwDOABII5847kinO",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 139,
      "original_position" : 15,
      "original_start_line" : 135,
      "path" : "src/net.cpp",
      "position" : 15,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999434702/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 135,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999434702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999439888"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999439888"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: we're ensuring it has a value already\r\n```suggestion\r\n        if (addrLocal.has_value() && addrLocal->IsValid())\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T13:21:45Z",
      "diff_hunk" : "@@ -1369,9 +1369,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     }\n \n     for (const std::string& strAddr : args.GetArgs(\"-externalip\")) {\n-        CService addrLocal;\n-        if (Lookup(strAddr, addrLocal, GetListenPort(), fNameLookup) && addrLocal.IsValid())\n-            AddLocal(addrLocal, LOCAL_MANUAL);\n+        const std::optional<CService> addrLocal{Lookup(strAddr, GetListenPort(), fNameLookup)};\n+        if (addrLocal.has_value() && addrLocal.value().IsValid())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999439888",
      "id" : 999439888,
      "line" : 1373,
      "node_id" : "PRRC_kwDOABII5847kj4Q",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 1373,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 39,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999439888/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999439888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999447479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999447479"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    return LookupHost(ip, false).value_or(CNetAddr{});\r\n```",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T13:27:30Z",
      "diff_hunk" : "@@ -24,9 +24,10 @@ BOOST_FIXTURE_TEST_SUITE(netbase_tests, BasicTestingSetup)\n \n static CNetAddr ResolveIP(const std::string& ip)\n {\n-    CNetAddr addr;\n-    LookupHost(ip, addr, false);\n-    return addr;\n+    std::optional<CNetAddr> addr{LookupHost(ip, false)};\n+    if (addr.has_value())\n+        return addr.value();\n+    return CNetAddr();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999447479",
      "id" : 999447479,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII5847klu3",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 30,
      "original_position" : 10,
      "original_start_line" : 27,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 10,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999447479/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 27,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999447479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999450391"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999450391"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this comment was not meant to be committed?",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-19T13:29:42Z",
      "diff_hunk" : "@@ -318,28 +318,30 @@ BOOST_AUTO_TEST_CASE(cnetaddr_tostring_canonical_ipv6)\n         {\"2001:db8:aaaa:bbbb:cccc:dddd:eeee:AaAa\", \"2001:db8:aaaa:bbbb:cccc:dddd:eeee:aaaa\"},\n     };\n     for (const auto& [input_address, expected_canonical_representation_output] : canonical_representations_ipv6) {\n-        CNetAddr net_addr;\n-        BOOST_REQUIRE(LookupHost(input_address, net_addr, false));\n-        BOOST_REQUIRE(net_addr.IsIPv6());\n-        BOOST_CHECK_EQUAL(net_addr.ToString(), expected_canonical_representation_output);\n+        const std::optional<CNetAddr> net_addr{LookupHost(input_address, false)};\n+        BOOST_REQUIRE(net_addr.value().IsIPv6());\n+        BOOST_CHECK_EQUAL(net_addr.value().ToString(), expected_canonical_representation_output);\n     }\n }\n-\n+/*",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r999450391",
      "id" : 999450391,
      "line" : 326,
      "node_id" : "PRRC_kwDOABII5847kmcX",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 326,
      "original_position" : 76,
      "original_start_line" : null,
      "path" : "src/test/net_tests.cpp",
      "position" : 76,
      "pull_request_review_id" : 1147279908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999450391/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-19T13:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/999450391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1000658184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000658184"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Great, gonna implement it! Simpler!",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-20T13:48:33Z",
      "diff_hunk" : "@@ -235,8 +232,9 @@ CService LookupNumeric(const std::string& name, uint16_t portDefault, DNSLookupF\n     CService addr;\n     // \"1.2:345\" will fail to resolve the ip, but will still set the port.\n     // If the ip fails to resolve, re-init the result.\n-    if(!Lookup(name, addr, portDefault, false, dns_lookup_function))\n-        addr = CService();\n+    const std::optional<CService> addr_opt{Lookup(name, portDefault, false, dns_lookup_function)};\n+    if (addr_opt.has_value())\n+        addr = addr_opt.value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1000658184",
      "id" : 1000658184,
      "in_reply_to_id" : 999422199,
      "line" : 237,
      "node_id" : "PRRC_kwDOABII5847pNUI",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 237,
      "original_position" : 131,
      "original_start_line" : 235,
      "path" : "src/netbase.cpp",
      "position" : 131,
      "pull_request_review_id" : 1149286941,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000658184/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 235,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-20T13:48:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000658184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1000665775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000665775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, I removed this PR from draft before pushing more changes.. my fault! ",
      "commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "created_at" : "2022-10-20T13:54:33Z",
      "diff_hunk" : "@@ -318,28 +318,30 @@ BOOST_AUTO_TEST_CASE(cnetaddr_tostring_canonical_ipv6)\n         {\"2001:db8:aaaa:bbbb:cccc:dddd:eeee:AaAa\", \"2001:db8:aaaa:bbbb:cccc:dddd:eeee:aaaa\"},\n     };\n     for (const auto& [input_address, expected_canonical_representation_output] : canonical_representations_ipv6) {\n-        CNetAddr net_addr;\n-        BOOST_REQUIRE(LookupHost(input_address, net_addr, false));\n-        BOOST_REQUIRE(net_addr.IsIPv6());\n-        BOOST_CHECK_EQUAL(net_addr.ToString(), expected_canonical_representation_output);\n+        const std::optional<CNetAddr> net_addr{LookupHost(input_address, false)};\n+        BOOST_REQUIRE(net_addr.value().IsIPv6());\n+        BOOST_CHECK_EQUAL(net_addr.value().ToString(), expected_canonical_representation_output);\n     }\n }\n-\n+/*",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1000665775",
      "id" : 1000665775,
      "in_reply_to_id" : 999450391,
      "line" : 326,
      "node_id" : "PRRC_kwDOABII5847pPKv",
      "original_commit_id" : "e4e03e9935b0a5fb4d8d7978a580e1fa785ed64c",
      "original_line" : 326,
      "original_position" : 76,
      "original_start_line" : null,
      "path" : "src/test/net_tests.cpp",
      "position" : 76,
      "pull_request_review_id" : 1149300461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000665775/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-20T13:54:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1000665775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @stickies-v for your valuable review, just addressed your suggestions! \r\n\r\nReady for review!",
      "created_at" : "2022-10-20T17:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1285886944",
      "id" : 1285886944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585MpRPg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1285886944/reactions"
      },
      "updated_at" : "2022-10-20T17:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1285886944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Looks like the first commit still uses the old naming scheme and probably should be adapted (s/vIP/addresses/)?\r\n\r\nDone, force-pushed addressing it! ",
      "created_at" : "2023-01-23T14:05:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1400404482",
      "id" : 1400404482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585TeHoC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400404482/reactions"
      },
      "updated_at" : "2023-01-23T14:05:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400404482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084117650"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084117650"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n * @see LookupHost(const std::string&, unsigned int, bool, DNSLookupFn)\r\n```",
      "commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "created_at" : "2023-01-23T14:22:24Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n+ *\n+ * @see LookupHost(const std::string&, uint16_t, bool, DNSLookupFn)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084117650",
      "id" : 1084117650,
      "line" : 123,
      "node_id" : "PRRC_kwDOABII585AnlKS",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 123,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 26,
      "pull_request_review_id" : 1265688557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084117650/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-23T15:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084117650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084158719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084158719"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\r\n```",
      "commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "created_at" : "2023-01-23T14:56:04Z",
      "diff_hunk" : "@@ -132,27 +133,25 @@ bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSL\n  *                disambiguated bracketed form), optionally followed by a uint16_t port\n  *                number. (e.g. example.com:8333 or\n  *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n- * @param[out] vAddr The resulting services to which the specified service string\n- *                   resolved.\n  * @param portDefault The default port for resulting services if not specified\n  *                    by the service string.\n  * @param fAllowLookup Whether or not hostname lookups are permitted. If yes,\n  *                     external queries may be performed.\n  * @param nMaxSolutions The maximum number of results we want, specifying 0\n  *                      means \"as many solutions as we get.\"\n  *\n- * @returns Whether or not the service string successfully resolved to any\n- *          resulting services.\n+ * @returns The resulting services to which the specified service string\n+ *          resolved.\n  */\n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a service string to its first corresponding service.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, int16_t, bool, unsigned int, DNSLookupFn)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084158719",
      "id" : 1084158719,
      "line" : 151,
      "node_id" : "PRRC_kwDOABII585AnvL_",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 151,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 59,
      "pull_request_review_id" : 1265688557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084158719/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-23T15:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084158719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084168091"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084168091"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    return services.empty() ? std::nullopt : services.front()\r\n```",
      "commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "created_at" : "2023-01-23T15:03:35Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return services;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return std::nullopt;\n     }\n-    std::vector<CService> vService;\n-    bool fRet = Lookup(name, vService, portDefault, fAllowLookup, 1, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    addr = vService[0];\n-    return true;\n+\n+    const std::vector<CService> services{Lookup(name, portDefault, fAllowLookup, 1, dns_lookup_function)};\n+    if (services.empty())\n+        return std::nullopt;\n+\n+    return services[0];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084168091",
      "id" : 1084168091,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII585Anxeb",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 221,
      "original_position" : 126,
      "original_start_line" : 218,
      "path" : "src/netbase.cpp",
      "position" : 126,
      "pull_request_review_id" : 1265688557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084168091/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 218,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-23T15:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084168091",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084174333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084174333"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this entire block can be just removed? We're checking that in the overloaded `Lookup` function already?",
      "commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "created_at" : "2023-01-23T15:08:39Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return services;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return std::nullopt;\n     }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084174333",
      "id" : 1084174333,
      "line" : 215,
      "node_id" : "PRRC_kwDOABII585Any_9",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 215,
      "original_position" : 114,
      "original_start_line" : 213,
      "path" : "src/netbase.cpp",
      "position" : 114,
      "pull_request_review_id" : 1265688557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084174333/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 213,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-23T15:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084174333",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084197338"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084197338"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    return addresses.empty() ? std::nullopt : addresses.front();\r\n```",
      "commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "created_at" : "2023-01-23T15:26:43Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084197338",
      "id" : 1084197338,
      "line" : 190,
      "node_id" : "PRRC_kwDOABII585An4na",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 190,
      "original_position" : 77,
      "original_start_line" : 189,
      "path" : "src/netbase.cpp",
      "position" : 77,
      "pull_request_review_id" : 1265688557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084197338/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 189,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-23T15:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084197338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084205334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084205334"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "perhaps no need for intermediary variables?\r\n```suggestion\r\n    rpc_allow_subnets.push_back(CSubNet{LookupHost(\"127.0.0.1\", false).value(), 8});      // always allow IPv4 local subnet\r\n    rpc_allow_subnets.push_back(CSubNet{LookupHost(\"::1\", false).value()});               // always allow IPv6 localhost\r\n```",
      "commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "created_at" : "2023-01-23T15:32:56Z",
      "diff_hunk" : "@@ -162,12 +162,10 @@ static bool ClientAllowed(const CNetAddr& netaddr)\n static bool InitHTTPAllowList()\n {\n     rpc_allow_subnets.clear();\n-    CNetAddr localv4;\n-    CNetAddr localv6;\n-    LookupHost(\"127.0.0.1\", localv4, false);\n-    LookupHost(\"::1\", localv6, false);\n-    rpc_allow_subnets.push_back(CSubNet(localv4, 8));      // always allow IPv4 local subnet\n-    rpc_allow_subnets.push_back(CSubNet(localv6));         // always allow IPv6 localhost\n+    const std::optional<CNetAddr> localv4{LookupHost(\"127.0.0.1\", false)};\n+    const std::optional<CNetAddr> localv6{LookupHost(\"::1\", false)};\n+    rpc_allow_subnets.push_back(CSubNet(localv4.value(), 8));      // always allow IPv4 local subnet\n+    rpc_allow_subnets.push_back(CSubNet(localv6.value()));         // always allow IPv6 localhost",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084205334",
      "id" : 1084205334,
      "line" : 168,
      "node_id" : "PRRC_kwDOABII585An6kW",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 168,
      "original_position" : 13,
      "original_start_line" : 165,
      "path" : "src/httpserver.cpp",
      "position" : 13,
      "pull_request_review_id" : 1265688557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084205334/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 165,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-23T15:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084205334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084579139"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084579139"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it should be:\r\n```cpp\r\nreturn services.empty() ? std::nullopt : std::optional<CService>(services.front());\r\n```",
      "commit_id" : "1f3962cb247f27f5dc5ec8d57cbe5effc8c57fd7",
      "created_at" : "2023-01-23T21:29:29Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return services;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return std::nullopt;\n     }\n-    std::vector<CService> vService;\n-    bool fRet = Lookup(name, vService, portDefault, fAllowLookup, 1, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    addr = vService[0];\n-    return true;\n+\n+    const std::vector<CService> services{Lookup(name, portDefault, fAllowLookup, 1, dns_lookup_function)};\n+    if (services.empty())\n+        return std::nullopt;\n+\n+    return services[0];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084579139",
      "id" : 1084579139,
      "in_reply_to_id" : 1084168091,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ApV1D",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 221,
      "original_position" : 126,
      "original_start_line" : 218,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1266368426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084579139/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-23T21:29:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084579139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084671898"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084671898"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, perfect!",
      "commit_id" : "1f3962cb247f27f5dc5ec8d57cbe5effc8c57fd7",
      "created_at" : "2023-01-23T23:21:32Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return services;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return std::nullopt;\n     }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084671898",
      "id" : 1084671898,
      "in_reply_to_id" : 1084174333,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Apsea",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 215,
      "original_position" : 114,
      "original_start_line" : 213,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1266585455,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084671898/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-23T23:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1084671898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing @stickies-v and @theStack review, thanks!\r\n\r\n- https://github.com/bitcoin/bitcoin/pull/26261#pullrequestreview-1265909107\r\n- https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084117650\r\n- https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084158719\r\n- https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084168091\r\n- https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084174333\r\n- https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084197338\r\n- https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1084205334",
      "created_at" : "2023-01-23T23:44:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1401158288",
      "id" : 1401158288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585Tg_qQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1401158288/reactions"
      },
      "updated_at" : "2023-01-23T23:44:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1401158288",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085153206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085153206"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're right - sorry I didn't test my suggestion. nit: `std::make_optional(services.front())` is also possible, to avoid redefining the type (only if you're force pushing for something else)",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-24T11:27:46Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return services;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return std::nullopt;\n     }\n-    std::vector<CService> vService;\n-    bool fRet = Lookup(name, vService, portDefault, fAllowLookup, 1, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    addr = vService[0];\n-    return true;\n+\n+    const std::vector<CService> services{Lookup(name, portDefault, fAllowLookup, 1, dns_lookup_function)};\n+    if (services.empty())\n+        return std::nullopt;\n+\n+    return services[0];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085153206",
      "id" : 1085153206,
      "in_reply_to_id" : 1084168091,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Arh-2",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 221,
      "original_position" : 126,
      "original_start_line" : 218,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1267321353,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085153206/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-24T11:27:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085153206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085160548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085160548"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think you can remove this check. What @theStack [suggested](https://github.com/bitcoin/bitcoin/pull/26261#pullrequestreview-1265909107) is this, which I agree with:\r\n\r\n```diff\r\n-    if (!ContainsNoNUL(name)) {\r\n-        return addresses;\r\n-    }\r\n+    if (!ContainsNoNUL(name)) return {};\r\n```",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-24T11:33:30Z",
      "diff_hunk" : "@@ -132,14 +132,8 @@ std::vector<std::string> GetNetworkNames(bool append_unroutable)\n     return names;\n }\n \n-static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+static std::vector<CNetAddr> LookupIntern(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    vIP.clear();\n-\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085160548",
      "id" : 1085160548,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585Arjxk",
      "original_commit_id" : "1f3962cb247f27f5dc5ec8d57cbe5effc8c57fd7",
      "original_line" : 141,
      "original_position" : 11,
      "original_start_line" : 139,
      "path" : "src/netbase.cpp",
      "position" : 11,
      "pull_request_review_id" : 1267330640,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085160548/reactions"
      },
      "side" : "LEFT",
      "start_line" : 139,
      "start_side" : "LEFT",
      "updated_at" : "2023-01-24T11:35:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085160548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085162148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085162148"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: std::make_optional as https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085153206",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-24T11:34:33Z",
      "diff_hunk" : "@@ -148,96 +142,79 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // getaddrinfo to decode them and it wouldn't make sense to resolve\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n-        if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n-        }\n+        if (addr.SetSpecial(name)) return {addr};\n     }\n \n+    std::vector<CNetAddr> addresses;\n+\n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    return addresses.empty() ? std::nullopt : std::optional<CNetAddr>(addresses.front());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085162148",
      "id" : 1085162148,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ArkKk",
      "original_commit_id" : "1f3962cb247f27f5dc5ec8d57cbe5effc8c57fd7",
      "original_line" : 182,
      "original_position" : 78,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1267330640,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085162148/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-24T11:35:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085162148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085196321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085196321"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`make_optional` seems more elegant, gonna adopt it.",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-24T11:57:21Z",
      "diff_hunk" : "@@ -149,95 +149,86 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n         if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n+            addresses.push_back(addr);\n+            return addresses;\n         }\n     }\n \n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return std::nullopt;\n+    return addresses.front();\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return services;\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return std::nullopt;\n     }\n-    std::vector<CService> vService;\n-    bool fRet = Lookup(name, vService, portDefault, fAllowLookup, 1, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    addr = vService[0];\n-    return true;\n+\n+    const std::vector<CService> services{Lookup(name, portDefault, fAllowLookup, 1, dns_lookup_function)};\n+    if (services.empty())\n+        return std::nullopt;\n+\n+    return services[0];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085196321",
      "id" : 1085196321,
      "in_reply_to_id" : 1084168091,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Arsgh",
      "original_commit_id" : "eb7b7e2b425b1b86e0d644a7b287baa3fc81b12b",
      "original_line" : 221,
      "original_position" : 126,
      "original_start_line" : 218,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1267362737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085196321/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-24T11:57:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085196321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085216894"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085216894"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, sorry, I accidentally removed it. I'm pushing it back.",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-24T12:10:40Z",
      "diff_hunk" : "@@ -132,14 +132,8 @@ std::vector<std::string> GetNetworkNames(bool append_unroutable)\n     return names;\n }\n \n-static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+static std::vector<CNetAddr> LookupIntern(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    vIP.clear();\n-\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085216894",
      "id" : 1085216894,
      "in_reply_to_id" : 1085160548,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585Arxh-",
      "original_commit_id" : "1f3962cb247f27f5dc5ec8d57cbe5effc8c57fd7",
      "original_line" : 141,
      "original_position" : 11,
      "original_start_line" : 139,
      "path" : "src/netbase.cpp",
      "position" : 11,
      "pull_request_review_id" : 1267381405,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085216894/reactions"
      },
      "side" : "LEFT",
      "start_line" : 139,
      "start_side" : "LEFT",
      "updated_at" : "2023-01-24T12:10:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1085216894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085160548 and https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1085162148. \r\n\r\nThanks so much again for the review, @stickies-v and @theStack.",
      "created_at" : "2023-01-24T12:18:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1401845827",
      "id" : 1401845827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585TjnhD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1401845827/reactions"
      },
      "updated_at" : "2023-01-24T12:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1401845827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1086756459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1086756459"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: the `addresses` vector is not needed anymore in the first `LookupHost` function and can be removed:\r\n```suggestion\r\n    if (!ContainsNoNUL(name)) return {};\r\n    std::string strHost = name;\r\n    if (strHost.empty()) return {};\r\n```",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-25T15:05:08Z",
      "diff_hunk" : "@@ -161,32 +161,31 @@ static std::vector<CNetAddr> LookupIntern(const std::string& name, unsigned int\n     return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& addresses, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1086756459",
      "id" : 1086756459,
      "line" : 172,
      "node_id" : "PRRC_kwDOABII585AxpZr",
      "original_commit_id" : "c33029873446e6d6b82ab4de950d4768c88af32b",
      "original_line" : 172,
      "original_position" : 15,
      "original_start_line" : 166,
      "path" : "src/netbase.cpp",
      "position" : 15,
      "pull_request_review_id" : 1269529442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1086756459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 166,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-25T15:13:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1086756459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1086761978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1086761978"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Note that the empty-check is not needed anymore. If the vector is empty then iterating it will do nothing anyways:\r\n```suggestion\r\n        for (const CNetAddr& resolved_address : resolved_addresses) {\r\n            assert(!resolved_address.IsInternal());\r\n        }\r\n```",
      "commit_id" : "24adc24a31dcab01baf1216f94ca114de8fdee02",
      "created_at" : "2023-01-25T15:09:29Z",
      "diff_hunk" : "@@ -29,8 +29,8 @@ FUZZ_TARGET(netbase_dns_lookup)\n     };\n \n     {\n-        std::vector<CNetAddr> resolved_addresses;\n-        if (LookupHost(name, resolved_addresses, max_results, allow_lookup, fuzzed_dns_lookup_function)) {\n+        const std::vector<CNetAddr> resolved_addresses{LookupHost(name, max_results, allow_lookup, fuzzed_dns_lookup_function)};\n+        if (!resolved_addresses.empty()) {\n             for (const CNetAddr& resolved_address : resolved_addresses) {\n                 assert(!resolved_address.IsInternal());\n             }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1086761978",
      "id" : 1086761978,
      "line" : 36,
      "node_id" : "PRRC_kwDOABII585Axqv6",
      "original_commit_id" : "c33029873446e6d6b82ab4de950d4768c88af32b",
      "original_line" : 36,
      "original_position" : 10,
      "original_start_line" : 33,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : 10,
      "pull_request_review_id" : 1269529442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1086761978/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 33,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-25T15:13:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1086761978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1087168615"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1087168615"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice, addressed!",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-25T21:03:32Z",
      "diff_hunk" : "@@ -161,32 +161,31 @@ static std::vector<CNetAddr> LookupIntern(const std::string& name, unsigned int\n     return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& addresses, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CNetAddr> addresses;\n     if (!ContainsNoNUL(name)) {\n-        return false;\n+        return addresses;\n     }\n     std::string strHost = name;\n     if (strHost.empty())\n-        return false;\n+        return addresses;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1087168615",
      "id" : 1087168615,
      "in_reply_to_id" : 1086756459,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585AzOBn",
      "original_commit_id" : "c33029873446e6d6b82ab4de950d4768c88af32b",
      "original_line" : 172,
      "original_position" : 15,
      "original_start_line" : 166,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1270118331,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1087168615/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-25T21:03:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1087168615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1087168742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1087168742"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice, addressed!",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-25T21:03:38Z",
      "diff_hunk" : "@@ -29,8 +29,8 @@ FUZZ_TARGET(netbase_dns_lookup)\n     };\n \n     {\n-        std::vector<CNetAddr> resolved_addresses;\n-        if (LookupHost(name, resolved_addresses, max_results, allow_lookup, fuzzed_dns_lookup_function)) {\n+        const std::vector<CNetAddr> resolved_addresses{LookupHost(name, max_results, allow_lookup, fuzzed_dns_lookup_function)};\n+        if (!resolved_addresses.empty()) {\n             for (const CNetAddr& resolved_address : resolved_addresses) {\n                 assert(!resolved_address.IsInternal());\n             }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1087168742",
      "id" : 1087168742,
      "in_reply_to_id" : 1086761978,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585AzODm",
      "original_commit_id" : "c33029873446e6d6b82ab4de950d4768c88af32b",
      "original_line" : 36,
      "original_position" : 10,
      "original_start_line" : 33,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : null,
      "pull_request_review_id" : 1270118458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1087168742/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-25T21:03:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1087168742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Just addressed last @theStack's review! Thanks, @stickies-v and @theStack for the reviews!",
      "created_at" : "2023-01-25T21:07:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1404225197",
      "id" : 1404225197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585Tssat",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1404225197/reactions"
      },
      "updated_at" : "2023-01-25T21:07:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1404225197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088062980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088062980"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: should either return in the same line as the if-condition or put braces around (OTOH, probably not worth it chaning since it's removed in a later commit anyways)",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-26T16:18:18Z",
      "diff_hunk" : "@@ -204,13 +199,12 @@ bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t port\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty())\n         return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088062980",
      "id" : 1088062980,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A2oYE",
      "original_commit_id" : "1745634263302db9f736ede73fe971541fca752c",
      "original_line" : 204,
      "original_position" : 70,
      "original_start_line" : 203,
      "path" : "src/netbase.cpp",
      "position" : 70,
      "pull_request_review_id" : 1271367152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088062980/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-26T16:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088062980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088064242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088064242"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: this non-empty check can be removed, as the iteration of an empty vector is a no-op anyways",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-26T16:19:26Z",
      "diff_hunk" : "@@ -2150,10 +2150,10 @@ void Discover()\n     char pszHostName[256] = \"\";\n     if (gethostname(pszHostName, sizeof(pszHostName)) != SOCKET_ERROR)\n     {\n-        std::vector<CNetAddr> vaddr;\n-        if (LookupHost(pszHostName, vaddr, 0, true))\n+        const std::vector<CNetAddr> addresses{LookupHost(pszHostName, 0, true)};\n+        if (!addresses.empty())\n         {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088064242",
      "id" : 1088064242,
      "line" : 2151,
      "node_id" : "PRRC_kwDOABII585A2ory",
      "original_commit_id" : "3e39ec3e7ed7714ac0ef93f4bf7ecf63e7834e5c",
      "original_line" : 2155,
      "original_position" : 28,
      "original_start_line" : 2154,
      "path" : "src/net.cpp",
      "position" : 28,
      "pull_request_review_id" : 1271367152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088064242/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 2150,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-26T16:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088064242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088065530"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088065530"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: this doesn't seem right, since at this point the function still returns `bool`?",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-26T16:20:35Z",
      "diff_hunk" : "@@ -105,21 +105,22 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088065530",
      "id" : 1088065530,
      "line" : 121,
      "node_id" : "PRRC_kwDOABII585A2o_6",
      "original_commit_id" : "3e39ec3e7ed7714ac0ef93f4bf7ecf63e7834e5c",
      "original_line" : 121,
      "original_position" : 24,
      "original_start_line" : 120,
      "path" : "src/netbase.h",
      "position" : 24,
      "pull_request_review_id" : 1271367152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088065530/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 120,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-26T16:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088065530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088067236"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088067236"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: could introduce this vector later below, right before the `for` iteration, and simply return `{}` before",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-26T16:22:05Z",
      "diff_hunk" : "@@ -185,48 +185,43 @@ bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSL\n     return true;\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n+    std::vector<CService> services;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088067236",
      "id" : 1088067236,
      "line" : 184,
      "node_id" : "PRRC_kwDOABII585A2pak",
      "original_commit_id" : "53ce96156c21cf9ec0f726610ddebb59e0346a14",
      "original_line" : 190,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 7,
      "pull_request_review_id" : 1271367152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088067236/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-26T16:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088067236",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088068121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088068121"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: This non-empty check can be removed.",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-26T16:22:46Z",
      "diff_hunk" : "@@ -42,18 +42,18 @@ FUZZ_TARGET(netbase_dns_lookup)\n         }\n     }\n     {\n-        std::vector<CService> resolved_services;\n-        if (Lookup(name, resolved_services, default_port, allow_lookup, max_results, fuzzed_dns_lookup_function)) {\n+        const std::vector<CService> resolved_services{Lookup(name, default_port, allow_lookup, max_results, fuzzed_dns_lookup_function)};\n+        if (!resolved_services.empty()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088068121",
      "id" : 1088068121,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII585A2poZ",
      "original_commit_id" : "53ce96156c21cf9ec0f726610ddebb59e0346a14",
      "original_line" : 46,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : 7,
      "pull_request_review_id" : 1271367152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088068121/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-26T16:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088068121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088070797"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088070797"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Seems like this is a slight change in the logic. On master, we don't call `LookupHost` if the address is an empty string, on the PR it is called unconditionally and only then the `empty()` check is done. The resulting behaviour is the same though, since LookupHost returns early anways if the passed address is empty. Could probably remove the `i->first.empty()` check here?",
      "commit_id" : "db27abee09243ee65fe80838eb5784b37f5bee2f",
      "created_at" : "2023-01-26T16:25:05Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\n+            if (i->first.empty() || (addr.has_value() && addr->IsBindAny())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1088070797",
      "id" : 1088070797,
      "line" : 319,
      "node_id" : "PRRC_kwDOABII585A2qSN",
      "original_commit_id" : "55d991af40d6154be5e1c200753ce1f0279c6717",
      "original_line" : 319,
      "original_position" : 22,
      "original_start_line" : 318,
      "path" : "src/httpserver.cpp",
      "position" : 22,
      "pull_request_review_id" : 1271367152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088070797/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 318,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-26T16:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088070797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-01-31T22:55:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1411182265",
      "id" : 1411182265,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585UHO65",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411182265/reactions"
      },
      "updated_at" : "2023-01-31T22:55:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411182265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1093683950"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1093683950"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, you're right! ",
      "commit_id" : "3bb0e074525aa0bb356960ecf38086e8671a78d4",
      "created_at" : "2023-02-01T20:12:15Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\n+            if (i->first.empty() || (addr.has_value() && addr->IsBindAny())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1093683950",
      "id" : 1093683950,
      "in_reply_to_id" : 1088070797,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585BMEru",
      "original_commit_id" : "55d991af40d6154be5e1c200753ce1f0279c6717",
      "original_line" : 319,
      "original_position" : 22,
      "original_start_line" : 318,
      "path" : "src/httpserver.cpp",
      "position" : null,
      "pull_request_review_id" : 1279795129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1093683950/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-01T20:12:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1093683950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Since I had to rebase it, I took the oportunity to address last @theStack's review. Thanks!",
      "created_at" : "2023-02-01T20:36:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1412689842",
      "id" : 1412689842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585UM--y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412689842/reactions"
      },
      "updated_at" : "2023-02-01T20:36:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412689842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1096049823"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096049823"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "'false' is not the same as `std::nullopt` - and \"not contain a value\" is synonymous for `std::nullopt`\r\n\r\n```suggestion\r\n *          string resolved or std::nullopt if host does not resolve to an address.\r\n```",
      "commit_id" : "84b3ab40d5480862f3f7e08c4ad1f9124990ba74",
      "created_at" : "2023-02-03T17:13:30Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved or 'false' if it doesn't contain a value.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1096049823",
      "id" : 1096049823,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585BVGSf",
      "original_commit_id" : "3bb0e074525aa0bb356960ecf38086e8671a78d4",
      "original_line" : 121,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_review_id" : 1283358137,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096049823/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-03T17:13:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096049823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1096051324"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096051324"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "also open to \"empty\" or \"no value\" instead of \"std::nullopt\". Just not \"false\".",
      "commit_id" : "84b3ab40d5480862f3f7e08c4ad1f9124990ba74",
      "created_at" : "2023-02-03T17:15:08Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved or 'false' if it doesn't contain a value.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1096051324",
      "id" : 1096051324,
      "in_reply_to_id" : 1096049823,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585BVGp8",
      "original_commit_id" : "3bb0e074525aa0bb356960ecf38086e8671a78d4",
      "original_line" : 121,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_review_id" : 1283360363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096051324/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-03T17:15:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096051324",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1096069928"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096069928"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, seems better, thanks!",
      "commit_id" : "84b3ab40d5480862f3f7e08c4ad1f9124990ba74",
      "created_at" : "2023-02-03T17:35:33Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved or 'false' if it doesn't contain a value.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1096069928",
      "id" : 1096069928,
      "in_reply_to_id" : 1096049823,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585BVLMo",
      "original_commit_id" : "3bb0e074525aa0bb356960ecf38086e8671a78d4",
      "original_line" : 121,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_review_id" : 1283410710,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096069928/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-03T17:35:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1096069928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing last @stickies-v's review. \r\n\r\nI appreciate a final review from you @stickies-v and @theStack, thanks a lot!",
      "created_at" : "2023-02-03T17:41:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1416194131",
      "id" : 1416194131,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585UaWhT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1416194131/reactions"
      },
      "updated_at" : "2023-02-03T17:41:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1416194131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-02-17T19:15:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1435122325",
      "id" : 1435122325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585VijqV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435122325/reactions"
      },
      "updated_at" : "2023-02-17T19:15:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435122325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed rebasing. ",
      "created_at" : "2023-02-20T13:04:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1436994880",
      "id" : 1436994880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585Vps1A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436994880/reactions"
      },
      "updated_at" : "2023-02-20T13:04:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436994880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@theStack have in mind re-ACK it?",
      "created_at" : "2023-03-06T20:41:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1456947717",
      "id" : 1456947717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585W10IF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456947717/reactions"
      },
      "updated_at" : "2023-03-06T20:41:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456947717",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1127278080"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127278080"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That looks dangerous -- generally I think we shouldn't ever call `.value()` on a std::optional object without checking for `.has_value()` first (similar as for pointer dereferences), potentially risking a crash. In this case the GUI flow seems to ensure that the IP passed here is valid at an earlier stage (via the `ProxyAddressValidator`) so `LookupHost` _should_ always return a value, but I'd prefer to be rather safe than sorry.",
      "commit_id" : "0566f171771e37dca02adc328e0385edbb412073",
      "created_at" : "2023-03-07T02:32:53Z",
      "diff_hunk" : "@@ -406,9 +406,8 @@ void OptionsDialog::updateProxyValidationState()\n \n void OptionsDialog::updateDefaultProxyNets()\n {\n-    CNetAddr ui_proxy_netaddr;\n-    LookupHost(ui->proxyIp->text().toStdString(), ui_proxy_netaddr, /*fAllowLookup=*/false);\n-    const CService ui_proxy{ui_proxy_netaddr, ui->proxyPort->text().toUShort()};\n+    const std::optional<CNetAddr> ui_proxy_netaddr{LookupHost(ui->proxyIp->text().toStdString(), /*fAllowLookup=*/false)};\n+    const CService ui_proxy{ui_proxy_netaddr.value(), ui->proxyPort->text().toUShort()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1127278080",
      "id" : 1127278080,
      "line" : 410,
      "node_id" : "PRRC_kwDOABII585DMOYA",
      "original_commit_id" : "e6ae61eaff090438b15c1b8e40c238c6775c3236",
      "original_line" : 410,
      "original_position" : 8,
      "original_start_line" : 409,
      "path" : "src/qt/optionsdialog.cpp",
      "position" : 8,
      "pull_request_review_id" : 1327542551,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127278080/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 409,
      "start_side" : "LEFT",
      "updated_at" : "2023-03-07T02:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127278080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1128354369"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1128354369"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're right. Considering it comes from GUI, it's better to check whether it has value. Addressed it!",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-07T18:22:31Z",
      "diff_hunk" : "@@ -406,9 +406,8 @@ void OptionsDialog::updateProxyValidationState()\n \n void OptionsDialog::updateDefaultProxyNets()\n {\n-    CNetAddr ui_proxy_netaddr;\n-    LookupHost(ui->proxyIp->text().toStdString(), ui_proxy_netaddr, /*fAllowLookup=*/false);\n-    const CService ui_proxy{ui_proxy_netaddr, ui->proxyPort->text().toUShort()};\n+    const std::optional<CNetAddr> ui_proxy_netaddr{LookupHost(ui->proxyIp->text().toStdString(), /*fAllowLookup=*/false)};\n+    const CService ui_proxy{ui_proxy_netaddr.value(), ui->proxyPort->text().toUShort()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1128354369",
      "id" : 1128354369,
      "in_reply_to_id" : 1127278080,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DQVJB",
      "original_commit_id" : "e6ae61eaff090438b15c1b8e40c238c6775c3236",
      "original_line" : 410,
      "original_position" : 8,
      "original_start_line" : 409,
      "path" : "src/qt/optionsdialog.cpp",
      "position" : null,
      "pull_request_review_id" : 1329249997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1128354369/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-07T18:22:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1128354369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1127278080",
      "created_at" : "2023-03-07T18:22:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1458628670",
      "id" : 1458628670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585W8Og-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1458628670/reactions"
      },
      "updated_at" : "2023-03-07T18:22:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1458628670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139005096"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139005096"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This change in the comment about `Lookup()` was done in commit\r\n```\r\n5a656f60fb p2p, refactor: return `std::vector<CNetAddr>` in `LookupHost`\r\n```\r\nbut it belongs to the next commit\r\n```\r\n786ad94614 p2p, refactor: return vector/optional<CService> in `Lookup`\r\n```",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T16:25:08Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139005096",
      "id" : 1139005096,
      "line" : 112,
      "node_id" : "PRRC_kwDOABII585D49ao",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 112,
      "original_position" : 13,
      "original_start_line" : 114,
      "path" : "src/netbase.h",
      "position" : 13,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139005096/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 114,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139005096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139019170"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139019170"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n\r\n```suggestion\r\n    const std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};\r\n```",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T16:33:30Z",
      "diff_hunk" : "@@ -689,27 +663,27 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n \n     const size_t slash_pos{subnet_str.find_last_of('/')};\n     const std::string str_addr{subnet_str.substr(0, slash_pos)};\n-    CNetAddr addr;\n+    std::optional<CNetAddr> addr{LookupHost(str_addr, /*fAllowLookup=*/false)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139019170",
      "id" : 1139019170,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5A2i",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 666,
      "original_position" : 146,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139019170/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139019170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139037448"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139037448"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, `std::optional` without the template parameter? I guess the compiler is smart enough to deduct it, but in other places you used `std::optional<CNetAddr>`, better add the template parameter here for consistency. Or use `const auto addr = ...` eveywhere?",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T16:44:00Z",
      "diff_hunk" : "@@ -712,9 +712,10 @@ static RPCHelpMan setban()\n         isSubnet = true;\n \n     if (!isSubnet) {\n-        CNetAddr resolved;\n-        LookupHost(request.params[0].get_str(), resolved, false);\n-        netAddr = resolved;\n+        const std::optional addr = LookupHost(request.params[0].get_str(), false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139037448",
      "id" : 1139037448,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5FUI",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 715,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139037448/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139037448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139049268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139049268"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The previous code would have returned a default constructed `CNetAddr` if lookup failed. The new code will throw `std::bad_optional_access` because it will call `addr.value()` when the optional has no value. I guess this will fix it:\r\n\r\n```cpp\r\nreturn addr.value_or(CNetAddr{});\r\n```\r\n\r\n`BOOST_CHECK_MESSAGE()` will continue execution if the expression is `false`. `BOOST_REQUIRE_MESSAGE()` will stop the execution of the test.",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T16:50:52Z",
      "diff_hunk" : "@@ -33,16 +33,16 @@ static int32_t GetCheckRatio(const NodeContext& node_ctx)\n \n static CNetAddr ResolveIP(const std::string& ip)\n {\n-    CNetAddr addr;\n-    BOOST_CHECK_MESSAGE(LookupHost(ip, addr, false), strprintf(\"failed to resolve: %s\", ip));\n-    return addr;\n+    const std::optional<CNetAddr> addr{LookupHost(ip, false)};\n+    BOOST_CHECK_MESSAGE(addr.has_value(), strprintf(\"failed to resolve: %s\", ip));\n+    return addr.value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139049268",
      "id" : 1139049268,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5IM0",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 38,
      "original_position" : 9,
      "original_start_line" : 36,
      "path" : "src/test/addrman_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139049268/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139049268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139066512"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139066512"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Same here:\r\n\r\n```suggestion\r\n    return serv.value_or(CService{});\r\n```",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T17:00:39Z",
      "diff_hunk" : "@@ -33,16 +33,16 @@ static int32_t GetCheckRatio(const NodeContext& node_ctx)\n \n static CNetAddr ResolveIP(const std::string& ip)\n {\n-    CNetAddr addr;\n-    BOOST_CHECK_MESSAGE(LookupHost(ip, addr, false), strprintf(\"failed to resolve: %s\", ip));\n-    return addr;\n+    const std::optional<CNetAddr> addr{LookupHost(ip, false)};\n+    BOOST_CHECK_MESSAGE(addr.has_value(), strprintf(\"failed to resolve: %s\", ip));\n+    return addr.value();\n }\n \n static CService ResolveService(const std::string& ip, uint16_t port = 0)\n {\n-    CService serv;\n-    BOOST_CHECK_MESSAGE(Lookup(ip, serv, port, false), strprintf(\"failed to resolve: %s:%i\", ip, port));\n-    return serv;\n+    const std::optional<CService> serv{Lookup(ip, port, false)};\n+    BOOST_CHECK_MESSAGE(serv.has_value(), strprintf(\"failed to resolve: %s:%i\", ip, port));\n+    return serv.value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139066512",
      "id" : 1139066512,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5MaQ",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 45,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/test/addrman_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139066512/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139066512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139129291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139129291"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    const std::optional<CService> serv{Lookup(\"252.1.1.1\", 7777, false)};\r\n    BOOST_CHECK(serv.has_value());\r\n    CAddress addr{serv.value_or(CService{}), NODE_NONE};\r\n    std::optional<CNetAddr> resolved{LookupHost(\"252.2.2.2\", false)};\r\n    BOOST_CHECK(resolved.has_value());\r\n    AddrInfo info{addr, resolved.value_or(CNetAddr{})};\r\n```\r\n\r\nor replace `BOOST_CHECK()` with `BOOST_REQUIRE()`. Maybe that was the original intention of this? Looks to me that a successful resolve is a precondition for the test to continue/make sense.",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T17:37:56Z",
      "diff_hunk" : "@@ -922,12 +927,12 @@ static CDataStream MakeCorruptPeersDat()\n     int nUBuckets = ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30);\n     s << nUBuckets;\n \n-    CService serv;\n-    BOOST_CHECK(Lookup(\"252.1.1.1\", serv, 7777, false));\n-    CAddress addr = CAddress(serv, NODE_NONE);\n-    CNetAddr resolved;\n-    BOOST_CHECK(LookupHost(\"252.2.2.2\", resolved, false));\n-    AddrInfo info = AddrInfo(addr, resolved);\n+    const std::optional<CService> serv{Lookup(\"252.1.1.1\", 7777, false)};\n+    BOOST_CHECK(serv.has_value());\n+    CAddress addr = CAddress(serv.value(), NODE_NONE);\n+    std::optional<CNetAddr> resolved{LookupHost(\"252.2.2.2\", false)};\n+    BOOST_CHECK(resolved.has_value());\n+    AddrInfo info = AddrInfo(addr, resolved.value());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139129291",
      "id" : 1139129291,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5bvL",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 935,
      "original_position" : 72,
      "original_start_line" : 930,
      "path" : "src/test/addrman_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139129291/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139129291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139153162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139153162"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The `i->first.empty()` is missing in the new code. In this case the old code would have printed the warning, but the new code will not because `LookupHost(\"\", false)` will return an optional without value.",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T17:52:26Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\n+            if (addr.has_value() && addr->IsBindAny()) {\n                 LogPrintf(\"WARNING: the RPC server is not safe to expose to untrusted networks such as the public internet\\n\");\n             }\n             boundSockets.push_back(bind_handle);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139153162",
      "id" : 1139153162,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5hkK",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 322,
      "original_position" : 25,
      "original_start_line" : 317,
      "path" : "src/httpserver.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139153162/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139153162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139167447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139167447"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This can be shorter:\r\n\r\n```cpp\r\n    BOOST_CHECK(LookupHost(\"127.0.0.1\"s, false).has_value());\r\n    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0\"s, false).has_value());\r\n    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0example.com\"s, false).has_value());\r\n    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0example.com\\0\"s, false).has_value());\r\n```",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T18:00:47Z",
      "diff_hunk" : "@@ -477,11 +475,14 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n \n BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\n {\n-    CNetAddr addr;\n-    BOOST_CHECK(LookupHost(\"127.0.0.1\"s, addr, false));\n-    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0\"s, addr, false));\n-    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0example.com\"s, addr, false));\n-    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0example.com\\0\"s, addr, false));\n+    std::optional<CNetAddr> addr{LookupHost(\"127.0.0.1\"s, false)};\n+    BOOST_CHECK(addr.has_value());\n+    addr = LookupHost(\"127.0.0.1\\0\"s, false);\n+    BOOST_CHECK(!addr.has_value());\n+    addr = LookupHost(\"127.0.0.1\\0example.com\"s, false);\n+    BOOST_CHECK(!addr.has_value());\n+    addr = LookupHost(\"127.0.0.1\\0example.com\\0\"s, false);\n+    BOOST_CHECK(!addr.has_value());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139167447",
      "id" : 1139167447,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D5lDX",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 485,
      "original_position" : 27,
      "original_start_line" : 480,
      "path" : "src/test/netbase_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139167447/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139167447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139172258"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139172258"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There was a bug in the old code - if lookup failed it would have returned `true` (i.e. pretend that it is IPv6). The new code fixes this, nice!",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T18:03:45Z",
      "diff_hunk" : "@@ -99,9 +99,8 @@ static bool IsZMQAddressIPV6(const std::string &zmq_address)\n     const size_t colon_index = zmq_address.rfind(\":\");\n     if (tcp_index == 0 && colon_index != std::string::npos) {\n         const std::string ip = zmq_address.substr(tcp_prefix.length(), colon_index - tcp_prefix.length());\n-        CNetAddr addr;\n-        LookupHost(ip, addr, false);\n-        if (addr.IsIPv6()) return true;\n+        const std::optional<CNetAddr> addr{LookupHost(ip, false)};\n+        if (addr.has_value() && addr.value().IsIPv6()) return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139172258",
      "id" : 1139172258,
      "line" : 103,
      "node_id" : "PRRC_kwDOABII585D5mOi",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 103,
      "original_position" : 8,
      "original_start_line" : 102,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : 8,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139172258/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 102,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139172258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139178852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139178852"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is removed in its own commit\r\n```\r\np2p: remove duplicated `ContainsNoNUL` calls in `Lookup`\r\n```\r\nbut I guess that removal can be squashed into one of the preceding commits:\r\n```\r\np2p, refactor: return vector/optional<CService> in `Lookup`\r\n```\r\nlike the same check is removed from `LookupHost()` in\r\n```\r\np2p, refactor: return `std::optional<CNetAddr>` in `LookupHost`\r\n```",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T18:09:04Z",
      "diff_hunk" : "@@ -148,96 +143,75 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // getaddrinfo to decode them and it wouldn't make sense to resolve\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n-        if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n-        }\n+        if (addr.SetSpecial(name)) return {addr};\n     }\n \n+    std::vector<CNetAddr> addresses;\n+\n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n+    if (!ContainsNoNUL(name)) return {};\n     std::string strHost = name;\n-    if (strHost.empty())\n-        return false;\n+    if (strHost.empty()) return {};\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    return addresses.empty() ? std::nullopt : std::make_optional(addresses.front());\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return {};\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return {};\n+    std::vector<CService> services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);\n+    return services;\n }\n \n-bool Lookup(const std::string& name, CService& addr, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139178852",
      "id" : 1139178852,
      "line" : 221,
      "node_id" : "PRRC_kwDOABII585D5n1k",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 221,
      "original_position" : 114,
      "original_start_line" : 219,
      "path" : "src/netbase.cpp",
      "position" : 114,
      "pull_request_review_id" : 1344256494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139178852/reactions"
      },
      "side" : "LEFT",
      "start_line" : 219,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T18:09:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139178852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139401775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139401775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Even being a comment in `LookupHost`, you're right, the change is done in the next commit. Thanks",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T22:04:02Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139401775",
      "id" : 1139401775,
      "in_reply_to_id" : 1139005096,
      "line" : 112,
      "node_id" : "PRRC_kwDOABII585D6eQv",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 112,
      "original_position" : 13,
      "original_start_line" : 114,
      "path" : "src/netbase.h",
      "position" : 13,
      "pull_request_review_id" : 1344786423,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139401775/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 114,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T22:04:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139401775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139404408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139404408"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Seems a leftover from my part, didn't did it intentionally, thanks for noticing it. Fixed.",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T22:07:07Z",
      "diff_hunk" : "@@ -712,9 +712,10 @@ static RPCHelpMan setban()\n         isSubnet = true;\n \n     if (!isSubnet) {\n-        CNetAddr resolved;\n-        LookupHost(request.params[0].get_str(), resolved, false);\n-        netAddr = resolved;\n+        const std::optional addr = LookupHost(request.params[0].get_str(), false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139404408",
      "id" : 1139404408,
      "in_reply_to_id" : 1139037448,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D6e54",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 715,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1344793747,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139404408/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-16T22:07:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139404408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139406701"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139406701"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice find, I think it's better to leave `BOOST_CHECK_MESSAGE()` and using `return addr.value_or(CNetAddr{});`. Addressing it.",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T22:09:38Z",
      "diff_hunk" : "@@ -33,16 +33,16 @@ static int32_t GetCheckRatio(const NodeContext& node_ctx)\n \n static CNetAddr ResolveIP(const std::string& ip)\n {\n-    CNetAddr addr;\n-    BOOST_CHECK_MESSAGE(LookupHost(ip, addr, false), strprintf(\"failed to resolve: %s\", ip));\n-    return addr;\n+    const std::optional<CNetAddr> addr{LookupHost(ip, false)};\n+    BOOST_CHECK_MESSAGE(addr.has_value(), strprintf(\"failed to resolve: %s\", ip));\n+    return addr.value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139406701",
      "id" : 1139406701,
      "in_reply_to_id" : 1139049268,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D6fdt",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 38,
      "original_position" : 9,
      "original_start_line" : 36,
      "path" : "src/test/addrman_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344799619,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139406701/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T22:09:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139406701",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139407547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139407547"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice!",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T22:10:55Z",
      "diff_hunk" : "@@ -33,16 +33,16 @@ static int32_t GetCheckRatio(const NodeContext& node_ctx)\n \n static CNetAddr ResolveIP(const std::string& ip)\n {\n-    CNetAddr addr;\n-    BOOST_CHECK_MESSAGE(LookupHost(ip, addr, false), strprintf(\"failed to resolve: %s\", ip));\n-    return addr;\n+    const std::optional<CNetAddr> addr{LookupHost(ip, false)};\n+    BOOST_CHECK_MESSAGE(addr.has_value(), strprintf(\"failed to resolve: %s\", ip));\n+    return addr.value();\n }\n \n static CService ResolveService(const std::string& ip, uint16_t port = 0)\n {\n-    CService serv;\n-    BOOST_CHECK_MESSAGE(Lookup(ip, serv, port, false), strprintf(\"failed to resolve: %s:%i\", ip, port));\n-    return serv;\n+    const std::optional<CService> serv{Lookup(ip, port, false)};\n+    BOOST_CHECK_MESSAGE(serv.has_value(), strprintf(\"failed to resolve: %s:%i\", ip, port));\n+    return serv.value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139407547",
      "id" : 1139407547,
      "in_reply_to_id" : 1139066512,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D6fq7",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 45,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/test/addrman_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344801863,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139407547/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-16T22:10:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139407547",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139409510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139409510"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Much more cleaner, nice! ",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T22:14:08Z",
      "diff_hunk" : "@@ -477,11 +475,14 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n \n BOOST_AUTO_TEST_CASE(netbase_dont_resolve_strings_with_embedded_nul_characters)\n {\n-    CNetAddr addr;\n-    BOOST_CHECK(LookupHost(\"127.0.0.1\"s, addr, false));\n-    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0\"s, addr, false));\n-    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0example.com\"s, addr, false));\n-    BOOST_CHECK(!LookupHost(\"127.0.0.1\\0example.com\\0\"s, addr, false));\n+    std::optional<CNetAddr> addr{LookupHost(\"127.0.0.1\"s, false)};\n+    BOOST_CHECK(addr.has_value());\n+    addr = LookupHost(\"127.0.0.1\\0\"s, false);\n+    BOOST_CHECK(!addr.has_value());\n+    addr = LookupHost(\"127.0.0.1\\0example.com\"s, false);\n+    BOOST_CHECK(!addr.has_value());\n+    addr = LookupHost(\"127.0.0.1\\0example.com\\0\"s, false);\n+    BOOST_CHECK(!addr.has_value());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139409510",
      "id" : 1139409510,
      "in_reply_to_id" : 1139167447,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D6gJm",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 485,
      "original_position" : 27,
      "original_start_line" : 480,
      "path" : "src/test/netbase_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344807584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139409510/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T22:14:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139409510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139429347"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139429347"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Replaced it with `BOOST_REQUIRE()`",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-16T22:45:14Z",
      "diff_hunk" : "@@ -922,12 +927,12 @@ static CDataStream MakeCorruptPeersDat()\n     int nUBuckets = ADDRMAN_NEW_BUCKET_COUNT ^ (1 << 30);\n     s << nUBuckets;\n \n-    CService serv;\n-    BOOST_CHECK(Lookup(\"252.1.1.1\", serv, 7777, false));\n-    CAddress addr = CAddress(serv, NODE_NONE);\n-    CNetAddr resolved;\n-    BOOST_CHECK(LookupHost(\"252.2.2.2\", resolved, false));\n-    AddrInfo info = AddrInfo(addr, resolved);\n+    const std::optional<CService> serv{Lookup(\"252.1.1.1\", 7777, false)};\n+    BOOST_CHECK(serv.has_value());\n+    CAddress addr = CAddress(serv.value(), NODE_NONE);\n+    std::optional<CNetAddr> resolved{LookupHost(\"252.2.2.2\", false)};\n+    BOOST_CHECK(resolved.has_value());\n+    AddrInfo info = AddrInfo(addr, resolved.value());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1139429347",
      "id" : 1139429347,
      "in_reply_to_id" : 1139129291,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D6k_j",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 935,
      "original_position" : 72,
      "original_start_line" : 930,
      "path" : "src/test/addrman_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1344871444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139429347/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-16T22:45:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1139429347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing @vasild's review. Thanks @vasild for your in-depth review and considerations!",
      "created_at" : "2023-03-16T22:54:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1472866874",
      "id" : 1472866874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585Xyio6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472866874/reactions"
      },
      "updated_at" : "2023-03-16T22:54:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472866874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1140013676"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140013676"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now it is:\r\n\r\n```cpp\r\nconst std::optional<CNetAddr> addr{LookupHost(i->first, false)};\r\nif (i->first.empty() && addr.has_value() && addr->IsBindAny()) {\r\n    LogPrintf(\"WARNING: the RPC server is not safe to expose to untrusted networks such as the public internet\\n\");\r\n```\r\n\r\nIf the string (`i->first`) is empty then `addr.has_value()` will never be true. Thus this condition will never be true and the warning will never be printed. It should be:\r\n\r\n```cpp\r\nif (i->first.empty() || (add.has_value() && addr->IsBindAny())) {\r\n```",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-17T09:49:06Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\n+            if (addr.has_value() && addr->IsBindAny()) {\n                 LogPrintf(\"WARNING: the RPC server is not safe to expose to untrusted networks such as the public internet\\n\");\n             }\n             boundSockets.push_back(bind_handle);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1140013676",
      "id" : 1140013676,
      "in_reply_to_id" : 1139153162,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D8zps",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 322,
      "original_position" : 25,
      "original_start_line" : 317,
      "path" : "src/httpserver.cpp",
      "position" : null,
      "pull_request_review_id" : 1345611472,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140013676/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-17T09:49:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140013676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1140043673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140043673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed it, thanks! ",
      "commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-17T10:17:46Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\n+            if (addr.has_value() && addr->IsBindAny()) {\n                 LogPrintf(\"WARNING: the RPC server is not safe to expose to untrusted networks such as the public internet\\n\");\n             }\n             boundSockets.push_back(bind_handle);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1140043673",
      "id" : 1140043673,
      "in_reply_to_id" : 1139153162,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585D86-Z",
      "original_commit_id" : "9890fbdf0b702ccb77a3b54d116cd5d7e95ecffa",
      "original_line" : 322,
      "original_position" : 25,
      "original_start_line" : 317,
      "path" : "src/httpserver.cpp",
      "position" : null,
      "pull_request_review_id" : 1345656357,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140043673/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-17T10:17:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140043673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "created_at" : "2023-03-17T10:24:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1473619930",
      "id" : 1473619930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585X1afa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473619930/reactions"
      },
      "updated_at" : "2023-03-17T10:24:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473619930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1140315012"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140315012"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There's another such update needed for the `LookupNumeric` docstring which currently reads:\r\n\r\n```\r\n* @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\r\n* for additional parameter descriptions.\r\n```",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-03-17T14:32:34Z",
      "diff_hunk" : "@@ -132,27 +133,25 @@ bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSL\n  *                disambiguated bracketed form), optionally followed by a uint16_t port\n  *                number. (e.g. example.com:8333 or\n  *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n- * @param[out] vAddr The resulting services to which the specified service string\n- *                   resolved.\n  * @param portDefault The default port for resulting services if not specified\n  *                    by the service string.\n  * @param fAllowLookup Whether or not hostname lookups are permitted. If yes,\n  *                     external queries may be performed.\n  * @param nMaxSolutions The maximum number of results we want, specifying 0\n  *                      means \"as many solutions as we get.\"\n  *\n- * @returns Whether or not the service string successfully resolved to any\n- *          resulting services.\n+ * @returns The resulting services to which the specified service string\n+ *          resolved.\n  */\n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a service string to its first corresponding service.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1140315012",
      "id" : 1140315012,
      "line" : 151,
      "node_id" : "PRRC_kwDOABII585D99OE",
      "original_commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "original_line" : 151,
      "original_position" : 59,
      "original_start_line" : 152,
      "path" : "src/netbase.h",
      "position" : 59,
      "pull_request_review_id" : 1346068660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140315012/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 152,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-03-30T12:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1140315012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153136412"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153136412"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Largely unrelated, so just leaving this here for follow-up. I think this can be cleaned up quite a bit:\r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/httpserver.cpp b/src/httpserver.cpp\r\nindex 49c2a85e1..46d095633 100644\r\n--- a/src/httpserver.cpp\r\n+++ b/src/httpserver.cpp\r\n@@ -311,17 +311,17 @@ static bool HTTPBindAddresses(struct evhttp* http)\r\n     }\r\n \r\n     // Bind addresses\r\n-    for (std::vector<std::pair<std::string, uint16_t> >::iterator i = endpoints.begin(); i != endpoints.end(); ++i) {\r\n-        LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\r\n-        evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\r\n+    for (const auto& [raw_addr, port] : endpoints) {\r\n+        LogPrintf(\"Binding RPC on address %s port %i\\n\", raw_addr, port);\r\n+        evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, raw_addr.empty() ? nullptr : raw_addr.c_str(), port);\r\n         if (bind_handle) {\r\n-            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\r\n-            if (i->first.empty() || (addr.has_value() && addr->IsBindAny())) {\r\n+            const std::optional<CNetAddr> addr{LookupHost(raw_addr, false)};\r\n+            if (raw_addr.empty() || (addr.has_value() && addr->IsBindAny())) {\r\n                 LogPrintf(\"WARNING: the RPC server is not safe to expose to untrusted networks such as the public internet\\n\");\r\n             }\r\n             boundSockets.push_back(bind_handle);\r\n         } else {\r\n-            LogPrintf(\"Binding RPC on address %s port %i failed.\\n\", i->first, i->second);\r\n+            LogPrintf(\"Binding RPC on address %s port %i failed.\\n\", raw_addr, port);\r\n         }\r\n     }\r\n     return !boundSockets.empty();\r\n\r\n```\r\n</details>",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-03-30T11:43:42Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153136412",
      "id" : 1153136412,
      "line" : 337,
      "node_id" : "PRRC_kwDOABII585Eu3cc",
      "original_commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "original_line" : 337,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/httpserver.cpp",
      "position" : 21,
      "pull_request_review_id" : 1346068660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153136412/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-30T12:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153136412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153142035"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153142035"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The comment was on an older commit, so apologies if I'm missing something, but I'm not sure it's fully addressed? In `if (i->first.empty() || (addr.has_value() && addr->IsBindAny()))`, I think the first `i->first.empty()` is indeed still superfluous as theStack pointed out.",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-03-30T11:49:07Z",
      "diff_hunk" : "@@ -319,8 +315,8 @@ static bool HTTPBindAddresses(struct evhttp* http)\n         LogPrintf(\"Binding RPC on address %s port %i\\n\", i->first, i->second);\n         evhttp_bound_socket *bind_handle = evhttp_bind_socket_with_handle(http, i->first.empty() ? nullptr : i->first.c_str(), i->second);\n         if (bind_handle) {\n-            CNetAddr addr;\n-            if (i->first.empty() || (LookupHost(i->first, addr, false) && addr.IsBindAny())) {\n+            const std::optional<CNetAddr> addr{LookupHost(i->first, false)};\n+            if (i->first.empty() || (addr.has_value() && addr->IsBindAny())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153142035",
      "id" : 1153142035,
      "in_reply_to_id" : 1088070797,
      "line" : 338,
      "node_id" : "PRRC_kwDOABII585Eu40T",
      "original_commit_id" : "55d991af40d6154be5e1c200753ce1f0279c6717",
      "original_line" : 338,
      "original_position" : 22,
      "original_start_line" : 318,
      "path" : "src/httpserver.cpp",
      "position" : 22,
      "pull_request_review_id" : 1346068660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153142035/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 337,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-30T12:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153142035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153145784"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153145784"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    const CService ui_proxy{ui_proxy_netaddr.value_or(CNetAddr{}), ui->proxyPort->text().toUShort()};\r\n```",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-03-30T11:52:54Z",
      "diff_hunk" : "@@ -406,9 +406,8 @@ void OptionsDialog::updateProxyValidationState()\n \n void OptionsDialog::updateDefaultProxyNets()\n {\n-    CNetAddr ui_proxy_netaddr;\n-    LookupHost(ui->proxyIp->text().toStdString(), ui_proxy_netaddr, /*fAllowLookup=*/false);\n-    const CService ui_proxy{ui_proxy_netaddr, ui->proxyPort->text().toUShort()};\n+    const std::optional<CNetAddr> ui_proxy_netaddr{LookupHost(ui->proxyIp->text().toStdString(), /*fAllowLookup=*/false)};\n+    const CService ui_proxy{ui_proxy_netaddr.has_value() ? ui_proxy_netaddr.value() : CNetAddr{}, ui->proxyPort->text().toUShort()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153145784",
      "id" : 1153145784,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Eu5u4",
      "original_commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "original_line" : 410,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/qt/optionsdialog.cpp",
      "position" : null,
      "pull_request_review_id" : 1346068660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153145784/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-30T12:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153145784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153157545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153157545"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "A bit more readable and avoids default initializing CServices:\r\n\r\n```suggestion\r\n    services.reserve(addresses.size());\r\n    for (const auto& addr : addresses)\r\n        services.emplace_back(addr, port);\r\n```",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-03-30T12:04:24Z",
      "diff_hunk" : "@@ -148,96 +143,75 @@ static bool LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         // getaddrinfo to decode them and it wouldn't make sense to resolve\n         // them, we return a network address representing it instead. See\n         // CNetAddr::SetSpecial(const std::string&) for more details.\n-        if (addr.SetSpecial(name)) {\n-            vIP.push_back(addr);\n-            return true;\n-        }\n+        if (addr.SetSpecial(name)) return {addr};\n     }\n \n+    std::vector<CNetAddr> addresses;\n+\n     for (const CNetAddr& resolved : dns_lookup_function(name, fAllowLookup)) {\n-        if (nMaxSolutions > 0 && vIP.size() >= nMaxSolutions) {\n+        if (nMaxSolutions > 0 && addresses.size() >= nMaxSolutions) {\n             break;\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {\n-            vIP.push_back(resolved);\n+            addresses.push_back(resolved);\n         }\n     }\n \n-    return (vIP.size() > 0);\n+    return addresses;\n }\n \n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n+    if (!ContainsNoNUL(name)) return {};\n     std::string strHost = name;\n-    if (strHost.empty())\n-        return false;\n+    if (strHost.empty()) return {};\n     if (strHost.front() == '[' && strHost.back() == ']') {\n         strHost = strHost.substr(1, strHost.size() - 2);\n     }\n \n-    return LookupIntern(strHost, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n+    return LookupIntern(strHost, nMaxSolutions, fAllowLookup, dns_lookup_function);\n }\n \n-bool LookupHost(const std::string& name, CNetAddr& addr, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n+std::optional<CNetAddr> LookupHost(const std::string& name, bool fAllowLookup, DNSLookupFn dns_lookup_function)\n {\n-    if (!ContainsNoNUL(name)) {\n-        return false;\n-    }\n-    std::vector<CNetAddr> vIP;\n-    LookupHost(name, vIP, 1, fAllowLookup, dns_lookup_function);\n-    if(vIP.empty())\n-        return false;\n-    addr = vIP.front();\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupHost(name, 1, fAllowLookup, dns_lookup_function)};\n+    return addresses.empty() ? std::nullopt : std::make_optional(addresses.front());\n }\n \n-bool Lookup(const std::string& name, std::vector<CService>& vAddr, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n+std::vector<CService> Lookup(const std::string& name, uint16_t portDefault, bool fAllowLookup, unsigned int nMaxSolutions, DNSLookupFn dns_lookup_function)\n {\n     if (name.empty() || !ContainsNoNUL(name)) {\n-        return false;\n+        return {};\n     }\n     uint16_t port{portDefault};\n     std::string hostname;\n     SplitHostPort(name, port, hostname);\n \n-    std::vector<CNetAddr> vIP;\n-    bool fRet = LookupIntern(hostname, vIP, nMaxSolutions, fAllowLookup, dns_lookup_function);\n-    if (!fRet)\n-        return false;\n-    vAddr.resize(vIP.size());\n-    for (unsigned int i = 0; i < vIP.size(); i++)\n-        vAddr[i] = CService(vIP[i], port);\n-    return true;\n+    const std::vector<CNetAddr> addresses{LookupIntern(hostname, nMaxSolutions, fAllowLookup, dns_lookup_function)};\n+    if (addresses.empty()) return {};\n+    std::vector<CService> services;\n+    services.resize(addresses.size());\n+    for (unsigned int i = 0; i < addresses.size(); i++)\n+        services[i] = CService(addresses[i], port);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153157545",
      "id" : 1153157545,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Eu8mp",
      "original_commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "original_line" : 196,
      "original_position" : 105,
      "original_start_line" : 194,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1346068660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153157545/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-30T12:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153157545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153170805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153170805"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This docstring is updated in ab4257be34209fd61efb409593dc7aa21dba0fb7, but there it still returns a `bool`. The signature is only updated to return `std::optional<CNetAddr>` in 30efd6d36e24c83f5c094e30f8cb25e66e913d73\r\n\r\nMoreover, the function never returns `addresses`, it's only ever singular. I also don't like the phrasing of 'empty', so would prefer updating this to:\r\n```suggestion\r\n * @returns The resulting network address to which the specified host\r\n *          string resolved or std::nullopt if host does not resolve to an address.\r\n```",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-03-30T12:16:53Z",
      "diff_hunk" : "@@ -105,24 +105,25 @@ extern DNSLookupFn g_dns_lookup;\n  * @param name    The string representing a host. Could be a name or a numerical\n  *                IP address (IPv6 addresses in their bracketed form are\n  *                allowed).\n- * @param[out] vIP The resulting network addresses to which the specified host\n- *                 string resolved.\n  *\n- * @returns Whether or not the specified host string successfully resolved to\n- *          any resulting network addresses.\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved.\n  *\n- * @see Lookup(const std::string&, std::vector<CService>&, uint16_t, bool, unsigned int, DNSLookupFn)\n+ * @see Lookup(const std::string&, uint16_t, bool, unsigned int, DNSLookupFn)\n  *      for additional parameter descriptions.\n  */\n-bool LookupHost(const std::string& name, std::vector<CNetAddr>& vIP, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n+std::vector<CNetAddr> LookupHost(const std::string& name, unsigned int nMaxSolutions, bool fAllowLookup, DNSLookupFn dns_lookup_function = g_dns_lookup);\n \n /**\n  * Resolve a host string to its first corresponding network address.\n  *\n- * @see LookupHost(const std::string&, std::vector<CNetAddr>&, uint16_t, bool, DNSLookupFn)\n+ * @returns The resulting network addresses to which the specified host\n+ *          string resolved or 'empty' if host does not resolve to an address.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153170805",
      "id" : 1153170805,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Eu_11",
      "original_commit_id" : "ec28c89ef69cd3fbb1a82785c841d303b2bf4826",
      "original_line" : 121,
      "original_position" : 24,
      "original_start_line" : 120,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_review_id" : 1346068660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153170805/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-30T12:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1153170805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, @stickies-v for your review. Will address your latest suggestions in a follow-up PR.",
      "created_at" : "2023-03-31T12:57:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1491886629",
      "id" : 1491886629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585Y7GIl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491886629/reactions"
      },
      "updated_at" : "2023-03-31T12:57:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491886629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I had to touch `bench` code to fix an error CI pointed out, so I took the moment to address some suggestions from @stickies-v.\r\n\r\nAddressed:\r\nhttps://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153145784\r\nhttps://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153157545\r\nhttps://github.com/bitcoin/bitcoin/pull/26261#discussion_r1153170805\r\n",
      "created_at" : "2023-04-26T08:57:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#issuecomment-1523037238",
      "id" : 1523037238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26261",
      "node_id" : "IC_kwDOABII585ax7Q2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523037238/reactions"
      },
      "updated_at" : "2023-04-26T08:57:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523037238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1177587552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1177587552"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Any reason why not just reuse the already looked up service?\r\n```suggestion\r\n    const CService service{Lookup(\"250.3.1.1\", 8333, false).value()};\r\n    addrman.Add({CAddress(service, NODE_NONE)}, service);\r\n```",
      "commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "created_at" : "2023-04-26T09:17:46Z",
      "diff_hunk" : "@@ -118,8 +104,8 @@ static void AddrManSelectFromAlmostEmpty(benchmark::Bench& bench)\n     AddrMan addrman{EMPTY_NETGROUPMAN, /*deterministic=*/false, ADDRMAN_CONSISTENCY_CHECK_RATIO};\n \n     // Add one address to the new table\n-    CService addr = ResolveService(\"250.3.1.1\", 8333);\n-    addrman.Add({CAddress(addr, NODE_NONE)}, ResolveService(\"250.3.1.1\", 8333));\n+    CService addr = Lookup(\"250.3.1.1\", 8333, false).value();\n+    addrman.Add({CAddress(addr, NODE_NONE)}, Lookup(\"250.3.1.1\", 8333, false).value());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26261#discussion_r1177587552",
      "id" : 1177587552,
      "line" : 108,
      "node_id" : "PRRC_kwDOABII585GMI9g",
      "original_commit_id" : "4eee95e57bb6f773bcaeb405bca949f158a62134",
      "original_line" : 108,
      "original_position" : 28,
      "original_start_line" : 107,
      "path" : "src/bench/addrman.cpp",
      "position" : 28,
      "pull_request_review_id" : 1401538483,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1177587552/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 107,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-04-26T09:27:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1177587552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   }
]
