[
   {
      "author_association" : "MEMBER",
      "body" : "In https://cirrus-ci.com/task/5952817063002112 (mempool_accept.py):\r\n```bash\r\n test  2022-07-29T13:45:02.711000Z TestFramework (ERROR): Assertion failed \r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 135, in try_rpc\r\n                                       fun(*args, **kwds)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_accept.py\", line 68, in <lambda>\r\n                                       assert_raises_rpc_error(-3, 'JSON value of type string is not of expected type array', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/coverage.py\", line 49, in __call__\r\n                                       return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/authproxy.py\", line 144, in __call__\r\n                                       raise JSONRPCException(response['error'], status)\r\n                                   test_framework.authproxy.JSONRPCException: Expected type array, got string (-3)\r\n                                   During handling of the above exception, another exception occurred:\r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_accept.py\", line 68, in run_test\r\n                                       assert_raises_rpc_error(-3, 'JSON value of type string is not of expected type array', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 126, in assert_raises_rpc_error\r\n                                       assert try_rpc(code, message, fun, *args, **kwds), \"No exception raised\"\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 143, in try_rpc\r\n                                       message, e.error['message']))\r\n                                   AssertionError: Expected substring not found in error message:\r\n                                   substring: 'JSON value of type string is not of expected type array'\r\n                                   error message: 'Expected type array, got string'.\r\n```",
      "created_at" : "2022-07-29T13:49:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199309413",
      "id" : 1199309413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HfAJl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199309413/reactions"
      },
      "updated_at" : "2022-07-29T13:49:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199309413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thx @fanquake, pushed ðð¼.",
      "created_at" : "2022-07-29T13:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199311095",
      "id" : 1199311095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HfAj3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199311095/reactions"
      },
      "updated_at" : "2022-07-29T13:51:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199311095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would it make sense to first adapt the UniValue error messages so that these remain the same for client software? Otherwise this seems like it would be needlessly changing user space.\r\n\r\ngood point @jonatack. Will move into that direction.\r\n\r\nstill, the new error introduced in #25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n",
      "created_at" : "2022-07-29T17:30:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199785278",
      "id" : 1199785278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hg0U-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199785278/reactions"
      },
      "updated_at" : "2022-07-29T21:17:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199785278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> good point @jonatack. Will move into that direction.\r\n> still, the new error introduced in https://github.com/bitcoin/bitcoin/pull/25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n\r\nI really don't think we need to revert these changes (Â£25629), or have any sort of \"deprecation\" for the older messages.",
      "created_at" : "2022-07-29T21:32:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199959364",
      "id" : 1199959364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hhe1E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199959364/reactions"
      },
      "updated_at" : "2022-07-29T21:32:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199959364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26039](https://github.com/bitcoin/bitcoin/pull/26039) (rpc: Return RPC_TYPE_ERROR, not RPC_MISC_ERROR on type mismatch (1/2) by MarcoFalke)\n* [#25429](https://github.com/bitcoin/bitcoin/pull/25429) (refactor: Avoid UniValue copies by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-29T21:53:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199969179",
      "id" : 1199969179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HhhOb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199969179/reactions"
      },
      "updated_at" : "2022-09-15T00:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199969179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933765705"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ACK, previously this was `\"JSON value is not an {} as expected\"`. Then, changed in fae5ce8795080018875227aee8613677f92e99ce.\r\n\r\nI think I wanted to use your wording, so mind to split this up into a separate pull?",
      "commit_id" : "53ce3b886f9fcb9e44ca9cbcaf8262c28a394cf4",
      "created_at" : "2022-07-30T07:20:17Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933765705",
      "id" : 933765705,
      "line" : 220,
      "node_id" : "PRRC_kwDOABII5843qCJJ",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : 6,
      "pull_request_review_id" : 1056245362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T07:20:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > good point @jonatack. Will move into that direction.\r\n> > still, the new error introduced in #25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n> \r\n> I really don't think we need to revert these changes (Â£25629), or have any sort of \"deprecation\" for the older messages.\r\n\r\nThinking about this for a second time, and.. agree.  It doesn't make sense to build any client based on a json parsing error.. if the RPC command is expecting an int and receives a string, it will always fail and never execute the command. So the new error description shouldn't affect anyone. Will just drop the first commit.",
      "created_at" : "2022-07-30T15:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200218274",
      "id" : 1200218274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HieCi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200218274/reactions"
      },
      "updated_at" : "2022-07-30T15:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200218274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933827499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933827499"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "will just drop the revert (rationale: https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200218274).",
      "commit_id" : "d48f5d1a65d99339d761da17db8ed1cd64457b3e",
      "created_at" : "2022-07-30T15:16:19Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933827499",
      "id" : 933827499,
      "in_reply_to_id" : 933765705,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843qROr",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : null,
      "pull_request_review_id" : 1056406409,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933827499/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T15:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933827499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933850099"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933850099"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure, no strong opinion. Just to clarify, you haven't \"dropped the revert\": It is not a revert, but a change to the string. Also, the string is still changed in this pull request.",
      "commit_id" : "d48f5d1a65d99339d761da17db8ed1cd64457b3e",
      "created_at" : "2022-07-30T15:54:07Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933850099",
      "id" : 933850099,
      "in_reply_to_id" : 933765705,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843qWvz",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : null,
      "pull_request_review_id" : 1056424090,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933850099/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T15:54:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933850099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933856319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933856319"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Just to clarify, you haven't \"dropped the revert\": It is not a revert, but a change to the string. \r\n\r\nyeah ok. I thought that the string before fae5ce87 was the \"Expected type {expected], got {type}\" thus why mentioned the revert wording but seems that not. We actually have two different errors for the same problematic.\r\nDepends on the RPC command, we either throw a \"JSON value of type {type} is not of expected type {expected}\" or the \"Expected type {expected], got {type}\".\r\n\r\n> Also, the string is still changed in this pull request.\r\n\r\nYeah, that is intended.\r\n\r\nUnless someone has a strong opinion about it, will actually move the sources to only use the \"JSON value of type {type} is not of expected type {expected}\" error description everywhere and drop the other, less informative, one.\r\n\r\nI think that It doesn't make sense to build any client based on a json parsing error (if the command is expecting an int and you provide a string, the command will fail anyway..), so no one should be affected by this change.",
      "commit_id" : "d48f5d1a65d99339d761da17db8ed1cd64457b3e",
      "created_at" : "2022-07-30T16:40:53Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933856319",
      "id" : 933856319,
      "in_reply_to_id" : 933765705,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843qYQ_",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : null,
      "pull_request_review_id" : 1056430593,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933856319/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T16:43:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933856319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If we really want to change user space, would it make sense to opt for the most frequently used of the error message formats currently, and the shortest and most straightforward one?",
      "created_at" : "2022-07-30T16:47:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200250409",
      "id" : 1200250409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hil4p",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250409/reactions"
      },
      "updated_at" : "2022-07-30T16:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "(See https://github.com/bitcoin/bitcoin/pull/24944#discussion_r857437282 for a list of RPCs.)",
      "created_at" : "2022-07-30T16:51:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200250916",
      "id" : 1200250916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HimAk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250916/reactions"
      },
      "updated_at" : "2022-07-30T16:51:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If we really want to change user space, would it make sense to opt for the most frequently used of the error message formats currently, and the shortest and most straightforward one?\r\n\r\nRight now, we are throwing two different errors for the same problematic.\r\n\r\n1) \"Expected type {expected], got {type}\" \r\n2) \"JSON value of type {type} is not of expected type {expected}\"\r\n\r\nThis PR aims to drop the first one as it is less informative than the second one.\r\n\r\nNote: aside from this changes, we still have the first error in `RPCTypeCheckObj`.",
      "created_at" : "2022-07-31T13:29:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200425927",
      "id" : 1200425927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HjQvH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200425927/reactions"
      },
      "updated_at" : "2022-07-31T13:38:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200425927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r945748356"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/945748356"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "maybe merge if statements?",
      "commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "created_at" : "2022-08-15T13:39:04Z",
      "diff_hunk" : "@@ -41,19 +41,15 @@ void RPCTypeCheck(const UniValue& params,\n \n         const UniValue& v = params[i];\n         if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+            if (!t.typeAny && v.type() != t.type) {\n+                throw JSONRPCError(RPC_TYPE_ERROR,\n+                                   strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r945748356",
      "id" : 945748356,
      "line" : 47,
      "node_id" : "PRRC_kwDOABII5844XvmE",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 47,
      "original_position" : 8,
      "original_start_line" : 43,
      "path" : "src/rpc/util.cpp",
      "position" : 8,
      "pull_request_review_id" : 1072699658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/945748356/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 43,
      "start_side" : "RIGHT",
      "updated_at" : "2022-08-15T13:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/945748356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ack",
      "created_at" : "2022-08-17T02:33:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1217388428",
      "id" : 1217388428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Ij9-M",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1217388428/reactions"
      },
      "updated_at" : "2022-08-17T02:33:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1217388428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23396902?v=4",
         "events_url" : "https://api.github.com/users/jarolrod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jarolrod/followers",
         "following_url" : "https://api.github.com/users/jarolrod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jarolrod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jarolrod",
         "id" : 23396902,
         "login" : "jarolrod",
         "node_id" : "MDQ6VXNlcjIzMzk2OTAy",
         "organizations_url" : "https://api.github.com/users/jarolrod/orgs",
         "received_events_url" : "https://api.github.com/users/jarolrod/received_events",
         "repos_url" : "https://api.github.com/users/jarolrod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jarolrod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jarolrod"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r949460585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/949460585"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why is this redundant?",
      "commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "created_at" : "2022-08-18T18:24:42Z",
      "diff_hunk" : "@@ -605,7 +605,6 @@ static RPCHelpMan gettxspendingprevout()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n         {\n-            RPCTypeCheckArgument(request.params[0], UniValue::VARR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r949460585",
      "id" : 949460585,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII5844l55p",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 608,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 4,
      "pull_request_review_id" : 1077809901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/949460585/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-18T18:24:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/949460585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r961232001"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/961232001"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "oops, great catch. There is another one in coins.cpp. Pushing..",
      "commit_id" : "5ea10772a1c003203103fe1e1fc48dd2a0cc5659",
      "created_at" : "2022-09-02T02:17:23Z",
      "diff_hunk" : "@@ -605,7 +605,6 @@ static RPCHelpMan gettxspendingprevout()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n         {\n-            RPCTypeCheckArgument(request.params[0], UniValue::VARR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r961232001",
      "id" : 961232001,
      "in_reply_to_id" : 949460585,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII5845SzyB",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 608,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 4,
      "pull_request_review_id" : 1094235512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/961232001/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-02T02:17:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/961232001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r961233939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/961233939"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm unsure about chaining all those statements together. It's hard to read already.\r\n\r\nWhat about splitting the statements?\r\ne.g.\r\n```c++\r\nif (fAllowNull && v.isNull()) continue;\r\nif (!t.typeAny && v.type() != t.type) {\r\n    throw JSONRPCError(RPC_TYPE_ERROR,\r\n          strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\r\n}\r\n```",
      "commit_id" : "5ea10772a1c003203103fe1e1fc48dd2a0cc5659",
      "created_at" : "2022-09-02T02:23:07Z",
      "diff_hunk" : "@@ -41,19 +41,15 @@ void RPCTypeCheck(const UniValue& params,\n \n         const UniValue& v = params[i];\n         if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+            if (!t.typeAny && v.type() != t.type) {\n+                throw JSONRPCError(RPC_TYPE_ERROR,\n+                                   strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r961233939",
      "id" : 961233939,
      "in_reply_to_id" : 945748356,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845S0QT",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 47,
      "original_position" : 8,
      "original_start_line" : 43,
      "path" : "src/rpc/util.cpp",
      "position" : null,
      "pull_request_review_id" : 1094237981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/961233939/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-02T02:23:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/961233939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "pushed per @MarcoFalke feedback. Thanks ðð¼.",
      "created_at" : "2022-09-02T12:41:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1235456647",
      "id" : 1235456647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Jo5KH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235456647/reactions"
      },
      "updated_at" : "2022-09-02T12:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235456647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r964828768"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964828768"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would be nice to split this behaviour change of unifying the string into a separate pull request from the refactoring changes ",
      "commit_id" : "5ea10772a1c003203103fe1e1fc48dd2a0cc5659",
      "created_at" : "2022-09-07T13:16:42Z",
      "diff_hunk" : "@@ -40,20 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r964828768",
      "id" : 964828768,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII5845gh5g",
      "original_commit_id" : "5ea10772a1c003203103fe1e1fc48dd2a0cc5659",
      "original_line" : 46,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 9,
      "pull_request_review_id" : 1099157314,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964828768/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T13:16:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964828768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r966188680"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966188680"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok, one sec.",
      "commit_id" : "549fb177aa1fea9126455205f56c70878fbfac54",
      "created_at" : "2022-09-08T16:43:08Z",
      "diff_hunk" : "@@ -40,20 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r966188680",
      "id" : 966188680,
      "in_reply_to_id" : 964828768,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845lt6I",
      "original_commit_id" : "5ea10772a1c003203103fe1e1fc48dd2a0cc5659",
      "original_line" : 46,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : null,
      "pull_request_review_id" : 1101067077,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966188680/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-08T16:43:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966188680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Based on Marko feedback, have removed the string unification from this PR.\r\nWill push it in a subsequent work. Ready to go.",
      "created_at" : "2022-09-08T18:47:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1241096889",
      "id" : 1241096889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585J-aK5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241096889/reactions"
      },
      "updated_at" : "2022-09-08T18:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241096889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r967625948"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967625948"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Now you changed the error code from -3 to -1, effectively the opposite of what #26039 is doing",
      "commit_id" : "549fb177aa1fea9126455205f56c70878fbfac54",
      "created_at" : "2022-09-10T09:31:24Z",
      "diff_hunk" : "@@ -605,7 +605,6 @@ static RPCHelpMan gettxspendingprevout()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n         {\n-            RPCTypeCheckArgument(request.params[0], UniValue::VARR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r967625948",
      "id" : 967625948,
      "in_reply_to_id" : 949460585,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII5845rMzc",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 608,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 4,
      "pull_request_review_id" : 1103104376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967625948/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-10T09:31:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967625948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r967650202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967650202"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "true.. general exceptions are -1, while this is a type error.\r\n\r\nWe could throw a custom exception on the UniValue type check to catch all of them as type errors.\r\n\r\nBut.. I'm more inclined to close this PR and directly go ahead with moving the type checks responsibility to the request handler (which seems that is what you are doing in #26039).\r\nHaven't checked if there is any restriction there but we do have each arg type on the help info object, so.. we could use that to verify every arg type.",
      "commit_id" : "549fb177aa1fea9126455205f56c70878fbfac54",
      "created_at" : "2022-09-10T13:08:33Z",
      "diff_hunk" : "@@ -605,7 +605,6 @@ static RPCHelpMan gettxspendingprevout()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n         {\n-            RPCTypeCheckArgument(request.params[0], UniValue::VARR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r967650202",
      "id" : 967650202,
      "in_reply_to_id" : 949460585,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII5845rSua",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 608,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 4,
      "pull_request_review_id" : 1103127804,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967650202/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-10T13:08:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967650202",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> have removed the string unification from this PR. Will push it in a subsequent work.\r\n\r\nAre you still working on the string unification?",
      "created_at" : "2022-09-12T06:47:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1243290176",
      "id" : 1243290176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KGxpA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243290176/reactions"
      },
      "updated_at" : "2022-09-12T06:47:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243290176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > have removed the string unification from this PR. Will push it in a subsequent work.\r\n> \r\n> Are you still working on the string unification?\r\n\r\nAs this PR touches the same code, was expecting to get it merged prior to create the follow-up PR. But.. based on https://github.com/bitcoin/bitcoin/pull/25737#discussion_r967650202 could create it now.",
      "created_at" : "2022-09-12T13:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1243734018",
      "id" : 1243734018,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KIeAC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243734018/reactions"
      },
      "updated_at" : "2022-09-12T13:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243734018",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-13T10:03:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1245185564",
      "id" : 1245185564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KOAYc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245185564/reactions"
      },
      "updated_at" : "2022-09-13T10:03:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245185564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r969421339"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/969421339"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "looks good :+1: ",
      "commit_id" : "549fb177aa1fea9126455205f56c70878fbfac54",
      "created_at" : "2022-09-13T10:04:44Z",
      "diff_hunk" : "@@ -41,19 +41,15 @@ void RPCTypeCheck(const UniValue& params,\n \n         const UniValue& v = params[i];\n         if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+            if (!t.typeAny && v.type() != t.type) {\n+                throw JSONRPCError(RPC_TYPE_ERROR,\n+                                   strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r969421339",
      "id" : 969421339,
      "in_reply_to_id" : 945748356,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845yDIb",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 47,
      "original_position" : 8,
      "original_start_line" : 43,
      "path" : "src/rpc/util.cpp",
      "position" : null,
      "pull_request_review_id" : 1105502832,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/969421339/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-13T10:04:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/969421339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Might be worth closing / combining this into #26039? That PR is a more comprehensive version of the same kind of change.",
      "created_at" : "2022-09-13T12:35:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1245350144",
      "id" : 1245350144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KOokA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245350144/reactions"
      },
      "updated_at" : "2022-09-13T12:35:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245350144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Might be worth closing / combining this into #26039? That PR is a more comprehensive version of the same kind of change.\r\n\r\nyeah, I wrote the same few days ago to MarkoFalke here https://github.com/bitcoin/bitcoin/pull/25737#discussion_r967650202.\r\n\r\nStill, another proposal would be to do something like this: https://github.com/furszy/bitcoin/commit/e6720177b768d79b7f59f5dc6f77d1527b23fc05\r\nEssentially, throw a custom exception for the type error instead of a bare `runtime_error`.",
      "created_at" : "2022-09-13T12:47:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1245363840",
      "id" : 1245363840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KOr6A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245363840/reactions"
      },
      "updated_at" : "2022-09-13T12:47:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245363840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> throw a custom exception\r\n\r\nYeah, this shouldn't hurt. Though I think there is still a benefit to checking the types in the rpc help manager:\r\n\r\n* In the future more complicated types can be checked, for example hex strings or amounts\r\n* Checking the types in the beginning may avoid a costly abort (when calculations have been done) or brittle abort (when resources need to be freed) when the type error is found later",
      "created_at" : "2022-09-13T12:59:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1245379082",
      "id" : 1245379082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KOvoK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245379082/reactions"
      },
      "updated_at" : "2022-09-13T12:59:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245379082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> * Checking the types in the beginning may avoid a costly abort (when calculations have been done) or brittle abort (when resources need to be freed) when the type error is found later\r\n\r\nAbsolutely. The RPC framework should at least verify that the univalue types are the expected ones.\r\n\r\n> In the future more complicated types can be checked, for example hex strings or amounts\r\n\r\nThe only nano-concern that have about this is that we could end up downgrading performance by parsing the arguments twice (first at the framework level, then at the RPC command). So, we would need to store the parsed values somewhere in the request context.\r\n\r\n-------\r\n\r\nSo, options for this PR:\r\n(1) I could close it in favor of #26039 or.. (2) could push the univalue type error custom exception (this would make #26039 smaller).\r\n\r\nAgree on going with (2) or do you prefer (1)? (I'm fine either way)",
      "created_at" : "2022-09-13T13:26:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1245412375",
      "id" : 1245412375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KO3wX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245412375/reactions"
      },
      "updated_at" : "2022-09-13T13:26:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245412375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think both can be done independently ",
      "created_at" : "2022-09-13T13:33:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1245422108",
      "id" : 1245422108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KO6Ic",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245422108/reactions"
      },
      "updated_at" : "2022-09-13T13:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245422108",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r970971039"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970971039"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    class type_error : : public std::runtime_error\r\n{\r\n    using std::runtime_error::runtime_error;\r\n};\r\n```",
      "commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "created_at" : "2022-09-14T15:25:54Z",
      "diff_hunk" : "@@ -19,6 +19,15 @@ class UniValue {\n public:\n     enum VType { VNULL, VOBJ, VARR, VSTR, VNUM, VBOOL, };\n \n+    class type_error : public std::exception\n+    {\n+    private:\n+        const std::string msg;\n+    public:\n+        explicit type_error(const std::string& _err) : msg(_err) {}\n+        const char* what() const noexcept override { return msg.c_str(); }\n+    };\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r970971039",
      "id" : 970971039,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII584539ef",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 30,
      "original_position" : 12,
      "original_start_line" : 22,
      "path" : "src/univalue/include/univalue.h",
      "position" : 12,
      "pull_request_review_id" : 1107743761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970971039/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 22,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-14T15:28:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970971039",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r970972885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970972885"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not really a fan of removing this, given that this is needed for https://github.com/bitcoin/bitcoin/pull/26039 ",
      "commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "created_at" : "2022-09-14T15:27:06Z",
      "diff_hunk" : "@@ -40,21 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n         }\n         i++;\n     }\n }\n \n-void RPCTypeCheckArgument(const UniValue& value, const UniValueType& typeExpected)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r970972885",
      "id" : 970972885,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII5845397V",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 50,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 1107743761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970972885/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T15:28:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970972885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also, the tests fail",
      "created_at" : "2022-09-14T15:29:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1246941585",
      "id" : 1246941585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KUtGR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246941585/reactions"
      },
      "updated_at" : "2022-09-14T15:29:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246941585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971031428"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971031428"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Left you a comment there, https://github.com/bitcoin/bitcoin/pull/26039#discussion_r971027963.\r\nI think that we shouldn't continue having the type error string defined in two different places.",
      "commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "created_at" : "2022-09-14T16:12:31Z",
      "diff_hunk" : "@@ -40,21 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n         }\n         i++;\n     }\n }\n \n-void RPCTypeCheckArgument(const UniValue& value, const UniValueType& typeExpected)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971031428",
      "id" : 971031428,
      "in_reply_to_id" : 970972885,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII58454MOE",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 50,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 1107822698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971031428/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T16:12:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971031428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971031692"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971031692"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "k",
      "commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "created_at" : "2022-09-14T16:12:46Z",
      "diff_hunk" : "@@ -19,6 +19,15 @@ class UniValue {\n public:\n     enum VType { VNULL, VOBJ, VARR, VSTR, VNUM, VBOOL, };\n \n+    class type_error : public std::exception\n+    {\n+    private:\n+        const std::string msg;\n+    public:\n+        explicit type_error(const std::string& _err) : msg(_err) {}\n+        const char* what() const noexcept override { return msg.c_str(); }\n+    };\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971031692",
      "id" : 971031692,
      "in_reply_to_id" : 970971039,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII58454MSM",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 30,
      "original_position" : 12,
      "original_start_line" : 22,
      "path" : "src/univalue/include/univalue.h",
      "position" : 12,
      "pull_request_review_id" : 1107823061,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971031692/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 22,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-14T16:12:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971031692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971063304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971063304"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I am removing `RPCTypeCheck` and you are adding the type error string to `RPCTypeCheck`. So I don't see how the changes here require removing it or help in any way to reducing it to one place.",
      "commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "created_at" : "2022-09-14T16:42:22Z",
      "diff_hunk" : "@@ -40,21 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n         }\n         i++;\n     }\n }\n \n-void RPCTypeCheckArgument(const UniValue& value, const UniValueType& typeExpected)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971063304",
      "id" : 971063304,
      "in_reply_to_id" : 970972885,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII58454UAI",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 50,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 1107868832,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971063304/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T16:42:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971063304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971066880"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971066880"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also, unrelated: `RPCTypeCheckObj` has a third and different type error string?",
      "commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "created_at" : "2022-09-14T16:46:11Z",
      "diff_hunk" : "@@ -40,21 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n         }\n         i++;\n     }\n }\n \n-void RPCTypeCheckArgument(const UniValue& value, const UniValueType& typeExpected)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971066880",
      "id" : 971066880,
      "in_reply_to_id" : 970972885,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII58454U4A",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 50,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 1107874465,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971066880/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T16:46:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971066880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971228387"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971228387"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I am removing `RPCTypeCheck` and you are adding the type error string to `RPCTypeCheck`. So I don't see how the changes here require removing it or help in any way to reducing it to one place.\r\n\r\nYeah, it's not really needed here. I was pointing out that, as you are removing `RPCTypeCheck`, and I'm removing `RPCTypeCheckArgument` here, we could also reduce the error string duplication there as well.\r\n\r\nBut.. I could also implement the changes here too..\r\nSo yeah, probably better to leave it up for another PR and done.\r\n\r\n> Also, unrelated: RPCTypeCheckObj has a third and different type error string?\r\n\r\nYeah, I mentioned it in one of the first comments here https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200425927 and then forgot about it.\r\nCould fix it on the follow-up `Univalue::checkType` unification PR.",
      "commit_id" : "5032c399dc1b91d35f4679ff098a2cca8fd5995c",
      "created_at" : "2022-09-14T19:42:09Z",
      "diff_hunk" : "@@ -40,21 +40,15 @@ void RPCTypeCheck(const UniValue& params,\n             break;\n \n         const UniValue& v = params[i];\n-        if (!(fAllowNull && v.isNull())) {\n-            RPCTypeCheckArgument(v, t);\n+        if (fAllowNull && v.isNull()) continue;\n+        if (!t.typeAny && v.type() != t.type) {\n+            throw JSONRPCError(RPC_TYPE_ERROR,\n+                               strprintf(\"JSON value of type %s is not of expected type %s\", uvTypeName(v.type()), uvTypeName(t.type)));\n         }\n         i++;\n     }\n }\n \n-void RPCTypeCheckArgument(const UniValue& value, const UniValueType& typeExpected)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971228387",
      "id" : 971228387,
      "in_reply_to_id" : 970972885,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584548Tj",
      "original_commit_id" : "9b634608d5608d3b1c66162ebb6968fa6ad2c11d",
      "original_line" : 50,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : null,
      "pull_request_review_id" : 1108108267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971228387/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T19:42:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971228387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971575485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971575485"
         }
      },
      "author_association" : "MEMBER",
      "body" : "now you are changing the behavior in commit 8bdd192d4f897cc872f33cd6d15c36449dc345e5 and then reverting the behavior change in the next commit?",
      "commit_id" : "153f465968cc2532a5bce12b1eeb7398b5b5669e",
      "created_at" : "2022-09-15T06:28:23Z",
      "diff_hunk" : "@@ -605,7 +605,6 @@ static RPCHelpMan gettxspendingprevout()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n         {\n-            RPCTypeCheckArgument(request.params[0], UniValue::VARR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r971575485",
      "id" : 971575485,
      "in_reply_to_id" : 949460585,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII58456RC9",
      "original_commit_id" : "d54f65c5d10983b97c8d33273a62b29b70b3853a",
      "original_line" : 608,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 4,
      "pull_request_review_id" : 1108598157,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971575485/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-15T06:28:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971575485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It would be good to explain the behavior change in the title, not summarize the detailed code changes. If someone was interested in the detailed code changes they could look at them, or you could summarize them in the commit/pull description.\r\n\r\nAlso, it would help reviewers if you explained for each commit whether it is a refactor or behavior change. This helps to document whether a change was intentional or not.",
      "created_at" : "2022-09-15T06:32:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1247642553",
      "id" : 1247642553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KXYO5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247642553/reactions"
      },
      "updated_at" : "2022-09-15T06:32:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247642553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It would be good to explain the behavior change in the title, not summarize the detailed code changes. If someone was interested in the detailed code changes they could look at them, or you could summarize them in the commit/pull description.\r\n\r\nSure, the lack of scope in the PR description is mainly because this started as a simple redundant code removal (which didn't require much text) and then we realized that for making that cleanup, needed to properly return `RPC_TYPE_ERROR` instead of `RPC_MISC_ERROR` in the inner univalue type check.\r\n\r\n> Also, it would help reviewers if you explained for each commit whether it is a refactor or behavior change. This helps to document whether a change was intentional or not.\r\n\r\nSure.\r\n\r\n",
      "created_at" : "2022-09-15T13:17:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1248089256",
      "id" : 1248089256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KZFSo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248089256/reactions"
      },
      "updated_at" : "2022-09-15T13:17:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248089256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated per feedback.",
      "created_at" : "2022-09-15T13:47:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1248126282",
      "id" : 1248126282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585KZOVK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248126282/reactions"
      },
      "updated_at" : "2022-09-15T13:47:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248126282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   }
]
