{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "After creating a 2:3 multisig based address, funding this address and generating the raw (unsigned) transaction to spend from the generated address, the `scriptSig` of `vin` is empty. This will lead to incorrect informations being shown about the transaction. \r\n\r\n**Expected behavior**\r\n\r\n`scriptSig` properties `asm` and `hex` are being set. Using an older version of bitcoind (bitcoin-0.16.3) this was working correctly.\r\n\r\n**Actual behavior**\r\n\r\n`scriptSig` properties `asm` and `hex` are not being set when generating the raw transaction (without signing it).\r\n\r\n**To reproduce**\r\n\r\n1.) Generate the multisig address:\r\n\r\n\tself::call('createmultisig', [\r\n\t\t2,\r\n\t\t[\r\n\t\t\t'02ab224d0d8de7d5ad5568bf4f66b9c29ea7afd0f196176f9b09a311c11da6377e',\r\n\t\t\t'02d8adfda5e3266bc9f237c67135f795e069dabe594a39f2908e666d27c4e000fe',\r\n\t\t\t'02f485412017ef4fba059a514e3d90d95c1b0f3dced6ab158ef697127a8a1cb58e',\r\n\t\t], \r\n\t\t'legacy',\r\n\t]);`\r\n\r\n`\"{\"result\":{\"address\":\"336tZcUKH1EUccEvPdGcUSUJHtNLG373GF\",\"redeemScript\":\"522102ab224d0d8de7d5ad5568bf4f66b9c29ea7afd0f196176f9b09a311c11da6377e2102d8adfda5e3266bc9f237c67135f795e069dabe594a39f2908e666d27c4e000fe2102f485412017ef4fba059a514e3d90d95c1b0f3dced6ab158ef697127a8a1cb58e53ae\"},\"error\":null,\"id\":null} \"`\r\n\r\n2.) Fund the address, done by TXID: `53b0a553881e67311d47ca8adc1138edf4309beaef5c8cc9e01a33b9ce334230`\r\n\r\n3.) Generate a transaction to spend from address `336tZcUKH1EUccEvPdGcUSUJHtNLG373GF`:\r\n\r\n    $raw_transaction = $daemon->call('createrawtransaction', [\r\n        [\r\n            [\r\n                'txid'      => '53b0a553881e67311d47ca8adc1138edf4309beaef5c8cc9e01a33b9ce334230',\r\n                'vout'      =>  1,\r\n                'sequence'  => 4294967293,\r\n            ]\r\n        ],\r\n        [\r\n            \"1B4pqxU3EEXQtsc7fdaGhiHM9NN9rChuJS\"     =>  \"0.00057394\",\r\n        ]\r\n    ]);\r\n\r\nReturns:\r\n\r\n`{\"result\":\"0200000001304233ceb9331ae0c98c5cefea9b30f4ed3811dc8aca471d31671e8853a5b0530100000000fdffffff0132e00000000000001976a9146e6a71a663b9952ed8af1aa456997cf52f14c20388ac00000000\",\"error\":null,\"id\":null} \"`\r\n\r\nNow when using the CLI do decode the transaction:\r\n\r\n`./bitcoin-0.19.0.1/bin/bitcoin-cli decoderawtransaction 0200000001304233ceb9331ae0c98c5cefea9b30f4ed3811dc8aca471d31671e8853a5b0530100000000fdffffff0132e00000000000001976a9146e6a71a663b9952ed8af1aa456997cf52f14c20388ac00000000`\r\n\r\nYou'll see the `hex` & `asm` fields of `vin` are empty:\r\n\r\n```\r\n   ...\r\n  \"vin\": [\r\n    {\r\n      \"txid\": \"53b0a553881e67311d47ca8adc1138edf4309beaef5c8cc9e01a33b9ce334230\",\r\n      \"vout\": 1,\r\n      \"scriptSig\": {\r\n        \"asm\": \"\",\r\n        \"hex\": \"\"\r\n      },\r\n```\r\n\r\nIs it necesarry to pass the `reedemScript`to the `createrawtransaction ` command? All I found using the doc was the option to pass \r\n\r\n` {                       (json object)\r\n         \"data\": \"hex\",        (string, required) A key-value pair. The key must be \"data\", the value is hex-encoded data\r\n       },`\r\n\r\nto the `createrawtransaction ` function, is it correct to pass the `reedemScript`, if yes, how to do so?\r\nRunning `bitcoin-0.16.3` on another machine, the problem isn't occurring.\r\n\r\n**System information**\r\n\r\n<!-- bitcoin-0.19.0.1 already builded. -->\r\n\r\n<!-- What type of machine are you observing the error on (OS/CPU and disk type)? -->\r\nx86_64-linux",
   "closed_at" : "2022-08-10T08:39:48Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18620/comments",
   "created_at" : "2020-04-13T12:39:18Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18620/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/18620",
   "id" : 598866581,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18620/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU1OTg4NjY1ODE=",
   "number" : 18620,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18620/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "state_reason" : "completed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18620/timeline",
   "title" : "2:3 multisig transaction scriptSig attributes empty / not occuring on bitcoin-0.16.3",
   "updated_at" : "2022-08-10T08:39:48Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18620",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=4",
      "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ghost/followers",
      "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ghost",
      "id" : 10137,
      "login" : "ghost",
      "node_id" : "MDQ6VXNlcjEwMTM3",
      "organizations_url" : "https://api.github.com/users/ghost/orgs",
      "received_events_url" : "https://api.github.com/users/ghost/received_events",
      "repos_url" : "https://api.github.com/users/ghost/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ghost"
   }
}
