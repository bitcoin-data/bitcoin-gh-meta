[
   {
      "author_association" : "MEMBER",
      "body" : "The error was \"  Called Process failed with 'error: Could not locate RPC credentials. No authentication cookie could be found, and RPC password is not set.  See -rpcpassword and -stdinrpcpass.  Configuration file: (/home/travis/build/bitcoin/bitcoin/ci/scratch/test_runner/test_runner_â¿_ð_20200417_132645/interface_bitcoin_cli_109/node0/bitcoin.conf) \"",
      "created_at" : "2020-04-17T20:45:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615455661",
      "id" : 615455661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTQ1NTY2MQ==",
      "updated_at" : "2020-04-17T20:45:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615455661",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes. I'm still looking at it, but since valgrind runs don't work out-of-repo, I wanted to see if the valgrind CI passes with this change while looking further.",
      "created_at" : "2020-04-17T20:53:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615458697",
      "id" : 615458697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTQ1ODY5Nw==",
      "updated_at" : "2020-04-17T20:53:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615458697",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Am noting that no other tests use `get_auth_cookie`... seems undertested...",
      "created_at" : "2020-04-17T21:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615462413",
      "id" : 615462413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTQ2MjQxMw==",
      "updated_at" : "2020-04-17T21:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615462413",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`get_auth_cookie` is used by every single test. It reads the auth cookie from disk, though it fails when the file was not yet created.",
      "created_at" : "2020-04-17T21:08:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615464435",
      "id" : 615464435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTQ2NDQzNQ==",
      "updated_at" : "2020-04-17T21:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615464435",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18594 (cli: display multiwallet balances in -getinfo by jonatack)\n* #18453 (rpc, cli: add multiwallet balances rpc and use it in -getinfo by jonatack)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-17T22:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615497907",
      "id" : 615497907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTQ5NzkwNw==",
      "updated_at" : "2020-04-19T22:21:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615497907",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Btw, this happens on cirrus reliably: https://cirrus-ci.com/task/6597545033990144?command=functional_test#L1053",
      "created_at" : "2020-04-18T15:39:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615891534",
      "id" : 615891534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTg5MTUzNA==",
      "updated_at" : "2020-04-18T15:39:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615891534",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Or, if you want to test locally:\r\n\r\n```diff\r\ndiff --git a/src/httprpc.cpp b/src/httprpc.cpp\r\nindex 60c4d06f12..3dd06c4758 100644\r\n--- a/src/httprpc.cpp\r\n+++ b/src/httprpc.cpp\r\n@@ -291,6 +291,7 @@ static bool InitRPCAuthentication()\r\n bool StartHTTPRPC()\r\n {\r\n     LogPrint(BCLog::RPC, \"Starting HTTP RPC server\\n\");\r\n+    UninterruptibleSleep(std::chrono::seconds{11});\r\n     if (!InitRPCAuthentication())\r\n         return false;\r\n \r\n",
      "created_at" : "2020-04-18T15:42:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615892030",
      "id" : 615892030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTg5MjAzMA==",
      "updated_at" : "2020-04-18T15:42:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615892030",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @MarcoFalke for your suggestions! Being able to reproduce makes all the difference. I updated the PR title and description and pushed a fix that seems to work.",
      "created_at" : "2020-04-18T16:54:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615902936",
      "id" : 615902936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTkwMjkzNg==",
      "updated_at" : "2020-04-18T16:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615902936",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410723624"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410723624"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't really like offering two interfaces. The existing one that either returns an auth pair or thorws a ValueError should be sufficient.\r\n\r\nIf you don't like the generic ValueError, I believe python can create derived classes like this `RpcCredentialsMissing(ValueError)`, which you can then throw/catch.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T17:06:25Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410723624",
      "id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcyMzYyNA==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395931825,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410723624",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I see that the CI for the latest merge on master (bump wallet_import timeout) failed for this same reason: https://travis-ci.org/github/bitcoin/bitcoin/jobs/676639823",
      "created_at" : "2020-04-18T18:44:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615924424",
      "id" : 615924424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTkyNDQyNA==",
      "updated_at" : "2020-04-18T18:44:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615924424",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410738978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410738978"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for reviewing and your help. If I understand your comment correctly, I modified the conditional here not to change the interface, but to not raise when we're waiting for the cookie auth credentials. When they do become available, it still returns the auth pair which we're waiting for in `wait_for_cookie_credentials()`.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T19:15:33Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410738978",
      "id" : 410738978,
      "in_reply_to_id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDczODk3OA==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395943012,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410738978",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410739285"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410739285"
         }
      },
      "author_association" : "MEMBER",
      "body" : "E.g. since `wait_for_cookie` is false by default, there is no change in behavior except when it's called by `wait_for_cookie_credentials`.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T19:17:55Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410739285",
      "id" : 410739285,
      "in_reply_to_id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDczOTI4NQ==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395943242,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410739285",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410741317"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410741317"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I don't understand why `wait_for_cookie` is needed? Just because it is turned off by default doesn't mean that it doesn't complicate the interface",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T19:36:05Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410741317",
      "id" : 410741317,
      "in_reply_to_id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc0MTMxNw==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395944571,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410741317",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410741948"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410741948"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hm, maybe it isn't. Good question.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T19:42:09Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410741948",
      "id" : 410741948,
      "in_reply_to_id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc0MTk0OA==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395945004,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410741948",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410742490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410742490"
         }
      },
      "author_association" : "MEMBER",
      "body" : "They should never be empty. \r\n\r\nEither both are a string of length of at least 1 or a ValueError is thrown",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T19:47:23Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410742490",
      "id" : 410742490,
      "in_reply_to_id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc0MjQ5MA==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395945383,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410742490",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410744291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410744291"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good catch, fixed.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T20:06:04Z",
      "diff_hunk" : "@@ -354,7 +354,7 @@ def get_auth_cookie(datadir, chain):\n             password = split_userpass[1]\n     except OSError:\n         pass\n-    if user is None or password is None:\n+    if (user is None or password is None) and wait_for_cookie is False:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410744291",
      "id" : 410744291,
      "in_reply_to_id" : 410723624,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc0NDI5MQ==",
      "original_commit_id" : "72a079e3980a35f76e63829b2640cf588aaa9ecf",
      "original_line" : 357,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 395946727,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410744291",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Simplified.\r\n\r\nEdit: FWIW I considered adding the following but don't think it's necessary? IIUC `wait_for_cookie_credentials` shouldn't see any other type of ValueError, nor ECONNREFUSED.\r\n```diff\r\n+            except OSError as e:\r\n+                if e.errno != errno.ECONNREFUSED:  # Port not yet open?\r\n+                    raise  # Unknown OS error\r\n-            except ValueError:\r\n-                pass\r\n+            except ValueError as e:  # Cookie file not found and no rpcuser or rpcassword; bitcoind still starting.\r\n+                if \"No RPC credentials\" not in str(e):\r\n+                    raise\r\n```",
      "created_at" : "2020-04-18T20:17:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615939057",
      "id" : 615939057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTkzOTA1Nw==",
      "updated_at" : "2020-04-18T21:43:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615939057",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410763238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410763238"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could rebase and adjust the error to mention the timeout (like the one above, which you can see after rebase)",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T22:42:25Z",
      "diff_hunk" : "@@ -243,6 +244,20 @@ def wait_for_rpc_connection(self):\n             time.sleep(1.0 / poll_per_s)\n         self._raise_assertion_error(\"Unable to connect to bitcoind\")\n \n+    def wait_for_cookie_credentials(self):\n+        self.log.debug(\"Waiting for cookie credentials\")\n+        # Poll at a rate of four times per second\n+        poll_per_s = 4\n+        for _ in range(poll_per_s * self.rpc_timeout):\n+            try:\n+                user, passphrase = get_auth_cookie(self.datadir, self.chain)\n+                self.log.debug(\"Cookie credentials retrieved: user={}, passphrase={}\".format(user, passphrase))\n+                return\n+            except ValueError:\n+                pass\n+            time.sleep(1.0 / poll_per_s)\n+        self._raise_assertion_error(\"Unable to retrieve cookie credentials\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410763238",
      "id" : 410763238,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc2MzIzOA==",
      "original_commit_id" : "83b037921fac34d4c85ce6a2e137407596fed91e",
      "original_line" : 259,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 395957267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410763238",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410763361"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410763361"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: the values aren't needed, only their presence, so no need to log them?",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T22:43:09Z",
      "diff_hunk" : "@@ -243,6 +244,20 @@ def wait_for_rpc_connection(self):\n             time.sleep(1.0 / poll_per_s)\n         self._raise_assertion_error(\"Unable to connect to bitcoind\")\n \n+    def wait_for_cookie_credentials(self):\n+        self.log.debug(\"Waiting for cookie credentials\")\n+        # Poll at a rate of four times per second\n+        poll_per_s = 4\n+        for _ in range(poll_per_s * self.rpc_timeout):\n+            try:\n+                user, passphrase = get_auth_cookie(self.datadir, self.chain)\n+                self.log.debug(\"Cookie credentials retrieved: user={}, passphrase={}\".format(user, passphrase))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410763361",
      "id" : 410763361,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc2MzM2MQ==",
      "original_commit_id" : "83b037921fac34d4c85ce6a2e137407596fed91e",
      "original_line" : 254,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 395957267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410763361",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410763588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410763588"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: In a future cleanup the three occurrences of `ValueError` can be changed to a self-made error `RpcMissingCred` (or so). Not asking you to do this here.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T22:44:08Z",
      "diff_hunk" : "@@ -243,6 +244,20 @@ def wait_for_rpc_connection(self):\n             time.sleep(1.0 / poll_per_s)\n         self._raise_assertion_error(\"Unable to connect to bitcoind\")\n \n+    def wait_for_cookie_credentials(self):\n+        self.log.debug(\"Waiting for cookie credentials\")\n+        # Poll at a rate of four times per second\n+        poll_per_s = 4\n+        for _ in range(poll_per_s * self.rpc_timeout):\n+            try:\n+                user, passphrase = get_auth_cookie(self.datadir, self.chain)\n+                self.log.debug(\"Cookie credentials retrieved: user={}, passphrase={}\".format(user, passphrase))\n+                return\n+            except ValueError:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410763588",
      "id" : 410763588,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc2MzU4OA==",
      "original_commit_id" : "83b037921fac34d4c85ce6a2e137407596fed91e",
      "original_line" : 256,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 395957267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410763588",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410768629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410768629"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T23:18:33Z",
      "diff_hunk" : "@@ -243,6 +244,20 @@ def wait_for_rpc_connection(self):\n             time.sleep(1.0 / poll_per_s)\n         self._raise_assertion_error(\"Unable to connect to bitcoind\")\n \n+    def wait_for_cookie_credentials(self):\n+        self.log.debug(\"Waiting for cookie credentials\")\n+        # Poll at a rate of four times per second\n+        poll_per_s = 4\n+        for _ in range(poll_per_s * self.rpc_timeout):\n+            try:\n+                user, passphrase = get_auth_cookie(self.datadir, self.chain)\n+                self.log.debug(\"Cookie credentials retrieved: user={}, passphrase={}\".format(user, passphrase))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410768629",
      "id" : 410768629,
      "in_reply_to_id" : 410763361,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc2ODYyOQ==",
      "original_commit_id" : "83b037921fac34d4c85ce6a2e137407596fed91e",
      "original_line" : 254,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 395959399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410768629",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410768689"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410768689"
         }
      },
      "author_association" : "MEMBER",
      "body" : "good idea; done",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T23:18:50Z",
      "diff_hunk" : "@@ -243,6 +244,20 @@ def wait_for_rpc_connection(self):\n             time.sleep(1.0 / poll_per_s)\n         self._raise_assertion_error(\"Unable to connect to bitcoind\")\n \n+    def wait_for_cookie_credentials(self):\n+        self.log.debug(\"Waiting for cookie credentials\")\n+        # Poll at a rate of four times per second\n+        poll_per_s = 4\n+        for _ in range(poll_per_s * self.rpc_timeout):\n+            try:\n+                user, passphrase = get_auth_cookie(self.datadir, self.chain)\n+                self.log.debug(\"Cookie credentials retrieved: user={}, passphrase={}\".format(user, passphrase))\n+                return\n+            except ValueError:\n+                pass\n+            time.sleep(1.0 / poll_per_s)\n+        self._raise_assertion_error(\"Unable to retrieve cookie credentials\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410768689",
      "id" : 410768689,
      "in_reply_to_id" : 410763238,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc2ODY4OQ==",
      "original_commit_id" : "83b037921fac34d4c85ce6a2e137407596fed91e",
      "original_line" : 259,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 395959414,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410768689",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410769244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410769244"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> nit: In a future cleanup the three occurrences of `ValueError` can be changed to a self-made error `RpcMissingCred` (or so). Not asking you to do this here.\r\n\r\nGood idea. Will look at a follow-up.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-18T23:22:27Z",
      "diff_hunk" : "@@ -243,6 +244,20 @@ def wait_for_rpc_connection(self):\n             time.sleep(1.0 / poll_per_s)\n         self._raise_assertion_error(\"Unable to connect to bitcoind\")\n \n+    def wait_for_cookie_credentials(self):\n+        self.log.debug(\"Waiting for cookie credentials\")\n+        # Poll at a rate of four times per second\n+        poll_per_s = 4\n+        for _ in range(poll_per_s * self.rpc_timeout):\n+            try:\n+                user, passphrase = get_auth_cookie(self.datadir, self.chain)\n+                self.log.debug(\"Cookie credentials retrieved: user={}, passphrase={}\".format(user, passphrase))\n+                return\n+            except ValueError:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r410769244",
      "id" : 410769244,
      "in_reply_to_id" : 410763588,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDc2OTI0NA==",
      "original_commit_id" : "83b037921fac34d4c85ce6a2e137407596fed91e",
      "original_line" : 256,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 395959609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-19T16:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410769244",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Took the suggestions, and also updated two cli calls in the test so the debug log shows:\r\n```diff\r\n- TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: None\r\n+ TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: -getinfo\r\n\r\n- TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: None\r\n+ TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: -version\r\n```\r\nby changing as follows:\r\n```diff\r\n--- a/test/functional/interface_bitcoin_cli.py\r\n+++ b/test/functional/interface_bitcoin_cli.py\r\n@@ -51,7 +51,7 @@ class TestBitcoinCli(BitcoinTestFramework):\r\n         self.log.info(\"Test -getinfo returns expected network and blockchain info\")\r\n         if self.is_wallet_compiled():\r\n             self.nodes[0].encryptwallet(password)\r\n-        cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\r\n+        cli_get_info = self.nodes[0].cli().send_cli('-getinfo')\r\n         network_info = self.nodes[0].getnetworkinfo()\r\n         blockchain_info = self.nodes[0].getblockchaininfo()\r\n         assert_equal(cli_get_info['version'], network_info['version'])\r\n@@ -77,7 +77,7 @@ class TestBitcoinCli(BitcoinTestFramework):\r\n \r\n         self.log.info(\"Test -version with node stopped\")\r\n         self.stop_node(0)\r\n-        cli_response = self.nodes[0].cli(\"-version\").send_cli()\r\n+        cli_response = self.nodes[0].cli().send_cli('-version')\r\n```",
      "created_at" : "2020-04-18T23:25:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-615977562",
      "id" : 615977562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTk3NzU2Mg==",
      "updated_at" : "2020-04-18T23:26:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615977562",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-19T11:04:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-616104866",
      "id" : 616104866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjEwNDg2Ng==",
      "updated_at" : "2020-04-19T11:04:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616104866",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and added a docstring to `wait_for_cookie_credentials()`.",
      "created_at" : "2020-04-20T01:16:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#issuecomment-616259926",
      "id" : 616259926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18691",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjI1OTkyNg==",
      "updated_at" : "2020-04-20T01:16:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616259926",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411256083"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411256083"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this changed?",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-20T10:08:36Z",
      "diff_hunk" : "@@ -76,20 +75,17 @@ def run_test(self):\n         else:\n             self.log.info(\"*** Wallet not compiled; cli getwalletinfo and -getinfo wallet tests skipped\")\n \n-        self.stop_node(0)\n-\n         self.log.info(\"Test -version with node stopped\")\n-        cli_response = self.nodes[0].cli(\"-version\").send_cli()\n+        self.stop_node(0)\n+        cli_response = self.nodes[0].cli().send_cli('-version')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411256083",
      "id" : 411256083,
      "line" : 80,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI1NjA4Mw==",
      "original_commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "original_line" : 80,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 43,
      "pull_request_review_id" : 396317034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T10:08:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411256083",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411262769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411262769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "-version is not an rpc command, but a command line option",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-20T10:19:23Z",
      "diff_hunk" : "@@ -76,20 +75,17 @@ def run_test(self):\n         else:\n             self.log.info(\"*** Wallet not compiled; cli getwalletinfo and -getinfo wallet tests skipped\")\n \n-        self.stop_node(0)\n-\n         self.log.info(\"Test -version with node stopped\")\n-        cli_response = self.nodes[0].cli(\"-version\").send_cli()\n+        self.stop_node(0)\n+        cli_response = self.nodes[0].cli().send_cli('-version')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411262769",
      "id" : 411262769,
      "in_reply_to_id" : 411256083,
      "line" : 80,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI2Mjc2OQ==",
      "original_commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "original_line" : 80,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 43,
      "pull_request_review_id" : 396324442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T10:19:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411262769",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411262902"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411262902"
         }
      },
      "author_association" : "MEMBER",
      "body" : "same here",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-20T10:19:38Z",
      "diff_hunk" : "@@ -52,7 +51,7 @@ def run_test(self):\n         self.log.info(\"Test -getinfo returns expected network and blockchain info\")\n         if self.is_wallet_compiled():\n             self.nodes[0].encryptwallet(password)\n-        cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n+        cli_get_info = self.nodes[0].cli().send_cli('-getinfo')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411262902",
      "id" : 411262902,
      "line" : 54,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI2MjkwMg==",
      "original_commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "original_line" : 54,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 30,
      "pull_request_review_id" : 396324604,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T10:19:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411262902",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411371164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411371164"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I changed it to improve the debug log output:\r\n```diff\r\n- TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: None\r\n+ TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: -getinfo\r\n\r\n- TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: None\r\n+ TestFramework.bitcoincli (DEBUG): Running bitcoin-cli command: -version\r\n```\r\nI can revert it in #18594 that also touches the testfile or look at improving the logging output for these cases.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-20T13:20:48Z",
      "diff_hunk" : "@@ -52,7 +51,7 @@ def run_test(self):\n         self.log.info(\"Test -getinfo returns expected network and blockchain info\")\n         if self.is_wallet_compiled():\n             self.nodes[0].encryptwallet(password)\n-        cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n+        cli_get_info = self.nodes[0].cli().send_cli('-getinfo')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411371164",
      "id" : 411371164,
      "in_reply_to_id" : 411262902,
      "line" : 54,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MTE2NA==",
      "original_commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "original_line" : 54,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 30,
      "pull_request_review_id" : 396445630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T13:20:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411371164",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411382589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411382589"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That should be fixed by logging the options, not passing the command line option as the rpc command",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-20T13:36:41Z",
      "diff_hunk" : "@@ -52,7 +51,7 @@ def run_test(self):\n         self.log.info(\"Test -getinfo returns expected network and blockchain info\")\n         if self.is_wallet_compiled():\n             self.nodes[0].encryptwallet(password)\n-        cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n+        cli_get_info = self.nodes[0].cli().send_cli('-getinfo')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411382589",
      "id" : 411382589,
      "in_reply_to_id" : 411262902,
      "line" : 54,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM4MjU4OQ==",
      "original_commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "original_line" : 54,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 30,
      "pull_request_review_id" : 396458982,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T13:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411382589",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411710273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411710273"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> That should be fixed by logging the options, not passing the command line option as the rpc command\r\n\r\nDone in #18712.",
      "commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "created_at" : "2020-04-20T21:38:54Z",
      "diff_hunk" : "@@ -52,7 +51,7 @@ def run_test(self):\n         self.log.info(\"Test -getinfo returns expected network and blockchain info\")\n         if self.is_wallet_compiled():\n             self.nodes[0].encryptwallet(password)\n-        cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n+        cli_get_info = self.nodes[0].cli().send_cli('-getinfo')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18691#discussion_r411710273",
      "id" : 411710273,
      "in_reply_to_id" : 411262902,
      "line" : 54,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTcxMDI3Mw==",
      "original_commit_id" : "92fe537cf704dfb4ae830c8c8b382f08c4893e65",
      "original_line" : 54,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 30,
      "pull_request_review_id" : 396832341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18691",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T21:38:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/411710273",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
