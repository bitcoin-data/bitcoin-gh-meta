[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2019-11-22T00:42:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#issuecomment-557336543",
      "id" : 557336543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzMzNjU0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-01T06:17:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557336543",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-11-22T21:34:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#issuecomment-557702907",
      "id" : 557702907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzcwMjkwNw==",
      "updated_at" : "2019-11-22T21:34:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557702907",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/17556/commits/228fb7ef80cdf806353bc7d4fa2859a7d4dd5d87",
      "created_at" : "2019-11-26T14:34:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#issuecomment-558656795",
      "id" : 558656795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODY1Njc5NQ==",
      "updated_at" : "2019-11-26T14:34:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558656795",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r375189523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375189523"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok, this is my fault for putting the wrong comment here, but I think the chain name is not actually the chain name, but the name of the subfolder in the datadir. E.g. `testnet3`, `regtest`, or `` (the empty string) for the main chain. This `if-elif` logic should switch the subfolder name to the chain name.\r\n\r\nAlso, to simplify the logic, I don't think we need the distinction between conf_arg and conf_section. You may just use a single `chain_name` symbol and then put that into `-chain=...` and the section below.",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-05T10:59:58Z",
      "diff_hunk" : "@@ -296,16 +296,28 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n     # Translate chain name to config name\n     if chain == 'testnet3':\n         chain_name_conf_arg = 'testnet'\n         chain_name_conf_section = 'test'\n+    elif chain == \"main\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r375189523",
      "id" : 375189523,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE4OTUyMw==",
      "original_commit_id" : "228fb7ef80cdf806353bc7d4fa2859a7d4dd5d87",
      "original_line" : 310,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 353629366,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375189523",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377285894"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377285894"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, added second commit with suggested cleanups",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-10T20:01:42Z",
      "diff_hunk" : "@@ -296,16 +296,28 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n     # Translate chain name to config name\n     if chain == 'testnet3':\n         chain_name_conf_arg = 'testnet'\n         chain_name_conf_section = 'test'\n+    elif chain == \"main\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377285894",
      "id" : 377285894,
      "in_reply_to_id" : 375189523,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI4NTg5NA==",
      "original_commit_id" : "228fb7ef80cdf806353bc7d4fa2859a7d4dd5d87",
      "original_line" : 310,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 356223381,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377285894",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 228fb7ef80cdf806353bc7d4fa2859a7d4dd5d87 -> b339f839072617df76578e9e4196d62270b57bb8 ([`pr/wdpy.1`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.1) -> [`pr/wdpy.2`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wdpy.1..pr/wdpy.2)) using `\"\"` chain subdirectory instead of `\"main\"` and implementing cleanup suggestions",
      "created_at" : "2020-02-10T20:02:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#issuecomment-584324062",
      "id" : 584324062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NDMyNDA2Mg==",
      "updated_at" : "2020-02-10T20:02:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584324062",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377301269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377301269"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`feature_config_args` needs to be updated for this change as well",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-10T20:34:54Z",
      "diff_hunk" : "@@ -296,16 +296,23 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n+    # Translate chain subdirectory name to config name\n     if chain == 'testnet3':\n-        chain_name_conf_arg = 'testnet'\n-        chain_name_conf_section = 'test'\n+        chain_name = 'test'\n+    elif not chain:\n+        chain_name = 'main'\n     else:\n-        chain_name_conf_arg = chain\n-        chain_name_conf_section = chain\n-    with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\n-        f.write(\"{}=1\\n\".format(chain_name_conf_arg))\n-        f.write(\"[{}]\\n\".format(chain_name_conf_section))\n+        chain_name = chain\n+    with open(config_path, 'w', encoding='utf8') as f:\n+        f.write(\"chain={}\\n\".format(chain_name))\n+        f.write(\"[{}]\\n\".format(chain_name))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377301269",
      "id" : 377301269,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMwMTI2OQ==",
      "original_commit_id" : "b339f839072617df76578e9e4196d62270b57bb8",
      "original_line" : 353,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 356243364,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377301269",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377303377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377303377"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> `feature_config_args` needs to be updated for this change as well\r\n\r\nWhy/how?",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-10T20:39:41Z",
      "diff_hunk" : "@@ -296,16 +296,23 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n+    # Translate chain subdirectory name to config name\n     if chain == 'testnet3':\n-        chain_name_conf_arg = 'testnet'\n-        chain_name_conf_section = 'test'\n+        chain_name = 'test'\n+    elif not chain:\n+        chain_name = 'main'\n     else:\n-        chain_name_conf_arg = chain\n-        chain_name_conf_section = chain\n-    with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\n-        f.write(\"{}=1\\n\".format(chain_name_conf_arg))\n-        f.write(\"[{}]\\n\".format(chain_name_conf_section))\n+        chain_name = chain\n+    with open(config_path, 'w', encoding='utf8') as f:\n+        f.write(\"chain={}\\n\".format(chain_name))\n+        f.write(\"[{}]\\n\".format(chain_name))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377303377",
      "id" : 377303377,
      "in_reply_to_id" : 377301269,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMwMzM3Nw==",
      "original_commit_id" : "b339f839072617df76578e9e4196d62270b57bb8",
      "original_line" : 353,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 356246094,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377303377",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377315065"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377315065"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It parses the debug.log to check for the chain section or something",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-10T21:03:56Z",
      "diff_hunk" : "@@ -296,16 +296,23 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n+    # Translate chain subdirectory name to config name\n     if chain == 'testnet3':\n-        chain_name_conf_arg = 'testnet'\n-        chain_name_conf_section = 'test'\n+        chain_name = 'test'\n+    elif not chain:\n+        chain_name = 'main'\n     else:\n-        chain_name_conf_arg = chain\n-        chain_name_conf_section = chain\n-    with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\n-        f.write(\"{}=1\\n\".format(chain_name_conf_arg))\n-        f.write(\"[{}]\\n\".format(chain_name_conf_section))\n+        chain_name = chain\n+    with open(config_path, 'w', encoding='utf8') as f:\n+        f.write(\"chain={}\\n\".format(chain_name))\n+        f.write(\"[{}]\\n\".format(chain_name))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377315065",
      "id" : 377315065,
      "in_reply_to_id" : 377301269,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMxNTA2NQ==",
      "original_commit_id" : "b339f839072617df76578e9e4196d62270b57bb8",
      "original_line" : 353,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 356261298,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377315065",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377328009"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377328009"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(See the test failure)",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-10T21:31:21Z",
      "diff_hunk" : "@@ -296,16 +296,23 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n+    # Translate chain subdirectory name to config name\n     if chain == 'testnet3':\n-        chain_name_conf_arg = 'testnet'\n-        chain_name_conf_section = 'test'\n+        chain_name = 'test'\n+    elif not chain:\n+        chain_name = 'main'\n     else:\n-        chain_name_conf_arg = chain\n-        chain_name_conf_section = chain\n-    with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\n-        f.write(\"{}=1\\n\".format(chain_name_conf_arg))\n-        f.write(\"[{}]\\n\".format(chain_name_conf_section))\n+        chain_name = chain\n+    with open(config_path, 'w', encoding='utf8') as f:\n+        f.write(\"chain={}\\n\".format(chain_name))\n+        f.write(\"[{}]\\n\".format(chain_name))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377328009",
      "id" : 377328009,
      "in_reply_to_id" : 377301269,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzMyODAwOQ==",
      "original_commit_id" : "b339f839072617df76578e9e4196d62270b57bb8",
      "original_line" : 353,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 356278171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377328009",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377352926"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377352926"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh, this seems to be a silent merge conflict with #16115. Doesn't happen on my local branch since I never rebased it. Will debug",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-02-10T22:23:31Z",
      "diff_hunk" : "@@ -296,16 +296,23 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n+    # Translate chain subdirectory name to config name\n     if chain == 'testnet3':\n-        chain_name_conf_arg = 'testnet'\n-        chain_name_conf_section = 'test'\n+        chain_name = 'test'\n+    elif not chain:\n+        chain_name = 'main'\n     else:\n-        chain_name_conf_arg = chain\n-        chain_name_conf_section = chain\n-    with open(os.path.join(datadir, \"bitcoin.conf\"), 'w', encoding='utf8') as f:\n-        f.write(\"{}=1\\n\".format(chain_name_conf_arg))\n-        f.write(\"[{}]\\n\".format(chain_name_conf_section))\n+        chain_name = chain\n+    with open(config_path, 'w', encoding='utf8') as f:\n+        f.write(\"chain={}\\n\".format(chain_name))\n+        f.write(\"[{}]\\n\".format(chain_name))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377352926",
      "id" : 377352926,
      "in_reply_to_id" : 377301269,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM1MjkyNg==",
      "original_commit_id" : "b339f839072617df76578e9e4196d62270b57bb8",
      "original_line" : 353,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 356309334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377352926",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased b339f839072617df76578e9e4196d62270b57bb8 -> affbdfa19d742a00cb56e24de346c9a181679313 ([`pr/wdpy.2`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.2) -> [`pr/wdpy.3`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.3), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wdpy.2-rebase..pr/wdpy.3)) fixing silent merge conflict with #16115. Thanks Marco for looking into the test failure\r\nUpdated affbdfa19d742a00cb56e24de346c9a181679313 -> a3c0a70a301de1426b2928d8503eb6eee2e82b28 ([`pr/wdpy.3`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.3) -> [`pr/wdpy.4`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.4), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wdpy.3..pr/wdpy.4)) just editing commit message\r\nRebased a3c0a70a301de1426b2928d8503eb6eee2e82b28 -> 8fa28f3bb9574407abc3e6a83a013ccd2af3e330 ([`pr/wdpy.4`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.4) -> [`pr/wdpy.5`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.5), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wdpy.4-rebase..pr/wdpy.5)) to get past cirrus freebsd failures https://cirrus-ci.com/task/6666211096264704\r\nUpdated 8fa28f3bb9574407abc3e6a83a013ccd2af3e330 -> f147b00e0a03c642103e7678a2df4eaa533cfecb ([`pr/wdpy.5`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.5) -> [`pr/wdpy.6`](https://github.com/ryanofsky/bitcoin/commits/pr/wdpy.6), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/wdpy.5..pr/wdpy.6)) dropping second commit to avoid feature_backwards_compatibility.py failures https://travis-ci.org/github/bitcoin/bitcoin/jobs/723528480#L5088",
      "created_at" : "2020-02-11T21:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#issuecomment-584859865",
      "id" : 584859865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NDg1OTg2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T22:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584859865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r482550514"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482550514"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/17556#discussion_r377285894\r\n\r\n> Thanks, added second commit with suggested cleanups\r\n\r\nHad to drop second commit because it was causing feature_backwards_compatibility.py failures. (Previous versions require `regtest=1` not `chain=regtest`)",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-09-02T22:36:06Z",
      "diff_hunk" : "@@ -296,16 +296,28 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):\n     # Translate chain name to config name\n     if chain == 'testnet3':\n         chain_name_conf_arg = 'testnet'\n         chain_name_conf_section = 'test'\n+    elif chain == \"main\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r482550514",
      "id" : 482550514,
      "in_reply_to_id" : 375189523,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjU1MDUxNA==",
      "original_commit_id" : "228fb7ef80cdf806353bc7d4fa2859a7d4dd5d87",
      "original_line" : 310,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 481360829,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482550514",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r484036704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484036704"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\ndef write_config(config_path, *, n, chain, extra_config=\"\"):\r\n```\r\n\r\nnit: would be good to force named args to avoid mixing up `n` and `chain`. E.g. setting `chain=0` will work, but is a confusing way to say mainnet.",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2020-09-06T07:54:54Z",
      "diff_hunk" : "@@ -334,16 +334,25 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r484036704",
      "id" : 484036704,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAzNjcwNA==",
      "original_commit_id" : "f147b00e0a03c642103e7678a2df4eaa533cfecb",
      "original_line" : 343,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 483120861,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:41:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484036704",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r560480529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/560480529"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/17556#discussion_r484036704\r\n\r\n> nit: would be good to force named args to avoid mixing up `n` and `chain`. E.g. setting `chain=0` will work, but is a confusing way to say mainnet.\r\n\r\nThanks, added and updated callers.\r\n",
      "commit_id" : "ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2021-01-19T20:38:46Z",
      "diff_hunk" : "@@ -334,16 +334,25 @@ def initialize_datadir(dirname, n, chain):\n     datadir = get_datadir_path(dirname, n)\n     if not os.path.isdir(datadir):\n         os.makedirs(datadir)\n-    # Translate chain name to config name\n+    write_config(os.path.join(datadir, \"bitcoin.conf\"), n, chain)\n+    os.makedirs(os.path.join(datadir, 'stderr'), exist_ok=True)\n+    os.makedirs(os.path.join(datadir, 'stdout'), exist_ok=True)\n+    return datadir\n+\n+\n+def write_config(config_path, n, chain, extra_config=\"\"):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#discussion_r560480529",
      "id" : 560480529,
      "in_reply_to_id" : 484036704,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDQ4MDUyOQ==",
      "original_commit_id" : "f147b00e0a03c642103e7678a2df4eaa533cfecb",
      "original_line" : 343,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 571639874,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T20:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/560480529",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK ff44cae279bef7997f76db18deb1e41b39f05cb6",
      "created_at" : "2021-01-21T15:51:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17556#issuecomment-764738839",
      "id" : 764738839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDczODgzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T15:51:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764738839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
