[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349880372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349880372"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Do we expect the argument to always be a string? The interface could be made a bit simpler and safer if that's the case (you could also avoid the size_t prefix, and instead just write the c_str() including null byte, which self-describes the length).",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T17:00:07Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.\n+ *\n+ * Thread-safe.\n+ */\n+void SeedEvent(const unsigned char* event_type_buf, size_t buf_len);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349880372",
      "id" : 349880372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MDM3Mg==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 10,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321919269,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349880372",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349880432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349880432"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I presume not, both for upcoming p2p encryption where the message type may just be a char, and I currently have some radio stuff hooked up that dumps RSSI information into this.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T17:02:22Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.\n+ *\n+ * Thread-safe.\n+ */\n+void SeedEvent(const unsigned char* event_type_buf, size_t buf_len);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349880432",
      "id" : 349880432,
      "in_reply_to_id" : 349880372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MDQzMg==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 10,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321919365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349880432",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349880600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349880600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you'd abstract this code block out, and then call it from say both `SeedPeriodic` and `SeedSlow`, the additional entropy would always be available to strong RNG output, even if a minute has not yet passed. You could make the hashing step conditional on `events_hasher.Size() != 0`.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T17:06:55Z",
      "diff_hunk" : "@@ -485,6 +488,14 @@ static void SeedPeriodic(CSHA512& hasher, RNGState& rng)\n     // High-precision timestamp\n     SeedTimestamp(hasher);\n \n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349880600",
      "id" : 349880600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MDYwMA==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 14,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321919609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349880600",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349881230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349881230"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I kind of prefer this general (ptr,size) interface to using C strings, whose use we're generally trying to avoid in bitcoin code. `std::string_view` would be a safer interface, if only C++11 had it.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T17:23:13Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.\n+ *\n+ * Thread-safe.\n+ */\n+void SeedEvent(const unsigned char* event_type_buf, size_t buf_len);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349881230",
      "id" : 349881230,
      "in_reply_to_id" : 349880372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MTIzMA==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 10,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321920302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349881230",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349882703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349882703"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, you mean in SeedSlow Finalize the events_hasher, then write the buffer back into the events_hasher and have SeedPeriodic wipe it? Cause SeedSlow doesn't store the data back into the RNGState.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:03:06Z",
      "diff_hunk" : "@@ -485,6 +488,14 @@ static void SeedPeriodic(CSHA512& hasher, RNGState& rng)\n     // High-precision timestamp\n     SeedTimestamp(hasher);\n \n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349882703",
      "id" : 349882703,
      "in_reply_to_id" : 349880600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MjcwMw==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 14,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321921892,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349882703",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883594"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Here is a more C++ish interface, that serializes (through the serialization framework) all arguments passed to SeedEvent (without any allocations): https://github.com/sipa/bitcoin/tree/bluematt_2019-11-rng-netmsg",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:24:11Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.\n+ *\n+ * Thread-safe.\n+ */\n+void SeedEvent(const unsigned char* event_type_buf, size_t buf_len);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883594",
      "id" : 349883594,
      "in_reply_to_id" : 349880372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MzU5NA==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 10,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321922799,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883594",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883668"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883668"
         }
      },
      "author_association" : "MEMBER",
      "body" : "All the Seed* functions just add to a CSHA512; ultimately, they're all called from ProcRand, which mixes it with the existing RNGState, and produces output.\r\n\r\nSeedPeriodic goes a step further, in trying to make sure that the existing RNGState is also fed through the strengthener, but that isn't really required.\r\n\r\nSo just copying this code block to SeedSlow would work.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:26:01Z",
      "diff_hunk" : "@@ -485,6 +488,14 @@ static void SeedPeriodic(CSHA512& hasher, RNGState& rng)\n     // High-precision timestamp\n     SeedTimestamp(hasher);\n \n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883668",
      "id" : 349883668,
      "in_reply_to_id" : 349880600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4MzY2OA==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 14,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321922866,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883668",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oof, that's....quite a bigger diff. Are you worried about the current interface introducing bugs? I don't think it's particularly likely (nor are we likely to add calls to this *everywhere*), and it matches the rest of the random. interface.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:28:02Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.\n+ *\n+ * Thread-safe.\n+ */\n+void SeedEvent(const unsigned char* event_type_buf, size_t buf_len);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883763",
      "id" : 349883763,
      "in_reply_to_id" : 349880372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4Mzc2Mw==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 10,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321922962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883763",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883770"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883770"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, so I did this.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:28:18Z",
      "diff_hunk" : "@@ -485,6 +488,14 @@ static void SeedPeriodic(CSHA512& hasher, RNGState& rng)\n     // High-precision timestamp\n     SeedTimestamp(hasher);\n \n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349883770",
      "id" : 349883770,
      "in_reply_to_id" : 349880600,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4Mzc3MA==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 14,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321922971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349883770",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It was pointed out that this would make processing of small net messages particularly slower. Instead of only mixing in extra randomness for large net messages I switched it to SHA256 to use our existing ASM optimizations here. Also changed the fn name to be closer to the rest of random.h.",
      "created_at" : "2019-11-23T18:29:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557821681",
      "id" : 557821681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgyMTY4MQ==",
      "updated_at" : "2019-11-23T18:29:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557821681",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884064"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you switch to SHA256 (which you did) it's much smaller.\r\n\r\nIt also enables efficiently adding extra information without first copying everything into a buffer (say, you could call `SeedEvent(msg.command, peerid);` just as easily)\r\n\r\nI agree it's perhaps overkill - up to you.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:35:12Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.\n+ *\n+ * Thread-safe.\n+ */\n+void SeedEvent(const unsigned char* event_type_buf, size_t buf_len);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884064",
      "id" : 349884064,
      "in_reply_to_id" : 349880372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4NDA2NA==",
      "original_commit_id" : "e7db8012bed2701207310bb253fc09e6d24a583b",
      "original_position" : 10,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321923246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884064",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884165"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You could also limit this to 4 bytes (or even 2...), if size is an issue.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:37:19Z",
      "diff_hunk" : "@@ -553,6 +577,16 @@ void GetRandBytes(unsigned char* buf, int num) noexcept { ProcRand(buf, num, RNG\n void GetStrongRandBytes(unsigned char* buf, int num) noexcept { ProcRand(buf, num, RNGLevel::SLOW); }\n void RandAddPeriodic() { ProcRand(nullptr, 0, RNGLevel::PERIODIC); }\n \n+void RandAddEvent(const unsigned char* event_type_buf, size_t buf_len) {\n+    LOCK(events_mutex);\n+    events_hasher.Write((unsigned char *)&buf_len, sizeof(size_t));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884165",
      "id" : 349884165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4NDE2NQ==",
      "original_commit_id" : "95f57080679769c2cb478e993736362a9e469926",
      "original_position" : 58,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321923343,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884165",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884174"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884174"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `uint32_t` is probably more appropriate ",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:37:36Z",
      "diff_hunk" : "@@ -553,6 +577,16 @@ void GetRandBytes(unsigned char* buf, int num) noexcept { ProcRand(buf, num, RNG\n void GetStrongRandBytes(unsigned char* buf, int num) noexcept { ProcRand(buf, num, RNGLevel::SLOW); }\n void RandAddPeriodic() { ProcRand(nullptr, 0, RNGLevel::PERIODIC); }\n \n+void RandAddEvent(const unsigned char* event_type_buf, size_t buf_len) {\n+    LOCK(events_mutex);\n+    events_hasher.Write((unsigned char *)&buf_len, sizeof(size_t));\n+    events_hasher.Write(event_type_buf, buf_len);\n+    // Get the low four bytes of the performance counter. This translates to roughly the\n+    // subsecond part.\n+    int32_t perfcounter = (GetPerformanceCounter() & 0xffffffff);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884174",
      "id" : 349884174,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4NDE3NA==",
      "original_commit_id" : "95f57080679769c2cb478e993736362a9e469926",
      "original_position" : 62,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321923343,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884174",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884427"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884427"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, I'm not too worried about it? Its mostly up to the caller and right now net will only ever pass in 12+4+8 bytes per call, which means it will never be more than one extra hash per two messages, which seems reasonable.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T18:43:41Z",
      "diff_hunk" : "@@ -553,6 +577,16 @@ void GetRandBytes(unsigned char* buf, int num) noexcept { ProcRand(buf, num, RNG\n void GetStrongRandBytes(unsigned char* buf, int num) noexcept { ProcRand(buf, num, RNGLevel::SLOW); }\n void RandAddPeriodic() { ProcRand(nullptr, 0, RNGLevel::PERIODIC); }\n \n+void RandAddEvent(const unsigned char* event_type_buf, size_t buf_len) {\n+    LOCK(events_mutex);\n+    events_hasher.Write((unsigned char *)&buf_len, sizeof(size_t));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349884427",
      "id" : 349884427,
      "in_reply_to_id" : 349884165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4NDQyNw==",
      "original_commit_id" : "95f57080679769c2cb478e993736362a9e469926",
      "original_position" : 58,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 321923616,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349884427",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A comment on including the timestamp: GetPerformanceCounter on ARM is not extremely cheap (it involves a system call), perhaps you'd want a way for the caller to provide their own timestamp (or timestamp-like variable), as I assume generally they already have one?",
      "created_at" : "2019-11-23T18:44:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557822758",
      "id" : 557822758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgyMjc1OA==",
      "updated_at" : "2019-11-23T18:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557822758",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, net does have one, but its also mostly intended for things exactly like net, where you are handling an \"event\" that is the result of a syscall already...Unless its particularly more expensive than poll() + read(), I'm not too worried :). Its not like we're gonna call it somewhere where performance in nanoseconds is absolutely critical, though may be calling it in places where DoS is a risk. So...don't think its worth breaking the abstraction for it.",
      "created_at" : "2019-11-23T18:48:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557823042",
      "id" : 557823042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgyMzA0Mg==",
      "updated_at" : "2019-11-23T18:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557823042",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I would indeed assume that it's not more expensive than poll+read, good point.",
      "created_at" : "2019-11-23T18:52:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557823324",
      "id" : 557823324,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgyMzMyNA==",
      "updated_at" : "2019-11-23T18:52:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557823324",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Here is another idea: use the serialization-based interface, but instead feeding it directly into events_hasher, feed it into a SipHasher instead. Then feed a few bits (8, 16, 32?) of the SipHash of all passed data to events_hasher. That should be both simpler (no need to expose internals as much), and faster (much less SHA256'ing, don't hold lock as long).",
      "created_at" : "2019-11-23T19:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557825163",
      "id" : 557825163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgyNTE2Mw==",
      "updated_at" : "2019-11-23T19:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557825163",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Even simpler idea, just use the damn message hash instead of the command :). Its nice and small (4 bytes), plus has more entropy in it anyway. Since our (real) goal is to get the time when we receive a message, that's more than sufficient, but we also steal our peers' entropy in their ping nonces :).",
      "created_at" : "2019-11-23T19:21:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557825437",
      "id" : 557825437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgyNTQzNw==",
      "updated_at" : "2019-11-23T19:21:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557825437",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice... if the caller has too much data they can always siphash or wahtever it thenselves. You could simplify the interface by just allowing a uint32_t to be passed or so.",
      "created_at" : "2019-11-23T20:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557830190",
      "id" : 557830190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgzMDE5MA==",
      "updated_at" : "2019-11-23T20:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557830190",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Its now an explicit uint32_t.",
      "created_at" : "2019-11-23T20:44:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557831281",
      "id" : 557831281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgzMTI4MQ==",
      "updated_at" : "2019-11-23T20:44:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557831281",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349889537"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349889537"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`ReadLE32(hash.begin())` ?",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T20:53:30Z",
      "diff_hunk" : "@@ -693,6 +697,10 @@ CNetMessage V1TransportDeserializer::GetMessage(const CMessageHeader::MessageSta\n     msg.m_message_size = hdr.nMessageSize;\n     msg.m_raw_message_size = hdr.nMessageSize + CMessageHeader::HEADER_SIZE;\n \n+    // We just received a message off the wire, harvest entropy from the time (and the message checksum)\n+    uint32_t msg_hash = (hash.begin()[0] << 8*3) | (hash.begin()[1] << 8*2) | (hash.begin()[2] << 8*1) | hash.begin()[3];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349889537",
      "id" : 349889537,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4OTUzNw==",
      "original_commit_id" : "ca83443569fcaa41ed68ee9340490aa5957d5585",
      "original_position" : 23,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 321928608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349889537",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349889888"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349889888"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This comment seems outdated now.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T21:02:04Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349889888",
      "id" : 349889888,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg4OTg4OA==",
      "original_commit_id" : "ca83443569fcaa41ed68ee9340490aa5957d5585",
      "original_position" : 6,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321928931,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349889888",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349890024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349890024"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Heh, I figured I'd leave it, since it doesn't actually matter what the 4 bytes are, they just have to be aligned and typed as a u32.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T21:06:16Z",
      "diff_hunk" : "@@ -89,6 +89,14 @@ void GetStrongRandBytes(unsigned char* buf, int num) noexcept;\n  */\n void RandAddPeriodic();\n \n+/**\n+ * Gathers entropy from the low bits of the time at which events occur. Should\n+ * be called with a few bytes describing the event at the time an event occurs.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349890024",
      "id" : 349890024,
      "in_reply_to_id" : 349889888,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg5MDAyNA==",
      "original_commit_id" : "ca83443569fcaa41ed68ee9340490aa5957d5585",
      "original_position" : 6,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 321929066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:06:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349890024",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349891853"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349891853"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ha, neat.",
      "commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T21:50:34Z",
      "diff_hunk" : "@@ -449,6 +450,23 @@ static void SeedFast(CSHA512& hasher) noexcept\n     SeedTimestamp(hasher);\n }\n \n+// We use only SHA256 for the events hashing to get the ASM speedups we have for SHA256,\n+// since we want it to be fast as network peers may be able to trigger it repeatedly.\n+static Mutex events_mutex;\n+static CSHA256 events_hasher;\n+static void SeedEvents(CSHA512& hasher)\n+{\n+    LOCK(events_mutex);\n+\n+    unsigned char events_hash[32];\n+    events_hasher.Finalize(events_hash);\n+    hasher.Write(events_hash, 32);\n+\n+    // Re-initialize the hasher with the finalized state to use later.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#discussion_r349891853",
      "id" : 349891853,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0OTg5MTg1Mw==",
      "original_commit_id" : "02d8c56a18b9a2960888d6ec1209955105bae847",
      "original_position" : 24,
      "path" : "src/random.cpp",
      "position" : 24,
      "pull_request_review_id" : 321930797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17573",
      "updated_at" : "2019-11-23T21:50:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/349891853",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/commit/02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-11-23T21:51:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557836177",
      "id" : 557836177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgzNjE3Nw==",
      "updated_at" : "2019-11-23T21:51:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557836177",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17167](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17167.html) (Allow whitelisting outgoing connections by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-11-23T22:22:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557838189",
      "id" : 557838189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgzODE4OQ==",
      "updated_at" : "2019-11-23T22:22:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557838189",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This effectively adds one SHA256 compression per 8 messages/connections. That seems acceptably low, compared to the work already done for message checksumming.",
      "created_at" : "2019-11-23T22:27:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557838499",
      "id" : 557838499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzgzODQ5OQ==",
      "updated_at" : "2019-11-23T22:27:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557838499",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The AppVeyor build fail occurs before build even starts, so is a false positive.",
      "created_at" : "2019-11-24T17:30:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557909882",
      "id" : 557909882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzkwOTg4Mg==",
      "updated_at" : "2019-11-24T17:30:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557909882",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: nice idea and straightforward implementation",
      "created_at" : "2019-11-25T00:02:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557943444",
      "id" : 557943444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Nzk0MzQ0NA==",
      "updated_at" : "2019-11-25T00:02:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557943444",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Clang Thread Safety Analysis annotations seem to be missing? :)",
      "created_at" : "2019-11-25T00:11:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-557944329",
      "id" : 557944329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Nzk0NDMyOQ==",
      "updated_at" : "2019-11-25T00:11:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557944329",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2019-12-03T20:09:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-561335950",
      "id" : 561335950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTMzNTk1MA==",
      "updated_at" : "2019-12-03T20:09:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561335950",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 02d8c56a18b9a2960888d6ec1209955105bae847",
      "created_at" : "2019-12-04T12:12:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-561617435",
      "id" : 561617435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTYxNzQzNQ==",
      "updated_at" : "2019-12-04T12:12:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561617435",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj I was a bit surprised to see this merged without thread safety annotations, or more specifically before the thread safety questions were addressed. Was there a reason for that? :)",
      "created_at" : "2019-12-04T13:22:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-561643388",
      "id" : 561643388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTY0MzM4OA==",
      "updated_at" : "2019-12-04T13:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561643388",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It has three ACKs and passes travis. \r\n\r\nIf you want to add any annotations, go ahead, but we're not going to block merges on always new requirements.",
      "created_at" : "2019-12-04T13:39:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-561649548",
      "id" : 561649548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTY0OTU0OA==",
      "updated_at" : "2019-12-04T13:39:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561649548",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This change is causing problems on Windows. No appveyor tests have passed since it was merged and I've also verified locally that  `bitcoind.exe`, `bitcoin-qt.exe`, `bench_bitcoin.exe` and `test_bitcoin.exe` are failing. Failing in this case means exiting almost immediately with no error message.\r\n\r\nRunning the programs in the Visual Studio debugger gets an `Access Violation` exception reported on the `LOCK(events_mutex)` call. I'm always cautious with `Access Violation` exceptions as often the cause could have been an earlier call and the reported site is a side effect.\r\n\r\nAs a quick and dirty test I moved the declaration of `static Mutex events_mutex` to be a local static variable in the two methods using it. The programs were all able to run normally after that. I realise that's defeating the purpose of the mutex so isn't a fix.\r\n",
      "created_at" : "2019-12-04T20:37:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-561828251",
      "id" : 561828251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTgyODI1MQ==",
      "updated_at" : "2019-12-04T20:37:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561828251",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipsorcery I should have known that would happen; I suspect it is invoking the RNG before global initialization is complete, and thus potentially before events_mutex is initialized. Working on a fix.",
      "created_at" : "2019-12-04T20:39:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17573#issuecomment-561829305",
      "id" : 561829305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17573",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTgyOTMwNQ==",
      "updated_at" : "2019-12-04T20:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561829305",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
