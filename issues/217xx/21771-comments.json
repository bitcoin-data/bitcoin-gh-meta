[
   {
      "author_association" : "MEMBER",
      "body" : "cc @dongcarl @fanquake @theuni ",
      "created_at" : "2021-04-24T07:35:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21771#issuecomment-826050632",
      "id" : 826050632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21771",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjA1MDYzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-24T07:35:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826050632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Further debugging shows that being compiled with newer compilers the [`effectiveAppearance`](https://developer.apple.com/documentation/appkit/nsappearancecustomization/1535147-effectiveappearance?language=objc) returns [`NSAppearanceNameAqua`](https://developer.apple.com/documentation/appkit/nsappearancenameaqua?language=objc) regardless of the actual appearance setting.",
      "created_at" : "2021-04-24T09:46:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21771#issuecomment-826066345",
      "id" : 826066345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21771",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjA2NjM0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-24T09:46:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826066345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Additional info.\r\n\r\nOld compilers set the `sdk` field explicitly:\r\n- apple clang 10.0.1 on macOS Mojave 10.14.6 (18G8022)\r\n```\r\n$ otool -l src/qt/bitcoin-qt | grep -A 7 -B 1 BUILD_VERSION\r\nLoad command 9\r\n       cmd LC_BUILD_VERSION\r\n   cmdsize 32\r\n  platform macos\r\n       sdk 10.14\r\n     minos 10.14\r\n    ntools 1\r\n      tool ld\r\n   version 450.3\r\n```\r\n- llvm clang 8.0.0 used in depends\r\n```\r\n$ depends/x86_64-apple-darwin18/native/bin/x86_64-apple-darwin18-otool -l src/qt/bitcoin-qt | grep -A 7 -B 1 BUILD_VERSION\r\nLoad command 9\r\n      cmd LC_BUILD_VERSION\r\n  cmdsize 32\r\n platform 1\r\n    minos 10.14\r\n      sdk 505.0\r\n   ntools 1\r\n     tool 3\r\n  version 530.0\r\n```\r\n\r\nNewer compilers do not assign the `sdk` field value at all:\r\n- apple clang 12.0.0 on Big Sur 11.2.3 (20D91)\r\n```\r\n% otool -l src/qt/bitcoin-qt | grep -A 7 -B 1 BUILD_VERSION\r\nLoad command 9\r\n      cmd LC_BUILD_VERSION\r\n  cmdsize 32\r\n platform 1\r\n    minos 10.14\r\n      sdk n/a\r\n   ntools 1\r\n     tool 3\r\n  version 609.8\r\n```\r\n- llvm clang 10.0.1 in depends (https://github.com/bitcoin/bitcoin/pull/19817)\r\n```\r\n$ depends/x86_64-apple-darwin18/native/bin/x86_64-apple-darwin18-otool -l src/qt/bitcoin-qt | grep -A 7 -B 1 BUILD_VERSION\r\nLoad command 9\r\n      cmd LC_BUILD_VERSION\r\n  cmdsize 32\r\n platform 1\r\n    minos 10.14\r\n      sdk n/a\r\n   ntools 1\r\n     tool 3\r\n  version 530.0\r\n```\r\n\r\nAnd [Qt doc](https://doc.qt.io/qt-5/macos.html#opting-out-of-macos-behavior-changes) states:\r\n> ... macOS's system frameworks will sometimes decide whether or not to enable behavior changes _based on the SDK_ you built your application with.",
      "created_at" : "2021-04-26T10:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21771#issuecomment-826698246",
      "id" : 826698246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21771",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjY5ODI0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T10:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826698246",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, the root of the issue is the https://github.com/llvm/llvm-project/commit/25ce33a6e4f3b13732c0f851e68390dc2acb9123 commit since llvm clang 10.0.0.",
      "created_at" : "2021-04-26T18:56:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21771#issuecomment-827070627",
      "id" : 827070627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21771",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNzA3MDYyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T18:56:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/827070627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing now that #21793 is merged.",
      "created_at" : "2021-05-01T06:14:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21771#issuecomment-830561370",
      "id" : 830561370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21771",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMDU2MTM3MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-01T06:14:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/830561370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
