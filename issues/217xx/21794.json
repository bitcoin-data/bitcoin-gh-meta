{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "The consensus library that is released for MacOS (`libbitcoinconsensus.dylib`) does not seem to contain the necessary functions.\r\n\r\nJust the file size (~400KB) of the lib looks to be far too small to fit in the required functions. \r\nE.g. the consensus lib for linux is over 4MB.\r\n\r\nMoreover, running `nm -gU ` returns only:\r\n```\r\n00000000000633c0 S __ZTINSt3__115basic_stringbufIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n0000000000063328 S __ZTINSt3__118basic_stringstreamIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n0000000000063570 S __ZTINSt3__119basic_istringstreamIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n0000000000063498 S __ZTINSt3__119basic_ostringstreamIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n0000000000052576 S __ZTSNSt3__115basic_stringbufIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n00000000000525b8 S __ZTSNSt3__118basic_stringstreamIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n0000000000052530 S __ZTSNSt3__119basic_istringstreamIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n00000000000524d0 S __ZTSNSt3__119basic_ostringstreamIcNS_11char_traitsIcEENS_9allocatorIcEEEE\r\n0000000000008780 T _secp256k1_context_clone\r\n0000000000008660 T _secp256k1_context_create\r\n0000000000008880 T _secp256k1_context_destroy\r\n00000000000636a8 D _secp256k1_context_no_precomp\r\n0000000000008700 T _secp256k1_context_preallocated_clone\r\n00000000000082e0 T _secp256k1_context_preallocated_clone_size\r\n0000000000008300 T _secp256k1_context_preallocated_create\r\n0000000000008830 T _secp256k1_context_preallocated_destroy\r\n00000000000082a0 T _secp256k1_context_preallocated_size\r\n0000000000011600 T _secp256k1_context_randomize\r\n0000000000008950 T _secp256k1_context_set_error_callback\r\n00000000000088c0 T _secp256k1_context_set_illegal_callback\r\n000000000000ec30 T _secp256k1_ec_privkey_negate\r\n000000000000f190 T _secp256k1_ec_privkey_tweak_add\r\n00000000000105b0 T _secp256k1_ec_privkey_tweak_mul\r\n0000000000012bb0 T _secp256k1_ec_pubkey_combine\r\n000000000000dbb0 T _secp256k1_ec_pubkey_create\r\n000000000000ec40 T _secp256k1_ec_pubkey_negate\r\n0000000000008ac0 T _secp256k1_ec_pubkey_parse\r\n0000000000009670 T _secp256k1_ec_pubkey_serialize\r\n000000000000f1a0 T _secp256k1_ec_pubkey_tweak_add\r\n00000000000105c0 T _secp256k1_ec_pubkey_tweak_mul\r\n000000000000ea10 T _secp256k1_ec_seckey_negate\r\n000000000000eed0 T _secp256k1_ec_seckey_tweak_add\r\n00000000000101a0 T _secp256k1_ec_seckey_tweak_mul\r\n000000000000db30 T _secp256k1_ec_seckey_verify\r\n0000000000016b40 T _secp256k1_ecdsa_recover\r\n0000000000016980 T _secp256k1_ecdsa_recoverable_signature_convert\r\n0000000000016540 T _secp256k1_ecdsa_recoverable_signature_parse_compact\r\n00000000000166a0 T _secp256k1_ecdsa_recoverable_signature_serialize_compact\r\n000000000000c1c0 T _secp256k1_ecdsa_sign\r\n0000000000016a40 T _secp256k1_ecdsa_sign_recoverable\r\n000000000000a890 T _secp256k1_ecdsa_signature_normalize\r\n0000000000009f10 T _secp256k1_ecdsa_signature_parse_compact\r\n0000000000009c90 T _secp256k1_ecdsa_signature_parse_der\r\n000000000000a5d0 T _secp256k1_ecdsa_signature_serialize_compact\r\n000000000000a110 T _secp256k1_ecdsa_signature_serialize_der\r\n000000000000aa30 T _secp256k1_ecdsa_verify\r\n00000000000209d0 T _secp256k1_keypair_create\r\n00000000000219c0 T _secp256k1_keypair_pub\r\n0000000000021a90 T _secp256k1_keypair_xonly_pub\r\n0000000000021f80 T _secp256k1_keypair_xonly_tweak_add\r\n0000000000063698 S _secp256k1_nonce_function_bip340\r\n0000000000063690 S _secp256k1_nonce_function_default\r\n0000000000063688 S _secp256k1_nonce_function_rfc6979\r\n0000000000022aa0 T _secp256k1_schnorrsig_sign\r\n0000000000024900 T _secp256k1_schnorrsig_verify\r\n00000000000089e0 T _secp256k1_scratch_space_create\r\n0000000000008a50 T _secp256k1_scratch_space_destroy\r\n000000000001fe20 T _secp256k1_xonly_pubkey_from_pubkey\r\n00000000000173f0 T _secp256k1_xonly_pubkey_parse\r\n000000000001fbf0 T _secp256k1_xonly_pubkey_serialize\r\n0000000000020080 T _secp256k1_xonly_pubkey_tweak_add\r\n0000000000020310 T _secp256k1_xonly_pubkey_tweak_add_check\r\n```\r\n\r\nThere is no `bitcoinconsensus_verify_script`, `bitcoinconsensus_verify_script_with_amount`, or `bitcoinconsensus_version`.\r\n\r\nIt looks more like secp256k1 alone, rather the the consensus lib.\r\n\r\nI have checked only the recent three releases: **0.19.1**, **0.20.1** and **0.21.0**\r\nAll downloaded as a **.tar.gz** file from bitcoincore.org - eg: https://bitcoincore.org/bin/bitcoin-core-0.21.0/bitcoin-0.21.0-osx64.tar.gz\r\n\r\n\r\n",
   "closed_at" : "2021-08-12T05:16:35Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 7,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794/comments",
   "created_at" : "2021-04-28T09:31:57Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794",
   "id" : 869740284,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      },
      {
         "color" : "660000",
         "default" : false,
         "description" : "",
         "id" : 234879,
         "name" : "macOS",
         "node_id" : "MDU6TGFiZWwyMzQ4Nzk=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU4Njk3NDAyODQ=",
   "number" : 21794,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "libbitcoinconsensus.dylib in MacOS releases is broken",
   "updated_at" : "2021-08-12T05:16:36Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/582950?v=4",
      "events_url" : "https://api.github.com/users/piotrnar/events{/privacy}",
      "followers_url" : "https://api.github.com/users/piotrnar/followers",
      "following_url" : "https://api.github.com/users/piotrnar/following{/other_user}",
      "gists_url" : "https://api.github.com/users/piotrnar/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/piotrnar",
      "id" : 582950,
      "login" : "piotrnar",
      "node_id" : "MDQ6VXNlcjU4Mjk1MA==",
      "organizations_url" : "https://api.github.com/users/piotrnar/orgs",
      "received_events_url" : "https://api.github.com/users/piotrnar/received_events",
      "repos_url" : "https://api.github.com/users/piotrnar/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/piotrnar/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/piotrnar/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/piotrnar"
   }
}
