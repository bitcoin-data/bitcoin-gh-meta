[
   {
      "author_association" : "MEMBER",
      "body" : "Do you see the issue when building master? This should have been fixed by #19522, which missed making it into 0.21.0.",
      "created_at" : "2021-04-28T09:35:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-828309468",
      "id" : 828309468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyODMwOTQ2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-28T09:35:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/828309468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I don't have the tools to build ATM. Will gladly test in the next release.",
      "created_at" : "2021-04-28T09:42:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-828314241",
      "id" : 828314241,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyODMxNDI0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-28T09:42:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/828314241",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/582950?v=4",
         "events_url" : "https://api.github.com/users/piotrnar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/piotrnar/followers",
         "following_url" : "https://api.github.com/users/piotrnar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/piotrnar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/piotrnar",
         "id" : 582950,
         "login" : "piotrnar",
         "node_id" : "MDQ6VXNlcjU4Mjk1MA==",
         "organizations_url" : "https://api.github.com/users/piotrnar/orgs",
         "received_events_url" : "https://api.github.com/users/piotrnar/received_events",
         "repos_url" : "https://api.github.com/users/piotrnar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/piotrnar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/piotrnar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/piotrnar"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Nope. \r\n\r\nThe lib from the 0.21.1 release is still only ~400KB and still does not seem to contain the necessary functions.",
      "created_at" : "2021-05-03T17:26:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-831410024",
      "id" : 831410024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMTQxMDAyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-03T17:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831410024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/582950?v=4",
         "events_url" : "https://api.github.com/users/piotrnar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/piotrnar/followers",
         "following_url" : "https://api.github.com/users/piotrnar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/piotrnar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/piotrnar",
         "id" : 582950,
         "login" : "piotrnar",
         "node_id" : "MDQ6VXNlcjU4Mjk1MA==",
         "organizations_url" : "https://api.github.com/users/piotrnar/orgs",
         "received_events_url" : "https://api.github.com/users/piotrnar/received_events",
         "repos_url" : "https://api.github.com/users/piotrnar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/piotrnar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/piotrnar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/piotrnar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The lib from the 0.21.1 release is still only ~400KB and still does not seem to contain the necessary functions.\r\n\r\nThat is expected. #19522 has been merged into the master branch, which will become 22.0. That change is simple enough that it could potentially be backported for a 0.21.2 release.",
      "created_at" : "2021-05-04T00:01:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-831608037",
      "id" : 831608037,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMTYwODAzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-04T00:01:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831608037",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "OK.  I built the library from master and it was good, although I am not convinced that my building environment is identical to the one you use for releases.\r\n\r\nBut I noticed that the lib's glue code has not been updated with the Taproot flag. Calling `bitcoinconsensus_verify_script_with_amount` with `SCRIPT_VERIFY_TAPROOT` flag returns `bitcoinconsensus_ERR_INVALID_FLAGS`.\r\n I'm guessing it was overlooked when taproot was added to the rest of the code.\r\n\r\nMoreover, it used to be possible to call the verify_script function with the soft flags (e.g. `SCRIPT_VERIFY_LOW_S`) as well. It was useful if one wanted to check a transaction before placing it in a mempool, to use the same rules as bitcoin core. But now I see that the consensus lib only allows the actually enforced (hard) consensus flags and trying any of the other ones throws `bitcoinconsensus_ERR_INVALID_FLAGS `.\r\nI'm guessing someone thought it would be an improvement, but it is not backward compatible and IMHO it limits the functionality of the library while not giving any real benefits.",
      "created_at" : "2021-05-04T07:50:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-831749582",
      "id" : 831749582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMTc0OTU4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-04T07:59:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831749582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/582950?v=4",
         "events_url" : "https://api.github.com/users/piotrnar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/piotrnar/followers",
         "following_url" : "https://api.github.com/users/piotrnar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/piotrnar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/piotrnar",
         "id" : 582950,
         "login" : "piotrnar",
         "node_id" : "MDQ6VXNlcjU4Mjk1MA==",
         "organizations_url" : "https://api.github.com/users/piotrnar/orgs",
         "received_events_url" : "https://api.github.com/users/piotrnar/received_events",
         "repos_url" : "https://api.github.com/users/piotrnar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/piotrnar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/piotrnar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/piotrnar"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@piotrnar Fyi, https://github.com/bitcoin/bitcoin/pull/21158 implements the necessary changes for taproot",
      "created_at" : "2021-05-16T23:56:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-841898326",
      "id" : 841898326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0MTg5ODMyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-16T23:56:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/841898326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/777143?v=4",
         "events_url" : "https://api.github.com/users/jrawsthorne/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrawsthorne/followers",
         "following_url" : "https://api.github.com/users/jrawsthorne/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrawsthorne/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrawsthorne",
         "id" : 777143,
         "login" : "jrawsthorne",
         "node_id" : "MDQ6VXNlcjc3NzE0Mw==",
         "organizations_url" : "https://api.github.com/users/jrawsthorne/orgs",
         "received_events_url" : "https://api.github.com/users/jrawsthorne/received_events",
         "repos_url" : "https://api.github.com/users/jrawsthorne/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrawsthorne/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrawsthorne/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrawsthorne"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm going to close this, as the macOS libbitcoinconsensus.dylib is fixed as of 22.0, and I don't think we are going to backport the fix (#19522) into the 0.21.x branch. If you've got further issues with the library (flags), or questions about taproot support, I'd suggest opening a new issue, or following up in #21133 or #21158.",
      "created_at" : "2021-08-12T05:16:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21794#issuecomment-897355531",
      "id" : 897355531,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21794",
      "node_id" : "IC_kwDOABII5841fI8L",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-12T05:16:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/897355531",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
