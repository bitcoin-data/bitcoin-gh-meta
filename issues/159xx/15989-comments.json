[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will test.\r\n\r\n> ensures that the auth cookie is still generated in regtest mode on test purposes\r\n\r\nIs this necessary for the test framework?",
      "created_at" : "2019-05-09T17:34:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-490996609",
      "id" : 490996609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MDk5NjYwOQ==",
      "updated_at" : "2019-05-09T17:34:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/490996609",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag \r\n> Is this necessary for the test framework?\r\n\r\nYes, it is. See:\r\nhttps://github.com/bitcoin/bitcoin/blob/de5af41e3567dd9660b3e9734113dccbce394207/test/functional/test_framework/util.py#L314",
      "created_at" : "2019-05-09T17:41:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-490999103",
      "id" : 490999103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MDk5OTEwMw==",
      "updated_at" : "2019-05-09T17:41:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/490999103",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Unless I'm reading this wrong, this provides no way to keep bitcoin-cli just working if you'd added an rpcauth line to enable use by an application.",
      "created_at" : "2019-05-10T02:46:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491135320",
      "id" : 491135320,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTEzNTMyMA==",
      "updated_at" : "2019-05-10T02:46:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491135320",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gmaxwell \r\n> Unless I'm reading this wrong, this provides no way to keep bitcoin-cli just working if you'd added an rpcauth line to enable use by an application.\r\n\r\nIf the client is running with the `-rpcauth` option the `bitcoin-cli` needs authorization (with this PR).\r\nThe same behavior is for the client with `-rpcuser` and `-rpcpassword` options set (on master).",
      "created_at" : "2019-05-10T08:30:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491206454",
      "id" : 491206454,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTIwNjQ1NA==",
      "updated_at" : "2019-05-10T08:30:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491206454",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is there any downside to having two mechanisms to auth with?",
      "created_at" : "2019-05-10T11:19:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491253982",
      "id" : 491253982,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI1Mzk4Mg==",
      "updated_at" : "2019-05-10T11:19:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491253982",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Is there any downside to having two mechanisms to auth with?\r\n\r\nThere are _three_ mechanisms to authenticate with:\r\n- using `.cookie` file\r\n- providing `-rpcuser` and `-rpcpassword` options to the RPC server (`bitcoind` or `bitcoin-qt`; should be deprecated as a plain text RPC password is exposed)\r\n- providing `-rpcauth` option to the RPC server (`bitcoind` or `bitcoin-qt`)\r\n\r\nBefore #7044 was merged providing `-rpcuser` and `-rpcpassword` options to the RPC server effectively disabled the `.cookie` authorization for local instances of the `bitcoin-cli` client. IMO, this behavior follows the Principle of Least Astonishment.\r\n\r\nAfter #7044 is merged the behavior of the RPC server with `-rpcauth` option differs from the behavior with `-rpcuser` and `-rpcpassword` options. This PR fixes this issue according with the Principle of Least Astonishment.\r\n",
      "created_at" : "2019-05-10T11:43:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491259711",
      "id" : 491259711,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI1OTcxMQ==",
      "updated_at" : "2019-05-10T11:43:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491259711",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is there any danger to always create the cookie?",
      "created_at" : "2019-05-10T11:52:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491262131",
      "id" : 491262131,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI2MjEzMQ==",
      "updated_at" : "2019-05-10T11:52:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491262131",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is there any danger to always create the cookie?\r\n\r\nI'm not a security expert.\r\n\"_to always create the cookie_\" seems equivalent to giving access to the RPC interface to any non-privileged user (e.g., if `/etc/bitcoin/bitcoin.conf` exists). Is it acceptable for nodes running for business? ",
      "created_at" : "2019-05-10T12:02:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491264583",
      "id" : 491264583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI2NDU4Mw==",
      "updated_at" : "2019-05-10T12:02:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491264583",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If they have access to the conf file, they might as well put the rpcauth pair in there and don't need the cookie.",
      "created_at" : "2019-05-10T12:06:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491265463",
      "id" : 491265463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI2NTQ2Mw==",
      "updated_at" : "2019-05-10T12:06:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491265463",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> ... they might as well put the rpcauth pair in there ...\r\n\r\nThis requires write access.\r\n\r\nHowever, only read access is needed to read the cookie from `/etc` dir or its subdir.\r\n\r\n",
      "created_at" : "2019-05-10T12:14:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491267725",
      "id" : 491267725,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI2NzcyNQ==",
      "updated_at" : "2019-05-10T12:14:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491267725",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`.cookie` is a plain text file:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/14959753a424f04be118630f691ecab9b0df7e9e/src/rpc/protocol.cpp#L81\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/14959753a424f04be118630f691ecab9b0df7e9e/src/rpc/protocol.cpp#L93",
      "created_at" : "2019-05-10T12:17:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491268577",
      "id" : 491268577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTI2ODU3Nw==",
      "updated_at" : "2019-05-10T12:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491268577",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The cookie is not available to arbitrary non-privileged users. If it is, your configuration is already screwed up.  The cookie is protected by the same mechanism as the filesystems that protect _the wallet_.   Also, being able to read the conf files means that you can read the credentials which we should treat as equivalent to handling them (yes, they're hashed, but that is just belt-and-suspenders).\r\n\r\n> If the client is running with the -rpcauth option the bitcoin-cli needs authorization (with this PR).\r\n\r\nYes, and I think that is a bad change.   That means adding an rpcauth to enable an application like joinmarket or an explorer to use the daemon will then make the bitcoin-cli unusable.\r\n\r\nrpcuser/rpcpassword are deprecated and should eventually go away; thus eliminating any potential for behavioural confusion. \r\n\r\nI see nothing wrong with having an option to turn off the cookie (-norpccookiefile would be logical), it just shouldn't be overloaded with rpcauth.\r\n\r\nNAK",
      "created_at" : "2019-05-11T19:34:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491538291",
      "id" : 491538291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTUzODI5MQ==",
      "updated_at" : "2019-05-11T19:34:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491538291",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> However, if -rpcuser and -rpcpassword are provided the .cookie file is not generated.\r\n\r\nThen maybe change this? Especially considering these parameters are deprecated.",
      "created_at" : "2019-05-12T22:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491635610",
      "id" : 491635610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTYzNTYxMA==",
      "updated_at" : "2019-05-12T22:43:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491635610",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "NAK.\r\n\r\nBy luck I found out this pull request just when this behavior allowed me to fix a bug. If this PR was merged, it would break my use case.\r\n\r\nIn a BTCPay Server deployment, we have a bunch of applications connecting to Bitcoin Core RPC.\r\n\r\nFor most application, we use cookiefile because it is simpler to configure. The less parameters there is, the less chance to screw up.\r\n\r\nHowever, some application (like LND) does not handle cookie authentification right.\r\nCookie authentication requires the client to read the file before calling the API. \r\nInstead LND is caching the cookie when it starts. Meaning that if bitcoin core restart (because OOM for example) then LND is in a zombie state. Not crashing, not restarting, just hanging, looping indefinitely trying to connect to RPC with outdated creds. \r\nAfter report, it does not seems the priority of LND team to fix this critical bug.\r\n\r\nThe only fix I got was to use `rpcauth` with a fixed password just for LND. \r\nBut I want to keep cookiefile for the other applications because they always worked fine with it and I don't want to break things that work. (Also cookiefile auth is more secure)\r\n\r\nhttps://github.com/btcpayserver/btcpayserver-docker/commit/effa2a3884c660fd13b95bad4a7f3b57292af9d8\r\n\r\nThere is no reason that rpcauth, rpcuser/rpcpassword and cookiefile to be mutually exclusive.",
      "created_at" : "2019-05-13T01:27:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491647746",
      "id" : 491647746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTY0Nzc0Ng==",
      "updated_at" : "2019-05-13T01:32:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491647746",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also notice that the behavior being inconsistent forced me to use rpcauth instead of the deprecrated rpcuser/password. Which is a good thing.",
      "created_at" : "2019-05-13T01:33:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491648551",
      "id" : 491648551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTY0ODU1MQ==",
      "updated_at" : "2019-05-13T01:33:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491648551",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for everyone's input. Closing this for now, since it seems too controversial.",
      "created_at" : "2019-05-13T01:46:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491650078",
      "id" : 491650078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTY1MDA3OA==",
      "updated_at" : "2019-05-13T01:46:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491650078",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Also cookiefile auth is more secure\r\n\r\n@NicolasDorier How so?\r\n\r\nAFAIK cookie file is just a simple solution for authentication \"inside\" the host - both the server and the client have access to it. Of course the cookie can be shared to other hosts (you can read containers here) but I don't think that's the point.",
      "created_at" : "2019-05-13T13:54:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-491831923",
      "id" : 491831923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MTgzMTkyMw==",
      "updated_at" : "2019-05-13T13:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491831923",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag say there is 10 000 deployment in the wild of btcpay, and we are using a fixed password. So those 10 000 deployment have same RPC pass. Now if by mistake the RPC ever get exposed, we have 10 000 deployment exposed. At least with cookieauth the deployments don't have the same creds.",
      "created_at" : "2019-05-15T09:51:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15989#issuecomment-492587104",
      "id" : 492587104,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15989",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjU4NzEwNA==",
      "updated_at" : "2019-05-15T09:51:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492587104",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   }
]
