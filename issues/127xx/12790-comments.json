[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177087335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177087335"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I have verified these numbers are still correct. ",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T13:24:11Z",
      "diff_hunk" : "@@ -133,12 +133,12 @@ def setup_network(self):\n         which we will use to generate our transactions.\n         \"\"\"\n         self.add_nodes(3, extra_args=[[\"-maxorphantx=1000\", \"-whitelist=127.0.0.1\"],\n-                                      [\"-blockmaxsize=17000\", \"-maxorphantx=1000\"],\n-                                      [\"-blockmaxsize=8000\", \"-maxorphantx=1000\"]])\n+                                      [\"-blockmaxweight=68000\", \"-maxorphantx=1000\"],\n+                                      [\"-blockmaxweight=32000\", \"-maxorphantx=1000\"]])\n         # Use node0 to mine blocks for input splitting\n         # Node1 mines small blocks but that are bigger than the expected transaction rate.\n         # NOTE: the CreateNewBlock code starts counting block size at 1,000 bytes,\n-        # (17k is room enough for 110 or so transactions)\n+        # (68k weight is room enough for 120 or so transactions)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177087335",
      "id" : 177087335,
      "original_commit_id" : "321c448163504abc4155a18cc496940c9443a4ac",
      "original_position" : 12,
      "path" : "test/functional/feature_fee_estimation.py",
      "position" : null,
      "pull_request_review_id" : 106898672,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177087335",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @ajtowns ",
      "created_at" : "2018-03-26T13:25:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376164741",
      "id" : 376164741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T13:25:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376164741",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Request review from @jnewbery - since he posted the issue. ",
      "created_at" : "2018-03-26T13:27:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376165203",
      "id" : 376165203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T13:27:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376165203",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Needs rebase after #12756 (if still an issue).",
      "created_at" : "2018-03-26T13:34:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376167611",
      "id" : 376167611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T13:34:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376167611",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177094916"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177094916"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "May just remove these, since it's the default, but the limit was explicitly added in the original test. ",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T13:45:45Z",
      "diff_hunk" : "@@ -30,11 +30,11 @@ def on_block(self, message):\n         self.block_receive_map[message.block.sha256] += 1\n \n class MaxUploadTest(BitcoinTestFramework):\n- \n+\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n-        self.extra_args = [[\"-maxuploadtarget=800\"]]\n+        self.extra_args = [[\"-maxuploadtarget=800\", \"-blockmaxweight=3996000\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177094916",
      "id" : 177094916,
      "original_commit_id" : "5e1709628c0000fa1cfdd194c528a6a4832d718b",
      "original_position" : 10,
      "path" : "test/functional/feature_maxuploadtarget.py",
      "position" : null,
      "pull_request_review_id" : 106907622,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177094916",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased. ",
      "created_at" : "2018-03-26T13:48:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376171970",
      "id" : 376171970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T13:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376171970",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177120264"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177120264"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree that we should just remove this - there's no point in explicitly setting config to the default value (in fact it just distracts from the purpose of the test).",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T14:55:09Z",
      "diff_hunk" : "@@ -30,11 +30,11 @@ def on_block(self, message):\n         self.block_receive_map[message.block.sha256] += 1\n \n class MaxUploadTest(BitcoinTestFramework):\n- \n+\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n-        self.extra_args = [[\"-maxuploadtarget=800\"]]\n+        self.extra_args = [[\"-maxuploadtarget=800\", \"-blockmaxweight=3996000\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177120264",
      "id" : 177120264,
      "in_reply_to_id" : 177094916,
      "original_commit_id" : "5e1709628c0000fa1cfdd194c528a6a4832d718b",
      "original_position" : 10,
      "path" : "test/functional/feature_maxuploadtarget.py",
      "position" : null,
      "pull_request_review_id" : 106938188,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177120264",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177124192"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177124192"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This comment can be updated to say \"CreateNewBlock code starts counting block weight at 4,000 weight\"",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:04:03Z",
      "diff_hunk" : "@@ -133,12 +133,12 @@ def setup_network(self):\n         which we will use to generate our transactions.\n         \"\"\"\n         self.add_nodes(3, extra_args=[[\"-maxorphantx=1000\", \"-whitelist=127.0.0.1\"],\n-                                      [\"-maxorphantx=1000\"],\n-                                      [\"-maxorphantx=1000\"]])\n+                                      [\"-blockmaxweight=68000\", \"-maxorphantx=1000\"],\n+                                      [\"-blockmaxweight=32000\", \"-maxorphantx=1000\"]])\n         # Use node0 to mine blocks for input splitting\n         # Node1 mines small blocks but that are bigger than the expected transaction rate.\n         # NOTE: the CreateNewBlock code starts counting block size at 1,000 bytes,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177124192",
      "id" : 177124192,
      "original_commit_id" : "5e1709628c0000fa1cfdd194c528a6a4832d718b",
      "original_position" : 10,
      "path" : "test/functional/feature_fee_estimation.py",
      "position" : null,
      "pull_request_review_id" : 106942742,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177124192",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177124502"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177124502"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good! Is this test using segwit or legacy transactions? I assume that would have an impact on these numbers?",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:04:52Z",
      "diff_hunk" : "@@ -133,12 +133,12 @@ def setup_network(self):\n         which we will use to generate our transactions.\n         \"\"\"\n         self.add_nodes(3, extra_args=[[\"-maxorphantx=1000\", \"-whitelist=127.0.0.1\"],\n-                                      [\"-blockmaxsize=17000\", \"-maxorphantx=1000\"],\n-                                      [\"-blockmaxsize=8000\", \"-maxorphantx=1000\"]])\n+                                      [\"-blockmaxweight=68000\", \"-maxorphantx=1000\"],\n+                                      [\"-blockmaxweight=32000\", \"-maxorphantx=1000\"]])\n         # Use node0 to mine blocks for input splitting\n         # Node1 mines small blocks but that are bigger than the expected transaction rate.\n         # NOTE: the CreateNewBlock code starts counting block size at 1,000 bytes,\n-        # (17k is room enough for 110 or so transactions)\n+        # (68k weight is room enough for 120 or so transactions)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177124502",
      "id" : 177124502,
      "in_reply_to_id" : 177087335,
      "original_commit_id" : "321c448163504abc4155a18cc496940c9443a4ac",
      "original_position" : 12,
      "path" : "test/functional/feature_fee_estimation.py",
      "position" : null,
      "pull_request_review_id" : 106942742,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177124502",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "PR title and commit message are outdated, there is no such thing as `blockmaxsize` Ã°ÂÂÂ ",
      "created_at" : "2018-03-26T15:13:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376201701",
      "id" : 376201701,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T15:13:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376201701",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177136739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177136739"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Legacy [P2SH](https://github.com/bitcoin/bitcoin/blob/master/test/functional/feature_fee_estimation.py#L22-L31) - so just a simple `WITNESS_SCALE_FACTOR` for all txs. ",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:37:41Z",
      "diff_hunk" : "@@ -133,12 +133,12 @@ def setup_network(self):\n         which we will use to generate our transactions.\n         \"\"\"\n         self.add_nodes(3, extra_args=[[\"-maxorphantx=1000\", \"-whitelist=127.0.0.1\"],\n-                                      [\"-blockmaxsize=17000\", \"-maxorphantx=1000\"],\n-                                      [\"-blockmaxsize=8000\", \"-maxorphantx=1000\"]])\n+                                      [\"-blockmaxweight=68000\", \"-maxorphantx=1000\"],\n+                                      [\"-blockmaxweight=32000\", \"-maxorphantx=1000\"]])\n         # Use node0 to mine blocks for input splitting\n         # Node1 mines small blocks but that are bigger than the expected transaction rate.\n         # NOTE: the CreateNewBlock code starts counting block size at 1,000 bytes,\n-        # (17k is room enough for 110 or so transactions)\n+        # (68k weight is room enough for 120 or so transactions)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177136739",
      "id" : 177136739,
      "in_reply_to_id" : 177087335,
      "original_commit_id" : "321c448163504abc4155a18cc496940c9443a4ac",
      "original_position" : 12,
      "path" : "test/functional/feature_fee_estimation.py",
      "position" : null,
      "pull_request_review_id" : 106957802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177136739",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177139017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177139017"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this number still correct?",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:43:47Z",
      "diff_hunk" : "@@ -133,12 +133,12 @@ def setup_network(self):\n         which we will use to generate our transactions.\n         \"\"\"\n         self.add_nodes(3, extra_args=[[\"-maxorphantx=1000\", \"-whitelist=127.0.0.1\"],\n-                                      [\"-maxorphantx=1000\"],\n-                                      [\"-maxorphantx=1000\"]])\n+                                      [\"-blockmaxweight=68000\", \"-maxorphantx=1000\"],\n+                                      [\"-blockmaxweight=32000\", \"-maxorphantx=1000\"]])\n         # Use node0 to mine blocks for input splitting\n         # Node1 mines small blocks but that are bigger than the expected transaction rate.\n-        # NOTE: the CreateNewBlock code starts counting block size at 1,000 bytes,\n-        # (17k is room enough for 110 or so transactions)\n+        # NOTE: the CreateNewBlock code starts counting block weight at 4,000 weight,\n+        # (68k weight is room enough for 120 or so transactions)\n         # Node2 is a stingy miner, that\n         # produces too small blocks (room for only 55 or so transactions)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177139017",
      "id" : 177139017,
      "original_commit_id" : "0868bd1592bd8a73362c777f227cb66dcbd68ab8",
      "original_position" : 15,
      "path" : "test/functional/feature_fee_estimation.py",
      "position" : 15,
      "pull_request_review_id" : 106960516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177139017",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177139097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177139097"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this change can be removed",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:44:00Z",
      "diff_hunk" : "@@ -31,14 +31,14 @@ def set_test_params(self):\n \n         # Create nodes 0 and 1 to mine.\n         # Create node 2 to test pruning.\n-        self.full_node_default_args = [\"-maxreceivebuffer=20000\", \"-checkblocks=5\", \"-limitdescendantcount=100\", \"-limitdescendantsize=5000\", \"-limitancestorcount=100\", \"-limitancestorsize=5000\" ]\n+        self.full_node_default_args = [\"-maxreceivebuffer=20000\", \"-blockmaxweight=3996000\", \"-checkblocks=5\", \"-limitdescendantcount=100\", \"-limitdescendantsize=5000\", \"-limitancestorcount=100\", \"-limitancestorsize=5000\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177139097",
      "id" : 177139097,
      "original_commit_id" : "0868bd1592bd8a73362c777f227cb66dcbd68ab8",
      "original_position" : 5,
      "path" : "test/functional/feature_pruning.py",
      "position" : null,
      "pull_request_review_id" : 106960516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177139097",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177139127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177139127"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this change can be removed",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:44:04Z",
      "diff_hunk" : "@@ -31,14 +31,14 @@ def set_test_params(self):\n \n         # Create nodes 0 and 1 to mine.\n         # Create node 2 to test pruning.\n-        self.full_node_default_args = [\"-maxreceivebuffer=20000\", \"-checkblocks=5\", \"-limitdescendantcount=100\", \"-limitdescendantsize=5000\", \"-limitancestorcount=100\", \"-limitancestorsize=5000\" ]\n+        self.full_node_default_args = [\"-maxreceivebuffer=20000\", \"-blockmaxweight=3996000\", \"-checkblocks=5\", \"-limitdescendantcount=100\", \"-limitdescendantsize=5000\", \"-limitancestorcount=100\", \"-limitancestorsize=5000\"]\n         # Create nodes 3 and 4 to test manual pruning (they will be re-started with manual pruning later)\n         # Create nodes 5 to test wallet in prune mode, but do not connect\n         self.extra_args = [self.full_node_default_args,\n                            self.full_node_default_args,\n                            [\"-maxreceivebuffer=20000\", \"-prune=550\"],\n-                           [\"-maxreceivebuffer=20000\"],\n-                           [\"-maxreceivebuffer=20000\"],\n+                           [\"-maxreceivebuffer=20000\", \"-blockmaxweight=3996000\"],\n+                           [\"-maxreceivebuffer=20000\", \"-blockmaxweight=3996000\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177139127",
      "id" : 177139127,
      "original_commit_id" : "0868bd1592bd8a73362c777f227cb66dcbd68ab8",
      "original_position" : 14,
      "path" : "test/functional/feature_pruning.py",
      "position" : null,
      "pull_request_review_id" : 106960516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177139127",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177142213"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177142213"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes. I tested this as well. ",
      "commit_id" : "b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T15:52:10Z",
      "diff_hunk" : "@@ -133,12 +133,12 @@ def setup_network(self):\n         which we will use to generate our transactions.\n         \"\"\"\n         self.add_nodes(3, extra_args=[[\"-maxorphantx=1000\", \"-whitelist=127.0.0.1\"],\n-                                      [\"-maxorphantx=1000\"],\n-                                      [\"-maxorphantx=1000\"]])\n+                                      [\"-blockmaxweight=68000\", \"-maxorphantx=1000\"],\n+                                      [\"-blockmaxweight=32000\", \"-maxorphantx=1000\"]])\n         # Use node0 to mine blocks for input splitting\n         # Node1 mines small blocks but that are bigger than the expected transaction rate.\n-        # NOTE: the CreateNewBlock code starts counting block size at 1,000 bytes,\n-        # (17k is room enough for 110 or so transactions)\n+        # NOTE: the CreateNewBlock code starts counting block weight at 4,000 weight,\n+        # (68k weight is room enough for 120 or so transactions)\n         # Node2 is a stingy miner, that\n         # produces too small blocks (room for only 55 or so transactions)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#discussion_r177142213",
      "id" : 177142213,
      "in_reply_to_id" : 177139017,
      "original_commit_id" : "0868bd1592bd8a73362c777f227cb66dcbd68ab8",
      "original_position" : 15,
      "path" : "test/functional/feature_fee_estimation.py",
      "position" : 15,
      "pull_request_review_id" : 106964205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12790",
      "updated_at" : "2018-03-26T15:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177142213",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK b466f6be959b25f3a07cede9f03563ed0bbda0f",
      "created_at" : "2018-03-26T16:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376219319",
      "id" : 376219319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T16:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376219319",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Don't we persist the mempool to disk?\r\n\r\nYes, unless `-persistmempool=0` is set.",
      "created_at" : "2018-03-26T16:12:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376222176",
      "id" : 376222176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T16:12:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376222176",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T16:29:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376227950",
      "id" : 376227950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T16:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376227950",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK b466f6b.",
      "created_at" : "2018-03-26T17:20:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376244080",
      "id" : 376244080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T17:20:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376244080",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK b466f6be959b25f3a07cede9f03563ed0bbda0fa",
      "created_at" : "2018-03-26T22:32:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12790#issuecomment-376333340",
      "id" : 376333340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12790",
      "updated_at" : "2018-03-26T22:32:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376333340",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
