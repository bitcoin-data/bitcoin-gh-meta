[
   {
      "author_association" : "MEMBER",
      "body" : "I'm on the fence about this one. `RPC_INVALID_REQUEST` does seem like a more sensible error for this, but is this just change for change's sake? The response already contains the help text which shows how many arguments are required and optional. Is receiving a `RPC_MISC_ERROR` causing any problems for users?\r\n\r\nChanging this is an API change so would require release notes.",
      "created_at" : "2018-03-20T15:45:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12736#issuecomment-374647271",
      "id" : 374647271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12736",
      "updated_at" : "2018-03-20T15:45:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374647271",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "No it might not be a problem for users as is. \r\nThe motivations behind this are:\r\n* consistency on the Exception/Error type thrown by the RPC layer\r\n* more meaning on the error code thrown by the RPC layer\r\n* more consistency for the help command output\r\n\r\n...to eventually raise discussion on the RPC Http layer.\r\n\r\nMy take on this might not be right. Maybe should I focus on one of the above first? What would be your take on this?",
      "created_at" : "2018-03-20T16:04:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12736#issuecomment-374654469",
      "id" : 374654469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12736",
      "updated_at" : "2018-03-20T16:04:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374654469",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/568769?v=4",
         "events_url" : "https://api.github.com/users/lutangar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lutangar/followers",
         "following_url" : "https://api.github.com/users/lutangar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lutangar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lutangar",
         "id" : 568769,
         "login" : "lutangar",
         "organizations_url" : "https://api.github.com/users/lutangar/orgs",
         "received_events_url" : "https://api.github.com/users/lutangar/received_events",
         "repos_url" : "https://api.github.com/users/lutangar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lutangar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lutangar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lutangar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My take is that the error you suggest is slightly better, but it's not clear to me that it's so much better that it warrants and a code change and an API change.",
      "created_at" : "2018-03-20T17:46:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12736#issuecomment-374692688",
      "id" : 374692688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12736",
      "updated_at" : "2018-03-20T17:46:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374692688",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12736#discussion_r175950995"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12736"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175950995"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Move to inside the loop.",
      "commit_id" : "d0f33a4def7090f53648b42c7dd69b7b57a317e1",
      "created_at" : "2018-03-20T23:12:25Z",
      "diff_hunk" : "@@ -153,6 +153,7 @@ std::vector<unsigned char> ParseHexO(const UniValue& o, std::string strKey)\n std::string CRPCTable::help(const std::string& strCommand, const JSONRPCRequest& helpreq) const\n {\n     std::string strRet;\n+    std::string strHelp;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12736#discussion_r175950995",
      "id" : 175950995,
      "original_commit_id" : "d0f33a4def7090f53648b42c7dd69b7b57a317e1",
      "original_position" : 4,
      "path" : "src/rpc/server.cpp",
      "position" : 4,
      "pull_request_review_id" : 105569420,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12736",
      "updated_at" : "2018-03-20T23:20:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175950995",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> the help text is distinguished from the parameter handling  \r\n\r\n@promag I do agree this is the best solution, but it's even more changes to the code base, isn't this against the principle of keeping PR simple? \r\nAbout the implementation though, are you proposing to drop the usage of the `fHelp` flag on the `JSONRPCRequest`?\r\n\r\nI was thinking about something like the following:\r\n```\r\n    std::string help = \"...\";\r\n    if (request.fHelp) return help;\r\n    if (request.params.size() > 1) throw JSONRPCError(RPC_INVALID_REQUEST, help);\r\n```\r\nThinking even further, maybe the help message could be stored somewhere in the `CRPCTable`? ",
      "created_at" : "2018-03-21T10:58:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12736#issuecomment-374899957",
      "id" : 374899957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12736",
      "updated_at" : "2018-03-21T10:58:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374899957",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/568769?v=4",
         "events_url" : "https://api.github.com/users/lutangar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lutangar/followers",
         "following_url" : "https://api.github.com/users/lutangar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lutangar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lutangar",
         "id" : 568769,
         "login" : "lutangar",
         "organizations_url" : "https://api.github.com/users/lutangar/orgs",
         "received_events_url" : "https://api.github.com/users/lutangar/received_events",
         "repos_url" : "https://api.github.com/users/lutangar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lutangar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lutangar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lutangar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase if still relevant. Otherwise, I think this can be closed.",
      "created_at" : "2018-04-11T19:37:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12736#issuecomment-380571137",
      "id" : 380571137,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12736",
      "updated_at" : "2018-04-11T19:37:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380571137",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
