[
   {
      "body" : "That's curious. If you specify `-proxy` and/or `-externalip`, `-discover` will be automatically disabled. It will not advertize any other addresses.\r\nHave you run bitcoind before without this setup? Might an old node still have known your IPv6 address?",
      "created_at" : "2015-08-24T09:17:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-134106423",
      "id" : 134106423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-24T09:17:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134106423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I probably have run bitcond on clearnet before, so it is possible that someone knows my ipv6 address. However, shouldn't discover=0 preclude them from connecting to my node?",
      "created_at" : "2015-08-24T09:29:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-134108732",
      "id" : 134108732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-24T09:29:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134108732",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8471949?v=3",
         "events_url" : "https://api.github.com/users/lunokhod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lunokhod/followers",
         "following_url" : "https://api.github.com/users/lunokhod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lunokhod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lunokhod",
         "id" : 8471949,
         "login" : "lunokhod",
         "organizations_url" : "https://api.github.com/users/lunokhod/orgs",
         "received_events_url" : "https://api.github.com/users/lunokhod/received_events",
         "repos_url" : "https://api.github.com/users/lunokhod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lunokhod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lunokhod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lunokhod"
      }
   },
   {
      "body" : "It does this:\r\n```\r\n  -discover\r\n       Discover own IP addresses (default: 1 when listening and no -externalip\r\n       or -proxy)\r\n```\r\nIt has no effect on what interfaces are listened on by `-listen` (note that `-listen` is disabled by default if `-proxy` is given).\r\nIf you want to only bind to a specific interface, use e.g. `-bind=127.0.0.1`.\r\n",
      "created_at" : "2015-08-24T10:38:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-134141613",
      "id" : 134141613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-24T10:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134141613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Thanks for the help, but this still appears to be a bug to me. \r\n\r\n* The client is telling me that reachable=false for ipv6, yet I have an inbound connection on ipv6. \r\n* Listen needs to be set to 1 in order to run a hidden service.",
      "created_at" : "2015-08-24T11:02:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-134151009",
      "id" : 134151009,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-24T11:02:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134151009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8471949?v=3",
         "events_url" : "https://api.github.com/users/lunokhod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lunokhod/followers",
         "following_url" : "https://api.github.com/users/lunokhod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lunokhod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lunokhod",
         "id" : 8471949,
         "login" : "lunokhod",
         "organizations_url" : "https://api.github.com/users/lunokhod/orgs",
         "received_events_url" : "https://api.github.com/users/lunokhod/received_events",
         "repos_url" : "https://api.github.com/users/lunokhod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lunokhod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lunokhod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lunokhod"
      }
   },
   {
      "body" : "I'm still not convinced that this is a bug.\r\n`reachable=false` means as much as \"cannot connect to this network\". It does not mean that connections cannot come in.  It is completely independent of listening functionality.\r\n\r\nYes, you need `-listen` for a hidden service. By default if you listen, it listens on every interface. If you want to restrict that, as said above, use `-bind`.\r\n\r\n(it would ofc be possible to automatically restrict the binding interfaces based on e.g. `-onlynet`, but I think such parameter interaction will only result in further confusion)\r\n",
      "created_at" : "2015-08-26T09:01:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-134905148",
      "id" : 134905148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-26T09:01:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/134905148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Just to follow up, using\r\n\r\n    onlynet=ipv4\r\n    onlynet=onion\r\n\r\ndoes not fix this problem: I still get an incoming connection from ipv6. Using\r\n\r\n    bind=127.0.0.1\r\n\r\nhowever does work. Thanks!",
      "created_at" : "2015-08-26T13:19:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-135014795",
      "id" : 135014795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-26T13:19:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135014795",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8471949?v=3",
         "events_url" : "https://api.github.com/users/lunokhod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lunokhod/followers",
         "following_url" : "https://api.github.com/users/lunokhod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lunokhod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lunokhod",
         "id" : 8471949,
         "login" : "lunokhod",
         "organizations_url" : "https://api.github.com/users/lunokhod/orgs",
         "received_events_url" : "https://api.github.com/users/lunokhod/received_events",
         "repos_url" : "https://api.github.com/users/lunokhod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lunokhod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lunokhod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lunokhod"
      }
   },
   {
      "body" : "Yes, onlynet only restricts outgoing connections.\n",
      "created_at" : "2015-08-26T16:41:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6585#issuecomment-135102344",
      "id" : 135102344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6585",
      "updated_at" : "2015-08-26T16:41:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135102344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
