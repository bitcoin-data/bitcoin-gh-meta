[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> So, though I agree with the idea, I think this PR is redundant.\r\n\r\nThink of this as a sanity check. It may seem redundant now, but as time goes on and more code is added this may catch some edge case not known today. Lastly, the cost is about 1 second more of testing time. \r\n",
      "created_at" : "2021-12-08T13:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-988814933",
      "id" : 988814933,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII58468B5V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988814933/reactions"
      },
      "updated_at" : "2021-12-08T13:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988814933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/976425?v=4",
         "events_url" : "https://api.github.com/users/dougEfresh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dougEfresh/followers",
         "following_url" : "https://api.github.com/users/dougEfresh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dougEfresh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dougEfresh",
         "id" : 976425,
         "login" : "dougEfresh",
         "node_id" : "MDQ6VXNlcjk3NjQyNQ==",
         "organizations_url" : "https://api.github.com/users/dougEfresh/orgs",
         "received_events_url" : "https://api.github.com/users/dougEfresh/received_events",
         "repos_url" : "https://api.github.com/users/dougEfresh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dougEfresh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dougEfresh"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The arg is used twice in the test, if you pass `M` once and not the other time, you get the same coverage at twice the speed?",
      "created_at" : "2021-12-08T13:35:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-988820398",
      "id" : 988820398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII58468DOu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988820398/reactions"
      },
      "updated_at" : "2021-12-08T13:35:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988820398",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The arg is used twice in the test, if you pass `M` once and not the other time, you get the same coverage at twice the speed?\r\n\r\nMy main intent of this PR is to verify ParseByteUnits is call within init.cpp:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/099325a7594f8187f9067d5bff8390084cceb9dd/src/init.cpp#L1113-L1117\r\n\r\nAnd that `1` and `1M` behave the same (that the default byte unit is `M`).\r\n\r\nIf `1M` is sufficient, I'm fine using just this. \r\n \r\n\r\n",
      "created_at" : "2021-12-08T16:44:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-988983321",
      "id" : 988983321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII58468rAZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988983321/reactions"
      },
      "updated_at" : "2021-12-08T16:44:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988983321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/976425?v=4",
         "events_url" : "https://api.github.com/users/dougEfresh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dougEfresh/followers",
         "following_url" : "https://api.github.com/users/dougEfresh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dougEfresh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dougEfresh",
         "id" : 976425,
         "login" : "dougEfresh",
         "node_id" : "MDQ6VXNlcjk3NjQyNQ==",
         "organizations_url" : "https://api.github.com/users/dougEfresh/orgs",
         "received_events_url" : "https://api.github.com/users/dougEfresh/received_events",
         "repos_url" : "https://api.github.com/users/dougEfresh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dougEfresh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dougEfresh"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "You can also pick one randomly on the random seed, to converge to the same test coverage at no runtime cost.",
      "created_at" : "2021-12-08T16:47:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-988985794",
      "id" : 988985794,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII58468rnC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988985794/reactions"
      },
      "updated_at" : "2021-12-08T16:47:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988985794",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I now see what you are saying.\r\nI changed it to to simply change `1`  to `1M`",
      "created_at" : "2021-12-08T18:17:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-989057441",
      "id" : 989057441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII584689Gh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989057441/reactions"
      },
      "updated_at" : "2021-12-08T18:17:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989057441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/976425?v=4",
         "events_url" : "https://api.github.com/users/dougEfresh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dougEfresh/followers",
         "following_url" : "https://api.github.com/users/dougEfresh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dougEfresh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dougEfresh",
         "id" : 976425,
         "login" : "dougEfresh",
         "node_id" : "MDQ6VXNlcjk3NjQyNQ==",
         "organizations_url" : "https://api.github.com/users/dougEfresh/orgs",
         "received_events_url" : "https://api.github.com/users/dougEfresh/received_events",
         "repos_url" : "https://api.github.com/users/dougEfresh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dougEfresh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dougEfresh"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> that 1 and 1M behave the same (that the default byte unit is M).\r\n\r\nYou are correct, this isn't validating this condition. I think it makes more sense to put the byte unit on the `800` :\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/529ed3336205e30d94e741a4eb93dd945ad518e7/test/functional/feature_maxuploadtarget.py#L38-L41\r\n\r\nAs you mentioned early there are enough unit tests to validate parsing and amounts...etc \r\n\r\nBy using `800M` I validate byte units don't crash bitcoind, while leaving `1` would be validating that the default byte unit is `M` \r\n\r\nI think that's good enough, what you think? ",
      "created_at" : "2021-12-09T09:00:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-989645775",
      "id" : 989645775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII5846_MvP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989645775/reactions"
      },
      "updated_at" : "2021-12-09T09:00:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989645775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/976425?v=4",
         "events_url" : "https://api.github.com/users/dougEfresh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dougEfresh/followers",
         "following_url" : "https://api.github.com/users/dougEfresh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dougEfresh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dougEfresh",
         "id" : 976425,
         "login" : "dougEfresh",
         "node_id" : "MDQ6VXNlcjk3NjQyNQ==",
         "organizations_url" : "https://api.github.com/users/dougEfresh/orgs",
         "received_events_url" : "https://api.github.com/users/dougEfresh/received_events",
         "repos_url" : "https://api.github.com/users/dougEfresh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dougEfresh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dougEfresh"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> By using `800M` I validate byte units don't crash bitcoind, while leaving `1` would be validating that the default byte unit is `M`\r\n\r\nThat sounds like a better idea. This would also make sure using the `M` suffix is working correctly, along with other advantages you mentioned.\r\nSo if I am correct, the ultimate patch would look something like this:\r\n\r\n**diff: master..PR**\r\n```diff\r\nself.extra_args = [[\r\n-            \"-maxuploadtarget=800\",\r\n+            \"-maxuploadtarget=800M\",\r\n             \"-acceptnonstdtxn=1\",\r\n         ]]\r\n```",
      "created_at" : "2021-12-10T08:17:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-990724533",
      "id" : 990724533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII5847DUG1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990724533/reactions"
      },
      "updated_at" : "2021-12-10T08:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990724533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@shaavan correct.\r\n\r\n41b9f7d062a01cf39b6dba02703213ffb1951a37 reflects this change",
      "created_at" : "2021-12-10T18:44:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23648#issuecomment-991209322",
      "id" : 991209322,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23648",
      "node_id" : "IC_kwDOABII5847FKdq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991209322/reactions"
      },
      "updated_at" : "2021-12-10T18:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991209322",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/976425?v=4",
         "events_url" : "https://api.github.com/users/dougEfresh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dougEfresh/followers",
         "following_url" : "https://api.github.com/users/dougEfresh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dougEfresh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dougEfresh",
         "id" : 976425,
         "login" : "dougEfresh",
         "node_id" : "MDQ6VXNlcjk3NjQyNQ==",
         "organizations_url" : "https://api.github.com/users/dougEfresh/orgs",
         "received_events_url" : "https://api.github.com/users/dougEfresh/received_events",
         "repos_url" : "https://api.github.com/users/dougEfresh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dougEfresh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dougEfresh"
      }
   }
]
