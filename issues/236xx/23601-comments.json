[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#21879](https://github.com/bitcoin/bitcoin/pull/21879) (Wrap accept() and extend usage of Sock by vasild)\n* [#21878](https://github.com/bitcoin/bitcoin/pull/21878) (Make all networking code mockable by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-11-27T05:34:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23601#issuecomment-980506586",
      "id" : 980506586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23601",
      "node_id" : "IC_kwDOABII5846cVfa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/980506586/reactions"
      },
      "updated_at" : "2021-11-27T05:34:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/980506586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If this is safe, is there a reason why it can't be removed here as well?\r\n\r\n```cpp\r\nsrc/net.cpp=void CConnman::StopNodes()\r\nsrc/net.cpp-{\r\n...\r\nsrc/net.cpp-\r\nsrc/net.cpp-    // Close listening sockets.\r\nsrc/net.cpp:    for (ListenSocket& hListenSocket : vhListenSocket) {\r\nsrc/net.cpp-        if (hListenSocket.socket != INVALID_SOCKET) {\r\n",
      "created_at" : "2021-12-01T08:40:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23601#issuecomment-983413485",
      "id" : 983413485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23601",
      "node_id" : "IC_kwDOABII5846nbLt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983413485/reactions"
      },
      "updated_at" : "2021-12-01T08:40:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983413485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke, that's right - can be removed from here too and should have been part of this PR, I missed it.\r\n\r\nI missed it because in https://github.com/bitcoin/bitcoin/pull/21878 that \"close listening sockets\" code becomes unnecessary and is removed:\r\n\r\n```diff\r\n-    // Close listening sockets.\r\n-    for (ListenSocket& hListenSocket : vhListenSocket) {\r\n-        if (hListenSocket.socket != INVALID_SOCKET) {\r\n-            if (!CloseSocket(hListenSocket.socket)) {\r\n-                LogPrintf(\"CloseSocket(hListenSocket) failed with error %s\\n\", NetworkErrorString(WSAG\r\n-            }\r\n-        }\r\n-    }\r\n```\r\n\r\nThis removal is also in https://github.com/bitcoin/bitcoin/pull/21879 which is chopped off from the big https://github.com/bitcoin/bitcoin/pull/21878 to ease review.\r\n\r\nI will leave it as is to avoid further conflicts, hoping that https://github.com/bitcoin/bitcoin/pull/21879 will eventually make it in.",
      "created_at" : "2021-12-01T12:32:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23601#issuecomment-983596932",
      "id" : 983596932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23601",
      "node_id" : "IC_kwDOABII5846oH-E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983596932/reactions"
      },
      "updated_at" : "2021-12-01T12:32:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/983596932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
