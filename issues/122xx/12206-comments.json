[
   {
      "author_association" : "MEMBER",
      "body" : "Obviously all other functional tests are affected as well. I will try to fix them in a later commit, but the above fix is needed the most as it is almost always failing on travis.",
      "created_at" : "2018-01-17T01:33:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358165352",
      "id" : 358165352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T01:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358165352",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. Not sure the test should handle this way. IMO some sync_mempool(flush_scheduler=True) would be better?",
      "created_at" : "2018-01-17T01:35:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358165674",
      "id" : 358165674,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T01:35:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358165674",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah. Maybe an alternative would be to always catch up with the queue?\r\n\r\n\r\n```diff\r\n--- a/src/wallet/wallet.cpp\r\n+++ b/src/wallet/wallet.cpp\r\n@@ -1279,23 +1279,7 @@ void CWallet::BlockUntilSyncedToCurrentChain() {\r\n     AssertLockNotHeld(cs_main);\r\n     AssertLockNotHeld(cs_wallet);\r\n \r\n-    {\r\n-        // Skip the queue-draining stuff if we know we're caught up with\r\n-        // chainActive.Tip()...\r\n-        // We could also take cs_wallet here, and call m_last_block_processed\r\n-        // protected by cs_wallet instead of cs_main, but as long as we need\r\n-        // cs_main here anyway, its easier to just call it cs_main-protected.\r\n-        LOCK(cs_main);\r\n-        const CBlockIndex* initialChainTip = chainActive.Tip();\r\n-\r\n-        if (m_last_block_processed->GetAncestor(initialChainTip->nHeight) == initialChainTip) {\r\n-            return;\r\n-        }\r\n-    }\r\n-\r\n-    // ...otherwise put a callback in the validation interface queue and wait\r\n-    // for the queue to drain enough to execute it (indicating we are caught up\r\n-    // at least with the time we entered this function).\r\n+    // Wait for the queue to catch up on everything that was there when we entered this function\r\n     SyncWithValidationInterfaceQueue();\r\n }\r\n```\r\n\r\nThough, I am not sure how useful that is outside of functional tests.",
      "created_at" : "2018-01-17T01:50:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358168381",
      "id" : 358168381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T02:03:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358168381",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think @promag was suggesting a different way for the tests to handle it, not to change the core code btw.\r\n\r\nCurrent approach seems fine to me at least for now,\r\nutACK https://github.com/bitcoin/bitcoin/pull/12206/commits/fadc3f6249a9eddaa3078e570a4465162032195e ",
      "created_at" : "2018-01-17T11:38:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358278979",
      "id" : 358278979,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T11:38:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358278979",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I am not aware of a way to flush the scheduler from outside the code without modifying the code or mining a block. Though, I might be misssing something.",
      "created_at" : "2018-01-17T13:29:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358304305",
      "id" : 358304305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T13:29:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358304305",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I was suggesting adding a RPC to just do `SyncWithValidationInterfaceQueue` or whatever. \r\n\r\nFeels weird to replace assertions with poll.",
      "created_at" : "2018-01-17T13:54:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358311150",
      "id" : 358311150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T13:54:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358311150",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, I plan to do something like that after branch off of 0.16. At this point I'd feel bad to delay 0.16 by spawning unnecessary review-load on the queue.",
      "created_at" : "2018-01-17T15:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358344752",
      "id" : 358344752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T15:43:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358344752",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree with @promag here, and that fix should be just as/more simple/obvious than even this fix. Just add an RPC that calls SyncWithValidationInterfaceQueue() and call that at the end of sync_mempools(), at least then its much more obvious the fix is complete, and should require a lower review burden.",
      "created_at" : "2018-01-17T21:05:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358444996",
      "id" : 358444996,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T21:05:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358444996",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Introduced the new `syncwithvalidationinterfacequeue` rpc as requested by @TheBlueMatt and @promag ",
      "created_at" : "2018-01-17T21:50:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358459395",
      "id" : 358459395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-17T21:50:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358459395",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162191720"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162191720"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sort, alignment... :trollface: ",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-17T21:58:51Z",
      "diff_hunk" : "@@ -1628,6 +1644,7 @@ static const CRPCCommand commands[] =\n     { \"hidden\",             \"waitfornewblock\",        &waitfornewblock,        {\"timeout\"} },\n     { \"hidden\",             \"waitforblock\",           &waitforblock,           {\"blockhash\",\"timeout\"} },\n     { \"hidden\",             \"waitforblockheight\",     &waitforblockheight,     {\"height\",\"timeout\"} },\n+    { \"hidden\",             \"syncwithvalidationinterfacequeue\", &syncwithvalidationinterfacequeue, {} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162191720",
      "id" : 162191720,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 34,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 34,
      "pull_request_review_id" : 89606794,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-17T22:01:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162191720",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162222603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162222603"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure but `src/rpc/misc.cpp` is a better place?",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-18T00:45:40Z",
      "diff_hunk" : "@@ -323,6 +324,21 @@ UniValue waitforblockheight(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue syncwithvalidationinterfacequeue(const JSONRPCRequest& request)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162222603",
      "id" : 162222603,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 12,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 12,
      "pull_request_review_id" : 89642318,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-18T00:45:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162222603",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162222871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162222871"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How about not making it optional? If there is such need in the future, add it then?",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-18T00:47:35Z",
      "diff_hunk" : "@@ -390,7 +390,7 @@ def sync_chain(rpc_connections, *, wait=1, timeout=60):\n         timeout -= wait\n     raise AssertionError(\"Chain sync failed: Best block hashes don't match\")\n \n-def sync_mempools(rpc_connections, *, wait=1, timeout=60):\n+def sync_mempools(rpc_connections, *, wait=1, timeout=60, flush_scheduler=True):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162222871",
      "id" : 162222871,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 5,
      "path" : "test/functional/test_framework/util.py",
      "position" : 5,
      "pull_request_review_id" : 89642615,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-18T00:47:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162222871",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162227313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162227313"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Right now it is overkilling, i.e. always flushing. But that is not necessary, as for non-wallet functional tests and also most wallet functional test it can be turned off. I will leave the \"turning it off\" for later.",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-18T01:22:22Z",
      "diff_hunk" : "@@ -390,7 +390,7 @@ def sync_chain(rpc_connections, *, wait=1, timeout=60):\n         timeout -= wait\n     raise AssertionError(\"Chain sync failed: Best block hashes don't match\")\n \n-def sync_mempools(rpc_connections, *, wait=1, timeout=60):\n+def sync_mempools(rpc_connections, *, wait=1, timeout=60, flush_scheduler=True):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162227313",
      "id" : 162227313,
      "in_reply_to_id" : 162222871,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 5,
      "path" : "test/functional/test_framework/util.py",
      "position" : 5,
      "pull_request_review_id" : 89647942,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-18T01:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162227313",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162227619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162227619"
         }
      },
      "author_association" : "MEMBER",
      "body" : "My understanding is that `blockchain.cpp` also contains mempool rpcs. And this one is about mempool, no?",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-18T01:24:48Z",
      "diff_hunk" : "@@ -323,6 +324,21 @@ UniValue waitforblockheight(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue syncwithvalidationinterfacequeue(const JSONRPCRequest& request)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162227619",
      "id" : 162227619,
      "in_reply_to_id" : 162222603,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 12,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 12,
      "pull_request_review_id" : 89648296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-18T01:24:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162227619",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162228176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162228176"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, so minimal diff for now.",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-18T01:29:15Z",
      "diff_hunk" : "@@ -390,7 +390,7 @@ def sync_chain(rpc_connections, *, wait=1, timeout=60):\n         timeout -= wait\n     raise AssertionError(\"Chain sync failed: Best block hashes don't match\")\n \n-def sync_mempools(rpc_connections, *, wait=1, timeout=60):\n+def sync_mempools(rpc_connections, *, wait=1, timeout=60, flush_scheduler=True):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162228176",
      "id" : 162228176,
      "in_reply_to_id" : 162222871,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 5,
      "path" : "test/functional/test_framework/util.py",
      "position" : 5,
      "pull_request_review_id" : 89648895,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-18T01:29:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162228176",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162228616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162228616"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok.",
      "commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "created_at" : "2018-01-18T01:32:40Z",
      "diff_hunk" : "@@ -323,6 +324,21 @@ UniValue waitforblockheight(const JSONRPCRequest& request)\n     return ret;\n }\n \n+UniValue syncwithvalidationinterfacequeue(const JSONRPCRequest& request)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#discussion_r162228616",
      "id" : 162228616,
      "in_reply_to_id" : 162222603,
      "original_commit_id" : "fa1e69e52bf8de08b1ce7a774416aa7a8d20068b",
      "original_position" : 12,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 12,
      "pull_request_review_id" : 89649443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12206",
      "updated_at" : "2018-01-18T01:32:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162228616",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK fa1e69e",
      "created_at" : "2018-01-18T14:06:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-358656142",
      "id" : 358656142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-18T14:06:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358656142",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fa1e69e52bf8de08b1ce7a774416aa7a8d20068b\r\n\r\nOne comment: this places a brand new RPC in the mainline test setup path, which will make efforts like #12134 more difficult. I think binaries from commits prior to this will fail running any test scripts from this commit onwards, because the test code will try to call a non-existent RPC.\r\n\r\nNot a reason not to merge, but something to keep in mind.",
      "created_at" : "2018-01-22T17:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-359492682",
      "id" : 359492682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-22T17:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359492682",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery This is true for every release, since every release adds new rpcs.\r\n\r\nAlso it should be trivial to work around in python with a one or two-line change.",
      "created_at" : "2018-01-22T18:11:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-359513901",
      "id" : 359513901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-22T18:11:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359513901",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> since every release adds new rpcs\r\n\r\nindeed, but not all RPCs are called in the mainline `setup_nodes()` method.",
      "created_at" : "2018-01-22T18:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-359517408",
      "id" : 359517408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-22T18:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359517408",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That looks like an overkill. Currently `setup_network` is only called after the chain was set up and I don't think there are any plans to change this in the near future. Syncing the (empty) mempools just after a \"fresh\" chain was set up is probably just wasting time on travis.",
      "created_at" : "2018-01-22T18:53:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12206#issuecomment-359526219",
      "id" : 359526219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12206",
      "updated_at" : "2018-01-22T18:53:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359526219",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
