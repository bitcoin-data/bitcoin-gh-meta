[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12200#discussion_r161778244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12200"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161778244"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd prefer if you put it into the `bitcoin.conf` file (via `initialize_datadir`). This way, the option is valid also when nodes are (later) spun up for debugging purposes from outside the test framework.",
      "commit_id" : "65682da7e57af544abb46a7d8a7f4fdca0c73f56",
      "created_at" : "2018-01-16T14:49:06Z",
      "diff_hunk" : "@@ -387,7 +387,7 @@ def _initialize_chain(self):\n             # Create cache directories, run bitcoinds:\n             for i in range(MAX_NODES):\n                 datadir = initialize_datadir(self.options.cachedir, i)\n-                args = [os.getenv(\"BITCOIND\", \"bitcoind\"), \"-server\", \"-keypool=1\", \"-datadir=\" + datadir, \"-discover=0\"]\n+                args = [os.getenv(\"BITCOIND\", \"bitcoind\"), \"-server\", \"-keypool=1\", \"-datadir=\" + datadir, \"-discover=0\",  \"-bind=127.0.0.1\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#discussion_r161778244",
      "id" : 161778244,
      "original_commit_id" : "1171a853ab246526db1bc5a8fd414bb372e2238b",
      "original_position" : 5,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 89120394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12200",
      "updated_at" : "2018-01-16T15:47:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161778244",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12200#discussion_r161797962"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12200"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161797962"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's also shorter. Done.",
      "commit_id" : "65682da7e57af544abb46a7d8a7f4fdca0c73f56",
      "created_at" : "2018-01-16T15:47:38Z",
      "diff_hunk" : "@@ -387,7 +387,7 @@ def _initialize_chain(self):\n             # Create cache directories, run bitcoinds:\n             for i in range(MAX_NODES):\n                 datadir = initialize_datadir(self.options.cachedir, i)\n-                args = [os.getenv(\"BITCOIND\", \"bitcoind\"), \"-server\", \"-keypool=1\", \"-datadir=\" + datadir, \"-discover=0\"]\n+                args = [os.getenv(\"BITCOIND\", \"bitcoind\"), \"-server\", \"-keypool=1\", \"-datadir=\" + datadir, \"-discover=0\",  \"-bind=127.0.0.1\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#discussion_r161797962",
      "id" : 161797962,
      "in_reply_to_id" : 161778244,
      "original_commit_id" : "1171a853ab246526db1bc5a8fd414bb372e2238b",
      "original_position" : 5,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 89143106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12200",
      "updated_at" : "2018-01-16T15:47:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/161797962",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Vaguely concept NACK-ish. I could imagine we'd want to test bitcoind's ability to accept incoming connections on multiple interfaces (in fact it's something I've considered adding to the test suite in the past). I don't think we should limit what we can test to work around an annoying issue on a single OS.",
      "created_at" : "2018-01-16T16:55:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358028700",
      "id" : 358028700,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-16T16:55:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358028700",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery couldn't those specific tests just launch with a different `-bind` argument? Then we can worry about that issue later when those tests are ready. Those tests would likely break on OSX if the developer doesn't click on Allow quickly enough, so they would be brittle.\r\n\r\nThe good news is that the entire 127.0.0.1/8 range [can be used](https://en.wikipedia.org/wiki/Localhost) for these tests without having to open a developer machine to (admittedly unlikely) attack from the wide internet if they're not behind a router.",
      "created_at" : "2018-01-16T19:38:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358079678",
      "id" : 358079678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-16T19:38:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358079678",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Specifying multiple `-bind` will not overwrite the previous ones, but rather accumulate and consider all of them.",
      "created_at" : "2018-01-16T20:45:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358099248",
      "id" : 358099248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-16T20:45:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358099248",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Then we can worry about that issue later when those tests are ready.\r\n\r\nyes, true - which is why I'm only vaguely concept NACKish. I just would rather not be at a point in the future where we can't remove this option for some reason (eg because it causes tests to fail on OS X), and it makes adding tests with multiple interfaces more difficult.",
      "created_at" : "2018-01-16T21:43:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358117112",
      "id" : 358117112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-16T21:43:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358117112",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Given that multiple `-bind` allows us to add interfaces and given that you can bind to 127.0.0.* without upsetting the OSX firewall, would what alleviate your objection?",
      "created_at" : "2018-01-17T09:19:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358244252",
      "id" : 358244252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-17T09:19:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358244252",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Note sure why Travis is upset. The summary says that machine 2 failed after 6 hours and machine 8 never run, but both logs show `Done. Your build exited with 0.`",
      "created_at" : "2018-01-17T17:28:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358379606",
      "id" : 358379606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-17T17:29:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358379606",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> would that alleviate your objection?\r\n\r\nYes. My other concern is that all functional tests will now be running with the same `-bind` option (and so we're no longer testing nodes running without the `-bind` option).",
      "created_at" : "2018-01-17T18:37:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358400470",
      "id" : 358400470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-17T18:37:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358400470",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj [suggested on IRC](https://botbot.me/freenode/bitcoin-core-dev/2018-01-16/?msg=95811302&page=3) that linux allows you to simulate network interfaces. That might be a more elegant* way to test what happens without `-bind` (that and using a different bitcoin.conf for those tests).\r\n\r\n`*` = in the sense that in some imaginary ideal world tests shouldn't rely on real world things like actual network interfaces that the test machine may or may not have (though of course Travis uses VM's so ... Inception)",
      "created_at" : "2018-01-18T09:21:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358586366",
      "id" : 358586366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-18T09:23:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358586366",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK.\r\n\r\n> Vaguely concept NACK-ish. I could imagine we'd want to test bitcoind's ability to accept incoming connections on multiple interfaces (in fact it's something I've considered adding to the test suite in the past). \r\n\r\nEven though only one platform complains, I think the warning is fair. From a security point of view it's better to not listen on any public interfaces during testing.\r\n\r\nAlso the tests cannot assume the presence of any interfaces besides loopback (and they don't - I checked this by running in an environment with just `lo`).\r\n\r\nThis doesn't exclude doing specific (multi interface) bind tests in a separate, platform-specific test as @Sjors proposes. This could use Linux network namespaces `ip netns add ` to simulate a small LAN, for example. But there's no reason to do so in tests that e.g. test the wallet.\r\n",
      "created_at" : "2018-01-19T09:18:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358909546",
      "id" : 358909546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-19T09:46:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358909546",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Related question: is it possible to hide network interfaces from a process? That way we could launch `bitcoind` without `-bind=127.0.0.1` but achieve the same effect.",
      "created_at" : "2018-01-19T10:28:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358926970",
      "id" : 358926970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-19T10:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358926970",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "That's the simplest application of net namespaces:\r\n```bash\r\nip netns add isolate\r\nip netns exec isolate ip addr add 127.0.0.1/8 dev lo\r\nip netns exec isolate ip link set lo up\r\nip netns exec isolate <testsuite>\r\nip netns delete isolate\r\n```\r\nThat doesn't help on OSX though.\r\n\r\nEdit: which reminds me, as `127.0.0.1/8` is a `/8`, we could do multi-interface testing with just the loopback interface, binding to `127.0.0.2` `127.0.0.3` etc?",
      "created_at" : "2018-01-19T10:32:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-358927956",
      "id" : 358927956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-19T10:35:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/358927956",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Has IPv6 loopback of ::1 been considered in this?",
      "created_at" : "2018-01-30T23:56:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-361775831",
      "id" : 361775831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-30T23:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361775831",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/33541170?v=4",
         "events_url" : "https://api.github.com/users/randolf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/randolf/followers",
         "following_url" : "https://api.github.com/users/randolf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/randolf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/randolf",
         "id" : 33541170,
         "login" : "randolf",
         "organizations_url" : "https://api.github.com/users/randolf/orgs",
         "received_events_url" : "https://api.github.com/users/randolf/received_events",
         "repos_url" : "https://api.github.com/users/randolf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/randolf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/randolf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/randolf"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> Has IPv6 loopback of ::1 been considered in this?\r\n\r\nI'd be curious to hear how you think that would help here - though I think the chance of IPv4 loopback being present on test systems is slightly higher. I remember Travis had issues with their VMs not supporting IPv6 (not even locally!) a few years ago.\r\n",
      "created_at" : "2018-01-31T09:08:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-361868624",
      "id" : 361868624,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-01-31T09:08:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361868624",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK 95e2e9af124595aae4801fc9813ee1c294d404cd",
      "created_at" : "2018-02-13T09:54:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-365211752",
      "id" : 365211752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-02-13T09:54:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365211752",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This breaks `rpc_bind.py` for me:\r\n\r\n```\r\n ./rpc_bind.py \r\n2018-02-16 20:39:32.628000 TestFramework (INFO): Initializing test directory /tmp/user/1000/testi0z5j5wf\r\n2018-02-16 20:39:32.628000 TestFramework (INFO): Using interface 10.0.2.15 for testing\r\n2018-02-16 20:39:32.629000 TestFramework (INFO): Bind test for []\r\nError: Cannot set -bind or -whitebind together with -listen=0\r\n2018-02-16 20:39:32.881000 TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_framework.py\", line 125, in main\r\n    self.run_test()\r\n  File \"./rpc_bind.py\", line 79, in run_test\r\n    [('127.0.0.1', defaultport), ('::1', defaultport)])\r\n  File \"./rpc_bind.py\", line 35, in run_bind_test\r\n    self.start_node(0, base_args + binds)\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_framework.py\", line 234, in start_node\r\n    node.wait_for_rpc_connection()\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_node.py\", line 99, in wait_for_rpc_connection\r\n    assert self.process.poll() is None, \"bitcoind exited with status %i during initialization\" % self.process.returncode\r\nAssertionError: bitcoind exited with status 1 during initialization\r\n2018-02-16 20:39:32.882000 TestFramework (INFO): Stopping nodes\r\nTraceback (most recent call last):\r\n  File \"./rpc_bind.py\", line 107, in <module>\r\n    RPCBindTest().main()\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_framework.py\", line 148, in main\r\n    self.stop_nodes()\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_framework.py\", line 268, in stop_nodes\r\n    node.stop_node()\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_node.py\", line 135, in stop_node\r\n    self.stop()\r\n  File \"/home/ubuntu/bitcoin/test/functional/test_framework/test_node.py\", line 81, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, \"Error: no RPC connection\"\r\nAssertionError: Error: no RPC connection\r\n```\r\n\r\nDropping this single commit fixes the test.\r\n\r\nTravis never runs rpc_bind.py, even in the cron job, since it requires ipv6. I suspect this will be broken for most people.\r\n\r\nIt doesn't look like this was tested before merge. Can we revert please?",
      "created_at" : "2018-02-16T20:46:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-366353555",
      "id" : 366353555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-02-16T20:46:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366353555",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll see if I can figure out how to test IPv6 stuff and make a new PR. My guess is that it needs to bind on `::1` as well.",
      "created_at" : "2018-02-17T08:57:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-366427631",
      "id" : 366427631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-02-17T08:58:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366427631",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "There's some recent discussion about how to use IPv6 on Travis: https://github.com/travis-ci/travis-ci/issues/8891",
      "created_at" : "2018-02-17T09:00:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-366427780",
      "id" : 366427780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-02-17T09:00:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366427780",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I completely forgot about the rpc_bind test, even though I wrote it. I think we should include it in default test_runner (could disable it specifically for travis with a flag, but have it run locally!) or remove it.",
      "created_at" : "2018-02-22T14:16:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-367693620",
      "id" : 367693620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-02-22T14:16:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/367693620",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Ehh we have `test_ipv6_local()` in netutil.py (used by `feature_proxy.py`). Skipping the parts that require ipv6 binding when there is no ipv6 would be another possiblity and avoid any travis specific magic.\r\n\r\nCurrently it skips the whole test when ipv6 is not available, which seems OK as well. Was lack of IPv6 support the whole reason for excluding this test from the default runner?",
      "created_at" : "2018-02-22T14:32:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12200#issuecomment-367698532",
      "id" : 367698532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12200",
      "updated_at" : "2018-02-22T14:34:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/367698532",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
