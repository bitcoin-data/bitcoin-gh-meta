[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-03-10T20:40:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-597303382",
      "id" : 597303382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NzMwMzM4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-24T03:21:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597303382",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> * update some test in test/functional/interface_zmq.py with multiple interfaces.\r\n\r\n@n-thumann don't forget about this.",
      "created_at" : "2020-03-11T08:05:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-597496016",
      "id" : 597496016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NzQ5NjAxNg==",
      "updated_at" : "2020-03-11T08:05:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597496016",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> > * update some test in test/functional/interface_zmq.py with multiple interfaces.\r\n> \r\n> @n-thumann don't forget about this.\r\n\r\nThank you for your feedback! The test is already in the works :)",
      "created_at" : "2020-03-11T08:59:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-597517205",
      "id" : 597517205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NzUxNzIwNQ==",
      "updated_at" : "2020-03-11T08:59:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597517205",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/46975855?v=4",
         "events_url" : "https://api.github.com/users/n-thumann/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n-thumann/followers",
         "following_url" : "https://api.github.com/users/n-thumann/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n-thumann/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n-thumann",
         "id" : 46975855,
         "login" : "n-thumann",
         "node_id" : "MDQ6VXNlcjQ2OTc1ODU1",
         "organizations_url" : "https://api.github.com/users/n-thumann/orgs",
         "received_events_url" : "https://api.github.com/users/n-thumann/received_events",
         "repos_url" : "https://api.github.com/users/n-thumann/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n-thumann/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n-thumann/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n-thumann"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Currently the `debug.log` prints\r\n`2020-03-11T17:52:01.715152Z [scheduler] zmq: Publish hashblock <blockhash>\r\n2020-03-11T17:52:01.715248Z [scheduler] zmq: Publish hashblock <blockhash>`, when `hashblock` is triggered and ZeroMQ is listening on two interfaces.\r\nDo you think itÂ´s useful to append something like `to tcp://127.0.0.1:28332` to each log entry, so that a user knows why there is an apparently duplicate entry?",
      "created_at" : "2020-03-11T18:16:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-597789550",
      "id" : 597789550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5Nzc4OTU1MA==",
      "updated_at" : "2020-03-11T18:16:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597789550",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/46975855?v=4",
         "events_url" : "https://api.github.com/users/n-thumann/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n-thumann/followers",
         "following_url" : "https://api.github.com/users/n-thumann/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n-thumann/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n-thumann",
         "id" : 46975855,
         "login" : "n-thumann",
         "node_id" : "MDQ6VXNlcjQ2OTc1ODU1",
         "organizations_url" : "https://api.github.com/users/n-thumann/orgs",
         "received_events_url" : "https://api.github.com/users/n-thumann/received_events",
         "repos_url" : "https://api.github.com/users/n-thumann/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n-thumann/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n-thumann/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n-thumann"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Do you think itÂ´s useful to append something like `to tcp://127.0.0.1:28332` to each log entry, so that a user knows why there is an apparently duplicate entry?\r\n\r\nYes, makes sense in this change. Alternatively it could avoid printing the duplicate messages but not worth it.",
      "created_at" : "2020-03-11T18:31:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-597796828",
      "id" : 597796828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5Nzc5NjgyOA==",
      "updated_at" : "2020-03-11T18:31:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/597796828",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r391184237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391184237"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\ntest/functional/interface_zmq.py:51:44: E703 statement ends with a semicolon\r\n^---- failure generated from test/lint/lint-python.sh\r\n```",
      "commit_id" : "ab996c2a9ecd3f75fb4621f87d9303bd18e891a2",
      "created_at" : "2020-03-11T18:38:56Z",
      "diff_hunk" : "@@ -48,6 +48,7 @@ def run_test(self):\n         try:\n             self.test_basic()\n             self.test_reorg()\n+            self.test_multiple_interfaces();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r391184237",
      "id" : 391184237,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTE4NDIzNw==",
      "original_commit_id" : "9e4685168fe07e1160178d12bd0e3f77ff26e64e",
      "original_line" : 51,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/interface_zmq.py",
      "position" : null,
      "pull_request_review_id" : 373027585,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-02T08:14:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391184237",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r391184869"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391184869"
         }
      },
      "author_association" : "NONE",
      "body" : "Fixed :)",
      "commit_id" : "ab996c2a9ecd3f75fb4621f87d9303bd18e891a2",
      "created_at" : "2020-03-11T18:40:06Z",
      "diff_hunk" : "@@ -48,6 +48,7 @@ def run_test(self):\n         try:\n             self.test_basic()\n             self.test_reorg()\n+            self.test_multiple_interfaces();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r391184869",
      "id" : 391184869,
      "in_reply_to_id" : 391184237,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTE4NDg2OQ==",
      "original_commit_id" : "9e4685168fe07e1160178d12bd0e3f77ff26e64e",
      "original_line" : 51,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/interface_zmq.py",
      "position" : null,
      "pull_request_review_id" : 373028405,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-02T08:14:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391184869",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/46975855?v=4",
         "events_url" : "https://api.github.com/users/n-thumann/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n-thumann/followers",
         "following_url" : "https://api.github.com/users/n-thumann/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n-thumann/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n-thumann",
         "id" : 46975855,
         "login" : "n-thumann",
         "node_id" : "MDQ6VXNlcjQ2OTc1ODU1",
         "organizations_url" : "https://api.github.com/users/n-thumann/orgs",
         "received_events_url" : "https://api.github.com/users/n-thumann/received_events",
         "repos_url" : "https://api.github.com/users/n-thumann/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n-thumann/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n-thumann/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n-thumann"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested ACK\r\n\r\nI tested on Ubuntu 19.10 x86_64 with zmq version 4.3.2.\r\n\r\nI verified that the node starts when not specifying any of the zmq flags, when starting with between 1 and 3 `-zmqpubhashblock` on different addresses and/or ports, with and without `-zmqpubhashblockhwm=10000`. I verified log entries, and I also verified receiving messages with the `contrib/zmq/zmq_sub.py` subscriber.\r\n\r\n@n-thumann side note, you might have the right skill set to review my #14687 related to zmq, if you have some spare cycles. that's a small change that the lightning guys have been requesting for a while. thanks!",
      "created_at" : "2020-04-21T18:49:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-617347443",
      "id" : 617347443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzM0NzQ0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-04-21T18:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617347443",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6440430?v=4",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "node_id" : "MDQ6VXNlcjY0NDA0MzA=",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK, will review",
      "created_at" : "2020-09-02T01:47:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-685232623",
      "id" : 685232623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTIzMjYyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T01:47:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685232623",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r481557148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/481557148"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe compress this into:\r\n\r\n`self.restart_node(0, ['-zmqpub%s=%s' % (subscribers[i]['hashblock'].topic.decode(), subscribers[i]['address']) for i in range(2)])`\r\n\r\nor there-about(didn't check parenthesis lining up :) )",
      "commit_id" : "ab996c2a9ecd3f75fb4621f87d9303bd18e891a2",
      "created_at" : "2020-09-02T02:15:20Z",
      "diff_hunk" : "@@ -204,5 +205,30 @@ def test_reorg(self):\n         # And the current tip\n         assert_equal(hashtx.receive().hex(), self.nodes[1].getblock(connect_blocks[0])[\"tx\"][0])\n \n+    def test_multiple_interfaces(self):\n+        import zmq\n+\n+        # Set up two subscribers with different addresses\n+        subscribers = []\n+        for x in range(2):\n+            address = 'tcp://127.0.0.1:%d' % (28334 + x)\n+            socket = self.ctx.socket(zmq.SUB)\n+            socket.set(zmq.RCVTIMEO, 60000)\n+            hashblock = ZMQSubscriber(socket, b\"hashblock\")\n+            socket.connect(address)\n+            subscribers.append({'address': address, 'socket': socket, 'hashblock': hashblock})\n+\n+        self.restart_node(0, ['-zmqpub%s=%s' % (subscribers[0]['hashblock'].topic.decode(), subscribers[0]['address']),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r481557148",
      "id" : 481557148,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTU1NzE0OA==",
      "original_commit_id" : "5f46f63c17a98da4a34b627c3be496b8eeba1cc1",
      "original_line" : 221,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/interface_zmq.py",
      "position" : null,
      "pull_request_review_id" : 480353370,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-02T08:14:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/481557148",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r481873488"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/481873488"
         }
      },
      "author_association" : "NONE",
      "body" : "Thanks, applied your change slightly modified along with some other minor changes :)",
      "commit_id" : "ab996c2a9ecd3f75fb4621f87d9303bd18e891a2",
      "created_at" : "2020-09-02T08:18:02Z",
      "diff_hunk" : "@@ -204,5 +205,30 @@ def test_reorg(self):\n         # And the current tip\n         assert_equal(hashtx.receive().hex(), self.nodes[1].getblock(connect_blocks[0])[\"tx\"][0])\n \n+    def test_multiple_interfaces(self):\n+        import zmq\n+\n+        # Set up two subscribers with different addresses\n+        subscribers = []\n+        for x in range(2):\n+            address = 'tcp://127.0.0.1:%d' % (28334 + x)\n+            socket = self.ctx.socket(zmq.SUB)\n+            socket.set(zmq.RCVTIMEO, 60000)\n+            hashblock = ZMQSubscriber(socket, b\"hashblock\")\n+            socket.connect(address)\n+            subscribers.append({'address': address, 'socket': socket, 'hashblock': hashblock})\n+\n+        self.restart_node(0, ['-zmqpub%s=%s' % (subscribers[0]['hashblock'].topic.decode(), subscribers[0]['address']),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#discussion_r481873488",
      "id" : 481873488,
      "in_reply_to_id" : 481557148,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg3MzQ4OA==",
      "original_commit_id" : "5f46f63c17a98da4a34b627c3be496b8eeba1cc1",
      "original_line" : 221,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/interface_zmq.py",
      "position" : null,
      "pull_request_review_id" : 480588631,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18309",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-02T08:18:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/481873488",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/46975855?v=4",
         "events_url" : "https://api.github.com/users/n-thumann/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n-thumann/followers",
         "following_url" : "https://api.github.com/users/n-thumann/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n-thumann/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n-thumann",
         "id" : 46975855,
         "login" : "n-thumann",
         "node_id" : "MDQ6VXNlcjQ2OTc1ODU1",
         "organizations_url" : "https://api.github.com/users/n-thumann/orgs",
         "received_events_url" : "https://api.github.com/users/n-thumann/received_events",
         "repos_url" : "https://api.github.com/users/n-thumann/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n-thumann/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n-thumann/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n-thumann"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK https://github.com/bitcoin/bitcoin/pull/18309/commits/ab996c2a9ecd3f75fb4621f87d9303bd18e891a2",
      "created_at" : "2020-09-02T12:56:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-685717352",
      "id" : 685717352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTcxNzM1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T12:56:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685717352",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-09-04T12:08:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-687103064",
      "id" : 687103064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzEwMzA2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T12:08:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687103064",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-09-19T09:47:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-695192222",
      "id" : 695192222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NTE5MjIyMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-19T09:47:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695192222",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-09-23T12:05:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-697319540",
      "id" : 697319540,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NzMxOTU0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-23T12:05:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697319540",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Adjusted log output to new notification types of https://github.com/bitcoin/bitcoin/pull/19572.",
      "created_at" : "2020-09-30T22:05:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-701671793",
      "id" : 701671793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTY3MTc5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-30T22:08:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701671793",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/46975855?v=4",
         "events_url" : "https://api.github.com/users/n-thumann/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n-thumann/followers",
         "following_url" : "https://api.github.com/users/n-thumann/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n-thumann/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n-thumann",
         "id" : 46975855,
         "login" : "n-thumann",
         "node_id" : "MDQ6VXNlcjQ2OTc1ODU1",
         "organizations_url" : "https://api.github.com/users/n-thumann/orgs",
         "received_events_url" : "https://api.github.com/users/n-thumann/received_events",
         "repos_url" : "https://api.github.com/users/n-thumann/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n-thumann/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n-thumann/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n-thumann"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK e66870c5a4c2adbd30dca67d409fd5cd98697587",
      "created_at" : "2020-10-01T15:42:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-702223352",
      "id" : 702223352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjIyMzM1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-01T15:42:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702223352",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK https://github.com/bitcoin/bitcoin/pull/18309/commits/e66870c5a4c2adbd30dca67d409fd5cd98697587",
      "created_at" : "2020-10-01T15:42:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18309#issuecomment-702223653",
      "id" : 702223653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18309",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjIyMzY1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-01T15:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702223653",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
