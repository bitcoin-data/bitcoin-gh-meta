[
   {
      "author_association" : "MEMBER",
      "body" : "I used this logging while reviewing and testing #20233 and while running the checks over the past months.",
      "created_at" : "2021-08-13T09:42:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22696#issuecomment-898332635",
      "id" : 898332635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22696",
      "node_id" : "IC_kwDOABII5841i3fb",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T09:42:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898332635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK d3ae9edaec56e5c8c808a4520f8f9eefb5264ccc. This mirrors the logging done in mempool when the consistency checks are run:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/803ef70fd9f65ef800567ff9456fac525bc3e3c2/src/txmempool.cpp#L691\r\n\r\nTwo potential enhancements for your consideration:\r\n\r\n- print `nNew` and `nTried` in the log, so it's possible to see how much work the `Check_()` function has to do.\r\n- print a \"Addrman checks successful\" log at the end of the funcion, so it's possible to see how long the consistency checks took to run.",
      "created_at" : "2021-08-13T10:32:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22696#issuecomment-898361387",
      "id" : 898361387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22696",
      "node_id" : "IC_kwDOABII5841i-gr",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T10:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898361387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated per @jnewbery's feedback (good ideas, thanks!)\r\n\r\n```\r\n$ ./src/bitcoind -signet -checkaddrman=20 -debug=addrman\r\n...\r\n2021-08-13T11:14:45Z Addrman checks started: new 3352, tried 89, total 3441\r\n2021-08-13T11:14:45Z Addrman checks completed successfully\r\n```\r\n",
      "created_at" : "2021-08-13T11:17:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22696#issuecomment-898385191",
      "id" : 898385191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22696",
      "node_id" : "IC_kwDOABII5841jEUn",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T11:17:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898385191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should the number of tried be logged before the number of new, to reflect the order of the checks and the `Add()` logging? e.g. in `src/addrman.h`\r\n\r\n```c++\r\nLogPrint(BCLog::ADDRMAN, \"Added %s from %s: %i tried, %i new\\n\", addr.ToStringIPPort(), source.ToString(), nTried, nNew); \r\n```",
      "created_at" : "2021-08-13T11:30:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22696#issuecomment-898392216",
      "id" : 898392216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22696",
      "node_id" : "IC_kwDOABII5841jGCY",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T11:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898392216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 4844b74ba73ecc6d336a52b4dc4cd144a01b0ea2\r\n\r\n> Should the number of tried be logged before the number of new, to reflect the order of the checks and the Add() logging?\r\n\r\nI don't think it matters.",
      "created_at" : "2021-08-13T11:41:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22696#issuecomment-898397676",
      "id" : 898397676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22696",
      "node_id" : "IC_kwDOABII5841jHXs",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T11:41:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898397676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Should the number of tried be logged before the number of new, to reflect the order of the checks and the `Add()` logging? \r\n\r\nNo strong opinions here, but in this case, I think reflecting the order of checks makes sense since we are logging.\r\n",
      "created_at" : "2021-08-13T11:43:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22696#issuecomment-898399071",
      "id" : 898399071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22696",
      "node_id" : "IC_kwDOABII5841jHtf",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T11:44:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898399071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23586626?v=4",
         "events_url" : "https://api.github.com/users/Zero-1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Zero-1729/followers",
         "following_url" : "https://api.github.com/users/Zero-1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Zero-1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Zero-1729",
         "id" : 23586626,
         "login" : "Zero-1729",
         "node_id" : "MDQ6VXNlcjIzNTg2NjI2",
         "organizations_url" : "https://api.github.com/users/Zero-1729/orgs",
         "received_events_url" : "https://api.github.com/users/Zero-1729/received_events",
         "repos_url" : "https://api.github.com/users/Zero-1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Zero-1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Zero-1729"
      }
   }
]
