[
   {
      "author_association" : "MEMBER",
      "body" : "Is this PR a potential candidate for backporting to 22.x ?",
      "created_at" : "2021-08-05T15:37:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22625#issuecomment-893558776",
      "id" : 893558776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22625",
      "node_id" : "IC_kwDOABII5841Qp_4",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-05T15:37:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893558776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 03826aecc56c5c5c76570805897c2ddf92e11ab6<br>(master) | commit c6de839a6111425fe8cc6e2d58b35fb654d1c83a<br>(master and this pull) |\n|--|--|--|\n| SHA256SUMS.part | [`0dc999bdf2259e95...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/SHA256SUMS.part) | [`60389bfc4b08e888...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/SHA256SUMS.part) |\n| *-aarch64-linux-gnu-debug.tar.gz | [`c214b75f2cbdf64a...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-aarch64-linux-gnu-debug.tar.gz) | [`61789faf421b2818...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`3eb68efb739f6123...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-aarch64-linux-gnu.tar.gz) | [`e9f2b0d217d2e759...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`515677e37be1a840...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-arm-linux-gnueabihf-debug.tar.gz) | [`cc5059e0c73cc732...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`66411c0f2272cc76...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-arm-linux-gnueabihf.tar.gz) | [`c0ba4e1256452c40...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-arm-linux-gnueabihf.tar.gz) |\n| *-osx-unsigned.dmg | [`93bf4940c82a67ac...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-osx-unsigned.dmg) | [`c64b04c77ef38bb0...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-osx-unsigned.dmg) |\n| *-osx-unsigned.tar.gz | [`b83bf8f597499eb9...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-osx-unsigned.tar.gz) | [`54b384eab7099ddc...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-osx-unsigned.tar.gz) |\n| *-osx64.tar.gz | [`e5f0e3dbfe2fbba3...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-osx64.tar.gz) | [`daecce0ea82b31b5...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-osx64.tar.gz) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`c0be02de5de1116f...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-powerpc64-linux-gnu-debug.tar.gz) | [`9e756f5c47376186...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`1943a0458a051225...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-powerpc64-linux-gnu.tar.gz) | [`3468976716670e17...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-powerpc64-linux-gnu.tar.gz) |\n| *-powerpc64le-linux-gnu-debug.tar.gz | [`fea39d1ba38735e8...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-powerpc64le-linux-gnu-debug.tar.gz) | [`7f70172d505a7ee6...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-powerpc64le-linux-gnu-debug.tar.gz) |\n| *-powerpc64le-linux-gnu.tar.gz | [`4cfcd5867fb30b8e...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-powerpc64le-linux-gnu.tar.gz) | [`51a284fc3a76ff92...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-powerpc64le-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`b9582bf270f15472...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-riscv64-linux-gnu-debug.tar.gz) | [`59f342cfa153e93d...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`47ec6694c797180f...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-riscv64-linux-gnu.tar.gz) | [`cdb686391aefb436...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-riscv64-linux-gnu.tar.gz) |\n| *-win-unsigned.tar.gz | [`c19895cd7f71186a...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-win-unsigned.tar.gz) | [`701d0b5300dab116...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-win-unsigned.tar.gz) |\n| *-win64-debug.zip | [`a1571d27ee9dcb3c...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-win64-debug.zip) | [`c3fbef3ef65b739a...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-win64-debug.zip) |\n| *-win64-setup-unsigned.exe | [`6c15b3adf685321b...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-win64-setup-unsigned.exe) | [`7986c27ae8154e4f...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-win64-setup-unsigned.exe) |\n| *-win64.zip | [`a0eb0bc26011feed...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-win64.zip) | [`472508785ec249a5...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-win64.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`07a8993cfdbedc47...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-x86_64-linux-gnu-debug.tar.gz) | [`b05e204da2a4783f...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`33dd67fd9d933fe3...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c-x86_64-linux-gnu.tar.gz) | [`40d0543e84732ee1...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`ff9aed316ea9a7e8...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/bitcoin-03826aecc56c.tar.gz) | [`0ae5b28f006ee2b0...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/bitcoin-c6de839a6111.tar.gz) |\n| guix_build.log | [`2511e0c773bb8260...`](https://drahtbot.space/guix/bitcoin/bitcoin/03826aecc56c5c5c76570805897c2ddf92e11ab6/guix_build.log) | [`fa582f47b8912e75...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/guix_build.log) |\n| guix_build.log.diff |  | [`3bc1faafb9a83764...`](https://drahtbot.space/guix/bitcoin/bitcoin/c6de839a6111425fe8cc6e2d58b35fb654d1c83a/guix_build.log.diff) |\n\n",
      "created_at" : "2021-08-08T18:37:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22625#issuecomment-894837620",
      "id" : 894837620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22625",
      "node_id" : "IC_kwDOABII5841ViN0",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-08T18:37:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894837620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 81f81b27d88dc438fb08bda68844b752ff793991\r\n\r\nTested that the resulting guix build does use the tag name as the version rather than the commit hash. Agree that this should be backported.",
      "created_at" : "2021-08-09T19:11:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22625#issuecomment-895472223",
      "id" : 895472223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22625",
      "node_id" : "IC_kwDOABII5841X9Jf",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-09T19:12:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895472223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, I'm NACK on this based on my understanding.\r\n\r\nIt would seem that `./autogen.sh` and `./configure` both modify their physical parent directory, even when executed from another directory. This seems like a bad idea because we'll have all `HOST`s modifying the same parent directory when configuring/autoreconf-ing, which seems fragile and is a recipe for broken builds in the future or non-reproducibility.\r\n\r\nIt seems that the underlying problem is that our source tarball produced by `git-archive` (say for v22.0), when extracted and used to build, does not result in a binary with a version string that's just a tag name with no commit hash suffix. I think the fix likely lies in changing the `genbuild.sh`/`clientversion.cpp` logic.",
      "created_at" : "2021-08-10T20:28:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22625#issuecomment-896295975",
      "id" : 896295975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22625",
      "node_id" : "IC_kwDOABII5841bGQn",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T20:46:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896295975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree with Carl, that this doesn't seem like the right solution. We should look at #22680 instead.",
      "created_at" : "2021-08-11T02:00:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22625#issuecomment-896440087",
      "id" : 896440087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22625",
      "node_id" : "IC_kwDOABII5841bpcX",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-11T02:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896440087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I agree that #22680 looks preferable.\r\n\r\n> It would seem that `./autogen.sh` and `./configure` both modify their physical parent directory, even when executed from another directory. This seems like a bad idea because we'll have all `HOST`s modifying the same parent directory when configuring/autoreconf-ing, which seems fragile and is a recipe for broken builds in the future or non-reproducibility.\r\n\r\nYes, `./autogen.sh` _does_ modify the source directory, when executed from another directory. But such modifications are _the same_ for each `HOST`. We even could run `./autogen.sh` once only for all `HOST`s.\r\n\r\nNo, `./configure` does _not_ modify the source directory, when executed from another directory. That is, actually, the goal of the \"building out of source tree\" -- not touching the source tree, right?\r\n",
      "created_at" : "2021-08-11T09:03:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22625#issuecomment-896640945",
      "id" : 896640945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22625",
      "node_id" : "IC_kwDOABII5841caex",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-11T09:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896640945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
