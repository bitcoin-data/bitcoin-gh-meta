[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "force pushed from  084d443 to 251d636 to fix linting and ci errors",
      "created_at" : "2021-08-12T15:16:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-897726230",
      "id" : 897726230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841gjcW",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-12T15:16:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/897726230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23319](https://github.com/bitcoin/bitcoin/pull/23319) (rpc: Return fee and prevout (utxos) to getrawtransaction by dougEfresh)\n* [#22341](https://github.com/bitcoin/bitcoin/pull/22341) (rpc: add getxpub by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-08-12T19:14:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-897901107",
      "id" : 897901107,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841hOIz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/897901107/reactions"
      },
      "updated_at" : "2021-10-30T14:53:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/897901107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688382471"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688382471"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree with this approach of adding a bool similar to address/reqSigs, and think you should add a TODO to remove this in v24\r\n\r\nPerhaps naming it `include_old_fee_fields` or something might be better because this could be slightly confusing",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T09:37:23Z",
      "diff_hunk" : "@@ -481,7 +481,7 @@ static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::BOOL, \"unbroadcast\", \"Whether this transaction is currently unbroadcast (initial broadcast not yet acknowledged by any peers)\"},\n };}\n \n-static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPoolEntry& e) EXCLUSIVE_LOCKS_REQUIRED(pool.cs)\n+static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPoolEntry& e, bool include_fee_fields) EXCLUSIVE_LOCKS_REQUIRED(pool.cs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688382471",
      "id" : 688382471,
      "line" : 484,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODM4MjQ3MQ==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 484,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 26,
      "pull_request_review_id" : 729441201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T09:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688382471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688385472"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688385472"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Any reason you didn't use the existing test file, rpc_deprecated.py? I don't personally have an opinion on whether it would be better, but it looks like a good place to put these tests too.",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T09:42:08Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688385472",
      "id" : 688385472,
      "line" : 5,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODM4NTQ3Mg==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 5,
      "pull_request_review_id" : 729441201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T09:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688385472",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688386760"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688386760"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You could also add the assertions to a helper function, and call that helper function with results you get from each RPC",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T09:44:10Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.wallet import MiniWallet\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.blocktools import COIN\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.scan_blocks(start=76, num=1)\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])['txid']\n+        self.sync_mempools(nodes=self.nodes)\n+\n+        # note: we are only testing getmempoolentry even though\n+        # getrawmempool(verbose=True) also returns mempool entries\n+        # this is because getmempool entry and getrawmempool(verbose=True)\n+        # both call the same underlying entryToJSON function so testing\n+        # getmempoolentry is sufficient",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688386760",
      "id" : 688386760,
      "line" : 33,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODM4Njc2MA==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 33,
      "original_position" : 33,
      "original_start_line" : 29,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 33,
      "pull_request_review_id" : 729441201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : 29,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-13T09:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688386760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688390466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688390466"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: sort alphabetically :grin:",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T09:50:28Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.wallet import MiniWallet\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.blocktools import COIN",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688390466",
      "id" : 688390466,
      "line" : 10,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODM5MDQ2Ng==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : 7,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 10,
      "pull_request_review_id" : 729441201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : 7,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-13T09:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688390466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688394470"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688394470"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "To make the commits atomic, rpc_fundrawtransaction.py needs to be updated in 5adcba2562 as well",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T09:57:11Z",
      "diff_hunk" : "@@ -379,7 +379,7 @@ def test_fee_p2pkh(self):\n \n         # Create same transaction over sendtoaddress.\n         txId = self.nodes[0].sendtoaddress(self.nodes[1].getnewaddress(), 1.1)\n-        signedFee = self.nodes[0].getrawmempool(True)[txId]['fee']\n+        signedFee = self.nodes[0].getrawmempool(True)[txId]['fees']['base']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688394470",
      "id" : 688394470,
      "line" : 382,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODM5NDQ3MA==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 382,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 5,
      "pull_request_review_id" : 729441201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T09:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688394470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-08-13T10:26:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-898358216",
      "id" : 898358216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841i9vI",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T10:26:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898358216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688494902"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688494902"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "added the comments and renamed to `include_deprecated_fee_fields` to better associate it with `isDeprecatedRPCEnabled(\"fees\")`",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T13:00:19Z",
      "diff_hunk" : "@@ -481,7 +481,7 @@ static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::BOOL, \"unbroadcast\", \"Whether this transaction is currently unbroadcast (initial broadcast not yet acknowledged by any peers)\"},\n };}\n \n-static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPoolEntry& e) EXCLUSIVE_LOCKS_REQUIRED(pool.cs)\n+static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPoolEntry& e, bool include_fee_fields) EXCLUSIVE_LOCKS_REQUIRED(pool.cs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688494902",
      "id" : 688494902,
      "in_reply_to_id" : 688382471,
      "line" : 484,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODQ5NDkwMg==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 484,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 26,
      "pull_request_review_id" : 729590574,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T13:00:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688494902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688496763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688496763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "hm, im not sure how you were able to see https://github.com/bitcoin/bitcoin/commit/5adcba25623f35c07e8fe266883a9c21931f3d0d as i thought i force pushed past it. but just to make sure i understand, the changes to `rpc_fundrawtransaction.py` and `mempool_packages.py` should be in the same commit as the changes to `blockchain.cpp`. this ensures the tests still pass for this commit, correct?",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T13:03:14Z",
      "diff_hunk" : "@@ -379,7 +379,7 @@ def test_fee_p2pkh(self):\n \n         # Create same transaction over sendtoaddress.\n         txId = self.nodes[0].sendtoaddress(self.nodes[1].getnewaddress(), 1.1)\n-        signedFee = self.nodes[0].getrawmempool(True)[txId]['fee']\n+        signedFee = self.nodes[0].getrawmempool(True)[txId]['fees']['base']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688496763",
      "id" : 688496763,
      "in_reply_to_id" : 688394470,
      "line" : 382,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODQ5Njc2Mw==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 382,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 5,
      "pull_request_review_id" : 729593191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T13:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688496763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688506660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688506660"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "i saw `rpc_deprecated.py` and wasn't sure why it was there? right now it doesn't test anything. i then saw `rpc_addresses_deprecation.py` was its own file, so i followed that one as an example.\r\n\r\ni guess the advantage of putting tests in `rpc_deprecated.py` is it might help things run faster than running individual test files for each deprecated rpc. i can put my test there and then move `rpc_addresses_deprecation.py` to `rpc_deprecated.py` as a follow-up pr, if that's the standard we want to follow",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T13:17:52Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688506660",
      "id" : 688506660,
      "in_reply_to_id" : 688385472,
      "line" : 5,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODUwNjY2MA==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 5,
      "pull_request_review_id" : 729606690,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T13:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688506660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688511555"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688511555"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I assumed that rpc_deprecated.py is there to test RPC deprecation stuff and address/reqSigs tests are in a separate file because they need the wallet to be built. So they can't be moved to rpc_deprecated.py either.",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T13:24:36Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688511555",
      "id" : 688511555,
      "in_reply_to_id" : 688385472,
      "line" : 5,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODUxMTU1NQ==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 5,
      "pull_request_review_id" : 729613067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T13:24:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688511555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688512570"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688512570"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ah hm, I must have fetched before you pushed.\r\n\r\n> just to make sure i understand, the changes to rpc_fundrawtransaction.py and mempool_packages.py should be in the same commit as the changes to blockchain.cpp. this ensures the tests still pass for this commit, correct?\r\n\r\ncorrect, yes :)",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T13:26:05Z",
      "diff_hunk" : "@@ -379,7 +379,7 @@ def test_fee_p2pkh(self):\n \n         # Create same transaction over sendtoaddress.\n         txId = self.nodes[0].sendtoaddress(self.nodes[1].getnewaddress(), 1.1)\n-        signedFee = self.nodes[0].getrawmempool(True)[txId]['fee']\n+        signedFee = self.nodes[0].getrawmempool(True)[txId]['fees']['base']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688512570",
      "id" : 688512570,
      "in_reply_to_id" : 688394470,
      "line" : 382,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODUxMjU3MA==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 382,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 5,
      "pull_request_review_id" : 729614517,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T13:26:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688512570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688512710"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688512710"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "actually, ive talked myself out of this. if we have individual files, they can run in parallel and if we put all the deprecated tests under the same class it could be really annoying later on as you are adding a new test. you'd have to wait for N deprecation tests to run each time as you're iterating on your test, which starts to impact productivity if it takes 30 ~ 45 seconds to run through all the tests each time.\r\n\r\nwhat are your thoughts, @glozow ?",
      "commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "created_at" : "2021-08-13T13:26:20Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688512710",
      "id" : 688512710,
      "in_reply_to_id" : 688385472,
      "line" : 5,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODUxMjcxMA==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 5,
      "pull_request_review_id" : 729614737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T13:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688512710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-08-13T14:02:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-898479397",
      "id" : 898479397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841jbUl",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T14:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898479397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23586626?v=4",
         "events_url" : "https://api.github.com/users/Zero-1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Zero-1729/followers",
         "following_url" : "https://api.github.com/users/Zero-1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Zero-1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Zero-1729",
         "id" : 23586626,
         "login" : "Zero-1729",
         "node_id" : "MDQ6VXNlcjIzNTg2NjI2",
         "organizations_url" : "https://api.github.com/users/Zero-1729/orgs",
         "received_events_url" : "https://api.github.com/users/Zero-1729/received_events",
         "repos_url" : "https://api.github.com/users/Zero-1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Zero-1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Zero-1729"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688569469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688569469"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I assumed that rpc_deprecated.py is there to test RPC deprecation stuff and address/reqSigs tests are in a separate file because they need the wallet to be built\r\n\r\nmakes sense. i read through the comments on `rpc_deprecated.py` and it seems focused on testing that a whole rpc command is deprecated. i think it works well for that and we can consolidate rpc command deprecation's there.\r\n\r\nthis is test slightly different in that an rpc is not being deprecated (meaning we cant just check for an rpc not found error), but fields on an rpc response are being deprecated, which makes the setup for the test a bit more complicated. for this reason, id suggest keeping this test in a separate file",
      "commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "created_at" : "2021-08-13T14:44:31Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688569469",
      "id" : 688569469,
      "in_reply_to_id" : 688385472,
      "line" : 5,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODU2OTQ2OQ==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 5,
      "pull_request_review_id" : 729693264,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-13T14:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688569469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688573802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688573802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : ":doh:",
      "commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "created_at" : "2021-08-13T14:50:35Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.wallet import MiniWallet\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.blocktools import COIN",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r688573802",
      "id" : 688573802,
      "in_reply_to_id" : 688390466,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4ODU3MzgwMg==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 10,
      "original_position" : 10,
      "original_start_line" : 7,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : null,
      "pull_request_review_id" : 729699141,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-13T14:50:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/688573802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks for the review, @glozow! I added your suggestions and left a comment on why I think it makes sense to keep `rpc_mempool_entry_fields_deprecation.py` separate from `rpc_deprecated.py`; ultimately, I'm happy to go with whichever option you recommend",
      "created_at" : "2021-08-13T14:50:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-898511513",
      "id" : 898511513,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841jjKZ",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T14:51:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898511513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r689259509"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/689259509"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is there a reason you don't do:\r\n```c++\r\nif (IsDeprecatedRPCEnabled(\"fees\")) {\r\n```\r\nhere? And not have to change the function header?",
      "commit_id" : "4df6ffd4dcdfd2b26457c420cdbb4c382bc7a488",
      "created_at" : "2021-08-16T06:07:07Z",
      "diff_hunk" : "@@ -491,19 +492,20 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    if (include_deprecated_fee_fields) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r689259509",
      "id" : 689259509,
      "line" : 495,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4OTI1OTUwOQ==",
      "original_commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "original_line" : 495,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 36,
      "pull_request_review_id" : 730351733,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-16T06:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/689259509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r689639437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/689639437"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "i was following `ScriptPubKeyToUniv` as an example: https://github.com/bitcoin/bitcoin/blob/42b00a37580a11fbb81a3748d9e834ae8913cdba/src/rpc/blockchain.cpp#L1936-L1939\r\n\r\npersonally, i agree with this approach more than using the `IsDeprecatedRPCEnabled` function directly as it it's more clear, imo, what's happening and allows for more flexibility. \r\n\r\nfor example, lets say we wanted to only allow `getmempoolentry` to return the fields when `-deprecated=fees` is passed but wanted `getrawmempool` to never return the fields. with this setup, we can have one of the functions use the original function signature with `IsDeprecated` passed as the default, whereas we could call `entryToJSON` with `false` passed as the default whenever it's used in `getrawmempool`.\r\n\r\ntldr; i think functional overloading is super cool and this seemed a good use case for it :smile: ",
      "commit_id" : "4df6ffd4dcdfd2b26457c420cdbb4c382bc7a488",
      "created_at" : "2021-08-16T15:29:48Z",
      "diff_hunk" : "@@ -491,19 +492,20 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    if (include_deprecated_fee_fields) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r689639437",
      "id" : 689639437,
      "in_reply_to_id" : 689259509,
      "line" : 495,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4OTYzOTQzNw==",
      "original_commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "original_line" : 495,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 36,
      "pull_request_review_id" : 730852411,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-16T15:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/689639437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Code review ACK\r\n> \r\n> You'll probably need to add release notes, something like [90ae3d8](https://github.com/bitcoin/bitcoin/commit/90ae3d8ca68334ec712d67b21a8d4721c6d79788)\r\n\r\nthanks for the review, @mjdietzx ! ive updated the release notes in https://github.com/bitcoin/bitcoin/pull/22689/commits/4df6ffd4dcdfd2b26457c420cdbb4c382bc7a488",
      "created_at" : "2021-08-16T15:47:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-899615774",
      "id" : 899615774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841nwwe",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-16T15:47:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/899615774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> thanks for the review, @mjdietzx ! ive updated the release notes in 4df6ffd\r\n\r\nPlease write more descriptive commit messages than `update release notes`. i.e This could be something like `doc: add release note for fee field deprecation in RPC`. ",
      "created_at" : "2021-08-17T11:45:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-900226027",
      "id" : 900226027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841qFvr",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-17T11:45:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900226027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Please write more descriptive commit messages than `update release notes`. i.e This could be something like `doc: add release note for fee field deprecation in RPC`.\r\n\r\ngreat callout, @fanquake . ive update all three commit messages with relevant tags (rpc, test, doc) and wrote more descriptive commit messages",
      "created_at" : "2021-08-17T12:06:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-900239399",
      "id" : 900239399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841qJAn",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-17T12:06:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900239399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r691246625"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/691246625"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggestions\r\n\r\n- add the PR number\r\n- add  `getmempoolancestors` and `getmempooldescendants` that are also changed\r\n- s/true/verbose=true/ for clarity\r\n- wrap the lines\r\n- s/sub-object/JSON object/\r\n- s/top level/top-level/\r\n- no need to wrap version numbers in code markup\r\n\r\n```diff\r\n-- `getmempoolentry` and `getrawmempool true` no longer return top level fee fields `fee`, `modifiedfee`, `ancestorfees`, `descendantfees`. These fields were deprecated in `0.17` and moved to the `fees` sub-object in the response.\r\n-The `-deprecated=fees` flag must be passed for these fields to be included in the top level response. Note: this flag will only be available until `v24`, after which the fields will be fully removed. It is recommended you migrate to using the `fees` sub-object in the response\r\n+- RPCs `getmempoolentry`, `getrawmempool verbose=true`, `getmempoolancestors\r\n+  verbose=true` and `getmempooldescendants verbose=true` no longer return the\r\n+  top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and\r\n+  `descendantfees`. These fields were deprecated in v0.17 and moved to the\r\n+  `fees` JSON object in the response. The `-deprecated=fees` configuration\r\n+  option must be passed for these fields to be included in the top-level\r\n+  response. This option will only be available until v24.0, after which the\r\n+  fields will be fully removed. Use the `fees` JSON object for these RPCS\r\n+  instead. (#22689)\r\n```\r\n",
      "commit_id" : "c3a28421341831e096bd9479aee4092b3f847346",
      "created_at" : "2021-08-18T13:37:56Z",
      "diff_hunk" : "@@ -63,6 +63,8 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- `getmempoolentry` and `getrawmempool true` no longer return top level fee fields `fee`, `modifiedfee`, `ancestorfees`, `descendantfees`. These fields were deprecated in `0.17` and moved to the `fees` sub-object in the response.\n+The `-deprecated=fees` flag must be passed for these fields to be included in the top level response. Note: this flag will only be available until `v24`, after which the fields will be fully removed. It is recommended you migrate to using the `fees` sub-object in the response",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r691246625",
      "id" : 691246625,
      "line" : 67,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MTI0NjYyNQ==",
      "original_commit_id" : "c3a28421341831e096bd9479aee4092b3f847346",
      "original_line" : 67,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 5,
      "pull_request_review_id" : 732876042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-18T13:59:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/691246625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> getmempoolancestors and getmempooldescendants are also changed unless I'm misreading the code\r\n\r\ngood catch! i verified by grepping for `entryToJSON` and it is used in those RPC's as well. updated the commit message and release docs. thanks for the suggestions on the release doc; it reads much better",
      "created_at" : "2021-08-18T19:26:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-901371477",
      "id" : 901371477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841udZV",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-18T19:26:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901371477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "force pushed https://github.com/bitcoin/bitcoin/pull/22689/commits/e5b22ecc858f03be29a8f5aa1802b679a782a593 to fix a failure in the linter",
      "created_at" : "2021-08-18T19:33:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-901375745",
      "id" : 901375745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841uecB",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-18T19:33:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901375745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r691559569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/691559569"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As this `entryToJSON` isn't called anywhere, except for `entryToJSON`, I think it is fine to use the suggestion by @mjdietzx . No strong opinion, though.",
      "commit_id" : "e5b22ecc858f03be29a8f5aa1802b679a782a593",
      "created_at" : "2021-08-18T19:54:47Z",
      "diff_hunk" : "@@ -491,19 +492,20 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    if (include_deprecated_fee_fields) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r691559569",
      "id" : 691559569,
      "in_reply_to_id" : 689259509,
      "line" : 495,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MTU1OTU2OQ==",
      "original_commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "original_line" : 495,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 36,
      "pull_request_review_id" : 733294674,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-18T19:54:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/691559569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r691567654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/691567654"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree as well, but no big deal so didn't mention it.",
      "commit_id" : "e5b22ecc858f03be29a8f5aa1802b679a782a593",
      "created_at" : "2021-08-18T20:08:03Z",
      "diff_hunk" : "@@ -491,19 +492,20 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    if (include_deprecated_fee_fields) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r691567654",
      "id" : 691567654,
      "in_reply_to_id" : 689259509,
      "line" : 495,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MTU2NzY1NA==",
      "original_commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "original_line" : 495,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 36,
      "pull_request_review_id" : 733305367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-18T20:08:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/691567654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692005967"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692005967"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "seems like its the more preferred approach, happy to switch",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T10:58:47Z",
      "diff_hunk" : "@@ -491,19 +492,20 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    if (include_deprecated_fee_fields) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692005967",
      "id" : 692005967,
      "in_reply_to_id" : 689259509,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjAwNTk2Nw==",
      "original_commit_id" : "6940fe0620370744ca24c95eb04abbbf88042a99",
      "original_line" : 495,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 733848231,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T10:58:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692005967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "force pushed https://github.com/bitcoin/bitcoin/pull/22689/commits/07801c89d6782d404370a52566a55375f36846d7 based on https://github.com/bitcoin/bitcoin/pull/22689#discussion_r689259509",
      "created_at" : "2021-08-19T11:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-901828858",
      "id" : 901828858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841wND6",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-19T11:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901828858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692023910"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692023910"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: It won't be available in v24.0\r\n\r\n```suggestion\r\n  response. This option will only be available in this major version, after which the\r\n```",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T11:27:43Z",
      "diff_hunk" : "@@ -63,6 +63,15 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- RPCs `getmempoolentry`, `getrawmempool verbose=true`, `getmempoolancestors\n+  verbose=true` and `getmempooldescendants verbose=true` no longer return the\n+  top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and\n+  `descendantfees`. These fields were deprecated in v0.17 and moved to the\n+  `fees` JSON object in the response. The `-deprecated=fees` configuration\n+  option must be passed for these fields to be included in the top-level\n+  response. This option will only be available until v24.0, after which the",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692023910",
      "id" : 692023910,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjAyMzkxMA==",
      "original_commit_id" : "b409e33c682a37ecd965b6d9dc2cae35ee672b59",
      "original_line" : 72,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 733872021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T11:32:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692023910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692024389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692024389"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could move the comment to the `if IsDeprecatedRPCEnabled`?",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T11:28:31Z",
      "diff_hunk" : "@@ -481,6 +481,7 @@ static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::BOOL, \"unbroadcast\", \"Whether this transaction is currently unbroadcast (initial broadcast not yet acknowledged by any peers)\"},\n };}\n \n+// TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692024389",
      "id" : 692024389,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjAyNDM4OQ==",
      "original_commit_id" : "b409e33c682a37ecd965b6d9dc2cae35ee672b59",
      "original_line" : 484,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 733872021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T11:32:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692024389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692025865"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692025865"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: pep-8\r\n\r\n```suggestion\r\n                assert_equal(mempool[x]['fees']['modified'], mempool[x]['fees']['base'] + satoshi_round(0.00002))\r\n```",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T11:31:03Z",
      "diff_hunk" : "@@ -194,11 +188,9 @@ def run_test(self):\n \n         descendant_fees = 0\n         for x in reversed(chain):\n-            descendant_fees += mempool[x]['fee']\n+            descendant_fees += mempool[x]['fees']['base']\n             if (x == chain[-1]):\n-                assert_equal(mempool[x]['modifiedfee'], mempool[x]['fee']+satoshi_round(0.00002))\n-                assert_equal(mempool[x]['fees']['modified'], mempool[x]['fee']+satoshi_round(0.00002))\n-            assert_equal(mempool[x]['descendantfees'], descendant_fees * COIN + 2000)\n+                assert_equal(mempool[x]['fees']['modified'], mempool[x]['fees']['base']+satoshi_round(0.00002))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692025865",
      "id" : 692025865,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjAyNTg2NQ==",
      "original_commit_id" : "b409e33c682a37ecd965b6d9dc2cae35ee672b59",
      "original_line" : 193,
      "original_position" : 76,
      "original_start_line" : null,
      "path" : "test/functional/mempool_packages.py",
      "position" : null,
      "pull_request_review_id" : 733872021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T11:32:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692025865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks for the review, @MarcoFalke , ive updated based on your suggestions",
      "created_at" : "2021-08-19T11:44:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-901846128",
      "id" : 901846128,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841wRRw",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-19T11:44:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901846128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "created_at" : "2021-08-19T11:46:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-901847673",
      "id" : 901847673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841wRp5",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-19T11:46:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901847673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692053229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692053229"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might be more user-friendly to not alter the field order here so that it is the same as the help. E.g. insert the IsDeprecated... conditional (or cache the result of the call to a local bool variable) before the fields where they already are. (Sorry, I didn't notice this in my previous review.)",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T12:13:43Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692053229",
      "id" : 692053229,
      "line" : 499,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjA1MzIyOQ==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 499,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 35,
      "pull_request_review_id" : 733910274,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T12:16:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692053229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692059690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692059690"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The code will go away soon, so I don't think this gives much benefit.",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T12:23:01Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692059690",
      "id" : 692059690,
      "in_reply_to_id" : 692053229,
      "line" : 499,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjA1OTY5MA==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 499,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 35,
      "pull_request_review_id" : 733918738,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T12:23:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692059690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692091265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692091265"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "i noticed that the current order doesn't match the help (fees object is listed after wtxid but is first in the returned object), so didn't worry about re-arranging fields, but i agree that it can be confusing for the user. \r\n\r\ni think grouping the fields makes it easier to deprecate them later, so maybe a better solution would be to re-arrange the help to match the actual ordering? or just leave it as is per @MarcoFalke 's comment, i dont have a strong opinion either way",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T13:05:45Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692091265",
      "id" : 692091265,
      "in_reply_to_id" : 692053229,
      "line" : 499,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjA5MTI2NQ==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 499,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 35,
      "pull_request_review_id" : 733961528,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T13:05:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692091265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692098417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692098417"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would say, please don't re-arrange the help to make up for something the code can easily do.\r\n\r\nYes, I agree it's not of earth-shattering importance, but I also think it's a more important aspect than in which file to put the deprecation test or which way to check for deprecation. It affects users.",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T13:14:29Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692098417",
      "id" : 692098417,
      "in_reply_to_id" : 692053229,
      "line" : 499,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjA5ODQxNw==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 499,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 35,
      "pull_request_review_id" : 733971374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T13:14:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692098417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692104195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692104195"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I guess it's a question of degree of focus on users\r\n\r\ngood point, @jonatack , i'll update based on your suggestion",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T13:21:18Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692104195",
      "id" : 692104195,
      "in_reply_to_id" : 692053229,
      "line" : 499,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjEwNDE5NQ==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 499,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 35,
      "pull_request_review_id" : 733979267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T13:21:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692104195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692106386"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692106386"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Happy to re-review ASAP if you do (it's not a blocker).",
      "commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "created_at" : "2021-08-19T13:23:50Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692106386",
      "id" : 692106386,
      "in_reply_to_id" : 692053229,
      "line" : 499,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjEwNjM4Ng==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 499,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 35,
      "pull_request_review_id" : 733982328,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T13:23:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692106386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "pushed changes per @jonatack 's suggestion to preserve field order to match rpc help. i also added https://github.com/bitcoin/bitcoin/pull/22689/commits/c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2 to make the fees object also match the help. given the discussion in https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692053229 , this seemed like a good change\r\n\r\ni did it in a separate commit because it is _slightly_ unrelated to deprecating the fields and i can easily drop the commit if people feel its too out of scope.",
      "created_at" : "2021-08-19T13:49:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-901931698",
      "id" : 901931698,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841wmKy",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-19T13:49:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/901931698",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692168235"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692168235"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Mostly wording suggestions, but also I think you should warn users about the fact that the fees are denominated slightly differently when they switch to using the `fees` object.\r\n```suggestion\r\n- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\r\n  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\r\n  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\r\n  are now deprecated and will be removed in the next major version (use\r\n  `-deprecated=fees` if needed in this version). The same values, denominated\r\n  in satoshis, can be accessed through the `fees` object in the result. (#22689)\r\n```",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T14:32:12Z",
      "diff_hunk" : "@@ -63,6 +63,15 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- RPCs `getmempoolentry`, `getrawmempool verbose=true`, `getmempoolancestors\n+  verbose=true` and `getmempooldescendants verbose=true` no longer return the\n+  top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and\n+  `descendantfees`. These fields were deprecated in v0.17 and moved to the\n+  `fees` JSON object in the response. The `-deprecated=fees` configuration\n+  option must be passed for these fields to be included in the top-level\n+  response. This option will only be available in this major version, after\n+  which the fields will be fully removed. Use the `fees` JSON object for these\n+  RPCS instead. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692168235",
      "id" : 692168235,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjE2ODIzNQ==",
      "original_commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : 66,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 734066796,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-19T14:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692168235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692169209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692169209"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Doesn't seem to be an issue here, but for future reference, you might want to put it in a release-notes-22689.md to avoid conflicts with other PRs updating release notes.",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T14:33:24Z",
      "diff_hunk" : "@@ -63,6 +63,15 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- RPCs `getmempoolentry`, `getrawmempool verbose=true`, `getmempoolancestors\n+  verbose=true` and `getmempooldescendants verbose=true` no longer return the\n+  top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and\n+  `descendantfees`. These fields were deprecated in v0.17 and moved to the\n+  `fees` JSON object in the response. The `-deprecated=fees` configuration\n+  option must be passed for these fields to be included in the top-level\n+  response. This option will only be available in this major version, after\n+  which the fields will be fully removed. Use the `fees` JSON object for these\n+  RPCS instead. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692169209",
      "id" : 692169209,
      "in_reply_to_id" : 692168235,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjE2OTIwOQ==",
      "original_commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : 66,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 734066796,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-19T14:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692169209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692176392"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692176392"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think it matters that much :shrug: either way makes sense to me. I'd imagine that the extra overhead of spinning up test frameworks for separate test files overrides the gains from running them in parallel.",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T14:41:16Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692176392",
      "id" : 692176392,
      "in_reply_to_id" : 688385472,
      "line" : 5,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjE3NjM5Mg==",
      "original_commit_id" : "c4646f8c726f5abdaafc6a835ad0dfb607d6c17e",
      "original_line" : 5,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 5,
      "pull_request_review_id" : 734066796,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T14:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692176392",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692209238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692209238"
         }
      },
      "author_association" : "MEMBER",
      "body" : "- brackets per developer-notes.md:\r\n```\r\n  - If an `if` only has a single-statement `then`-clause, it can appear\r\n    on the same line as the `if`, without braces. In every other case,\r\n    braces are required, and the `then` and `else` clauses must appear\r\n    correctly indented on a new line.\r\n```\r\n- `IsDeprecatedRPCEnabled()` loops through a vector to match strings, so maybe invoke it once and store the result\r\n\r\n```diff\r\n@@ -493,7 +493,8 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\r\n     info.pushKV(\"vsize\", (int)e.GetTxSize());\r\n     info.pushKV(\"weight\", (int)e.GetTxWeight());\r\n     // TODO: top-level fee fields are deprecated. IsDeprecatedRPCEnabled(\"fees\") blocks should be removed in v24\r\n-    if (IsDeprecatedRPCEnabled(\"fees\")) {\r\n+    const bool deprecated_fees_enabled{IsDeprecatedRPCEnabled(\"fees\")};\r\n+    if (deprecated_fees_enabled) {\r\n         info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\r\n         info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\r\n     }\r\n@@ -501,12 +502,14 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\r\n     info.pushKV(\"height\", (int)e.GetHeight());\r\n     info.pushKV(\"descendantcount\", e.GetCountWithDescendants());\r\n     info.pushKV(\"descendantsize\", e.GetSizeWithDescendants());\r\n-    if (IsDeprecatedRPCEnabled(\"fees\"))\r\n+    if (deprecated_fees_enabled) {\r\n         info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\r\n+    }\r\n     info.pushKV(\"ancestorcount\", e.GetCountWithAncestors());\r\n     info.pushKV(\"ancestorsize\", e.GetSizeWithAncestors());\r\n-    if (IsDeprecatedRPCEnabled(\"fees\"))\r\n+    if (deprecated_fees_enabled) {\r\n         info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\r\n+    }\r\n```\r\n",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T15:13:24Z",
      "diff_hunk" : "@@ -490,21 +490,25 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"modified\", ValueFromAmount(e.GetModifiedFee()));\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n-    info.pushKV(\"fees\", fees);\n-\n     info.pushKV(\"vsize\", (int)e.GetTxSize());\n     info.pushKV(\"weight\", (int)e.GetTxWeight());\n-    info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n-    info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+    // TODO: top-level fee fields are deprecated. IsDeprecatedRPCEnabled(\"fees\") blocks should be removed in v24\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+    }\n     info.pushKV(\"time\", count_seconds(e.GetTime()));\n     info.pushKV(\"height\", (int)e.GetHeight());\n     info.pushKV(\"descendantcount\", e.GetCountWithDescendants());\n     info.pushKV(\"descendantsize\", e.GetSizeWithDescendants());\n-    info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+    if (IsDeprecatedRPCEnabled(\"fees\"))\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n     info.pushKV(\"ancestorcount\", e.GetCountWithAncestors());\n     info.pushKV(\"ancestorsize\", e.GetSizeWithAncestors());\n-    info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    if (IsDeprecatedRPCEnabled(\"fees\"))\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692209238",
      "id" : 692209238,
      "line" : 511,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjIwOTIzOA==",
      "original_commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "original_line" : 511,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 49,
      "pull_request_review_id" : 734142497,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T15:13:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692209238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692232624"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692232624"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> i noticed that the current order doesn't match the help (fees object is listed after wtxid but is first in the returned object)\r\n\r\nOh, I see now what you meant. Hm, the fees output/help mismatch was done in 7de1de7da49. ISTM we usually place JSON objects after top-level fields? So your change ~seems correct, unless other reviewers think it's better to change the help to be like the output.",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T15:30:24Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692232624",
      "id" : 692232624,
      "in_reply_to_id" : 692053229,
      "line" : 500,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjIzMjYyNA==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 500,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 36,
      "pull_request_review_id" : 734162512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T15:30:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692232624",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692259805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692259805"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> slightly differently when they switch to using the fees object\r\n\r\njust double checking, the update should read \"denominated in BTC,\" correct?",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T15:51:57Z",
      "diff_hunk" : "@@ -63,6 +63,15 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- RPCs `getmempoolentry`, `getrawmempool verbose=true`, `getmempoolancestors\n+  verbose=true` and `getmempooldescendants verbose=true` no longer return the\n+  top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and\n+  `descendantfees`. These fields were deprecated in v0.17 and moved to the\n+  `fees` JSON object in the response. The `-deprecated=fees` configuration\n+  option must be passed for these fields to be included in the top-level\n+  response. This option will only be available in this major version, after\n+  which the fields will be fully removed. Use the `fees` JSON object for these\n+  RPCS instead. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692259805",
      "id" : 692259805,
      "in_reply_to_id" : 692168235,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjI1OTgwNQ==",
      "original_commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : 66,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 734186502,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-19T15:51:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692259805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692267471"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692267471"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> JSON objects after top-level fields\r\n\r\nthat's the convention i'm used to (and much prefer)",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T16:01:35Z",
      "diff_hunk" : "@@ -491,19 +491,21 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n     info.pushKV(\"fees\", fees);\n-\n+    // TODO: top level fee fields are deprecated. this method should be refactored in v24 to completely remove them\n+    if (IsDeprecatedRPCEnabled(\"fees\")) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692267471",
      "id" : 692267471,
      "in_reply_to_id" : 692053229,
      "line" : 500,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjI2NzQ3MQ==",
      "original_commit_id" : "a0a0c7c1c8e41157bb2798ba0d564e78e5217ff9",
      "original_line" : 500,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 36,
      "pull_request_review_id" : 734196963,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T16:01:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692267471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "pushed changes per @jonatack suggestions and @glozow 's recommendation on the release notes. if the release notes need further refinement, i think we can wait until the draft is moved to the wiki. ive made a note for myself to revisit then.\r\n\r\n@glozow , regarding your question on missing tests for `getmempoolancestors` and `getmempooldescendants`: i had started to write tests for these, but since each RPC is calling `entryToJSON` underneath, it didn't seem like there was any added benefit and creating the tests was quite a bit more complicated than the the ones for `getrawmempool` and `getmempoolentry`. as i understand, `rpc_mempool_entry_fee_fields_deprecation.py` will be removed in the in v24 anyways, so i dont see the benefit of writing them, unless others feel strongly that they are needed.\r\n\r\nthanks again for the reviews!",
      "created_at" : "2021-08-19T16:14:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-902045588",
      "id" : 902045588,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841xB-U",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-19T16:14:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/902045588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692305337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692305337"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems no need to mention the units if they aren't changed; didn't verify yet.\n\n\nFeel free to ignore (the help prints the wrong unit as well, I believe)\r\n```suggestion\r\n  in BTC/kvB, can be accessed through the `fees` object in the result. (#22689)\r\n```\r\n",
      "commit_id" : "3b66be2bab60f14b95f73ca830e79a14d54d2ade",
      "created_at" : "2021-08-19T16:36:00Z",
      "diff_hunk" : "@@ -63,6 +63,12 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same values, denominated\n+  in BTC, can be accessed through the `fees` object in the result. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692305337",
      "id" : 692305337,
      "line" : 71,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjMwNTMzNw==",
      "original_commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "original_line" : 71,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 9,
      "pull_request_review_id" : 734231367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T18:02:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692305337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692334296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692334296"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yeah, i think the help is incorrect here. i can open a followup RPC cleanup PR. for starters:\r\n\r\n- address where argument order doesn't match help order in other rpcs\r\n- fix fee vs feerate and other small errors",
      "commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "created_at" : "2021-08-19T17:17:18Z",
      "diff_hunk" : "@@ -63,6 +63,12 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same values, denominated\n+  in BTC, can be accessed through the `fees` object in the result. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r692334296",
      "id" : 692334296,
      "in_reply_to_id" : 692305337,
      "line" : 71,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MjMzNDI5Ng==",
      "original_commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "original_line" : 71,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 9,
      "pull_request_review_id" : 734269297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-19T17:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/692334296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-08-20T16:50:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-902824199",
      "id" : 902824199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58410AEH",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-20T16:50:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/902824199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased to fix conflicts from #22707 \r\n\r\n@MarcoFalke @mjdietzx @jonatack @glozow if everything looks good, a re-ack would be much appreciated! thanks!",
      "created_at" : "2021-08-23T14:14:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-903813278",
      "id" : 903813278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58413xie",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-23T14:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903813278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r694117001"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694117001"
         }
      },
      "author_association" : "MEMBER",
      "body" : "So, `fee` and `modifiedfee` are uniformly in BTC/kvB. OTOH, it looks to me like `ancestorfees` and `descendantfees` are in sat/vB in the deprecated fields and in BTC/kvB in the `fees` object (urgh, we've been moving from BTC/kvB to sat/vB elsewhere).\r\n\r\nIf we mention this in the release notes (and I think it's a good idea as @glozow suggested), it may be best to (a) use the correct units of BTC/kvB and (b) clarify which fields change from sat/vB to BTC/kvB (`ancestorfees` and `descendantfees`) in the release notes.\r\n\r\nFinally, here's a commit in https://github.com/jonatack/bitcoin/commits/pr22689-help-fixups that both fixes and improves the docs for these fields, feel free to use or pull it in here since these lines are already being touched (or later, if you prefer) as the helps could use some...help :)",
      "commit_id" : "3b66be2bab60f14b95f73ca830e79a14d54d2ade",
      "created_at" : "2021-08-23T16:16:26Z",
      "diff_hunk" : "@@ -63,6 +63,12 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same values, denominated\n+  in BTC, can be accessed through the `fees` object in the result. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r694117001",
      "id" : 694117001,
      "in_reply_to_id" : 692305337,
      "line" : 71,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDExNzAwMQ==",
      "original_commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "original_line" : 71,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 9,
      "pull_request_review_id" : 736315680,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-23T16:16:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694117001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonatack thanks for the fix-ups on the field help! i added your suggestions and included you as a co-author in https://github.com/bitcoin/bitcoin/pull/22689/commits/4a6e7b2f0321df876e1d90d06c44325116bf5eec. i also updated the release note docs in https://github.com/bitcoin/bitcoin/pull/22689/commits/61a5b370594b538488dbddc4aadb208c2770d748 to be more clear that `ancestorfees` and `descendantfees` were previously sat/vB and are now `BTC/kvB` in the fees object. ",
      "created_at" : "2021-08-24T10:49:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-904532853",
      "id" : 904532853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58416hN1",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-24T10:49:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904532853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r694877155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694877155"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think the last commit needs to be in this PR, since it's not really related to deprecating the legacy fields.\r\n\r\nIf you do move this down, then it makes sense to also move the preceding lines down so the `fees` code isn't split up:\r\n\r\n```c++\r\n    UniValue fees(UniValue::VOBJ);\r\n    fees.pushKV(\"base\", ValueFromAmount(e.GetFee()));\r\n    fees.pushKV(\"modified\", ValueFromAmount(e.GetModifiedFee()));\r\n    fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\r\n    fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\r\n```",
      "commit_id" : "19b482002f4d44545e31f37ee9f9d42361da4b75",
      "created_at" : "2021-08-24T13:57:41Z",
      "diff_hunk" : "@@ -490,21 +490,28 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"modified\", ValueFromAmount(e.GetModifiedFee()));\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n-    info.pushKV(\"fees\", fees);\n-\n     info.pushKV(\"vsize\", (int)e.GetTxSize());\n     info.pushKV(\"weight\", (int)e.GetTxWeight());\n-    info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n-    info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+    // TODO: top-level fee fields are deprecated. deprecated_fee_fields_enabled blocks should be removed in v24\n+    const bool deprecated_fee_fields_enabled{IsDeprecatedRPCEnabled(\"fees\")};\n+    if (deprecated_fee_fields_enabled) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+    }\n     info.pushKV(\"time\", count_seconds(e.GetTime()));\n     info.pushKV(\"height\", (int)e.GetHeight());\n     info.pushKV(\"descendantcount\", e.GetCountWithDescendants());\n     info.pushKV(\"descendantsize\", e.GetSizeWithDescendants());\n-    info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+    if (deprecated_fee_fields_enabled) {\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+    }\n     info.pushKV(\"ancestorcount\", e.GetCountWithAncestors());\n     info.pushKV(\"ancestorsize\", e.GetSizeWithAncestors());\n-    info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    if (deprecated_fee_fields_enabled) {\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }\n     info.pushKV(\"wtxid\", pool.vTxHashes[e.vTxHashesIdx].first.ToString());\n+    info.pushKV(\"fees\", fees);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r694877155",
      "id" : 694877155,
      "line" : 514,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDg3NzE1NQ==",
      "original_commit_id" : "19b482002f4d44545e31f37ee9f9d42361da4b75",
      "original_line" : 514,
      "original_position" : 63,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 63,
      "pull_request_review_id" : 737262641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-24T13:58:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694877155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks for the review @jnewbery ! i added your suggestion in https://github.com/bitcoin/bitcoin/pull/22689/commits/0dd79b51a3de0cc618704077f71aa591cdc8c01e\r\n\r\nwhile i agree moving the fee object is not directly related to fee field deprecation, my (albeit weak) argument for keeping it in this PR is making sure the descriptions are accurate for the affected RPC's will help avoid confusion on the affected user's part as they are looking at the updated descriptions and returned objects and migrating to the new fee fields.\r\n\r\nthat being said, very easy to pop this commit off and include it in a follow up PR for cleaning up RPC help text discrepancies",
      "created_at" : "2021-08-24T15:19:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-904736280",
      "id" : 904736280,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58417S4Y",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-24T15:19:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904736280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695041587"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695041587"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  fields in the `fees` object are denominated in BTC/kvB (#22689)\r\n```\r\n(`test/lint/lint-spelling.sh` is helpful for catching some spelling errors, but it doesn't appear to check the release notes)\r\n\r\n- perhaps `s/Note:/Warning:` (either it matters enough to warn, or \"note\" is unneeded)\r\n\r\n- also, add a blank line between \"Updated RPCs\" and your entry\r\n",
      "commit_id" : "0dd79b51a3de0cc618704077f71aa591cdc8c01e",
      "created_at" : "2021-08-24T17:06:04Z",
      "diff_hunk" : "@@ -63,6 +63,14 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same fee rates, all denominated\n+  in BTC/kvB, can be accessed through the `fees` object in the result. Note: deprecated\n+  fields `ancestorfees` and `descendantfees` are denominated in sat/vB, whereas all\n+  fields in the `fees` object are denomainted in BTC/kvB (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695041587",
      "id" : 695041587,
      "line" : 73,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTA0MTU4Nw==",
      "original_commit_id" : "0dd79b51a3de0cc618704077f71aa591cdc8c01e",
      "original_line" : 73,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 11,
      "pull_request_review_id" : 737479892,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-24T17:16:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695041587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695150301"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695150301"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "oof, good catch. i need to enable spell-check for vim :roll_eyes: ",
      "commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "created_at" : "2021-08-24T19:43:27Z",
      "diff_hunk" : "@@ -63,6 +63,14 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same fee rates, all denominated\n+  in BTC/kvB, can be accessed through the `fees` object in the result. Note: deprecated\n+  fields `ancestorfees` and `descendantfees` are denominated in sat/vB, whereas all\n+  fields in the `fees` object are denomainted in BTC/kvB (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695150301",
      "id" : 695150301,
      "in_reply_to_id" : 695041587,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTE1MDMwMQ==",
      "original_commit_id" : "0dd79b51a3de0cc618704077f71aa591cdc8c01e",
      "original_line" : 73,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 737619791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-24T19:43:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695150301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "force pushed update to release notes fixing wording and a spelling error",
      "created_at" : "2021-08-24T19:44:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-904924580",
      "id" : 904924580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58418A2k",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-24T19:44:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904924580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695624938"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695624938"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yes, BTC, sorry",
      "commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "created_at" : "2021-08-25T10:39:57Z",
      "diff_hunk" : "@@ -63,6 +63,15 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- RPCs `getmempoolentry`, `getrawmempool verbose=true`, `getmempoolancestors\n+  verbose=true` and `getmempooldescendants verbose=true` no longer return the\n+  top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and\n+  `descendantfees`. These fields were deprecated in v0.17 and moved to the\n+  `fees` JSON object in the response. The `-deprecated=fees` configuration\n+  option must be passed for these fields to be included in the top-level\n+  response. This option will only be available in this major version, after\n+  which the fields will be fully removed. Use the `fees` JSON object for these\n+  RPCS instead. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695624938",
      "id" : 695624938,
      "in_reply_to_id" : 692168235,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTYyNDkzOA==",
      "original_commit_id" : "c1a8a35e89d5b3c889d64562c2e5f042c16a4ae2",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : 66,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 738186457,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-25T10:39:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695624938",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695632844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695632844"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`CTxMemPoolEntry.GetModifiedFee()`, `CTxMemPoolEntry.GetFee()`, `CTxMemPoolEntry.GetModFeesWithAncestors()`, `CTxMemPoolEntry.GetModFeesWithDescendants()` return `CAmount`s. See their [declarations](https://github.com/bitcoin/bitcoin/blob/3755dea3c502f32048b110a4868daefe9dbe3cc1/src/txmempool.h#L125-L154) in txmempool.h.\r\n\r\nWe aren't dividing these fee amounts by sizes, just pushing them directly into the result object in `entryToJSON`.",
      "commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "created_at" : "2021-08-25T10:51:42Z",
      "diff_hunk" : "@@ -455,23 +455,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM_TIME, \"time\", \"local time transaction entered pool in seconds since 1 Jan 1970 GMT\"},\n     RPCResult{RPCResult::Type::NUM, \"height\", \"block height when transaction entered pool\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantcount\", \"number of in-mempool descendant transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantsize\", \"virtual transaction size of in-mempool descendants (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"modified fees (see above) of in-mempool descendants (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorcount\", \"number of in-mempool ancestor transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorsize\", \"virtual transaction size of in-mempool ancestors (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"modified fees (see above) of in-mempool ancestors (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::STR_HEX, \"wtxid\", \"hash of serialized transaction, including witness data\"},\n     RPCResult{RPCResult::Type::OBJ, \"fees\", \"\",\n         {\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"transaction fee with fee deltas used for mining priority in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"modified fees (see above) of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"modified fees (see above) of in-mempool descendants (including this one) in \" + CURRENCY_UNIT},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695632844",
      "id" : 695632844,
      "line" : 474,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTYzMjg0NA==",
      "original_commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "original_line" : 474,
      "original_position" : 28,
      "original_start_line" : 458,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 28,
      "pull_request_review_id" : 738196494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : 458,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-25T10:58:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695632844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695637160"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695637160"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n  `-deprecated=fees` if needed in this version). The same fee, all denominated\r\n  in BTC, can be accessed through the `fees` object in the result. Warning: deprecated\r\n```",
      "commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "created_at" : "2021-08-25T10:57:47Z",
      "diff_hunk" : "@@ -64,6 +64,15 @@ P2P and network changes\n Updated RPCs\n ------------\n \n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same fee rates, all denominated\n+  in BTC/kvB, can be accessed through the `fees` object in the result. Warning: deprecated",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695637160",
      "id" : 695637160,
      "line" : 72,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTYzNzE2MA==",
      "original_commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "original_line" : 72,
      "original_position" : 9,
      "original_start_line" : 71,
      "path" : "doc/release-notes.md",
      "position" : 9,
      "pull_request_review_id" : 738196494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : 71,
      "start_side" : "RIGHT",
      "updated_at" : "2021-08-25T10:58:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695637160",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695638405"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695638405"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Note that the units for ancestor and descendant fees are different - they were in satoshis and are now in BTC",
      "commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "created_at" : "2021-08-25T10:59:41Z",
      "diff_hunk" : "@@ -63,6 +63,12 @@ P2P and network changes\n \n Updated RPCs\n ------------\n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same values, denominated\n+  in BTC, can be accessed through the `fees` object in the result. (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695638405",
      "id" : 695638405,
      "in_reply_to_id" : 692305337,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTYzODQwNQ==",
      "original_commit_id" : "30563b4bf32b24a25a2f40d2e48e5d64cc79f5c2",
      "original_line" : 71,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 738203711,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-25T10:59:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695638405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695866211"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695866211"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Interesting. In `CTxMemPool::PrioritiseTransaction()`, is `TxMempoolInfo::nFeeDelta` incorrectly described as a fee rate? In BIP22 it's described as a fee. \r\n```cpp\r\nLogPrintf(\"PrioritiseTransaction: %s feerate += %s\\n\", hash.ToString(), FormatMoney(nFeeDelta));\r\n```\r\n",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-08-25T15:26:49Z",
      "diff_hunk" : "@@ -455,23 +455,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM_TIME, \"time\", \"local time transaction entered pool in seconds since 1 Jan 1970 GMT\"},\n     RPCResult{RPCResult::Type::NUM, \"height\", \"block height when transaction entered pool\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantcount\", \"number of in-mempool descendant transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantsize\", \"virtual transaction size of in-mempool descendants (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"modified fees (see above) of in-mempool descendants (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorcount\", \"number of in-mempool ancestor transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorsize\", \"virtual transaction size of in-mempool ancestors (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"modified fees (see above) of in-mempool ancestors (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::STR_HEX, \"wtxid\", \"hash of serialized transaction, including witness data\"},\n     RPCResult{RPCResult::Type::OBJ, \"fees\", \"\",\n         {\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"transaction fee with fee deltas used for mining priority in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"modified fees (see above) of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"modified fees (see above) of in-mempool descendants (including this one) in \" + CURRENCY_UNIT},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695866211",
      "id" : 695866211,
      "in_reply_to_id" : 695632844,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTg2NjIxMQ==",
      "original_commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "original_line" : 474,
      "original_position" : 28,
      "original_start_line" : 458,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 738505541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-25T15:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695866211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695888713"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695888713"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "you are correct! my apologies, i should have double-checked the declarations before making the change :grimacing: ",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-08-25T15:52:10Z",
      "diff_hunk" : "@@ -455,23 +455,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM_TIME, \"time\", \"local time transaction entered pool in seconds since 1 Jan 1970 GMT\"},\n     RPCResult{RPCResult::Type::NUM, \"height\", \"block height when transaction entered pool\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantcount\", \"number of in-mempool descendant transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantsize\", \"virtual transaction size of in-mempool descendants (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"modified fees (see above) of in-mempool descendants (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorcount\", \"number of in-mempool ancestor transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorsize\", \"virtual transaction size of in-mempool ancestors (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"modified fees (see above) of in-mempool ancestors (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::STR_HEX, \"wtxid\", \"hash of serialized transaction, including witness data\"},\n     RPCResult{RPCResult::Type::OBJ, \"fees\", \"\",\n         {\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"transaction fee with fee deltas used for mining priority in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"modified fees (see above) of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"modified fees (see above) of in-mempool descendants (including this one) in \" + CURRENCY_UNIT},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r695888713",
      "id" : 695888713,
      "in_reply_to_id" : 695632844,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTg4ODcxMw==",
      "original_commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "original_line" : 474,
      "original_position" : 28,
      "original_start_line" : 458,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 738535267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-25T15:52:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695888713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "as @glozow pointed out, all fee fields returned by `entryToJSON` are absolute amounts (not fee rates). ive update the rpc help and release notes to reflect this (thanks @glozow , sorry for the churn on this).\r\n\r\nalso kept the wording changes from @jonatack as i think they really improve the readability of the help and i added in the units for each of the fields so it's more obvious that we are changing `ancestorfees` and `descendantfees` from sats to BTC",
      "created_at" : "2021-08-25T15:56:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-905648712",
      "id" : 905648712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5841-xpI",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-25T15:56:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905648712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r696717013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696717013"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jonatack Yes, that log is incorrect.\r\n\r\nFor historic context, it was added here: https://github.com/bitcoin/bitcoin/commit/f9b9371c6027905f73a2558d6bcaca8a355c28a6#diff-c065d4cd2398ad0dbcef393c5dfc53f465bf44723348892395fffd2fb3bac522R932. I expect the author intended to update a different log which says fee but prints feerate: https://github.com/bitcoin/bitcoin/pull/9602#discussion_r103486800.",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-08-26T15:00:22Z",
      "diff_hunk" : "@@ -455,23 +455,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM_TIME, \"time\", \"local time transaction entered pool in seconds since 1 Jan 1970 GMT\"},\n     RPCResult{RPCResult::Type::NUM, \"height\", \"block height when transaction entered pool\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantcount\", \"number of in-mempool descendant transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantsize\", \"virtual transaction size of in-mempool descendants (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"modified fees (see above) of in-mempool descendants (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorcount\", \"number of in-mempool ancestor transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorsize\", \"virtual transaction size of in-mempool ancestors (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"modified fees (see above) of in-mempool ancestors (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::STR_HEX, \"wtxid\", \"hash of serialized transaction, including witness data\"},\n     RPCResult{RPCResult::Type::OBJ, \"fees\", \"\",\n         {\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"transaction fee with fee deltas used for mining priority in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"modified fees (see above) of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"modified fees (see above) of in-mempool descendants (including this one) in \" + CURRENCY_UNIT},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r696717013",
      "id" : 696717013,
      "in_reply_to_id" : 695632844,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NjcxNzAxMw==",
      "original_commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "original_line" : 474,
      "original_position" : 28,
      "original_start_line" : 458,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 739593358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-26T15:00:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696717013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r696737617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696737617"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jnewbery thanks for the context and history! :heart_eyes: ",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-08-26T15:23:10Z",
      "diff_hunk" : "@@ -455,23 +455,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM_TIME, \"time\", \"local time transaction entered pool in seconds since 1 Jan 1970 GMT\"},\n     RPCResult{RPCResult::Type::NUM, \"height\", \"block height when transaction entered pool\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantcount\", \"number of in-mempool descendant transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantsize\", \"virtual transaction size of in-mempool descendants (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"modified fees (see above) of in-mempool descendants (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorcount\", \"number of in-mempool ancestor transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorsize\", \"virtual transaction size of in-mempool ancestors (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"modified fees (see above) of in-mempool ancestors (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_ATOM + \"/vB with fee rate deltas used for mining priority (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::STR_HEX, \"wtxid\", \"hash of serialized transaction, including witness data\"},\n     RPCResult{RPCResult::Type::OBJ, \"fees\", \"\",\n         {\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"transaction fee with fee deltas used for mining priority in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"modified fees (see above) of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT},\n-            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"modified fees (see above) of in-mempool descendants (including this one) in \" + CURRENCY_UNIT},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"base\", \"transaction fee rate in \" + CURRENCY_UNIT + \"/kvB\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"modified\", \"modified fee rate in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestor\", \"transaction fee rate of in-mempool ancestors (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},\n+            RPCResult{RPCResult::Type::STR_AMOUNT, \"descendant\", \"transaction fee rate of in-mempool descendants (including this one) in \" + CURRENCY_UNIT + \"/kvB with fee rate deltas used for mining priority\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r696737617",
      "id" : 696737617,
      "in_reply_to_id" : 695632844,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NjczNzYxNw==",
      "original_commit_id" : "a7ef2cbc466c40d726b7894c9cc4cc9fafe5c82b",
      "original_line" : 474,
      "original_position" : 28,
      "original_start_line" : 458,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 739621250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2021-08-26T15:23:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/696737617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r700110397"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700110397"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit in e2cada0ce5: these newlines are unnecessary\r\n```suggestion\r\n    def test_getmempoolentry(self, txid, deprecated_fields):\r\n        self.log.info(\"Test getmempoolentry rpc\")\r\n        entry = self.nodes[0].getmempoolentry(txid)\r\n        deprecated_entry = self.nodes[1].getmempoolentry(txid)\r\n        assertions_helper(entry, deprecated_entry, deprecated_fields)\r\n\r\n    def test_getrawmempool(self, txid, deprecated_fields):\r\n        self.log.info(\"Test getrawmempool rpc\")\r\n        entry = self.nodes[0].getrawmempool(verbose=True)[txid]\r\n        deprecated_entry = self.nodes[1].getrawmempool(verbose=True)[txid]\r\n        assertions_helper(entry, deprecated_entry, deprecated_fields)\r\n\r\n    def test_deprecated_fields_match(self, txid):\r\n```",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-09-01T11:07:00Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.scan_blocks(start=76, num=1)\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)\n+\n+        deprecated_fields = [\"ancestorfees\", \"descendantfees\", \"modifiedfee\", \"fee\"]\n+        self.test_getmempoolentry(txid, deprecated_fields)\n+        self.test_getrawmempool(txid, deprecated_fields)\n+        self.test_deprecated_fields_match(txid)\n+\n+    def test_getmempoolentry(self, txid, deprecated_fields):\n+\n+        self.log.info(\"Test getmempoolentry rpc\")\n+        entry = self.nodes[0].getmempoolentry(txid)\n+        deprecated_entry = self.nodes[1].getmempoolentry(txid)\n+        assertions_helper(entry, deprecated_entry, deprecated_fields)\n+\n+    def test_getrawmempool(self, txid, deprecated_fields):\n+\n+        self.log.info(\"Test getrawmempool rpc\")\n+        entry = self.nodes[0].getrawmempool(verbose=True)[txid]\n+        deprecated_entry = self.nodes[1].getrawmempool(verbose=True)[txid]\n+        assertions_helper(entry, deprecated_entry, deprecated_fields)\n+\n+    def test_deprecated_fields_match(self, txid):\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r700110397",
      "id" : 700110397,
      "line" : 55,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMDExMDM5Nw==",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 55,
      "original_position" : 55,
      "original_start_line" : 40,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 55,
      "pull_request_review_id" : 743786337,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : 40,
      "start_side" : "RIGHT",
      "updated_at" : "2021-09-01T11:23:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/700110397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701043565"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701043565"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  fields in the `fees` object are denominated in BTC. (#22689)\r\n```",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-09-02T12:41:55Z",
      "diff_hunk" : "@@ -64,6 +64,15 @@ P2P and network changes\n Updated RPCs\n ------------\n \n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same fee fields can be accessed\n+  through the `fees` object in the result. WARNING: deprecated\n+  fields `ancestorfees` and `descendantfees` are denominated in sats, whereas all\n+  fields in the `fees` object are denominated in BTC (#22689)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701043565",
      "id" : 701043565,
      "line" : 74,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTA0MzU2NQ==",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 74,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 11,
      "pull_request_review_id" : 745007657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-02T13:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701043565",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701044097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701044097"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, can omit\r\n```suggestion\r\n  are deprecated and will be removed in the next major version (use\r\n```",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-09-02T12:42:33Z",
      "diff_hunk" : "@@ -64,6 +64,15 @@ P2P and network changes\n Updated RPCs\n ------------\n \n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701044097",
      "id" : 701044097,
      "line" : 70,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTA0NDA5Nw==",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 70,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 7,
      "pull_request_review_id" : 745007657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-02T13:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701044097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701044379"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701044379"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  the `-deprecated=fees` configuration option if needed in this version). The same fee fields can be accessed\r\n```",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-09-02T12:42:57Z",
      "diff_hunk" : "@@ -64,6 +64,15 @@ P2P and network changes\n Updated RPCs\n ------------\n \n+- The top-level fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees`\n+  returned by RPCs `getmempoolentry`,`getrawmempool(verbose=true)`,\n+  `getmempoolancestors(verbose=true)` and `getmempooldescendants(verbose=true)`\n+  are now deprecated and will be removed in the next major version (use\n+  `-deprecated=fees` if needed in this version). The same fee fields can be accessed",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701044379",
      "id" : 701044379,
      "line" : 71,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTA0NDM3OQ==",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 71,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 8,
      "pull_request_review_id" : 745007657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-02T13:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701044379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701069546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701069546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "only if you retouch, here and line 464\r\n```suggestion\r\n    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fees of in-mempool ancestors (including this one) with fee deltas used for mining priority, denominated in satoshis (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\r\n```",
      "commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "created_at" : "2021-09-02T13:13:30Z",
      "diff_hunk" : "@@ -455,23 +455,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee, denominated in \" + CURRENCY_UNIT + \" (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority, denominated in \" + CURRENCY_UNIT + \" (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM_TIME, \"time\", \"local time transaction entered pool in seconds since 1 Jan 1970 GMT\"},\n     RPCResult{RPCResult::Type::NUM, \"height\", \"block height when transaction entered pool\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantcount\", \"number of in-mempool descendant transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"descendantsize\", \"virtual transaction size of in-mempool descendants (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"modified fees (see above) of in-mempool descendants (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"descendantfees\", \"transaction fees of in-mempool descendants (including this one) with fee deltas used for mining priority, denominated in \" + CURRENCY_ATOM + \"s (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorcount\", \"number of in-mempool ancestor transactions (including this one)\"},\n     RPCResult{RPCResult::Type::NUM, \"ancestorsize\", \"virtual transaction size of in-mempool ancestors (including this one)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"modified fees (see above) of in-mempool ancestors (including this one) (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"ancestorfees\", \"transaction fees of in-mempool ancestors (including this one) with fee deltas used for mining priority, denominated in \" + CURRENCY_ATOM + \"s (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r701069546",
      "id" : 701069546,
      "line" : 467,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMTA2OTU0Ng==",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 467,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 17,
      "pull_request_review_id" : 745007657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-02T13:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/701069546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-09-20T17:58:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-923150877",
      "id" : 923150877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5843Biod",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-20T17:58:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923150877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased and force pushed. the rebase changes can be checked with `git range-diff 4792072...61af49c`\r\n\r\nalso removed the extra newlines from the newly added functional test as suggested by @glozow and included the two wording changes from @jonatack in `doc/release-notes.md` as part of the rebase",
      "created_at" : "2021-10-28T15:43:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-953970721",
      "id" : 953970721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58443HAh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/953970721/reactions"
      },
      "updated_at" : "2021-10-28T15:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/953970721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r738528408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/738528408"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : ":+1: ",
      "commit_id" : "61af49cf211f63ebf18b842479efa089c26d3de2",
      "created_at" : "2021-10-28T15:48:46Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.scan_blocks(start=76, num=1)\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)\n+\n+        deprecated_fields = [\"ancestorfees\", \"descendantfees\", \"modifiedfee\", \"fee\"]\n+        self.test_getmempoolentry(txid, deprecated_fields)\n+        self.test_getrawmempool(txid, deprecated_fields)\n+        self.test_deprecated_fields_match(txid)\n+\n+    def test_getmempoolentry(self, txid, deprecated_fields):\n+\n+        self.log.info(\"Test getmempoolentry rpc\")\n+        entry = self.nodes[0].getmempoolentry(txid)\n+        deprecated_entry = self.nodes[1].getmempoolentry(txid)\n+        assertions_helper(entry, deprecated_entry, deprecated_fields)\n+\n+    def test_getrawmempool(self, txid, deprecated_fields):\n+\n+        self.log.info(\"Test getrawmempool rpc\")\n+        entry = self.nodes[0].getrawmempool(verbose=True)[txid]\n+        deprecated_entry = self.nodes[1].getrawmempool(verbose=True)[txid]\n+        assertions_helper(entry, deprecated_entry, deprecated_fields)\n+\n+    def test_deprecated_fields_match(self, txid):\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r738528408",
      "id" : 738528408,
      "in_reply_to_id" : 700110397,
      "line" : 55,
      "node_id" : "PRRC_kwDOABII584sBQyY",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 55,
      "original_position" : 55,
      "original_start_line" : 40,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 55,
      "pull_request_review_id" : 792062117,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/738528408/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 40,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-28T15:48:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/738528408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "looking at ci failures, not immediately clear to me what's happening - will take a look tomorrow",
      "created_at" : "2021-10-28T15:55:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-953980182",
      "id" : 953980182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58443JUW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/953980182/reactions"
      },
      "updated_at" : "2021-10-28T15:55:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/953980182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r739096927"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739096927"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "CI issue is here, silent merge conflict with #23017. `scan_blocks` was removed in fa7e3f1fc114056967963a4ad4863a56e406c57e",
      "commit_id" : "61af49cf211f63ebf18b842479efa089c26d3de2",
      "created_at" : "2021-10-29T09:53:13Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.scan_blocks(start=76, num=1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r739096927",
      "id" : 739096927,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII584sDblf",
      "original_commit_id" : "61af49cf211f63ebf18b842479efa089c26d3de2",
      "original_line" : 28,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 28,
      "pull_request_review_id" : 792846776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739096927/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-29T09:53:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739096927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r739272115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739272115"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks! forgot to run the new test locally :man_facepalming: ",
      "commit_id" : "285cb3dc3950e5d34ec0c334ef54332a2f81709b",
      "created_at" : "2021-10-29T14:15:43Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.scan_blocks(start=76, num=1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r739272115",
      "id" : 739272115,
      "in_reply_to_id" : 739096927,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sEGWz",
      "original_commit_id" : "61af49cf211f63ebf18b842479efa089c26d3de2",
      "original_line" : 28,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : null,
      "pull_request_review_id" : 793092814,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739272115/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-29T14:15:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/739272115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "one-line change to fix the newly added test (`git range-diff 61af49c...285cb3d`)",
      "created_at" : "2021-10-29T14:22:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-954785832",
      "id" : 954785832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII58446OAo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/954785832/reactions"
      },
      "updated_at" : "2021-10-29T14:22:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/954785832",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740125647"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740125647"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: add a blank line after `info.pushKV(\"fees\", fees);` since these 6 lines form a logical block.",
      "commit_id" : "7330beb39179877e475d4946cf6613b30ce9e795",
      "created_at" : "2021-11-01T10:57:38Z",
      "diff_hunk" : "@@ -490,21 +490,28 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     fees.pushKV(\"modified\", ValueFromAmount(e.GetModifiedFee()));\n     fees.pushKV(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors()));\n     fees.pushKV(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants()));\n-    info.pushKV(\"fees\", fees);\n-\n     info.pushKV(\"vsize\", (int)e.GetTxSize());\n     info.pushKV(\"weight\", (int)e.GetTxWeight());\n-    info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n-    info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+    // TODO: top-level fee fields are deprecated. deprecated_fee_fields_enabled blocks should be removed in v24\n+    const bool deprecated_fee_fields_enabled{IsDeprecatedRPCEnabled(\"fees\")};\n+    if (deprecated_fee_fields_enabled) {\n+        info.pushKV(\"fee\", ValueFromAmount(e.GetFee()));\n+        info.pushKV(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee()));\n+    }\n     info.pushKV(\"time\", count_seconds(e.GetTime()));\n     info.pushKV(\"height\", (int)e.GetHeight());\n     info.pushKV(\"descendantcount\", e.GetCountWithDescendants());\n     info.pushKV(\"descendantsize\", e.GetSizeWithDescendants());\n-    info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+    if (deprecated_fee_fields_enabled) {\n+        info.pushKV(\"descendantfees\", e.GetModFeesWithDescendants());\n+    }\n     info.pushKV(\"ancestorcount\", e.GetCountWithAncestors());\n     info.pushKV(\"ancestorsize\", e.GetSizeWithAncestors());\n-    info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    if (deprecated_fee_fields_enabled) {\n+        info.pushKV(\"ancestorfees\", e.GetModFeesWithAncestors());\n+    }\n     info.pushKV(\"wtxid\", pool.vTxHashes[e.vTxHashesIdx].first.ToString());\n+    info.pushKV(\"fees\", fees);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740125647",
      "id" : 740125647,
      "in_reply_to_id" : 694877155,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII584sHWvP",
      "original_commit_id" : "19b482002f4d44545e31f37ee9f9d42361da4b75",
      "original_line" : 515,
      "original_position" : 63,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 74,
      "pull_request_review_id" : 794088135,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740125647/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-01T11:00:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740125647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The set of changes look fine, but there a couple of issues with commits:\r\n> \r\n>     * The mempool_packages.py fails after the first commit since you remove the `COIN` import (and then add it back in the second commit). I think you just need to squash the changes to mempool_packages.py in the second commit into the first commit.\r\n> \r\n>     * Can you fixup the commit logs with standard punctuation/capitalization, backticks to indicate code, full filenames, etc.\r\n\r\nthanks for taking a look at this again, @jnewbery ! looks like i added back the `COIN` import as part of the rebase but added it to the wrong commit. fixed now. also cleaned up the commit messages and added the newline per your suggestion.\r\n\r\n`git range-diff 285cb3d...7330beb`",
      "created_at" : "2021-11-01T12:26:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-956191610",
      "id" : 956191610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5844_lN6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956191610/reactions"
      },
      "updated_at" : "2021-11-01T12:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956191610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740317278"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740317278"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This sync can take several seconds since bitcoind will add some random delay on transaction relay to improve privacy. Since testing tx relay isn't the point of this test, you could make the test run reliably faster by submitting the transaction directly to node 1 with the `sendrawtransaction` RPC.",
      "commit_id" : "7330beb39179877e475d4946cf6613b30ce9e795",
      "created_at" : "2021-11-01T15:46:17Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.rescan_utxos()\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740317278",
      "id" : 740317278,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII584sIFhe",
      "original_commit_id" : "7330beb39179877e475d4946cf6613b30ce9e795",
      "original_line" : 33,
      "original_position" : 33,
      "original_start_line" : 30,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 33,
      "pull_request_review_id" : 794359106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740317278/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 30,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-01T15:46:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740317278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740844170"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740844170"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks for the tip! i did notice the new test was taking longer than i expected. fixed!",
      "commit_id" : "2f9515f37addabde84c79926d7a24b2897a21dd1",
      "created_at" : "2021-11-02T09:08:12Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.rescan_utxos()\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740844170",
      "id" : 740844170,
      "in_reply_to_id" : 740317278,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sKGKK",
      "original_commit_id" : "7330beb39179877e475d4946cf6613b30ce9e795",
      "original_line" : 33,
      "original_position" : 33,
      "original_start_line" : 30,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : null,
      "pull_request_review_id" : 795044855,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740844170/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-02T09:08:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740844170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740845817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740845817"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "change since your last ACK: `git range-diff  7330beb...2f9515f`",
      "commit_id" : "2f9515f37addabde84c79926d7a24b2897a21dd1",
      "created_at" : "2021-11-02T09:10:14Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.rescan_utxos()\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740845817",
      "id" : 740845817,
      "in_reply_to_id" : 740317278,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sKGj5",
      "original_commit_id" : "7330beb39179877e475d4946cf6613b30ce9e795",
      "original_line" : 33,
      "original_position" : 33,
      "original_start_line" : 30,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : null,
      "pull_request_review_id" : 795047034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740845817/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-02T09:10:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740845817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740930133"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740930133"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment above is now inaccurate: \"we create the tx on the first node and wait until it syncs to node_deprecated thus, any differences must be coming from getmempoolentry or getrawmempool\" :eyes: ",
      "commit_id" : "2f9515f37addabde84c79926d7a24b2897a21dd1",
      "created_at" : "2021-11-02T10:39:04Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.rescan_utxos()\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740930133",
      "id" : 740930133,
      "in_reply_to_id" : 740317278,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sKbJV",
      "original_commit_id" : "7330beb39179877e475d4946cf6613b30ce9e795",
      "original_line" : 33,
      "original_position" : 33,
      "original_start_line" : 30,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : null,
      "pull_request_review_id" : 795156513,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740930133/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-02T10:39:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740930133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK 2f9515f37addabde84c79926d7a24b2897a21dd1\r\n\r\nOne minor comment above: https://github.com/bitcoin/bitcoin/pull/22689#discussion_r740930133. No need to resolve that unless you need to push again for some other reason.",
      "created_at" : "2021-11-02T10:45:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#issuecomment-957323494",
      "id" : 957323494,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22689",
      "node_id" : "IC_kwDOABII5845D5jm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/957323494/reactions"
      },
      "updated_at" : "2021-11-02T10:45:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/957323494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r763898751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/763898751"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "newlines still there?",
      "commit_id" : "2f9515f37addabde84c79926d7a24b2897a21dd1",
      "created_at" : "2021-12-07T11:27:27Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of fee fields from top level mempool entry object\"\"\"\n+\n+from test_framework.blocktools import COIN\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+from test_framework.wallet import MiniWallet\n+\n+\n+def assertions_helper(new_object, deprecated_object, deprecated_fields):\n+    for field in deprecated_fields:\n+        assert field in deprecated_object\n+        assert field not in new_object\n+\n+\n+class MempoolFeeFieldsDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=fees\"]]\n+\n+    def run_test(self):\n+        # we get spendable outputs from the premined chain starting\n+        # at block 76. see BitcoinTestFramework._initialize_chain() for details\n+        self.wallet = MiniWallet(self.nodes[0])\n+        self.wallet.scan_blocks(start=76, num=1)\n+\n+        # we create the tx on the first node and wait until it syncs to node_deprecated\n+        # thus, any differences must be coming from getmempoolentry or getrawmempool\n+        txid = self.wallet.send_self_transfer(from_node=self.nodes[0])[\"txid\"]\n+        self.sync_mempools(nodes=self.nodes)\n+\n+        deprecated_fields = [\"ancestorfees\", \"descendantfees\", \"modifiedfee\", \"fee\"]\n+        self.test_getmempoolentry(txid, deprecated_fields)\n+        self.test_getrawmempool(txid, deprecated_fields)\n+        self.test_deprecated_fields_match(txid)\n+\n+    def test_getmempoolentry(self, txid, deprecated_fields):\n+\n+        self.log.info(\"Test getmempoolentry rpc\")\n+        entry = self.nodes[0].getmempoolentry(txid)\n+        deprecated_entry = self.nodes[1].getmempoolentry(txid)\n+        assertions_helper(entry, deprecated_entry, deprecated_fields)\n+\n+    def test_getrawmempool(self, txid, deprecated_fields):\n+\n+        self.log.info(\"Test getrawmempool rpc\")\n+        entry = self.nodes[0].getrawmempool(verbose=True)[txid]\n+        deprecated_entry = self.nodes[1].getrawmempool(verbose=True)[txid]\n+        assertions_helper(entry, deprecated_entry, deprecated_fields)\n+\n+    def test_deprecated_fields_match(self, txid):\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r763898751",
      "id" : 763898751,
      "in_reply_to_id" : 700110397,
      "line" : 55,
      "node_id" : "PRRC_kwDOABII584tiCt_",
      "original_commit_id" : "4792072c50af1d3cefa0899fb914f9306ee3a57c",
      "original_line" : 55,
      "original_position" : 55,
      "original_start_line" : 40,
      "path" : "test/functional/rpc_mempool_entry_fee_fields_deprecation.py",
      "position" : 55,
      "pull_request_review_id" : 825146888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/763898751/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 40,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-07T11:29:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/763898751",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r764067311"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/764067311"
         }
      },
      "author_association" : "MEMBER",
      "body" : "missing optional. see https://github.com/bitcoin/bitcoin/pull/23694",
      "commit_id" : "2f9515f37addabde84c79926d7a24b2897a21dd1",
      "created_at" : "2021-12-07T14:48:28Z",
      "diff_hunk" : "@@ -462,23 +462,23 @@ static RPCHelpMan getdifficulty()\n static std::vector<RPCResult> MempoolEntryDescription() { return {\n     RPCResult{RPCResult::Type::NUM, \"vsize\", \"virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\"},\n     RPCResult{RPCResult::Type::NUM, \"weight\", \"transaction weight as defined in BIP 141.\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee in \" + CURRENCY_UNIT + \" (DEPRECATED)\"},\n-    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority (DEPRECATED)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"fee\", \"transaction fee, denominated in \" + CURRENCY_UNIT + \" (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},\n+    RPCResult{RPCResult::Type::STR_AMOUNT, \"modifiedfee\", \"transaction fee with fee deltas used for mining priority, denominated in \" + CURRENCY_UNIT + \" (DEPRECATED, returned only if config option -deprecatedrpc=fees is passed)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22689#discussion_r764067311",
      "id" : 764067311,
      "line" : 466,
      "node_id" : "PRRC_kwDOABII584tir3v",
      "original_commit_id" : "2f9515f37addabde84c79926d7a24b2897a21dd1",
      "original_line" : 466,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 7,
      "pull_request_review_id" : 825380458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22689",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/764067311/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-07T14:48:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/764067311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
