[
   {
      "author_association" : "MEMBER",
      "body" : "Opened a draft at #22648 and will look into addressing your comments.",
      "created_at" : "2021-08-06T09:51:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894145335",
      "id" : 894145335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841S5M3",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T09:51:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894145335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This looks like a bug or at least some serious violation of the [Principle of least astonishment](https://en.wikipedia.org/wiki/Principle_of_least_astonishment).\r\n\r\nI wonder how did `bitcoind` find the Tor socks5 proxy if none of `-proxy` or `-onion` is specified? Can you post the full `debug.log` and the output of `bitcoin-cli getnetworkinfo`. I could not reproduce it.",
      "created_at" : "2021-08-06T13:18:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894254967",
      "id" : 894254967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841TT93",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T13:18:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894254967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "debug.log. The last line was the first outbound connection, which was of type Onion.\r\n```\r\n2021-08-06T13:27:10Z Bitcoin Core version v22.0.0-g873fbc745d037ad43570f81e58334c397bc95477 (release build)\r\n2021-08-06T13:27:10Z Qt 5.12.11 (static), plugin=xcb (static)\r\n2021-08-06T13:27:10Z Static plugins:\r\n2021-08-06T13:27:10Z  QXcbIntegrationPlugin, version 330752\r\n2021-08-06T13:27:10Z Style: fusion / QFusionStyle\r\n2021-08-06T13:27:10Z System: Debian GNU/Linux 10 (buster), x86_64-little_endian-lp64\r\n2021-08-06T13:27:10Z Screen: Virtual-1 1600x900, pixel ratio=1.0\r\n2021-08-06T13:27:10Z Assuming ancestors of block 00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad have valid signatures.\r\n2021-08-06T13:27:10Z Setting nMinimumChainWork=00000000000000000000000000000000000000001fa4663bbbe19f82de910280\r\n2021-08-06T13:27:10Z Using the 'sse4(1way),sse41(4way)' SHA256 implementation\r\n2021-08-06T13:27:10Z Using RdSeed as additional entropy source\r\n2021-08-06T13:27:10Z Using RdRand as an additional entropy source\r\n2021-08-06T13:27:10Z Default data directory /home/user/.bitcoin\r\n2021-08-06T13:27:10Z Using data directory /home/user/.bitcoin\r\n2021-08-06T13:27:10Z Config file: /home/user/.bitcoin/bitcoin.conf\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"72l3ucjkuscrbiiepoehuwqgknyzgo7zuix5ty4puwrkyhtmnsga.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"gehtac45oaghz54ypyopim64mql7oad2bqclla74l6tfeolzmodq.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"h3r6bkn46qxftwja53pxiykntegfyfjqtnzbm6iv6r5mungmqgmq.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"hnbbyjpxx54623l555sta7pocy3se4sdgmuebi5k6reesz5rjp6q.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"pjs7or2ctvteeo5tu4bwyrtydeuhqhvdprtujn4daxr75jpebjxa.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"wwbw7nqr3ahkqv62cuqfwgtneekvvpnuc4i4f6yo7tpoqjswvcwa.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: addnode=\"zsxwyo6qcn3chqzwxnseusqgsnuw3maqnztkiypyfxtya4snkoka.b32.i2p:0\"\r\n2021-08-06T13:27:10Z Config file arg: debug=\"i2p\"\r\n2021-08-06T13:27:10Z Config file arg: i2psam=\"127.0.0.1:7656\"\r\n2021-08-06T13:27:10Z Config file arg: listen=\"1\"\r\n2021-08-06T13:27:10Z Config file arg: maxtxfee=\"0.001\"\r\n2021-08-06T13:27:10Z Config file arg: onlynet=\"i2p\"\r\n2021-08-06T13:27:10Z Config file arg: server=\"1\"\r\n2021-08-06T13:27:10Z Config file arg: shrinkdebugfile=\"1\"\r\n2021-08-06T13:27:10Z Config file arg: timeout=\"20000\"\r\n2021-08-06T13:27:10Z Config file arg: upnp=\"0\"\r\n2021-08-06T13:27:10Z Using at most 125 automatic connections (1024 file descriptors available)\r\n2021-08-06T13:27:10Z Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2021-08-06T13:27:10Z Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2021-08-06T13:27:10Z Script verification uses 1 additional threads\r\n2021-08-06T13:27:10Z scheduler thread start\r\n2021-08-06T13:27:10Z HTTP: creating work queue of depth 16\r\n2021-08-06T13:27:10Z Using random cookie authentication.\r\n2021-08-06T13:27:10Z Generated RPC authentication cookie /home/user/.bitcoin/.cookie\r\n2021-08-06T13:27:10Z HTTP: starting 4 worker threads\r\n2021-08-06T13:27:10Z Using wallet directory /home/user/.bitcoin\r\n2021-08-06T13:27:10Z init message: ÃberprÃ¼fe Wallet(s)...\r\n2021-08-06T13:27:10Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2021-08-06T13:27:10Z Using wallet /home/user/.bitcoin/wallet.dat\r\n2021-08-06T13:27:10Z BerkeleyEnvironment::Open: LogDir=/home/user/.bitcoin/database ErrorFile=/home/user/.bitcoin/db.log\r\n2021-08-06T13:27:10Z init message: Lade Bannlisteâ¦\r\n2021-08-06T13:27:10Z SetNetworkActive: true\r\n2021-08-06T13:27:10Z Using /16 prefix for IP bucketing\r\n2021-08-06T13:27:10Z Cache configuration:\r\n2021-08-06T13:27:10Z * Using 2.0 MiB for block index database\r\n2021-08-06T13:27:10Z * Using 8.0 MiB for chain state database\r\n2021-08-06T13:27:10Z * Using 290.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n2021-08-06T13:27:10Z init message: Lade Block-Index...\r\n2021-08-06T13:27:10Z Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n2021-08-06T13:27:10Z Opening LevelDB in /home/user/.bitcoin/blocks/index\r\n2021-08-06T13:27:10Z Opened LevelDB successfully\r\n2021-08-06T13:27:10Z Using obfuscation key for /home/user/.bitcoin/blocks/index: 0000000000000000\r\n2021-08-06T13:27:16Z LoadBlockIndexDB: last block file = 2679\r\n2021-08-06T13:27:16Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=126, size=115009652, heights=694332...694480, time=2021-08-05...2021-08-06)\r\n2021-08-06T13:27:16Z Checking all blk files are present...\r\n2021-08-06T13:27:16Z Opening LevelDB in /home/user/.bitcoin/chainstate\r\n2021-08-06T13:27:17Z Opened LevelDB successfully\r\n2021-08-06T13:27:17Z Using obfuscation key for /home/user/.bitcoin/chainstate: 0000000000000000\r\n2021-08-06T13:27:17Z Loaded best chain: hashBestChain=00000000000000000003bfbfaf2b79a93047a1d82b00ca70a727135956e3f11b height=694480 date=2021-08-06T13:21:10Z progress=0.999999\r\n2021-08-06T13:27:17Z init message: ÃberprÃ¼fe BlÃ¶cke...\r\n2021-08-06T13:27:17Z Verifying last 6 blocks at level 3\r\n2021-08-06T13:27:17Z [0%]...[16%]...[33%]...[50%]...[66%]...[83%]...[99%]...[DONE].\r\n2021-08-06T13:27:18Z No coin database inconsistencies in last 6 blocks (6887 transactions)\r\n2021-08-06T13:27:18Z  block index            7426ms\r\n2021-08-06T13:27:18Z init message: Lade Wallet...\r\n2021-08-06T13:27:18Z BerkeleyEnvironment::Open: LogDir=/home/user/.bitcoin/database ErrorFile=/home/user/.bitcoin/db.log\r\n2021-08-06T13:27:18Z [default wallet] Wallet File Version = 169900\r\n2021-08-06T13:27:18Z [default wallet] Keys: 0 plaintext, 4012 encrypted, 4012 w/ metadata, 4012 total. Unknown wallet records: 0\r\n2021-08-06T13:27:18Z [default wallet] Wallet completed loading in              53ms\r\n2021-08-06T13:27:18Z [default wallet] setKeyPool.size() = 1999\r\n2021-08-06T13:27:18Z [default wallet] mapWallet.size() = 9\r\n2021-08-06T13:27:18Z [default wallet] m_address_book.size() = 11\r\n2021-08-06T13:27:18Z block tree size = 694695\r\n2021-08-06T13:27:18Z nBestHeight = 694480\r\n2021-08-06T13:27:18Z loadblk thread start\r\n2021-08-06T13:27:18Z torcontrol thread start\r\n2021-08-06T13:27:18Z Bound to 127.0.0.1:8334\r\n2021-08-06T13:27:18Z Bound to [::]:8333\r\n2021-08-06T13:27:18Z Bound to 0.0.0.0:8333\r\n2021-08-06T13:27:18Z init message: Lade P2P-Adressen...\r\n2021-08-06T13:27:18Z Leaving InitialBlockDownload (latching to false)\r\n2021-08-06T13:27:18Z tor: Got service ID ........................................................, advertising service .........................................................onion:8333\r\n2021-08-06T13:27:18Z AddLocal(.........................................................onion:8333,4)\r\n2021-08-06T13:27:18Z Loaded 57329 addresses from peers.dat  343ms\r\n2021-08-06T13:27:18Z Loaded 0 addresses from \"anchors.dat\"\r\n2021-08-06T13:27:18Z 0 block-relay-only anchors will be tried for connections.\r\n2021-08-06T13:27:18Z init message: Starte Netzwerk-Threads...\r\n2021-08-06T13:27:18Z init message: Laden abgeschlossen\r\n2021-08-06T13:27:18Z i2paccept thread start\r\n2021-08-06T13:27:18Z I2P: Creating SAM session with 127.0.0.1:7656\r\n2021-08-06T13:27:18Z opencon thread start\r\n2021-08-06T13:27:18Z dnsseed thread start\r\n2021-08-06T13:27:18Z Waiting 300 seconds before querying DNS seeds.\r\n2021-08-06T13:27:18Z addcon thread start\r\n2021-08-06T13:27:18Z net thread start\r\n2021-08-06T13:27:18Z msghand thread start\r\n2021-08-06T13:27:18Z GUI: Platform customization: \"other\"\r\n2021-08-06T13:27:19Z Imported mempool transactions from disk: 1080 succeeded, 0 failed, 0 expired, 0 already there, 0 waiting for initial broadcast\r\n2021-08-06T13:27:19Z loadblk thread exit\r\n2021-08-06T13:27:21Z New outbound peer connected: version: 70016, blocks=694480, peer=0 (outbound-full-relay)\r\n```\r\nOutput of `bitcoin-cli getnetworkinfo`\r\n```\r\n{\r\n  \"version\": 220000,\r\n  \"subversion\": \"/Satoshi:22.0.0/\",\r\n  \"protocolversion\": 70016,\r\n  \"localservices\": \"0000000000000409\",\r\n  \"localservicesnames\": [\r\n    \"NETWORK\",\r\n    \"WITNESS\",\r\n    \"NETWORK_LIMITED\"\r\n  ],\r\n  \"localrelay\": true,\r\n  \"timeoffset\": -3,\r\n  \"networkactive\": true,\r\n  \"connections\": 15,\r\n  \"connections_in\": 0,\r\n  \"connections_out\": 15,\r\n  \"networks\": [\r\n    {\r\n      \"name\": \"ipv4\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"ipv6\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"onion\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:9050\",\r\n      \"proxy_randomize_credentials\": true\r\n    },\r\n    {\r\n      \"name\": \"i2p\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:7656\",\r\n      \"proxy_randomize_credentials\": false\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00001000,\r\n  \"incrementalfee\": 0.00001000,\r\n  \"localaddresses\": [\r\n    {\r\n      \"address\": \"....................................onion\",\r\n      \"port\": 8333,\r\n      \"score\": 4\r\n    },\r\n    {\r\n      \"address\": \".....................................b32.i2p\",\r\n      \"port\": 0,\r\n      \"score\": 4\r\n    }\r\n  ],\r\n  \"warnings\": \"\"\r\n}\r\n```\r\n```",
      "created_at" : "2021-08-06T13:46:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894272417",
      "id" : 894272417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841TYOh",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T13:46:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894272417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "node_id" : "MDQ6VXNlcjg0NDc4NzM=",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've reproduced the issue with the 22.0rc2 binary (debian), the above config, i2pd 2.38.0 and tor 0.4.6 on mainnet.\r\n\r\n```\r\n  \"networks\": [\r\n    {\r\n      \"name\": \"ipv4\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"ipv6\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"onion\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:9050\",\r\n      \"proxy_randomize_credentials\": true\r\n    },\r\n    {\r\n      \"name\": \"i2p\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:7656\",\r\n      \"proxy_randomize_credentials\": false\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00001000,\r\n  \"incrementalfee\": 0.00001000,\r\n  \"localaddresses\": [\r\n    {\r\n      \"address\": \"xyz.onion\",\r\n      \"port\": 8333,\r\n      \"score\": 4\r\n    },\r\n    {\r\n      \"address\": \"aw4zvb3rab7tbtfip2q2fre5eahgvthzu5hhq5rpd6llvgkvlyta.b32.i2p\",\r\n      \"port\": 0,\r\n      \"score\": 4\r\n    }\r\n  ],\r\n```\r\n",
      "created_at" : "2021-08-06T13:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894274722",
      "id" : 894274722,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841TYyi",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T15:51:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894274722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "With added `debug=tor` there are those additional log lines:\r\n```\r\n2021-08-06T13:49:46Z Leaving InitialBlockDownload (latching to false)\r\n2021-08-06T13:49:46Z torcontrol thread start\r\n2021-08-06T13:49:46Z tor: Reading cached private key from /home/user/.bitcoin/onion_v3_private_key\r\n2021-08-06T13:49:46Z tor: Successfully connected!\r\n2021-08-06T13:49:46Z tor: Connected to Tor version 0.3.5.15\r\n2021-08-06T13:49:46Z tor: Supported authentication method: COOKIE\r\n2021-08-06T13:49:46Z tor: Supported authentication method: HASHEDPASSWORD\r\n2021-08-06T13:49:46Z tor: Supported authentication method: SAFECOOKIE\r\n2021-08-06T13:49:46Z tor: Using SAFECOOKIE authentication, reading cookie authentication from /run/tor/control.authcookie\r\n2021-08-06T13:49:46Z tor: SAFECOOKIE authentication challenge successful\r\n2021-08-06T13:49:46Z tor: AUTHCHALLENGE ServerHash ........................... ServerNonce ...............................\r\n2021-08-06T13:49:46Z tor: Authentication successful\r\n2021-08-06T13:49:46Z tor: ADD_ONION successful\r\n2021-08-06T13:49:46Z tor: Got service ID ..................., advertising service ....................................onion:8333\r\n2021-08-06T13:49:46Z tor: Cached service private key to /home/user/.bitcoin/onion_v3_private_key\r\n2021-08-06T13:49:46Z AddLocal(...............................onion:8333,4)\r\n```",
      "created_at" : "2021-08-06T13:54:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894276970",
      "id" : 894276970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841TZVq",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T13:54:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894276970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "node_id" : "MDQ6VXNlcjg0NDc4NzM=",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Current solution is to add `onion=0`: this blocks outbound onion connections, I2P outbound connections only.\r\n\r\n```\r\n  \"networks\": [\r\n    {\r\n      \"name\": \"ipv4\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"ipv6\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"onion\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"i2p\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:7656\",\r\n      \"proxy_randomize_credentials\": false\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00001000,\r\n  \"incrementalfee\": 0.00001000,\r\n  \"localaddresses\": [\r\n    {\r\n      \"address\": \"aw4zvb3rab7tbtfip2q2fre5eahgvthzu5hhq5rpd6llvgkvlyta.b32.i2p\",\r\n      \"port\": 0,\r\n      \"score\": 4\r\n    }\r\n  ],\r\n  \"warnings\": \"\"\r\n```\r\n",
      "created_at" : "2021-08-06T14:06:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894285769",
      "id" : 894285769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841TbfJ",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T15:07:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894285769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the debug info!\r\n\r\n> I wonder how did bitcoind find the Tor socks5 proxy if none of -proxy or -onion is specified?\r\n\r\nIt just defaults to `127.0.0.1:9050`, disrespecting `-onlynet`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/d67330d11245b11fbdd5e2dd5343ee451186931e/src/torcontrol.cpp#L378-L383\r\n\r\nFixed in https://github.com/bitcoin/bitcoin/pull/22651",
      "created_at" : "2021-08-06T15:20:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894333596",
      "id" : 894333596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841TnKc",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T15:20:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894333596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Current solution is to add `onion=0`: this blocks outbound onion connections, I2P outbound connections only.\r\n\r\nDo you really in fact get I2P outbound connections with `onion=0` and `onlynet=i2p` ? I did not on a 3h test, see my addition to comment in https://github.com/bitcoin/bitcoin/issues/22634#issuecomment-894073027\r\n\r\nEdit: I2P only now works for me. Maybe it was a problem of too few nodes or bootstrap issue before. Now I have 10 outbound and even one inbound I2P connection right after startup.\r\nI could now also remove the I2P addnode lines from bitcoin.conf, and get I2P connections after restart, I guess the I2P peers are used now from the peer cache.",
      "created_at" : "2021-08-06T20:06:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894491923",
      "id" : 894491923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841UN0T",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T22:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894491923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "node_id" : "MDQ6VXNlcjg0NDc4NzM=",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes. \n\nAlso, i2pd 2.23.0 (an old version currently still shipped with Debian stable), while a bit funky at first, worked for me across more than a dozen restarts and configurations today to test your reports. I'm running a production node with it now to test it over more time.",
      "created_at" : "2021-08-06T20:32:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894503861",
      "id" : 894503861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841UQu1",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T20:33:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894503861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also:\n\n> I see many log lines Error connecting to xxx.b32.i2p:0: Unexpected reply to \"NAMING LOOKUP NAME=xxx.b32.i2p\": \"NAMING REPLY RESULT=INVALID_KEY NAME=xxx.b32.i2p\"\n\nWith i2pd 2.23, this is one of the errors when a peer isn't online. It's normal when some of the addnode peers in your conf file aren't up.\n",
      "created_at" : "2021-08-06T20:39:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894506962",
      "id" : 894506962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841URfS",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T20:39:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894506962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Are there possible tests that could be added to catch errors like this?\r\n\r\nEdit:  I have now seen the discussion on 22651, sorry!",
      "created_at" : "2021-08-06T21:33:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894529887",
      "id" : 894529887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841UXFf",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T21:35:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894529887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24482484?v=4",
         "events_url" : "https://api.github.com/users/Rspigler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Rspigler/followers",
         "following_url" : "https://api.github.com/users/Rspigler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Rspigler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Rspigler",
         "id" : 24482484,
         "login" : "Rspigler",
         "node_id" : "MDQ6VXNlcjI0NDgyNDg0",
         "organizations_url" : "https://api.github.com/users/Rspigler/orgs",
         "received_events_url" : "https://api.github.com/users/Rspigler/received_events",
         "repos_url" : "https://api.github.com/users/Rspigler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Rspigler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Rspigler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonatak On a second I2P-only test, I get now I2P connections, so pure I2P now works for me too, very nice.",
      "created_at" : "2021-08-06T22:27:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22647#issuecomment-894548447",
      "id" : 894548447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22647",
      "node_id" : "IC_kwDOABII5841Ubnf",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T22:27:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894548447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "node_id" : "MDQ6VXNlcjg0NDc4NzM=",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   }
]
