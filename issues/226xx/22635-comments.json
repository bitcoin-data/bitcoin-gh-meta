[
   {
      "author_association" : "MEMBER",
      "body" : "I don't think this is really a bug or an issue that needs fixing. We've always allowed users to have multiple wallets containing the same keys. You could always import your keys and descriptors into another wallet that's already loaded.\r\n\r\nFurthermore, wallets are independent containers. I don't think we should disallow what one wallet can contain just because another wallet is loaded that has the same things in it. This would also be easily bypassable by simply closing the other wallets before creating the duplicates.",
      "created_at" : "2021-08-05T17:34:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-893653168",
      "id" : 893653168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841RBCw",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-05T17:34:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893653168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "\r\n> We've always allowed users to have multiple wallets containing the same keys\r\n\r\nthe main difference here is now if I generate a new key in wallet A, that key will also show up in wallet B without me importing anything. AFAIK, this is different from before in that I could not create an HD wallet, and then create a new wallet based off the same seed such that all new addresses would now appear in both wallets. This seems to go against the idea of wallets being independent containers.\r\n\r\nAs I noted, perhaps this isn't a bug and I'd be happy to write something in the documentation to avoid confusion for the user, but this does seem like new behavior introduced by external signers.\r\n",
      "created_at" : "2021-08-05T18:45:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-893695810",
      "id" : 893695810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841RLdC",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-05T18:51:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893695810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> the main difference here is now if I generate a new key in wallet A, that key will also show up in wallet B without me importing anything.\r\n\r\nI disagree. IMO the act of creating an external signer wallet is equivalent to an explicit import. It's not a default action - you have to explicitly choose to create an external signer wallet, in the same way that importing is an explicit decision. The difference is instead of looking at the thing being imported you are just telling Bitcoin Core to figure out what to import automatically. In both cases, you are choosing to make duplicate wallets; when importing, you choose to import the same thing, when using an external signer, you choose to use the same external signer.\r\n\r\n> AFAIK, this is different from before in that I could not create an HD wallet, and then create a new wallet based off the same seed such that all new addresses would now appear in both wallets. This seems to go against the idea of wallets being independent containers.\r\n\r\nActually you can, although it's a little bit more complicated. You can get the seed for a wallet via `dumpwallet`, then create a new blank wallet, and then use `sethdseed` so the new wallet has exactly the same keys as the original.",
      "created_at" : "2021-08-05T18:55:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-893701969",
      "id" : 893701969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841RM9R",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-05T18:55:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893701969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I would think a user would expect a new wallet creation to be on a different account? (I believe that's how it works on the HWW's own software).  Is there not a way to do that with HWI/Core, and if not, maybe documentation would be good.",
      "created_at" : "2021-08-05T20:45:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-893783563",
      "id" : 893783563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841Rg4L",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-05T20:45:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893783563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24482484?v=4",
         "events_url" : "https://api.github.com/users/Rspigler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Rspigler/followers",
         "following_url" : "https://api.github.com/users/Rspigler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Rspigler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Rspigler",
         "id" : 24482484,
         "login" : "Rspigler",
         "node_id" : "MDQ6VXNlcjI0NDgyNDg0",
         "organizations_url" : "https://api.github.com/users/Rspigler/orgs",
         "received_events_url" : "https://api.github.com/users/Rspigler/received_events",
         "repos_url" : "https://api.github.com/users/Rspigler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Rspigler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Rspigler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I would think a user would expect a new wallet creation to be on a different account?\r\n\r\nI'm not sure that many users have a concept of what different accounts are. I don't think users would assume or expect that, but if they do, we should clarify that in documentation. We should not inspect other wallets in order to limit what a new wallet can contain.\r\n\r\n> (I believe that's how it works on the HWW's own software).\r\n\r\nPerhaps, but from my experience with hardware vendor wallet software, the wallets do not behave as independent entities as we have implemented. Electrum behaves similarly to us (if you leave the defaults, you will duplicate the wallet for the same hardware signer).\r\n\r\n> Is there not a way to do that with HWI/Core, and if not, maybe documentation would be good.\r\n\r\nNot yet.",
      "created_at" : "2021-08-05T21:06:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-893802891",
      "id" : 893802891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841RlmL",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-05T21:06:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/893802891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm not sure that many users have a concept of what different accounts are. I don't think users would assume or expect that, but if they do, we should clarify that in documentation.\r\n\r\nThis was my expectation, which is why I was confused when both wallet's contained the same addresses. Perhaps this will be less confusing when HWI/Core does support creating separate accounts and the documentation is more clear?\r\n\r\n> We should not inspect other wallets in order to limit what a new wallet can contain.\r\n\r\nDefinitely agree with this and I think I understand your previous point about duplicate wallets a bit better.\r\n\r\nThanks for taking the time to respond, I learned quite a bit from the discussion. Happy to close this issue unless someone feels there is an actionable next step (i.e documentation edits)?",
      "created_at" : "2021-08-09T11:25:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-895146476",
      "id" : 895146476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841Wtns",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-09T11:25:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895146476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> someone feels there is an actionable next step (i.e documentation edits)?\r\n\r\nProbably, better to open a dedicated issue with clear goals and expectations?",
      "created_at" : "2021-08-09T11:29:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-895148353",
      "id" : 895148353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841WuFB",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-09T11:29:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895148353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I would, but I don't have a HWW to test HWI with.\r\n\r\nI agree I think documentation is the way forward.",
      "created_at" : "2021-08-09T19:40:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-895489578",
      "id" : 895489578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841YBYq",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-09T19:40:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895489578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24482484?v=4",
         "events_url" : "https://api.github.com/users/Rspigler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Rspigler/followers",
         "following_url" : "https://api.github.com/users/Rspigler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Rspigler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Rspigler",
         "id" : 24482484,
         "login" : "Rspigler",
         "node_id" : "MDQ6VXNlcjI0NDgyNDg0",
         "organizations_url" : "https://api.github.com/users/Rspigler/orgs",
         "received_events_url" : "https://api.github.com/users/Rspigler/received_events",
         "repos_url" : "https://api.github.com/users/Rspigler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Rspigler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Rspigler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Rspigler here's an emulator i used for testing, a bit of work to get setup but really helpful for testing: https://docs.trezor.io/trezor-firmware/core/emulator/index.html\r\n\r\nthere's also some instructions on using it for testing HWI + core here: https://github.com/bitcoin-core/bitcoin-devwiki/wiki/22.0-Release-Candidate-Testing-Guide#testing-wallet-changes\r\n\r\nclosing this issue in favor of #22678",
      "created_at" : "2021-08-10T18:05:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22635#issuecomment-896202272",
      "id" : 896202272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22635",
      "node_id" : "IC_kwDOABII5841avYg",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T18:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896202272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   }
]
