[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nIs it possible to easily test this functionality? I would like to give it a go.",
      "created_at" : "2021-08-01T03:25:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-890441742",
      "id" : 890441742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII5841ExAO",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-01T03:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890441742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8435003?v=4",
         "events_url" : "https://api.github.com/users/tryphe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tryphe/followers",
         "following_url" : "https://api.github.com/users/tryphe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tryphe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tryphe",
         "id" : 8435003,
         "login" : "tryphe",
         "node_id" : "MDQ6VXNlcjg0MzUwMDM=",
         "organizations_url" : "https://api.github.com/users/tryphe/orgs",
         "received_events_url" : "https://api.github.com/users/tryphe/received_events",
         "repos_url" : "https://api.github.com/users/tryphe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tryphe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tryphe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tryphe"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should be possible with a long-running process, then looking at `/proc/*pid*/fd` or such.\r\n\r\nIf you want to create a problem, write a program to write to random fd numbers (likely will corrupt things, don't try on an important node). :p",
      "created_at" : "2021-08-01T05:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-890452233",
      "id" : 890452233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII5841EzkJ",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-01T05:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890452233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is a bit beyond my understanding of processes. I tested (on macOS) that 3b6153ba336b929b06930d81930077f6bb519732 doesn't break HWI integration, so I have no objection.",
      "created_at" : "2021-08-06T16:41:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-894381571",
      "id" : 894381571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII5841Ty4D",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-06T16:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894381571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758492164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758492164"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As I understand this code is executed in the child process. What's the advantage of using `fcntl(â¦FD_CLOEXEC` instead of straight-up closing the fd here?",
      "commit_id" : "3b6153ba336b929b06930d81930077f6bb519732",
      "created_at" : "2021-11-29T15:48:25Z",
      "diff_hunk" : "@@ -102,6 +110,32 @@ std::string ShellEscape(const std::string& arg);\n #if HAVE_SYSTEM\n void runCommand(const std::string& strCommand);\n #endif\n+\n+#if defined(BOOST_POSIX_API) && defined(FD_CLOEXEC)\n+/**\n+ * Ensure a boost::process::child has its non-std fds all closed when exec\n+ * is called.\n+ */\n+struct bpe_close_excess_fds : boost::process::extend::handler\n+{\n+    template<typename Executor>\n+    void on_exec_setup(Executor&exec) const\n+    {\n+        try {\n+            for (auto it : fs::directory_iterator(\"/dev/fd\")) {\n+                int64_t fd;\n+                if (!ParseInt64(it.path().filename().native(), &fd)) continue;\n+                if (fd <= 2) continue;  // leave std{in,out,err} alone\n+                ::fcntl(fd, F_SETFD, ::fcntl(fd, F_GETFD) | FD_CLOEXEC);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758492164",
      "id" : 758492164,
      "line" : 129,
      "node_id" : "PRRC_kwDOABII584tNawE",
      "original_commit_id" : "3b6153ba336b929b06930d81930077f6bb519732",
      "original_line" : 129,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 42,
      "pull_request_review_id" : 817979103,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758492164/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-29T15:48:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758492164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758493969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758493969"
         }
      },
      "author_association" : "MEMBER",
      "body" : "TIL `/dev/fd` is a general UNIX thing and not limited to Linux. It doesn't seem like a very nice API to iterate open file descriptors but seems portable enough.",
      "commit_id" : "3b6153ba336b929b06930d81930077f6bb519732",
      "created_at" : "2021-11-29T15:50:07Z",
      "diff_hunk" : "@@ -102,6 +110,32 @@ std::string ShellEscape(const std::string& arg);\n #if HAVE_SYSTEM\n void runCommand(const std::string& strCommand);\n #endif\n+\n+#if defined(BOOST_POSIX_API) && defined(FD_CLOEXEC)\n+/**\n+ * Ensure a boost::process::child has its non-std fds all closed when exec\n+ * is called.\n+ */\n+struct bpe_close_excess_fds : boost::process::extend::handler\n+{\n+    template<typename Executor>\n+    void on_exec_setup(Executor&exec) const\n+    {\n+        try {\n+            for (auto it : fs::directory_iterator(\"/dev/fd\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758493969",
      "id" : 758493969,
      "line" : 125,
      "node_id" : "PRRC_kwDOABII584tNbMR",
      "original_commit_id" : "3b6153ba336b929b06930d81930077f6bb519732",
      "original_line" : 125,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 38,
      "pull_request_review_id" : 817981493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758493969/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-29T15:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758493969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758565651"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758565651"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Instead of closing directly, we have to set the `FD_CLOEXEC` flag and let `exec` close them; otherwise, boost::process's internal pipe would be closed and we get the wrong exception thrown (not actually a problem outside of our tests, but might as well do this cleanly).",
      "commit_id" : "3b6153ba336b929b06930d81930077f6bb519732",
      "created_at" : "2021-11-29T17:06:26Z",
      "diff_hunk" : "@@ -102,6 +110,32 @@ std::string ShellEscape(const std::string& arg);\n #if HAVE_SYSTEM\n void runCommand(const std::string& strCommand);\n #endif\n+\n+#if defined(BOOST_POSIX_API) && defined(FD_CLOEXEC)\n+/**\n+ * Ensure a boost::process::child has its non-std fds all closed when exec\n+ * is called.\n+ */\n+struct bpe_close_excess_fds : boost::process::extend::handler\n+{\n+    template<typename Executor>\n+    void on_exec_setup(Executor&exec) const\n+    {\n+        try {\n+            for (auto it : fs::directory_iterator(\"/dev/fd\")) {\n+                int64_t fd;\n+                if (!ParseInt64(it.path().filename().native(), &fd)) continue;\n+                if (fd <= 2) continue;  // leave std{in,out,err} alone\n+                ::fcntl(fd, F_SETFD, ::fcntl(fd, F_GETFD) | FD_CLOEXEC);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r758565651",
      "id" : 758565651,
      "in_reply_to_id" : 758492164,
      "line" : 129,
      "node_id" : "PRRC_kwDOABII584tNssT",
      "original_commit_id" : "3b6153ba336b929b06930d81930077f6bb519732",
      "original_line" : 129,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 42,
      "pull_request_review_id" : 818077943,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758565651/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-29T17:06:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/758565651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [tryphe](https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-890441742) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26196](https://github.com/bitcoin/bitcoin/pull/26196) (kernel: move RunCommandParseJSON to its own file by theuni)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-03-02T18:16:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-1057235255",
      "id" : 1057235255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII584_BCE3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1057235255/reactions"
      },
      "updated_at" : "2022-12-05T11:27:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1057235255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-20T09:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-1103677085",
      "id" : 1103677085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII585ByMad",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103677085/reactions"
      },
      "updated_at" : "2022-04-20T09:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103677085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871095687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871095687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would it make sense to move all Windows related stuff from this PR to #25111?",
      "commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "created_at" : "2022-05-12T08:28:47Z",
      "diff_hunk" : "@@ -34,6 +35,29 @@\n #include <utility>\n #include <vector>\n \n+#if defined(ENABLE_EXTERNAL_SIGNER) && defined(BOOST_POSIX_API)\n+#include <fcntl.h>\n+#ifdef FD_CLOEXEC\n+#include <unistd.h>\n+#if defined(WIN32) && !defined(__kernel_entry)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871095687",
      "id" : 871095687,
      "line" : 42,
      "node_id" : "PRRC_kwDOABII584z692H",
      "original_commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "original_line" : 42,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 16,
      "pull_request_review_id" : 970458829,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871095687/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-12T08:28:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871095687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871099473"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871099473"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This wouldn't exist in #25111",
      "commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "created_at" : "2022-05-12T08:32:36Z",
      "diff_hunk" : "@@ -34,6 +35,29 @@\n #include <utility>\n #include <vector>\n \n+#if defined(ENABLE_EXTERNAL_SIGNER) && defined(BOOST_POSIX_API)\n+#include <fcntl.h>\n+#ifdef FD_CLOEXEC\n+#include <unistd.h>\n+#if defined(WIN32) && !defined(__kernel_entry)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871099473",
      "id" : 871099473,
      "in_reply_to_id" : 871095687,
      "line" : 42,
      "node_id" : "PRRC_kwDOABII584z6-xR",
      "original_commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "original_line" : 42,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 16,
      "pull_request_review_id" : 970463991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871099473/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-12T08:32:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871099473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Compiling 4c19cea484b1e88618864257253c2caf7d102dd6 on macOS 12.3.1 (Boost 1.78 via Homebrew) fails with:\r\n\r\n```\r\nwallet/test/init_test_fixture.cpp:35:52: error: no member named 'BOOST_FILESYSTEM_C_STR' in 'boost::filesystem::path'\r\n    std::ofstream f(m_walletdir_path_cases[\"file\"].BOOST_FILESYSTEM_C_STR);\r\n                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^\r\n1 error generated.\r\nmake[2]: *** [wallet/test/test_test_bitcoin-init_test_fixture.o] Error 1\r\n```\r\n\r\nCompiling with depends does work.\r\n\r\n_Update:_ compiling on master @ 4129134e844f78a89f8515cf30dad4b6074703c7 also fails, so this is _unrelated_ (and already fixed, see #22482). Maybe rebase? \r\n\r\nFor some reason CI has not run yet on this PR (probably because it builds on top of commits that use a previous CI incarnation).",
      "created_at" : "2022-05-12T08:35:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-1124691944",
      "id" : 1124691944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII585DCW_o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1124691944/reactions"
      },
      "updated_at" : "2022-05-12T09:25:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1124691944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871127529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871127529"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Isn't `defined(WIN32)` always false on the systems that we support boost::process for? (since #24065)",
      "commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "created_at" : "2022-05-12T08:59:44Z",
      "diff_hunk" : "@@ -34,6 +35,29 @@\n #include <utility>\n #include <vector>\n \n+#if defined(ENABLE_EXTERNAL_SIGNER) && defined(BOOST_POSIX_API)\n+#include <fcntl.h>\n+#ifdef FD_CLOEXEC\n+#include <unistd.h>\n+#if defined(WIN32) && !defined(__kernel_entry)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871127529",
      "id" : 871127529,
      "in_reply_to_id" : 871095687,
      "line" : 42,
      "node_id" : "PRRC_kwDOABII584z7Fnp",
      "original_commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "original_line" : 42,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 16,
      "pull_request_review_id" : 970501247,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871127529/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-12T09:15:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871127529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871147763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871147763"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit (if you keep it): `// WIN32 && !kernel_entry`",
      "commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "created_at" : "2022-05-12T09:17:15Z",
      "diff_hunk" : "@@ -34,6 +35,29 @@\n #include <utility>\n #include <vector>\n \n+#if defined(ENABLE_EXTERNAL_SIGNER) && defined(BOOST_POSIX_API)\n+#include <fcntl.h>\n+#ifdef FD_CLOEXEC\n+#include <unistd.h>\n+#if defined(WIN32) && !defined(__kernel_entry)\n+// A workaround for boost 1.71 incompatibility with mingw-w64 compiler.\n+// For details see https://github.com/bitcoin/bitcoin/pull/22348.\n+#define __kernel_entry\n+#endif",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#discussion_r871147763",
      "id" : 871147763,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII584z7Kjz",
      "original_commit_id" : "4c19cea484b1e88618864257253c2caf7d102dd6",
      "original_line" : 46,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 20,
      "pull_request_review_id" : 970530819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22417",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871147763/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-12T09:17:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/871147763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Testing and CI should always be merging the PR into master. The PR itself should ideally in the case of bugfixes like this, be based on the oldest affected commit (that can still cleanly merge, in Core's case)",
      "created_at" : "2022-05-12T20:11:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-1125381296",
      "id" : 1125381296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII585DE_Sw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1125381296/reactions"
      },
      "updated_at" : "2022-05-12T20:11:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1125381296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-10-10T12:29:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-1273241750",
      "id" : 1273241750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII585L5CCW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273241750/reactions"
      },
      "updated_at" : "2022-10-10T12:29:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273241750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Moving to draft for now. No response to the recent comments or query about the redundant second commit. Has needed rebase for 4 months.",
      "created_at" : "2023-02-06T14:59:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22417#issuecomment-1419219991",
      "id" : 1419219991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22417",
      "node_id" : "IC_kwDOABII585Ul5QX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419219991/reactions"
      },
      "updated_at" : "2023-02-06T14:59:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419219991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
