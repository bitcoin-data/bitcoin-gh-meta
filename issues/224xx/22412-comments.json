[
   {
      "author_association" : "MEMBER",
      "body" : "Thank you for your contribution. However we do not accept patches that are only meant for downstream projects that are shipping modified versions of Bitcoin Core. This project's goal is to maintain the vanilla version of Bitcoin Core.\r\n\r\nhttps://github.com/bitcoin-core/univalue/commit/98fadc090984fa7e070b6c41ccb514f69a371c85",
      "created_at" : "2021-07-07T07:06:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-875345174",
      "id" : 875345174,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NTM0NTE3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-07T08:17:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875345174",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Happy to reopen for more feedback",
      "created_at" : "2021-07-07T08:25:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-875400254",
      "id" : 875400254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NTQwMDI1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-07T08:25:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875400254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Fixes regressions introduced by #20012 and #21302\r\n\r\nDo we need tests to prevent such regressions in the future?",
      "created_at" : "2021-07-07T08:33:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-875406596",
      "id" : 875406596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NTQwNjU5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-07T08:33:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875406596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree that this needs tests if it is decided that the workaround should be applied. Also the minimum dependency version should be properly documented in https://github.com/bitcoin/bitcoin/blob/master/doc/dependencies.md#dependencies to have an objective criteria to decide on what workarounds are acceptable and which ones are not. Currently it is not documented and I (incorrectly?) assumed that only the bundled univalue is supported. The lack of clarification will lead to subjective disagreement about what versions are supported.\r\n\r\nFinally, the patch seems incomplete anyway. It is a workaround for the fix for arrays I submitted in https://github.com/bitcoin-core/univalue/commit/98fadc090984fa7e070b6c41ccb514f69a371c85, however it doesn't seem to address the same issue that was fixed for dictionaries in https://github.com/bitcoin-core/univalue/commit/51d3ab34ba2857f0d03dc07250cb4a2b5e712e67",
      "created_at" : "2021-07-07T08:57:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-875422895",
      "id" : 875422895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NTQyMjg5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-07T08:57:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875422895",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "To reply to my own comment: The minimum required univalue version is hidden in the configure.ac. The last time it was bumped was https://github.com/bitcoin/bitcoin/pull/12666 to require the bool dictionary fix.\r\n\r\nSo Concept NACK on this pull. I'd prefer to bump the minimum univalue dependency to require the bool array fix. This is a reliable fix for the bug (unlike this pull request) that also prevents the bug from silently appearing again.",
      "created_at" : "2021-07-07T09:15:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-875437216",
      "id" : 875437216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NTQzNzIxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-07T09:15:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875437216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22412#discussion_r665299861"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22412"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/665299861"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This note is only true for broken versions of univalue. push_back in our tree works just fine.",
      "commit_id" : "5e4b9513be85810b619b0a6079d82c9e3f45c8cc",
      "created_at" : "2021-07-07T11:54:45Z",
      "diff_hunk" : "@@ -606,8 +606,9 @@ void RPCHelpMan::AppendArgMap(UniValue& arr) const\n             map.push_back(m_name);\n             map.push_back(i);\n             map.push_back(arg_name);\n-            map.push_back(arg.m_type == RPCArg::Type::STR ||\n-                          arg.m_type == RPCArg::Type::STR_HEX);\n+            // NOTE: push_back(bool) converts the bool to Number, so explicitly make a boolean UniValue first",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#discussion_r665299861",
      "id" : 665299861,
      "line" : 609,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NTI5OTg2MQ==",
      "original_commit_id" : "5e4b9513be85810b619b0a6079d82c9e3f45c8cc",
      "original_line" : 609,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 6,
      "pull_request_review_id" : 700912015,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22412",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-07T11:55:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/665299861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">However we do not accept patches that are only meant for downstream projects that are shipping modified versions of Bitcoin Core. \r\n\r\nMany changes that benefit other projects (eg, Liquid) have been accepted into Core. This particular fix, however, affects Core itself, without modifications.\r\n\r\n>Do we need tests to prevent such regressions in the future?\r\n\r\nIt would be good to get one of the CI tasks using official UniValue, yes. That would have caught this. However, many of our tests don't differentiate between Number and boolean JSON return values, and would have ignored the issue if the bug hadn't been in the test itself.\r\n\r\nPersonally, I have modified my UniValue to give a deprecation warning when push_back(bool) is used. That could be put in our UniValue fork - or perhaps there's a way to make it stronger (ie, an error)?\r\n\r\n> Also the minimum dependency version should be properly documented in https://github.com/bitcoin/bitcoin/blob/master/doc/dependencies.md\r\n\r\nDone\r\n\r\n>So Concept NACK on this pull. I'd prefer to bump the minimum univalue dependency to require the bool array fix. This is a reliable fix for the bug (unlike this pull request) that also prevents the bug from silently appearing again.\r\n\r\nFor that approach, the fix needs to be released upstream first. AFAIK, you have never submitted it upstream (despite me bringing it to your attention previously), so that hasn't even begun...\r\n\r\nUntil that happens, this fix is needed.",
      "created_at" : "2021-07-07T17:22:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-875787304",
      "id" : 875787304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NTc4NzMwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-07T17:22:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/875787304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22006 by 0xB10C\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-07-08T00:52:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876032639",
      "id" : 876032639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjAzMjYzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T00:52:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876032639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> AFAIK, you have never submitted it upstream (despite me bringing it to your attention previously), so that hasn't even begun...\r\n\r\nAssuming others are obliged to do something is not how open source dev works.\r\n\r\n\r\nRegardless, I just looked into this and it seems this issue is fixed in the latest release? At least the code where the patch could be applied is removed.",
      "created_at" : "2021-07-08T06:11:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876158486",
      "id" : 876158486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjE1ODQ4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T06:11:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876158486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Assuming others are obliged to do something is not how open source dev works.\r\n\r\nI didn't assume that. It's simply what would be necessary to avoid this workaround.\r\n\r\n>Regardless, I just looked into this and it seems this issue is fixed in the latest release? At least the code where the patch could be applied is removed.\r\n\r\nIt's still an issue in the latest stable 1.0.5, and 1.1.1 (a development release, possibly with a new API) can't be used to build Core at all (https://github.com/jgarzik/univalue/issues/76)",
      "created_at" : "2021-07-08T06:28:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876167351",
      "id" : 876167351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjE2NzM1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T06:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876167351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In my view there are two options:\r\n\r\n* The univalue upstream that you are using is unmaintained and/or dropped support for Bitcoin Core. In this case we should simply remove `--with-system-univalue`, because there is no long-term prospect in keeping it.\r\n* It is still maintained. In that case, the bug(s) should be fixed upstream and the minimum version be bumped in our build system to require the bugfix to be included. Reporting the bug upstream to the dependency you are using also seems a more logical first step to me than to craft a workaround.",
      "created_at" : "2021-07-08T06:47:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876176774",
      "id" : 876176774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjE3Njc3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T06:47:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876176774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> In that case, the bug(s) should be fixed upstream and the minimum version be bumped in our build system to require the bugfix to be included.\r\n\r\nIMO this is the ideal approach to take.\r\n\r\n> Reporting the bug upstream to the dependency you are using also seems a more logical first step to me than to craft a workaround.\r\n\r\nIt is unclear if this is going to happen before 22.0.",
      "created_at" : "2021-07-08T06:59:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876184044",
      "id" : 876184044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjE4NDA0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T06:59:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876184044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "To get the ball rolling on eventually not needing this, I opened https://github.com/jgarzik/univalue/pull/83",
      "created_at" : "2021-07-08T07:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876193497",
      "id" : 876193497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjE5MzQ5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T07:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876193497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> In this case we should simply remove --with-system-univalue, because there is no long-term prospect in keeping it.\r\n\r\nStrong concept ACK. The upstream https://github.com/jgarzik/univalue/ project is barely maintained.",
      "created_at" : "2021-07-08T19:49:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876700523",
      "id" : 876700523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcwMDUyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T19:49:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876700523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">>In this case we should simply remove --with-system-univalue, because there is no long-term prospect in keeping it.\r\n\r\n>Strong concept ACK. The upstream https://github.com/jgarzik/univalue/ project is barely maintained.\r\n\r\nStrong concept *NACK*. It appears to be maintained just fine. The only reason this has broken is because @MarcoFalke has gone out of his way to create a divergent fork in the Core subtree for no benefit.\r\n\r\nIdeally, we should just drop the subtree entirely, but at the very least, continuing to support building with official UniValue releases is a bare minimum level of competence we should keep.",
      "created_at" : "2021-07-08T20:05:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876709959",
      "id" : 876709959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcwOTk1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:05:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876709959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The only reason this has broken is because @MarcoFalke has gone out of his way to create a divergent fork in the Core subtree for no benefit.\r\n\r\nThis is false; I did not create the repo that feeds the subtree. Also, it is irrelevant who created the repo, it was created so that bugfixes can be merged faster into the subtree.\r\n\r\nIn fact, as you can see from all the cross-merge commits, I was putting effort into keeping them in sync.",
      "created_at" : "2021-07-08T20:10:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876712718",
      "id" : 876712718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcxMjcxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:10:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876712718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Ideally, we should just drop the subtree entirely\r\n\r\nRelated discussion about this happened in at least:\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/7349\r\n* and https://github.com/bitcoin/bitcoin/pull/7485\r\n\r\nRe-hashing the same topic every year isn't going to help this project.\r\n\r\n",
      "created_at" : "2021-07-08T20:15:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876715606",
      "id" : 876715606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcxNTYwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876715606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What I see, is that you made an incompatible API change, ignored efforts to reconcile the official UniValue tree, rudely insta-closed this PR to fix compatibility, and when pushed here, you created [a PR for it with 15 unrelated commits](https://github.com/jgarzik/univalue/pull/82) that you know you would *never* merge to Core.\r\n\r\n>Re-hashing the same topic every year isn't going to help this project.\r\n\r\nSo don't rehash it. We had something that worked. You're the one who apparently wants to change that.",
      "created_at" : "2021-07-08T20:18:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876718556",
      "id" : 876718556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcxODU1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:18:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876718556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry @luke-jr, but this is ridiculous. Upstream is _obviously_ unmaintained. It seems the maintainer has not had any comments/commits or other activity in over two years, while there have been PRs opened and commented on on a semi-regular basis. Bitcoin Core has had its own fork for a while, because the maintenance situation was sporadic before for time before already, but at this point there is no reason to keep treating that repo as upstream - it's dead. And the fact that it works without maintenance is not a reason why improvements to our fork can't be made. So I think we should simply start treating the https://github.com/bitcoin-core/univalue repository as upstream. You can't go call clear improvements to the codebase \"going out of your way to create a divergent fork\" when upstream isn't accepting any changes at all.",
      "created_at" : "2021-07-08T20:27:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876724919",
      "id" : 876724919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcyNDkxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:31:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876724919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa There has been nothing to merge during that time. I glanced at the PRs. Some are enhancements tagged for a future release. None are merged in the Core subtree (aside from the ones just opened yesterday), so if upstream is unmaintained, so is Core's fork.\r\n\r\n>So I think we should simply start treating the https://github.com/bitcoin-core/univalue repository as upstream.\r\n\r\nIF upstream is in fact unmaintained, that would seem like a good alternative solution. However, as things stand, that repo breaks compatibility by removing the `std::pair` stuff, and the README explicitly recommends using upstream instead. To start treating the Core fork as the official UniValue, we should probably add back the std::pair stuff (maybe with an `#ifndef` so we can avoid using it in Core) and update the README and tag a new version (which configure can then check for).\r\n\r\nEdit: We should probably also merge in the bugfix(es) in upstream that Core's fork is still missing... (ironic to complain upstream hasn't acted in 1 day, when we're missing at least one 2+ year old bugfix)\r\n\r\n> You can't go call clear improvements to the codebase \"going out of your way to create a divergent fork\" when upstream isn't accepting any changes at all.\r\n\r\nThat isn't established yet. Upstream hasn't had more than 1 day to triage the push_back change.",
      "created_at" : "2021-07-08T20:35:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876729040",
      "id" : 876729040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjcyOTA0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:37:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876729040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > You can't go call clear improvements to the codebase \"going out of your way to create a divergent fork\" when upstream isn't accepting any changes at all.\r\n>\r\n> That isn't established yet. Upstream hasn't had more than 1 day to triage the push_back change.\r\n\r\nI assumed you were talking about earlier changes when making that accusation. If that's not the case, I take my words back on that aspect.\r\n\r\nI still disagree that there aren't any useful improvements PRed (e.g. https://github.com/jgarzik/univalue/pull/70 or https://github.com/jgarzik/univalue/pull/79), or that \"it's maintained\" - there has been _no_ activity at all.",
      "created_at" : "2021-07-08T20:48:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876735898",
      "id" : 876735898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NjczNTg5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-08T20:48:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876735898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> you created a PR for it with 15 unrelated commits that you know you would never merge to Core.\r\n\r\nThis is also false. Both the forks did merge PRs with \"unrelated commits\":\r\n* https://github.com/jgarzik/univalue/pull/57\r\n* https://github.com/bitcoin-core/univalue/pull/23\r\n\r\nMerging one branch into another (with all commits) is one way to keep them in sync.\r\n\r\n> Edit: We should probably also merge in the bugfix(es) in upstream that Core's fork is still missing... (ironic to complain upstream hasn't acted in 1 day, when we're missing at least one 2+ year old bugfix)\r\n\r\nIt might be good to explain which fixes you are referring to.\r\n\r\n> IF upstream is in fact unmaintained, that would seem like a good alternative solution. However, as things stand, that repo breaks compatibility by removing the std::pair stuff, and the README explicitly recommends using upstream instead. To start treating the Core fork as the official UniValue, we should probably add back the std::pair stuff (maybe with an #ifndef so we can avoid using it in Core) and update the README and tag a new version (which configure can then check for).\r\n\r\nThere is no maintained version of Bitcoin Core that uses `std::pair` wrapper. Simply bumping the version to indicate a breaking change would be easier than adding it back.",
      "created_at" : "2021-07-09T06:52:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876959432",
      "id" : 876959432,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3Njk1OTQzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-09T06:52:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/876959432",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">It might be good to explain which fixes you are referring to.\r\n\r\nhttps://github.com/jgarzik/univalue/pull/58\r\n",
      "created_at" : "2021-07-09T16:09:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-877295480",
      "id" : 877295480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NzI5NTQ4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-09T16:09:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/877295480",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Mr. Garzik advises that he still maintains UniValue and will make a new stable release (presumably with the fix) this month.\r\n\r\nPerhaps the best approach at this time, is to simply bump the minimum version required to 1.0.6 assuming it will be available by the time 22.0 is final?",
      "created_at" : "2021-07-09T18:38:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-877382104",
      "id" : 877382104,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NzM4MjEwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-09T18:38:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/877382104",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-07-27T18:13:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-887725882",
      "id" : 887725882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "IC_kwDOABII58406Z86",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-27T18:13:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/887725882",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Mr. Garzik advises that he still maintains UniValue and will make a new stable release (presumably with the fix) this month.\r\n\r\nIt's now essentially the end of the month, and I can't yet see any new activity in https://github.com/jgarzik/univalue.",
      "created_at" : "2021-07-30T04:00:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-889610121",
      "id" : 889610121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "IC_kwDOABII5841Bl-J",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-30T04:00:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889610121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In this case we should remove `--with-system-univalue`. See https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-876176774",
      "created_at" : "2021-07-30T06:40:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-889667089",
      "id" : 889667089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "IC_kwDOABII5841Bz4R",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-30T06:40:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889667089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Or just fix the bug in Core. Upstream not agreeing to your API change is not an excuse to break compatibility.\r\n\r\nIf you want to become upstream, fine, but don't be a jerk to everyone who wishes to use proper shared libraries. NACK to removing UniValue support and creating divergent vendor-only forks for no reason.",
      "created_at" : "2021-07-30T13:12:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-889884073",
      "id" : 889884073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "IC_kwDOABII5841Co2p",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-30T13:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889884073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK. I agree with the discussion here, in regards to why this is not something we want to, or should have to do. I've summarized my thoughts in #22646, which removes support for system univalue.\r\n\r\n> PRs like #22412 highlight the \"issue\" with us operating with our own Univalue fork, where we actively fix bugs, and make improvements, when upstream (https://github.com/jgarzik/univalue) may not be taking those improvements, and by all accounts, is not currently actively maintained. Bitcoin Core should not be hamstrung into not being able to fix bugs in a library, and/or have to litter our source with \"workarounds\", i.e #22412, for bugs we've already fixed, based on the fact that an upstream project is not actively being maintained. Allowing builders to use system libs is really only exacerbating this problem, with little benefit to our project.\r\n\r\nAlso\r\n\r\n> It's now essentially the end of the month, and I can't yet see any new activity in https://github.com/jgarzik/univalue.\r\n\r\nAnother month has passed and there's neither release activity, not commentary on any of the new PRs by Bitcoin Core contributors in the https://github.com/jgarzik/univalue/ repo.\r\n",
      "created_at" : "2021-09-02T04:53:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-911174208",
      "id" : 911174208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "IC_kwDOABII5842T2pA",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-02T04:53:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/911174208",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm closing this now that #22646 has been merged. For the record, there still doesn't seem to be any new activity [upstream](https://github.com/jgarzik/univalue/), and this is now nearly 3 months after upstream advised they were going to make a new release. ",
      "created_at" : "2021-10-20T03:06:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22412#issuecomment-947280111",
      "id" : 947280111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22412",
      "node_id" : "IC_kwDOABII5844dljv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/947280111/reactions"
      },
      "updated_at" : "2021-10-20T03:06:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/947280111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
