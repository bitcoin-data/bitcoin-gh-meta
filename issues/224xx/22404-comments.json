[
   {
      "author_association" : "MEMBER",
      "body" : "you have to wait around for a couple of blocks *after* being synced before fee estimation will work",
      "created_at" : "2021-07-05T14:48:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22404#issuecomment-874168305",
      "id" : 874168305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22404",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NDE2ODMwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-05T14:48:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874168305",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23396902?v=4",
         "events_url" : "https://api.github.com/users/jarolrod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jarolrod/followers",
         "following_url" : "https://api.github.com/users/jarolrod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jarolrod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jarolrod",
         "id" : 23396902,
         "login" : "jarolrod",
         "node_id" : "MDQ6VXNlcjIzMzk2OTAy",
         "organizations_url" : "https://api.github.com/users/jarolrod/orgs",
         "received_events_url" : "https://api.github.com/users/jarolrod/received_events",
         "repos_url" : "https://api.github.com/users/jarolrod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jarolrod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jarolrod"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> you have to wait around for a couple of blocks _after_ being synced before fee estimation will work\r\n\r\nI don't.  I can go to any block explorer and compute a fee estimate from the last several blocks and their timestamps.  The code can do the same thing, but it doesn't.  Perhaps someone will explain why it doesn't.",
      "created_at" : "2021-07-05T16:29:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22404#issuecomment-874226590",
      "id" : 874226590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22404",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NDIyNjU5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-05T16:29:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874226590",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1767796?v=4",
         "events_url" : "https://api.github.com/users/dscotese/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dscotese/followers",
         "following_url" : "https://api.github.com/users/dscotese/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dscotese/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dscotese",
         "id" : 1767796,
         "login" : "dscotese",
         "node_id" : "MDQ6VXNlcjE3Njc3OTY=",
         "organizations_url" : "https://api.github.com/users/dscotese/orgs",
         "received_events_url" : "https://api.github.com/users/dscotese/received_events",
         "repos_url" : "https://api.github.com/users/dscotese/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dscotese/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dscotese/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dscotese"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Deriving the fees from the blocks makes it susceptible to miner attacks. The Bitcoin Core fee estimation uses the mempool transactions.",
      "created_at" : "2021-07-05T16:35:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22404#issuecomment-874229287",
      "id" : 874229287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22404",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NDIyOTI4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-05T16:59:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874229287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Your assumption about how Bitcoin Core's fee estimation is incorrect. Bitcoin Core estimates the fee by observing how long transactions stay in its mempool. It tracks the fee rate for an unconfirmed transaction and how many blocks pass from the time it entered the mempool to when it is finally included in a block. This is how it can give estimate for different block targets. So in order for fee estimation to work, your node must have a mempool and must have seen transactions go from unconfirmed to confirm. It cannot derive fee information from just blocks. Doing so would allow miners to rig fee estimation by packing a couple blocks full of super high fee transactions and cause such fee estimators to estimate extremely high fees unnecessarily.",
      "created_at" : "2021-07-05T16:37:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22404#issuecomment-874230007",
      "id" : 874230007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22404",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3NDIzMDAwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-05T16:37:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874230007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
