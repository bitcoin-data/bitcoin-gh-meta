[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.<!--2502f1a698b3751726fa55edcda76cd3-->\n\n### Coverage\n\n| Coverage  | Change ([pull 16551](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/16551/total.coverage/index.html), 308ed29008fff26b27ca181642ca06f705fde6e6) | Reference ([master](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/index.html), e5fdda68c6d2313edb74443f0d1e6d2ce2d97f5e)   |\n|-----------|-------------------------|--------------------|\n| Lines     | +0.0119 %            | 89.1963 %        |\n| Functions | +0.0940 %            | 82.1787 %        |\n| Branches  | +0.0129 %            | 46.6003 %        |\n\n<sup>Updated at: 2019-08-07T12:48:33.276456.</sup>\n",
      "created_at" : "2019-08-06T02:05:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-518467052",
      "id" : 518467052,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODQ2NzA1Mg==",
      "updated_at" : "2019-08-16T00:44:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518467052",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-08-06T12:06:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-518640997",
      "id" : 518640997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODY0MDk5Nw==",
      "updated_at" : "2019-08-06T12:06:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518640997",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-08-14T13:32:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-521246974",
      "id" : 521246974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMTI0Njk3NA==",
      "updated_at" : "2019-08-14T13:32:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521246974",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will review in next few days.",
      "created_at" : "2019-08-14T15:42:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-521301463",
      "id" : 521301463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMTMwMTQ2Mw==",
      "updated_at" : "2019-08-14T15:42:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521301463",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-08-14T16:19:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-521315851",
      "id" : 521315851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMTMxNTg1MQ==",
      "updated_at" : "2019-08-14T16:19:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/521315851",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but I find the test hard to read atm.  I'm confused about what's actually in `blockheader_testnet3.hex`. Are those the headers without the block hash of the real testnet3 chain?  Because I don't see the checkpoint hash in there. Also, rather than having two lines with `fork:` and a parser to deal with that, maybe just hard code those in the test itself? Alternatively, create a seperate file for the fork? At what height does this fork start? Genesis or same height as checkpoint?",
      "created_at" : "2019-08-16T13:56:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-522017746",
      "id" : 522017746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjAxNzc0Ng==",
      "updated_at" : "2019-08-16T13:56:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522017746",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added an inline comment to hopefully explain it better, @Sjors \r\n\r\n> Are those the headers without the block hash of the real testnet3 chain? Because I don't see the checkpoint hash in there.\r\n\r\nSerialized headers include only the hash of the previous block, so if the last header is the checkpoint, the block hash of the checkpoint will never appear in the data file.",
      "created_at" : "2019-08-16T14:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-522032407",
      "id" : 522032407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjAzMjQwNw==",
      "updated_at" : "2019-08-16T14:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522032407",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16551#discussion_r314771409"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16551"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314771409"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: \"Disable checkpoints and feed low work fork headers again (succeeds)\"",
      "commit_id" : "fa0c247ed8bdc1c77c6b9fbb84813d08607d9cb7",
      "created_at" : "2019-08-16T15:27:03Z",
      "diff_hunk" : "@@ -0,0 +1,78 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that we reject low difficulty headers to prevent our block tree from filling up with useless bloat\"\"\"\n+\n+from test_framework.messages import (\n+    CBlockHeader,\n+    FromHex,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    msg_headers,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+import os\n+\n+\n+class RejectLowDifficultyHeadersTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.chain = 'testnet3'  # Use testnet chain because it has an early checkpoint\n+        self.num_nodes = 1\n+\n+    def add_options(self, parser):\n+        parser.add_argument(\n+            '--datafile',\n+            default='data/blockheader_testnet3.hex',\n+            help='Test data file (default: %(default)s)',\n+        )\n+\n+    def run_test(self):\n+        self.log.info(\"Read headers data\")\n+        self.headers_file_path = os.path.join(os.path.dirname(os.path.realpath(__file__)), self.options.datafile)\n+        with open(self.headers_file_path, encoding='utf-8') as headers_data:\n+            h_lines = [l.strip() for l in headers_data.readlines()]\n+\n+        # The headers data is taken from testnet3 for early blocks from genesis until the first checkpoint. There are\n+        # two headers with valid POW at height 1 and 2, forking off from genesis. They are indicated by the FORK_PREFIX.\n+        FORK_PREFIX = 'fork:'\n+        self.headers = [l for l in h_lines if not l.startswith(FORK_PREFIX)]\n+        self.headers_fork = [l for l in h_lines if l.startswith(FORK_PREFIX)]\n+\n+        self.headers = [FromHex(CBlockHeader(), h) for h in self.headers]\n+        self.headers_fork = [FromHex(CBlockHeader(), h) for h in self.headers_fork]\n+\n+        self.log.info(\"Feed all non-fork headers\")\n+        self.nodes[0].add_p2p_connection(P2PInterface())\n+        self.nodes[0].p2p.send_message(msg_headers(self.headers))\n+        self.nodes[0].p2p.sync_with_ping()\n+        assert {\n+            'height': 546,\n+            'hash': '000000002a936ca763904c3c35fce2f3556c559c0214345d31b1bcebf76acb70',\n+            'branchlen': 546,\n+            'status': 'headers-only',\n+        } in self.nodes[0].getchaintips()\n+\n+        self.log.info(\"Feed all fork headers (fails)\")\n+        with self.nodes[0].assert_debug_log(['bad-fork-prior-to-checkpoint (code 67)']):\n+            self.nodes[0].p2p.send_message(msg_headers(self.headers_fork))\n+            self.nodes[0].p2p.wait_for_disconnect()\n+\n+        self.log.info(\"Feed all fork headers (succeeds)\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#discussion_r314771409",
      "id" : 314771409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDc3MTQwOQ==",
      "original_commit_id" : "fa0c247ed8bdc1c77c6b9fbb84813d08607d9cb7",
      "original_position" : 64,
      "path" : "test/functional/p2p_dos_header_tree.py",
      "position" : 64,
      "pull_request_review_id" : 276016447,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16551",
      "updated_at" : "2019-08-16T15:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314771409",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16551#discussion_r314772479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16551"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314772479"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: \"Feed headers of fork with less PoW (fails due to checkpoint)\"",
      "commit_id" : "fa0c247ed8bdc1c77c6b9fbb84813d08607d9cb7",
      "created_at" : "2019-08-16T15:29:23Z",
      "diff_hunk" : "@@ -0,0 +1,78 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that we reject low difficulty headers to prevent our block tree from filling up with useless bloat\"\"\"\n+\n+from test_framework.messages import (\n+    CBlockHeader,\n+    FromHex,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    msg_headers,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+import os\n+\n+\n+class RejectLowDifficultyHeadersTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.chain = 'testnet3'  # Use testnet chain because it has an early checkpoint\n+        self.num_nodes = 1\n+\n+    def add_options(self, parser):\n+        parser.add_argument(\n+            '--datafile',\n+            default='data/blockheader_testnet3.hex',\n+            help='Test data file (default: %(default)s)',\n+        )\n+\n+    def run_test(self):\n+        self.log.info(\"Read headers data\")\n+        self.headers_file_path = os.path.join(os.path.dirname(os.path.realpath(__file__)), self.options.datafile)\n+        with open(self.headers_file_path, encoding='utf-8') as headers_data:\n+            h_lines = [l.strip() for l in headers_data.readlines()]\n+\n+        # The headers data is taken from testnet3 for early blocks from genesis until the first checkpoint. There are\n+        # two headers with valid POW at height 1 and 2, forking off from genesis. They are indicated by the FORK_PREFIX.\n+        FORK_PREFIX = 'fork:'\n+        self.headers = [l for l in h_lines if not l.startswith(FORK_PREFIX)]\n+        self.headers_fork = [l for l in h_lines if l.startswith(FORK_PREFIX)]\n+\n+        self.headers = [FromHex(CBlockHeader(), h) for h in self.headers]\n+        self.headers_fork = [FromHex(CBlockHeader(), h) for h in self.headers_fork]\n+\n+        self.log.info(\"Feed all non-fork headers\")\n+        self.nodes[0].add_p2p_connection(P2PInterface())\n+        self.nodes[0].p2p.send_message(msg_headers(self.headers))\n+        self.nodes[0].p2p.sync_with_ping()\n+        assert {\n+            'height': 546,\n+            'hash': '000000002a936ca763904c3c35fce2f3556c559c0214345d31b1bcebf76acb70',\n+            'branchlen': 546,\n+            'status': 'headers-only',\n+        } in self.nodes[0].getchaintips()\n+\n+        self.log.info(\"Feed all fork headers (fails)\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#discussion_r314772479",
      "id" : 314772479,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDc3MjQ3OQ==",
      "original_commit_id" : "fa0c247ed8bdc1c77c6b9fbb84813d08607d9cb7",
      "original_position" : 59,
      "path" : "test/functional/p2p_dos_header_tree.py",
      "position" : 59,
      "pull_request_review_id" : 276016447,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16551",
      "updated_at" : "2019-08-16T15:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314772479",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16551#discussion_r314773400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16551"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314773400"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: \"Feed non-fork headers, up to and including the first checkpoint (succeeds)\"",
      "commit_id" : "fa0c247ed8bdc1c77c6b9fbb84813d08607d9cb7",
      "created_at" : "2019-08-16T15:31:10Z",
      "diff_hunk" : "@@ -0,0 +1,78 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test that we reject low difficulty headers to prevent our block tree from filling up with useless bloat\"\"\"\n+\n+from test_framework.messages import (\n+    CBlockHeader,\n+    FromHex,\n+)\n+from test_framework.mininode import (\n+    P2PInterface,\n+    msg_headers,\n+)\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+import os\n+\n+\n+class RejectLowDifficultyHeadersTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.chain = 'testnet3'  # Use testnet chain because it has an early checkpoint\n+        self.num_nodes = 1\n+\n+    def add_options(self, parser):\n+        parser.add_argument(\n+            '--datafile',\n+            default='data/blockheader_testnet3.hex',\n+            help='Test data file (default: %(default)s)',\n+        )\n+\n+    def run_test(self):\n+        self.log.info(\"Read headers data\")\n+        self.headers_file_path = os.path.join(os.path.dirname(os.path.realpath(__file__)), self.options.datafile)\n+        with open(self.headers_file_path, encoding='utf-8') as headers_data:\n+            h_lines = [l.strip() for l in headers_data.readlines()]\n+\n+        # The headers data is taken from testnet3 for early blocks from genesis until the first checkpoint. There are\n+        # two headers with valid POW at height 1 and 2, forking off from genesis. They are indicated by the FORK_PREFIX.\n+        FORK_PREFIX = 'fork:'\n+        self.headers = [l for l in h_lines if not l.startswith(FORK_PREFIX)]\n+        self.headers_fork = [l for l in h_lines if l.startswith(FORK_PREFIX)]\n+\n+        self.headers = [FromHex(CBlockHeader(), h) for h in self.headers]\n+        self.headers_fork = [FromHex(CBlockHeader(), h) for h in self.headers_fork]\n+\n+        self.log.info(\"Feed all non-fork headers\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#discussion_r314773400",
      "id" : 314773400,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDc3MzQwMA==",
      "original_commit_id" : "fa0c247ed8bdc1c77c6b9fbb84813d08607d9cb7",
      "original_position" : 48,
      "path" : "test/functional/p2p_dos_header_tree.py",
      "position" : 48,
      "pull_request_review_id" : 276016447,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16551",
      "updated_at" : "2019-08-16T15:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314773400",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> With and without checkpoints enabled I would expect this fork to be accepted if it's the first thing we see.\r\n\r\nAdded test case (and node 1). Also, fixed up your comment suggestions.",
      "created_at" : "2019-08-16T17:06:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-522081503",
      "id" : 522081503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjA4MTUwMw==",
      "updated_at" : "2019-08-16T17:06:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522081503",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for adding the node 1 example. Code review ACK 333317c",
      "created_at" : "2019-08-16T17:28:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16551#issuecomment-522088329",
      "id" : 522088329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16551",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjA4ODMyOQ==",
      "updated_at" : "2019-08-16T17:28:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522088329",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
