{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "Looking at script/descriptor.cpp, and the associated test file descriptor_tests.cpp, much of the code in descriptor.cpp is inside an anonymous namespace (AN). If I'm not mistaken, this makes functions accessible only within the translation unit corresponding to the source file they're defined in. Functions that are used in the test in descriptor_tests.cpp (such as the `Parse` function) are outside of the AN. I would like to use the `DescriptorChecksum` function from descriptor.cpp in a unit test, but it's inside the AN and thus inaccessible from descriptor_tests.cpp. I currently see three options:\r\n- `#include \"descriptor.cpp\"` at the top of descriptor_tests.cpp, which is ugly\r\n- Move the `DescriptorChecksum` function outside of the AN.\r\n- Leave it alone and find something else to unit test\r\n\r\nWhat's the best way to approach this?\r\n\r\nAlso - a lot of the code is inside ANs. Is there a special reason for this? Wouldn't it make sense to gradually move the code outside of ANs to make it more accessible to unit tests?",
   "closed_at" : "2019-08-01T16:44:00Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16517/comments",
   "created_at" : "2019-08-01T08:46:05Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16517/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/16517",
   "id" : 475554372,
   "labels" : [
      {
         "color" : "006688",
         "default" : false,
         "id" : 477890092,
         "name" : "Questions and Help",
         "node_id" : "MDU6TGFiZWw0Nzc4OTAwOTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help"
      },
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16517/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0NzU1NTQzNzI=",
   "number" : 16517,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Accessing function in anonymous namespace from a unit test",
   "updated_at" : "2019-08-01T16:44:00Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16517",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/5347350?v=4",
      "events_url" : "https://api.github.com/users/davereikher/events{/privacy}",
      "followers_url" : "https://api.github.com/users/davereikher/followers",
      "following_url" : "https://api.github.com/users/davereikher/following{/other_user}",
      "gists_url" : "https://api.github.com/users/davereikher/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/davereikher",
      "id" : 5347350,
      "login" : "davereikher",
      "node_id" : "MDQ6VXNlcjUzNDczNTA=",
      "organizations_url" : "https://api.github.com/users/davereikher/orgs",
      "received_events_url" : "https://api.github.com/users/davereikher/received_events",
      "repos_url" : "https://api.github.com/users/davereikher/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/davereikher/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/davereikher/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/davereikher"
   }
}
