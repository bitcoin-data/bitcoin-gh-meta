[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2019-08-07T18:29:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-519216431",
      "id" : 519216431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTIxNjQzMQ==",
      "updated_at" : "2020-01-30T13:31:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519216431",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r311799717"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311799717"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Return value is currently ignored, either make it `void` or `assert(result)`?",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-07T23:12:12Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)\n+    virtual bool prepareForTransport(CSerializedNetMsg& msg) = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r311799717",
      "id" : 311799717,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTc5OTcxNw==",
      "original_commit_id" : "586b0b3bf9bf1f71fcd2bba474b830c10658a2c0",
      "original_position" : 9,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 272274357,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311799717",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag: yes. You'r right. The insert/reallocation was stupid. Slighly changed the approach. It is now also avoiding the behavior change.\r\n\r\nAlso removed the unused return value (will eventually come back with the v2 implementation).",
      "created_at" : "2019-08-08T07:09:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-519396930",
      "id" : 519396930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTM5NjkzMA==",
      "updated_at" : "2019-08-08T07:09:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519396930",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314112055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314112055"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do you expect serializer to keep state between call and so need to clean it with a destructor? (or just a good practice)",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-14T22:32:12Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)\n+    virtual void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) = 0;\n+    virtual ~TransportSerializer() {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314112055",
      "id" : 314112055,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDExMjA1NQ==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 10,
      "path" : "src/net.h",
      "position" : 10,
      "pull_request_review_id" : 275185800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314112055",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314113214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314113214"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This change would mean we initialize serializer at `ConnectNode`/`AcceptConnection`, if we make an outbound connection, thanks to `NODE_P2P_V2` we can be sure to have right serializer, but in case of inbound we may need to update it. Maybe comment this logic here?",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-14T22:36:29Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)\n+    virtual void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) = 0;\n+    virtual ~TransportSerializer() {}\n+};\n+\n+class V1TransportSerializer  : public TransportSerializer {\n+public:\n+    void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header);\n+};\n \n /** Information about a peer */\n class CNode\n {\n     friend class CConnman;\n public:\n+    std::unique_ptr<TransportSerializer> m_serializer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314113214",
      "id" : 314113214,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDExMzIxNA==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 23,
      "path" : "src/net.h",
      "position" : 24,
      "pull_request_review_id" : 275185800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314113214",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314115186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314115186"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Comments could be better for public interfaces, parent class could list the abstract operations a transport protocol may realize like header construction, error-correction computation, payload encryption and then for transport subclass would list the concrete sequence of operations implemented? ",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-14T22:43:46Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314115186",
      "id" : 314115186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDExNTE4Ng==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 8,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 275185800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314115186",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314209934"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314209934"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be `override`?",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-15T08:03:25Z",
      "diff_hunk" : "@@ -690,6 +690,19 @@ const uint256& CNetMessage::GetMessageHash() const\n     return data_hash;\n }\n \n+void V1TransportSerializer::prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314209934",
      "id" : 314209934,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDIwOTkzNA==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 4,
      "path" : "src/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 275304592,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314209934",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314303709"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314303709"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for the comment.\r\nYour concerns are valid but not part of this PR.\r\nFor a BIP324 (NODE_P2P_V2) inbound connection (also outbound) we always start with a V1 serializer/deserializer to perform the handshake. I think the handshake/a.k.a. protocol upgrade belongs to the V1 protocol.\r\n\r\nOnce the handshake has been completed, we exchange the node objects serializer/deserializer with a V2 instance.",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-15T13:21:17Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)\n+    virtual void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) = 0;\n+    virtual ~TransportSerializer() {}\n+};\n+\n+class V1TransportSerializer  : public TransportSerializer {\n+public:\n+    void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header);\n+};\n \n /** Information about a peer */\n class CNode\n {\n     friend class CConnman;\n public:\n+    std::unique_ptr<TransportSerializer> m_serializer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314303709",
      "id" : 314303709,
      "in_reply_to_id" : 314113214,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDMwMzcwOQ==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 23,
      "path" : "src/net.h",
      "position" : 24,
      "pull_request_review_id" : 275422865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314303709",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314317248"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314317248"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Slightly improved...",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-15T13:53:48Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314317248",
      "id" : 314317248,
      "in_reply_to_id" : 314115186,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDMxNzI0OA==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 8,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 275440409,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314317248",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314317330"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314317330"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks. Fixed.",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-15T13:54:00Z",
      "diff_hunk" : "@@ -690,6 +690,19 @@ const uint256& CNetMessage::GetMessageHash() const\n     return data_hash;\n }\n \n+void V1TransportSerializer::prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314317330",
      "id" : 314317330,
      "in_reply_to_id" : 314209934,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDMxNzMzMA==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 4,
      "path" : "src/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 275440525,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314317330",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314336313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314336313"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You mean the handshake belongs to the V1 protocol because we are using V1 messages to exchange 32-byte public keys between initiator/responder as defined in V2 BIP ? That makes sense and it's already implicit in the BIP, \"After a successful handshake, messages MUST use the \"v2 messages structure\", but maybe put a word about this at the beginning of handshake section, just to be really obvious.",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-15T14:34:58Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)\n+    virtual void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) = 0;\n+    virtual ~TransportSerializer() {}\n+};\n+\n+class V1TransportSerializer  : public TransportSerializer {\n+public:\n+    void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header);\n+};\n \n /** Information about a peer */\n class CNode\n {\n     friend class CConnman;\n public:\n+    std::unique_ptr<TransportSerializer> m_serializer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314336313",
      "id" : 314336313,
      "in_reply_to_id" : 314113214,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDMzNjMxMw==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 23,
      "path" : "src/net.h",
      "position" : 24,
      "pull_request_review_id" : 275464983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314336313",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314356997"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314356997"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since we keep the instances in an std::unique_ptr, we need to have a virtual destructor.",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2019-08-15T15:13:35Z",
      "diff_hunk" : "@@ -614,12 +614,27 @@ class CNetMessage {\n     int readData(const char *pch, unsigned int nBytes);\n };\n \n+/** The TransportSerializer prepares messages for the network transport\n+ */\n+class TransportSerializer {\n+public:\n+    // prepare message for transport (insert header, etc.)\n+    virtual void prepareForTransport(CSerializedNetMsg& msg, std::vector<unsigned char>& header) = 0;\n+    virtual ~TransportSerializer() {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r314356997",
      "id" : 314356997,
      "in_reply_to_id" : 314112055,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxNDM1Njk5Nw==",
      "original_commit_id" : "b840e424f55c354f0eff4f0aa131ab98d6b0a277",
      "original_position" : 10,
      "path" : "src/net.h",
      "position" : 10,
      "pull_request_review_id" : 275490567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-01-30T10:31:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/314356997",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-28T14:39:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-546976591",
      "id" : 546976591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Njk3NjU5MQ==",
      "updated_at" : "2019-10-28T14:39:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546976591",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased this PR for you as well: https://github.com/bitcoin/bitcoin/compare/master...dongcarl:2020-01-net_refactor_2-rebased",
      "created_at" : "2020-01-22T20:01:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-577360291",
      "id" : 577360291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NzM2MDI5MQ==",
      "updated_at" : "2020-01-22T20:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577360291",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @dongcarl. Pushed your rebased version.",
      "created_at" : "2020-01-30T10:32:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-580189960",
      "id" : 580189960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MDE4OTk2MA==",
      "updated_at" : "2020-01-30T10:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/580189960",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 16d6113f4faa901e248adb693d4768a9e5019a16 FWIW\r\n\r\n-----\r\nPossible followup:\r\n\r\nAdd properly formatted Doxygen comments (something like what's already in the abstract class) for, and/or rename `TransportSerializer::prepareForTransport` as the name can be misinterpreted as: \"do ***everything*** that we need to do before we send it to transport layer.\"",
      "created_at" : "2020-02-04T18:18:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-582045415",
      "id" : 582045415,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MjA0NTQxNQ==",
      "updated_at" : "2020-02-04T18:27:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/582045415",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK 16d6113\r\n\r\n> I'm not exactly sure which should be used here(they should be the same but maybe there's some DOS vector i'm missing)\r\n\r\n@elichai I don't think there is a risk of DoS here, `serializerHeader` as all `CMessageHeader` components have a fixed-length. Bandwidth-DoS is already left unbounded (see default of `-maxuploadtarget`)",
      "created_at" : "2020-02-25T01:34:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-590636105",
      "id" : 590636105,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MDYzNjEwNQ==",
      "updated_at" : "2020-02-25T01:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590636105",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r385281785"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/385281785"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason this needs to call the copy(or move) constructor?\r\n```suggestion\r\n    m_serializer = MakeUnique<V1TransportSerializer>();\r\n```",
      "commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "created_at" : "2020-02-27T18:09:48Z",
      "diff_hunk" : "@@ -2703,6 +2716,7 @@ CNode::CNode(NodeId idIn, ServiceFlags nLocalServicesIn, int nMyStartingHeightIn\n     }\n \n     m_deserializer = MakeUnique<V1TransportDeserializer>(V1TransportDeserializer(Params().MessageStart(), SER_NETWORK, INIT_PROTO_VERSION));\n+    m_serializer = MakeUnique<V1TransportSerializer>(V1TransportSerializer());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#discussion_r385281785",
      "id" : 385281785,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4MTc4NQ==",
      "original_commit_id" : "16d6113f4faa901e248adb693d4768a9e5019a16",
      "original_position" : 24,
      "path" : "src/net.cpp",
      "position" : 24,
      "pull_request_review_id" : 365883979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16562",
      "updated_at" : "2020-02-27T18:14:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/385281785",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Any chance we can move forward with the `V1TransportSerializer` fuzzer in #17771 to get additional robustness testing of this code before proceeding with the `V1TransportSerializer` refactoring(s)?\r\n\r\nIt should hopefully be trivial to review :)",
      "created_at" : "2020-02-27T18:29:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-592108283",
      "id" : 592108283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MjEwODI4Mw==",
      "updated_at" : "2020-02-27T18:29:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/592108283",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift: are you working on fuzz testing the serializing part?",
      "created_at" : "2020-03-02T10:00:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-593320569",
      "id" : 593320569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzMyMDU2OQ==",
      "updated_at" : "2020-03-02T10:00:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593320569",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @practicalswift: are you working on fuzz testing the serializing part?\r\n\r\n@jonasschnelli: I've attempt to extend the test to serialization in #22029. I've also discovered that the deserialization does not proceed 60-70% of the time due to a failed checksum test. Will try to address that and increase coverage in another commit this week.",
      "created_at" : "2021-05-24T14:20:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16562#issuecomment-847075641",
      "id" : 847075641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16562",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NzA3NTY0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-24T14:20:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847075641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   }
]
