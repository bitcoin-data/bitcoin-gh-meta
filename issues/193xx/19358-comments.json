[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23077](https://github.com/bitcoin/bitcoin/pull/23077) (Full CJDNS support by vasild)\n* [#22651](https://github.com/bitcoin/bitcoin/pull/22651) (tor: respect non-onion -onlynet= for outgoing Tor connections by vasild)\n* [#15423](https://github.com/bitcoin/bitcoin/pull/15423) (torcontrol: Query Tor for correct -onion configuration by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-23T09:51:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-648036330",
      "id" : 648036330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0ODAzNjMzMA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/648036330/reactions"
      },
      "updated_at" : "2021-10-27T21:55:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/648036330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r446993600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446993600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this should also log when `SetProxy` fails, as It means there is a bug in the software. After all it tries to set a hardcoded value which *should* never fail.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-06-29T13:59:52Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses\n         // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Or if we have already an outbound proxy defined. we skip this footgun gracefully.\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion)) {\n             CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            addrOnion = proxyType(resolved, gArgs.GetBoolArg(\"-proxyrandomize\", true));\n+            if (SetProxy(NET_ONION, addrOnion)) {\n+                LogPrintf(\"tor: Default outbound tor .onion address proxy is set to 127.0.0.1:9050\\n\");\n+                SetReachable(NET_ONION, true);\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r446993600",
      "id" : 446993600,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5MzYwMA==",
      "original_commit_id" : "e83815d1fbe3985aa68d9b913379861be5506734",
      "original_line" : 542,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 439172649,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446993600",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r446994541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446994541"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please log to the right category:\r\n```c++\r\nLogPrint(BCLog::TOR, \"tor: Default outbound tor .onion address proxy is set to 127.0.0.1:9050\\n\");\r\n```",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-06-29T14:01:11Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses\n         // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Or if we have already an outbound proxy defined. we skip this footgun gracefully.\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion)) {\n             CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            addrOnion = proxyType(resolved, gArgs.GetBoolArg(\"-proxyrandomize\", true));\n+            if (SetProxy(NET_ONION, addrOnion)) {\n+                LogPrintf(\"tor: Default outbound tor .onion address proxy is set to 127.0.0.1:9050\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r446994541",
      "id" : 446994541,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5NDU0MQ==",
      "original_commit_id" : "e83815d1fbe3985aa68d9b913379861be5506734",
      "original_line" : 533,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 439173910,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446994541",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, good catch.\r\n\r\nConcept ACK on the doc change as well. Though I'd suggest not refering to \"nameproxy\" as that's an internal implementation detail. I think the gist is:\r\n```patch\r\n+                       Note: Only the -proxy option will set the proxy used for DNS requests.\r\n+                       With this option these will not route over Tor.\r\n+                       So please use -proxy if you have privacy concerns with this.\r\n```\r\nThis is the case because `-onion` is for multi-network nodes. You *only* want to use this option if you want your node to be able to connect to hidden services *as well*. Otherwise, always use `-proxy`.\r\n\r\nBTW: as you found, the go-to document for configuring bitcoin over tor is `doc/tor.md`. It suggests using `-proxy` to route everything over tor. At some point it might make sense to refer to that instead of trying to cram everything in the option help.\r\n\r\n> And indeed the -onlynet flags are clearly disregarded in respect to onions since #7553. \r\n\r\nLast time I checked,  `onlynet=onion` still works, in combination with `proxy=127.0.0.1:9050`, to only make outgoing connections to onion peers.\r\n",
      "created_at" : "2020-06-29T14:12:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-651148819",
      "id" : 651148819,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTE0ODgxOQ==",
      "updated_at" : "2020-06-29T14:12:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651148819",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Last time I checked, `onlynet=onion` still works, in combination with `proxy=127.0.0.1:9050`, to only make outgoing connections to onion peers.\r\n\r\nthx, hmm, lets put it that way. Suppose a user selects -onlynet=ipv4 selects -listen  and  -proxy or none. I guess the least thing a human would expect in that case, is that the node would use a forgotten open existing tor port, to kindly out and inbound route onion traffic.\r\nSo i vote for an additional PR in line with #14425.\r\n\r\nThe more elleborate tor,md change when merged including your suggestions, at least warn now the user off this implications with the options use, but honestly, would you expect\r\na pure` bitcoind -listen -onlynet=ipv4 ` node would ever connect outbound *automatic* to tor ? \r\n\r\nFact is, exactly that happens, a node that had an onion tor past and knows some onions, even later with a pure -onlynet=ipv4 conf, will open automatic outbound to those onions over tor, if a configed tor lingers forgotten or not  on that cruft.\r\n\r\n Ì¶IÌ¶tÌ¶sÌ¶ Ì¶nÌ¶oÌ¶tÌ¶ Ì¶eÌ¶aÌ¶sÌ¶yÌ¶ Ì¶tÌ¶oÌ¶ Ì¶cÌ¶rÌ¶aÌ¶fÌ¶tÌ¶ Ì¶nÌ¶oÌ¶dÌ¶eÌ¶sÌ¶ Ì¶tÌ¶oÌ¶ Ì¶dÌ¶oÌ¶ Ì¶tÌ¶hÌ¶iÌ¶sÌ¶ Ì¶iÌ¶nÌ¶ Ì¶aÌ¶ Ì¶oÌ¶nÌ¶eÌ¶ Ì¶sÌ¶hÌ¶oÌ¶tÌ¶ Ì¶tÌ¶eÌ¶sÌ¶tÌ¶ Ì¶sÌ¶eÌ¶tÌ¶uÌ¶pÌ¶,Ì¶ Ì¶IÌ¶ Ì¶tÌ¶rÌ¶yÌ¶ Ì¶tÌ¶oÌ¶ Ì¶pÌ¶oÌ¶sÌ¶tÌ¶ Ì¶hÌ¶eÌ¶rÌ¶eÌ¶ Ì¶aÌ¶ Ì¶bÌ¶aÌ¶sÌ¶hÌ¶ Ì¶sÌ¶cÌ¶rÌ¶iÌ¶pÌ¶tÌ¶ Ì¶tÌ¶hÌ¶aÌ¶tÌ¶ Ì¶dÌ¶oÌ¶eÌ¶sÌ¶ Ì¶tÌ¶hÌ¶eÌ¶ Ì¶sÌ¶tÌ¶eÌ¶pÌ¶sÌ¶,Ì¶ Ì¶sÌ¶iÌ¶nÌ¶cÌ¶eÌ¶ Ì¶tÌ¶hÌ¶aÌ¶tÌ¶ Ì¶iÌ¶sÌ¶ Ì¶aÌ¶ Ì¶bÌ¶iÌ¶tÌ¶ Ì¶rÌ¶eÌ¶lÌ¶aÌ¶tÌ¶eÌ¶dÌ¶ Ì¶tÌ¶oÌ¶ Ì¶wÌ¶hÌ¶aÌ¶tÌ¶ Ì¶wÌ¶eÌ¶ Ì¶fÌ¶iÌ¶xÌ¶ Ì¶hÌ¶eÌ¶rÌ¶eÌ¶,Ì¶ Ì¶mÌ¶iÌ¶gÌ¶hÌ¶tÌ¶ Ì¶bÌ¶eÌ¶ Ì¶tÌ¶hÌ¶eÌ¶ Ì¶rÌ¶iÌ¶gÌ¶hÌ¶tÌ¶ Ì¶pÌ¶lÌ¶aÌ¶cÌ¶eÌ¶?Ì¶   \r\n\r\nIts a *d-feature*?. although u need some patience i.e. if you do just ``` bitcoind -onlynet=ipv6 ```-listen on such node with forgotten working tor, that had fw or poor ipv6 outbound after some time since almost all hardcoded v2 onions are broken AFAICS only 3 of them work.the rng will roundabout 1 hours later have found a working one and _automatic_ outbound connect over tor, *what a magic.!*     \r\n ",
      "created_at" : "2020-06-30T16:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-651894425",
      "id" : 651894425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTg5NDQyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-05T15:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651894425",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457040394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457040394"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/,ipv6/, ipv6/",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-07-20T04:34:15Z",
      "diff_hunk" : "@@ -29,8 +34,13 @@ outgoing connections, but more is possible.\n \n \t-onlynet=onion  Make outgoing connections only to .onion addresses. Incoming\n \t                connections are not affected by this option. This option can be\n-\t                specified multiple times to allow multiple network types, e.g.\n-\t                ipv4, ipv6, or onion.\n+\t                specified multiple times to define a set of general allowed network\n+\t                types, e.g. ipv4,ipv6 or onion. If you use this option",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457040394",
      "id" : 457040394,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA0MDM5NA==",
      "original_commit_id" : "463314b1271373c72f5bf7ea81c8ce66898e6d8f",
      "original_line" : 38,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "doc/tor.md",
      "position" : null,
      "pull_request_review_id" : 451289717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457040394",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457040991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457040991"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: while here, can you please touch this up to add a missing comma and fix \"setup\", which is a noun but not a verb:\r\n\r\n`s/running setup/running, set up/`",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-07-20T04:35:42Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457040991",
      "id" : 457040991,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA0MDk5MQ==",
      "original_commit_id" : "463314b1271373c72f5bf7ea81c8ce66898e6d8f",
      "original_line" : 525,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 451289717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457040991",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457042473"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457042473"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        // Or if an outbound proxy is already defined, we can skip this gracefully.\r\n```",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-07-20T04:39:10Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses\n         // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Or if we have already an outbound proxy defined. we skip this footgun gracefully.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457042473",
      "id" : 457042473,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA0MjQ3Mw==",
      "original_commit_id" : "463314b1271373c72f5bf7ea81c8ce66898e6d8f",
      "original_line" : 527,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 451289717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457042473",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457048910"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457048910"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            } else {\r\n                LogPrint(BCLog::TOR, \"tor: Failed to create default outbound tor .onion address proxy for 127.0.0.1:9050\\n\");\r\n            }\r\n```",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-07-20T04:53:59Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses\n         // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Or if we have already an outbound proxy defined. we skip this footgun gracefully.\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion)) {\n             CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            addrOnion = proxyType(resolved, gArgs.GetBoolArg(\"-proxyrandomize\", true));\n+            if (SetProxy(NET_ONION, addrOnion)) {\n+                LogPrint(BCLog::TOR, \"tor: Default outbound tor .onion address proxy is set to 127.0.0.1:9050\\n\");\n+                SetReachable(NET_ONION, true);\n+            } else LogPrint(BCLog::TOR, \"tor: Error default outbound tor .onion address proxy for 127.0.0.1:9050 failed to create\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457048910",
      "id" : 457048910,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA0ODkxMA==",
      "original_commit_id" : "463314b1271373c72f5bf7ea81c8ce66898e6d8f",
      "original_line" : 535,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 451289717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457048910",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457941757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457941757"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thx, had run it trough clang-format-diff and it also re-formated the net enum,  will come up with test and clang-diff fixup push that we that can autosquash ... , if you want to be co, i could commit the suggest as is, since i see it the same way, my while dev sarcasm comments must not be merged in the final version?",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-07-21T08:54:07Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses\n         // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Or if we have already an outbound proxy defined. we skip this footgun gracefully.\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion)) {\n             CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            addrOnion = proxyType(resolved, gArgs.GetBoolArg(\"-proxyrandomize\", true));\n+            if (SetProxy(NET_ONION, addrOnion)) {\n+                LogPrint(BCLog::TOR, \"tor: Default outbound tor .onion address proxy is set to 127.0.0.1:9050\\n\");\n+                SetReachable(NET_ONION, true);\n+            } else LogPrint(BCLog::TOR, \"tor: Error default outbound tor .onion address proxy for 127.0.0.1:9050 failed to create\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457941757",
      "id" : 457941757,
      "in_reply_to_id" : 457048910,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk0MTc1Nw==",
      "original_commit_id" : "463314b1271373c72f5bf7ea81c8ce66898e6d8f",
      "original_line" : 535,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 452257173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457941757",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457944217"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457944217"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Also i think about, split the tor.md from this PR since wording yields always to intensive discussion. ",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-07-21T08:57:56Z",
      "diff_hunk" : "@@ -524,11 +524,15 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n \n         // Now that we know Tor is running setup the proxy for onion addresses\n         // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n+        // Or if we have already an outbound proxy defined. we skip this footgun gracefully.\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion)) {\n             CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n+            addrOnion = proxyType(resolved, gArgs.GetBoolArg(\"-proxyrandomize\", true));\n+            if (SetProxy(NET_ONION, addrOnion)) {\n+                LogPrint(BCLog::TOR, \"tor: Default outbound tor .onion address proxy is set to 127.0.0.1:9050\\n\");\n+                SetReachable(NET_ONION, true);\n+            } else LogPrint(BCLog::TOR, \"tor: Error default outbound tor .onion address proxy for 127.0.0.1:9050 failed to create\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r457944217",
      "id" : 457944217,
      "in_reply_to_id" : 457048910,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk0NDIxNw==",
      "original_commit_id" : "463314b1271373c72f5bf7ea81c8ce66898e6d8f",
      "original_line" : 535,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 452260298,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457944217",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept NACK, I think... If we're using -torcontrol, it makes sense to override -proxy (which is primarily for non-onion connections, and only used as a default for onions if no other is specified).\r\n> \r\n> Perhaps a better alternative would be to disable -torcontrol (parameter interaction) if -proxy or -onion are set?\r\n\r\nI thought also about your suggestion, but dismissed that, since we have more problems that we should solve.\r\n\r\nIf you say pure -onion how to make sure the node does not dox the hidden service when the nameproxy is only selected by -proxy?  And -onlynet=onion had never worked for seeds since they use ipv4 connect and dns anyway in disregard of any conf and when you say -dns they resolve over tor and with 5 known correlated seeders on bootstrap you are doxed again.\r\nAnd then when you say -dnseed=0,  after one hour or so when you least expect it the random conman selects one of the 3 only active fixed seed onions, oops doxed again. What is build here is the prefect catch22.  \r\n\r\nPls look also at #14425 and the patch for -onlynet i posted there,\r\nThe status quo should change anyway and i am open for suggestions, But when -torcontrol would override -proxy in general that was introduced when tor was enabled to make outbound sock5 onion connections, i see not really why we should mix inbound -torcontrol configurations with outbound proxy that cloud be a remote tor cruft  not in any way related to the local tor service port. \r\n     \r\nAlso #19043 -tortarget should be seen in that whole tor setup logic it make from a privacy perspective prefect sense to add such an option as you can easy forward over tor the hidden service from an other cruft, what makes things even more interesting if you want to have tx and mempool fill,  uncorrelated to your normal node operations and somewhat quasi on the fly could enable this,.\r\n\r\nCloud you outline how you would see the tor implementation work?\r\nWant we have now is not in line with the documentation, so we have to change anyway.\r\nAnd since our implementation with the keys stored permanent is as ephemeral as the holy night.\r\nI would like to mention here that we have with the Tor browser a stress free on click way to generate new hidden true ephemeral services on the fly i.e. over 9150/51 for posting as temp 3D code for short inbound. I guess something you would like to have from an other PR of yours. What is a good idea and nice to have..\r\n.\r\nso hmm.. what now?. \r\n     \r\n\r\n",
      "created_at" : "2020-07-24T14:28:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-663566338",
      "id" : 663566338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MzU2NjMzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-24T14:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663566338",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-08-09T14:16:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-671057239",
      "id" : 671057239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3MTA1NzIzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-09T14:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671057239",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "changed hidden to onion and rebased https://github.com/bitcoin/bitcoin/pull/19358/commits/468c60c5ed908ca8029db241b75aa8f893866c74 https://github.com/bitcoin/bitcoin/pull/19358/commits/654dc04b67a44199352a1b25494c9d617cd090bc",
      "created_at" : "2020-08-15T12:42:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-674392034",
      "id" : 674392034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDM5MjAzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-15T12:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674392034",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested 654dc04b67a44199352a1b25494c9d617cd090bc, does indeed fix #14722. This is obviously a better fix than #14729.",
      "created_at" : "2020-09-29T01:27:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-700369920",
      "id" : 700369920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDM2OTkyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-29T01:27:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700369920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15707061?v=4",
         "events_url" : "https://api.github.com/users/qubenix/events{/privacy}",
         "followers_url" : "https://api.github.com/users/qubenix/followers",
         "following_url" : "https://api.github.com/users/qubenix/following{/other_user}",
         "gists_url" : "https://api.github.com/users/qubenix/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/qubenix",
         "id" : 15707061,
         "login" : "qubenix",
         "node_id" : "MDQ6VXNlcjE1NzA3MDYx",
         "organizations_url" : "https://api.github.com/users/qubenix/orgs",
         "received_events_url" : "https://api.github.com/users/qubenix/received_events",
         "repos_url" : "https://api.github.com/users/qubenix/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/qubenix/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/qubenix/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/qubenix"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This is obviously a better fix than #14729.\r\n\r\nThanks for testing @qubenix. I'll close #14729.",
      "created_at" : "2020-09-29T06:38:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-700484010",
      "id" : 700484010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDQ4NDAxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-29T06:38:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700484010",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Saibato note that you also need to [remove any @ mentions from your commit messages](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#committing-patches), 654dc04b67a44199352a1b25494c9d617cd090bc in this case. Otherwise those users will likely be spammed with mentions on GitHub.",
      "created_at" : "2020-09-29T06:44:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-700486460",
      "id" : 700486460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDQ4NjQ2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-29T06:44:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700486460",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased  and changed the commit messages of c40a121 and   https://github.com/bitcoin/bitcoin/pull/19358/commits/efacd5f4f921e46652c4ef0ae83cadd782395793\r\nlike @fanquake suggested.\r\n\r\nBtw; the more \"correct\" PR description should be.\r\n**torcontrol :do not override silent behind the back of the user with default proxy settings in hidden service, if the user has chosen other settings according with the wording in the docs** ",
      "created_at" : "2020-09-30T08:51:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-701256073",
      "id" : 701256073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTI1NjA3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-30T08:51:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701256073",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> t leads to behavior like ...\r\n\r\n@hebasto  U right, only at first glance it seams the right and only possible place since you can not know in **init** if the async call fails or succeeds\r\nMight also be the reason no one saw that for a long time at first glance when reviewing ie. `src/init.cpp` that setting the proxy would be overruled later.\r\nits a real mess and we should assume shit happens.\r\nAnd now we fix it. \r\n\r\nI will push an alternative that try's to solves that partly in` `init.cpp`. by assuming a partly successful call and place a comment there that we set the final proxy when we return the socket and announce the address. \r\n\r\nBtw: now that #19991 is merged this driveby hook in torcontrol is anyway double effort\r\nThe 3 letters should and can now use the standardized  htonl hook like in any other inet socket app if they sneaky and as good netiysens i guess its the inevitable right thing in therms of compatibility with there monitor software suites and the KYC demands core will face anyway.\r\nAlthough this torcontrol mess was quite funny and original.\r\nedit@saibato: obviously some sarcasm here but when i found out about how Tor is used in conjunction with the option implications over all those years and how seeding works at first start, that was like :eyes:  :woman_facepalming:   :eyes:",
      "created_at" : "2020-10-04T16:54:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-703283782",
      "id" : 703283782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzI4Mzc4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-06T09:19:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703283782",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased https://github.com/bitcoin/bitcoin/pull/19358/commits/2b9572bf298ca9d4307ec7fe3f5ab8aba4f15e7f and renamed the PR and changed the pr commit message and stripped the doc https://github.com/bitcoin/bitcoin/commit/efacd5f4f921e46652c4ef0ae83cadd782395793 from the PR in favor of a new tor doc PR",
      "created_at" : "2020-10-06T08:58:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-704131231",
      "id" : 704131231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNDEzMTIzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-06T08:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704131231",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased fixup commit https://github.com/bitcoin/bitcoin/commit/2b9572bf298ca9d4307ec7fe3f5ab8aba4f15e7f we now init the outbound proxy in` init.cpp` \r\nAddressed also review comment from @hebasto \r\nIt leaves torcontrol to solely do inbound stuff and init;s the outbound stuff in ` init.cpp`\r\n\r\n\r\nIts also now a replacement for #14425 and fixes #13378\r\n\r\nThe PR differs now much from the original PR so friendly ping also to @qubenix @wodry  @laanwj @jonatack  @luke-jr   ",
      "created_at" : "2020-10-06T11:59:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-704219927",
      "id" : 704219927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNDIxOTkyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-06T12:27:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704219927",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500245277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500245277"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Isn't this removal sufficient to fix https://github.com/bitcoin/bitcoin/issues/14722?",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-06T12:45:22Z",
      "diff_hunk" : "@@ -527,15 +527,6 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n-            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n-        }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500245277",
      "id" : 500245277,
      "line" : 538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI0NTI3Nw==",
      "original_commit_id" : "293c35c82dedd98393df6c180a5ffdf1aff18c89",
      "original_line" : 538,
      "original_position" : 12,
      "original_start_line" : 530,
      "path" : "src/torcontrol.cpp",
      "position" : 13,
      "pull_request_review_id" : 502899092,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "LEFT",
      "start_line" : 530,
      "start_side" : "LEFT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500245277",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500257017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500257017"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "in some sense yes, i would also feel better to just remove this since something like this was anyway somehow without the users explicit consent.\r\nBut i guess the main concern was to leak ip, if there is no proxy, but the implementation we had now for years was sub optimal at best.\r\n\r\nIf we can find there common ground to have by default no outbound Tor socks proxy, i am fine with this to just remove this. :-). \r\nOn the other hand from privacy point it might be good to only generate inbound onion services, if there is a Tor proxy set, to not leak ip.\r\nAnd maybe do a hint comment to the users to encourage them to define at least -proxy= and write some hints in the docs.\r\n\r\nAnd then do an extra PR for the -onlynet=onion.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-06T13:02:52Z",
      "diff_hunk" : "@@ -527,15 +527,6 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n-            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n-        }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500257017",
      "id" : 500257017,
      "in_reply_to_id" : 500245277,
      "line" : 538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI1NzAxNw==",
      "original_commit_id" : "293c35c82dedd98393df6c180a5ffdf1aff18c89",
      "original_line" : 538,
      "original_position" : 12,
      "original_start_line" : 530,
      "path" : "src/torcontrol.cpp",
      "position" : 13,
      "pull_request_review_id" : 502914844,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "LEFT",
      "start_line" : 530,
      "start_side" : "LEFT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500257017",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500269343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500269343"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@vasild  thx for also looking at this. u might also notice that since -listenonion is the default, i am thinking right now, why not just create the service if we have a proxy in first place?\r\n\r\nBitcoin's net is now big enough and we no longer need to create random onions to grow the net, so if -listenonion is removed as default we would have a bit more privacy and a clear torcontrol api.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-06T13:20:04Z",
      "diff_hunk" : "@@ -527,15 +527,6 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n-            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n-        }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500269343",
      "id" : 500269343,
      "in_reply_to_id" : 500245277,
      "line" : 538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI2OTM0Mw==",
      "original_commit_id" : "293c35c82dedd98393df6c180a5ffdf1aff18c89",
      "original_line" : 538,
      "original_position" : 12,
      "original_start_line" : 530,
      "path" : "src/torcontrol.cpp",
      "position" : 13,
      "pull_request_review_id" : 502943087,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "LEFT",
      "start_line" : 530,
      "start_side" : "LEFT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500269343",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500280721"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500280721"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Correct me if I am wrong, if only the above code snippet is removed (no other changes), then the behavior will be:\r\n\r\n`-proxy=` provided | `-onion=` provided | outcome\r\n---|---|---\r\nno | no | outgoing tor connections are not possible\r\nno | yes | outgoing tor connections will be made via the proxy provided in `-onion=`\r\nyes | no | outgoing tor connections will be made via the proxy provided in`-proxy=` (`-onion=` defaults to `-proxy=`)\r\nyes | yes | outgoing tor connections will be made via the proxy provided in `-onion=`\r\n\r\nregardless of whether `-torcontrol=` is provided or not. Which to me makes perfect sense. Users that want to avoid clearnet outgoing connections should set `-proxy=` to the tor socks5 proxy.\r\n\r\nI think fixing `-onlynet=` is a separate issue and warrants a separate PR.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-06T13:34:20Z",
      "diff_hunk" : "@@ -527,15 +527,6 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n-            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n-        }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500280721",
      "id" : 500280721,
      "in_reply_to_id" : 500245277,
      "line" : 538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI4MDcyMQ==",
      "original_commit_id" : "293c35c82dedd98393df6c180a5ffdf1aff18c89",
      "original_line" : 538,
      "original_position" : 12,
      "original_start_line" : 530,
      "path" : "src/torcontrol.cpp",
      "position" : 13,
      "pull_request_review_id" : 502967098,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "LEFT",
      "start_line" : 530,
      "start_side" : "LEFT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500280721",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500431792"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500431792"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Makes sense and i addressed ur suggestion.\r\n\r\nWe now will not create the default outbound proxy and fix by that also the issue and dump a reminder in log  that the user might leak his ip when no proxy is defined and the service call succeeds later somehow on purpose or i.e. when he enables Tor and the node runs already with listenonion, so at least better than the old footgun.\r\n\r\nAnd since we now do not override -onlynet in torcontrol even in that regard better than what we had since years.\r\n",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-06T16:23:16Z",
      "diff_hunk" : "@@ -527,15 +527,6 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n-            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n-        }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500431792",
      "id" : 500431792,
      "in_reply_to_id" : 500245277,
      "line" : 538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQzMTc5Mg==",
      "original_commit_id" : "293c35c82dedd98393df6c180a5ffdf1aff18c89",
      "original_line" : 538,
      "original_position" : 12,
      "original_start_line" : 530,
      "path" : "src/torcontrol.cpp",
      "position" : 13,
      "pull_request_review_id" : 503145214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "LEFT",
      "start_line" : 530,
      "start_side" : "LEFT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500431792",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500873589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500873589"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think just `!GetProxy(NET_ONION, addrOnion)` is enough. If the second expression is `true` then for sure the first one is `true` too.\r\n\r\nBut more importantly, I think this log message is unnecessary - the fact that a node is running a tor onion service does not mean they want to hide their IP address from the world. I guess `-onlynet=onion` implies that.\r\n\r\nAnd even if we want to log a message - the above logic is flawed because we would not log it if `-onion=` is provided but `-proxy=` is not and thus the node would make outgoing IPv4 connections directly (revealing its IP address).",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-07T09:35:35Z",
      "diff_hunk" : "@@ -1975,6 +1975,10 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n             InitWarning(strprintf(_(\"More than one onion bind address is provided. Using %s for the automatically created Tor onion service.\"), bind_addr.ToStringIPPort()));\n         }\n         StartTorControl(bind_addr);\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion) ) {\n+            LogPrintf(\"Tor: reminder: listenonion is not disabled and an outbound Tor proxy is not defined, that could leak your ip\\n\");\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500873589",
      "id" : 500873589,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg3MzU4OQ==",
      "original_commit_id" : "8a6d636c60fbf6ed847ec61ae08ee6d5ca8feee9",
      "original_line" : 1986,
      "original_position" : 7,
      "original_start_line" : 1979,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 503697410,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500873589",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500906678"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500906678"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In my view Its the other way around , the first might be false like u noticed and the user wants to leak his ip with -onion? \r\nSince -onion is always without nameproxy and the user must know that that leaks anyway.\r\nSo i thought we should not warn him when he wish for that.\r\n\r\nTo have no -proxy set is in my view more concerning.\r\nAt least with deleting the nameproxy leaking  version by default we had until now\r\nwe overall are better off with ur suggestion to delete it at all. \r\n\r\nThere is no clean solution, when we say -listenonion by default.\r\neven if we use  `IsReachable(NET_ONION) `we could not skip all cases, since all nets are on by default.\r\n\r\nLike i said in an other PR its a mess and we should fix it before the transition to v3.\r\nNot even thinking about seeding and the -onlynet flags, its doxing mess wherever u dig deep.\r\nIts almost often counter intuitive crafted and the reverse of what u define with some *privacy* options.   \r\nedit@saibato \r\n\r\n> I think just !GetProxy(NET_ONION, addrOnion) is enough    \r\n \r\nyes.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-07T10:31:07Z",
      "diff_hunk" : "@@ -1975,6 +1975,10 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n             InitWarning(strprintf(_(\"More than one onion bind address is provided. Using %s for the automatically created Tor onion service.\"), bind_addr.ToStringIPPort()));\n         }\n         StartTorControl(bind_addr);\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion) ) {\n+            LogPrintf(\"Tor: reminder: listenonion is not disabled and an outbound Tor proxy is not defined, that could leak your ip\\n\");\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500906678",
      "id" : 500906678,
      "in_reply_to_id" : 500873589,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkwNjY3OA==",
      "original_commit_id" : "8a6d636c60fbf6ed847ec61ae08ee6d5ca8feee9",
      "original_line" : 1986,
      "original_position" : 7,
      "original_start_line" : 1979,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 503741162,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500906678",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500934965"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500934965"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@vasild could u imagine that we define a flag -privacynode=maximum,medium,low.\r\nThat is by default on maximum?\r\n\r\ni.e. maximum no listenonion if no proxy with nameproxy no seeding no dns no uunp onlynet respected everywhere just v3 no persistent keystore bind only to unrouteable addr if Tor etc.\r\nor low just as is.\r\n\r\nThat would really make things more easy to craft in the different modules core will split anyway, by not annoying the user with warnings and a clear guideline for devs .to\r\nfollow when obeying those setting.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-10-07T11:24:22Z",
      "diff_hunk" : "@@ -1975,6 +1975,10 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n             InitWarning(strprintf(_(\"More than one onion bind address is provided. Using %s for the automatically created Tor onion service.\"), bind_addr.ToStringIPPort()));\n         }\n         StartTorControl(bind_addr);\n+        proxyType addrOnion;\n+        if (gArgs.GetArg(\"-onion\", \"\") == \"\" && !GetProxy(NET_ONION, addrOnion) ) {\n+            LogPrintf(\"Tor: reminder: listenonion is not disabled and an outbound Tor proxy is not defined, that could leak your ip\\n\");\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r500934965",
      "id" : 500934965,
      "in_reply_to_id" : 500873589,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkzNDk2NQ==",
      "original_commit_id" : "8a6d636c60fbf6ed847ec61ae08ee6d5ca8feee9",
      "original_line" : 1986,
      "original_position" : 7,
      "original_start_line" : 1979,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 503777242,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-08T18:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500934965",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased addressed review and added the detrimental followup -onlynet fixup.commit https://github.com/bitcoin/bitcoin/pull/19358/commits/e9452a1a8f673de1b310e918ae80c31b7be6f171",
      "created_at" : "2020-10-07T12:21:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-704897888",
      "id" : 704897888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNDg5Nzg4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-07T12:21:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704897888",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased https://github.com/bitcoin/bitcoin/commit/901ac08bdb400aece7a8d910da977acea65fa6af fixed the -onlynet settings for proxy use  ready to review.",
      "created_at" : "2020-10-08T18:17:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-705740840",
      "id" : 705740840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNTc0MDg0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-08T18:17:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/705740840",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Please note this should possibly resolve Issue #12641 when validating? -DA.",
      "created_at" : "2020-10-15T19:48:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-709553075",
      "id" : 709553075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTU1MzA3NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T19:48:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709553075",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Please note this should possibly resolve Issue #12641 when validating? -DA.\r\n\r\nI guess what u observe is that Tor can for sure over ip4/6 Tor exit nodes connect to nodes in the ip4/6 clearnet. if the address given to the socks5 proxy is not an onion address like from your seed.dat or address learned from other nodes.. Did u expect with -proxy just Tor onion address outbound connections?\r\nIf so, please set also -onlynet=onion, pls ping me when even with this you still see outbound non onion connections..\r\nI observed so far only the other way around, lingered forgotten onions in peers,dat would connect outbound if -onlynet=ipv4 or 6  is set. ooops. ",
      "created_at" : "2020-10-16T06:02:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-709815857",
      "id" : 709815857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTgxNTg1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-16T06:02:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709815857",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Good Afternoon,\r\nReply via email.\r\n> I guess what u observe is that Tor can for sure over ip4/6 Tor exit\r\n> nodes connect to nodes in the ip4/6 clearnet. \r\nWell, yes if it is not set `onlynet=onion`\r\n> Did u expect with -proxy just Tor onion address outbound connections?\r\nBoth onion and proxy are set to the tor proxy.\r\n> -onlynet=onion\r\nonlynet=onion is fine and connections to pure onion addresses works,\r\nthat is not the problem, the problem is not respecting the proxy\r\nsetting.\r\n",
      "created_at" : "2020-10-17T14:32:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-711021128",
      "id" : 711021128,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMTAyMTEyOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/711021128/reactions"
      },
      "updated_at" : "2020-12-18T06:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/711021128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r537080526"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/537080526"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Correct me if I am wrong, if only the above code snippet is removed (no other changes), then the behavior will be:\r\n\r\nThank you for the work of analyzing the behavior, @vasild and creating the overview table, this is very good.\r\n\r\nPlease see laanwj's destinction of when using names \"Tor\" and when using \"Onion\" here:\r\nhttps://github.com/bitcoin/bitcoin/pull/13575#issuecomment-402427844\r\n\r\nAs I understand, the `onion=` option is only about \"onion\" connections (that is, connections to .onion Onion services (aka deprecated name Hidden service).\r\n\r\nWhile the `proxy=` setting, when set to a Tor node, forwards IPv4 (non .onion) requests to the Tor network, when they go out to the clearnet from a Tor exit node. As I underdstand, this would be named \"tor connection\".\r\n\r\nSo, e.g. if `proxy` is unset and `onion` is set, then there will be Onion (and maybe IPv4/IPv6) connections, but no Tor connections.\r\n\r\nAnd if `proxy` is set and `onion` is unset, then there will only be Tor connections connections (both via exit node to clearnet and to Onion services).\r\n\r\nWould be an experiment to set both `proxy` and `onion` to different tor servers and check if really IPv4 connections go through the proxy-Tor server, and .onion connections go through the onion-Tor server. But I think this is not really relevant as I can not think of a use case of having two Tor servers to separate tor and onion connections.\r\n\r\nSo I think the definition would be:\r\n- Tor connection: Connection to IPv4 (and IPv6?) clearnet through Tor network tunnel, and optional to .onion services.\r\n- Onion connection: Connection to .onion service.",
      "commit_id" : "901ac08bdb400aece7a8d910da977acea65fa6af",
      "created_at" : "2020-12-06T17:01:14Z",
      "diff_hunk" : "@@ -527,15 +527,6 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n     if (reply.code == 250) {\n         LogPrint(BCLog::TOR, \"tor: Authentication successful\\n\");\n \n-        // Now that we know Tor is running setup the proxy for onion addresses\n-        // if -onion isn't set to something else.\n-        if (gArgs.GetArg(\"-onion\", \"\") == \"\") {\n-            CService resolved(LookupNumeric(\"127.0.0.1\", 9050));\n-            proxyType addrOnion = proxyType(resolved, true);\n-            SetProxy(NET_ONION, addrOnion);\n-            SetReachable(NET_ONION, true);\n-        }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#discussion_r537080526",
      "id" : 537080526,
      "in_reply_to_id" : 500245277,
      "line" : 538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA4MDUyNg==",
      "original_commit_id" : "293c35c82dedd98393df6c180a5ffdf1aff18c89",
      "original_line" : 538,
      "original_position" : 12,
      "original_start_line" : 530,
      "path" : "src/torcontrol.cpp",
      "position" : 13,
      "pull_request_review_id" : 545728097,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19358",
      "side" : "LEFT",
      "start_line" : 530,
      "start_side" : "LEFT",
      "updated_at" : "2020-12-06T17:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/537080526",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "node_id" : "MDQ6VXNlcjg0NDc4NzM=",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-11-08T13:51:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-963168849",
      "id" : 963168849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "IC_kwDOABII5845aMpR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963168849/reactions"
      },
      "updated_at" : "2021-11-08T13:51:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963168849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--13523179cfe9479db18ec6c5d236f789-->There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? â¡ï¸ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? â¡ï¸ Please close.\n* Did the author lose interest or time to work on this? â¡ï¸ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "created_at" : "2022-02-22T12:17:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19358#issuecomment-1047738402",
      "id" : 1047738402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19358",
      "node_id" : "IC_kwDOABII584-czgi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047738402/reactions"
      },
      "updated_at" : "2022-02-22T12:17:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047738402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
