[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r445722677"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/445722677"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            if(MoneyRange(i.second)) {\r\n```",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-06-25T17:30:45Z",
      "diff_hunk" : "@@ -5087,7 +5087,9 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if(MoneyRange(i.second)){",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r445722677",
      "id" : 445722677,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyMjY3Nw==",
      "original_commit_id" : "8cc8548ace93e899b13806fd4a28b7f54a572c55",
      "original_line" : 5090,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 437710354,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/445722677",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: thanks for fixing! :)\r\n\r\n~~In case of `CAmount`:s outside of the money range: should we perhaps let `LoadMempool` return `false` on those to indicate that something went (very) wrong (instead of just skipping `PrioritiseTransaction`)?~~\r\n\r\n_Update: Negative deltas are allowed!_",
      "created_at" : "2020-06-25T19:36:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-649776961",
      "id" : 649776961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0OTc3Njk2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-25T15:49:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/649776961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r446166646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446166646"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Noted.. ",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-06-26T12:56:19Z",
      "diff_hunk" : "@@ -5087,7 +5087,9 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if(MoneyRange(i.second)){",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r446166646",
      "id" : 446166646,
      "in_reply_to_id" : 445722677,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE2NjY0Ng==",
      "original_commit_id" : "8cc8548ace93e899b13806fd4a28b7f54a572c55",
      "original_line" : 5090,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 438271302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446166646",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r446354994"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446354994"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You may install `clang-format` and run the https://github.com/bitcoin/bitcoin/tree/master/contrib/devtools#clang-format-diffpy script to preempt whitespace nitpicking.",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-06-26T18:52:37Z",
      "diff_hunk" : "@@ -5087,7 +5087,9 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if(MoneyRange(i.second)){",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r446354994",
      "id" : 446354994,
      "in_reply_to_id" : 445722677,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM1NDk5NA==",
      "original_commit_id" : "8cc8548ace93e899b13806fd4a28b7f54a572c55",
      "original_line" : 5090,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 438523591,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/446354994",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift I was thinking along the same line. Also, It seems better to initiate shutdown once something like this happens. As just returning `false` in `LoadMempool` doesn't seem to be triggering any catastrophe, and I am not sure what the node is doing about its mempool when loading from disk fails. The node seems to keep on running with just a failure message, My guess is its creates a fresh mempool and override the data in the disk. Which can seem fine, unless someone specifically wants a particular mempool and if the disk data is corrupted they might not notice that something is wrong.  \r\n\r\nSo I made it to initiate shutdown if loadmempool fails. Not sure if that's strictly necessary, looking for suggestions here before I update the PR.\r\n  \r\nThe log\r\n```\r\n2020-06-27T14:19:55Z Cant load mempool, something went wrong, initiating shutdown.\r\n2020-06-27T14:19:55Z Bound to [::]:18444\r\n2020-06-27T14:19:55Z Bound to 0.0.0.0:18444\r\n2020-06-27T14:19:55Z init message: Loading P2P addresses...\r\n2020-06-27T14:19:55Z Loaded 0 addresses from peers.dat  1ms\r\n2020-06-27T14:19:55Z init message: Starting network threads...\r\n2020-06-27T14:19:55Z net thread start\r\n2020-06-27T14:19:55Z dnsseed thread start\r\n2020-06-27T14:19:55Z 0 addresses found from DNS seeds\r\n2020-06-27T14:19:55Z dnsseed thread exit\r\n2020-06-27T14:19:55Z init message: Done loading\r\n2020-06-27T14:19:55Z addcon thread start\r\n2020-06-27T14:19:55Z opencon thread start\r\n2020-06-27T14:19:55Z torcontrol thread start\r\n2020-06-27T14:19:55Z msghand thread start\r\n2020-06-27T14:19:55Z tor: Thread interrupt\r\n2020-06-27T14:19:55Z opencon thread exit\r\n2020-06-27T14:19:55Z Shutdown: In progress...\r\n2020-06-27T14:19:55Z torcontrol thread exit\r\n2020-06-27T14:19:55Z addcon thread exit\r\n2020-06-27T14:19:55Z net thread exit\r\n2020-06-27T14:19:55Z msghand thread exit\r\n2020-06-27T14:19:55Z scheduler thread exit\r\n2020-06-27T14:19:55Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) started\r\n2020-06-27T14:19:55Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) completed (0.00s)\r\n2020-06-27T14:19:55Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) started\r\n2020-06-27T14:19:55Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) completed (0.00s)\r\n2020-06-27T14:19:55Z Shutdown: done\r\n```\r\nAlso please give suggestions for a better error message. ",
      "created_at" : "2020-06-27T14:38:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-650569133",
      "id" : 650569133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MDU2OTEzMw==",
      "updated_at" : "2020-06-27T16:06:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/650569133",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~@rajarshimaitra This is such an unlikely error that I don't think we need to add any special logic beyond returning `false` in case of `!MoneyRange(â¦)` :)~~\r\n\r\n_Update: Negative deltas are allowed!_",
      "created_at" : "2020-06-28T18:01:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-650800966",
      "id" : 650800966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MDgwMDk2Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-25T16:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/650800966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift updated to return failure instead of skipping `PrioritiseTransaction`.",
      "created_at" : "2020-07-01T07:45:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-652252433",
      "id" : 652252433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MjI1MjQzMw==",
      "updated_at" : "2020-07-01T07:45:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/652252433",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~@rajarshimaitra Great! What about doing the same thing for the other `PrioritiseTransaction` call -- that is `return false` in the case of `!MoneyRange(i.second)` :)~~\r\n\r\n_Update: Negative deltas are allowed!_",
      "created_at" : "2020-07-01T16:38:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-652526576",
      "id" : 652526576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MjUyNjU3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-25T16:14:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/652526576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift silly me. Should have done that. will push the same. ",
      "created_at" : "2020-07-02T15:13:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-653066427",
      "id" : 653066427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MzA2NjQyNw==",
      "updated_at" : "2020-07-02T15:13:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/653066427",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-07-11T11:18:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-657047150",
      "id" : 657047150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzA0NzE1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-09T08:55:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657047150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453218497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453218497"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            }else {\r\n            } else {\r\n```",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-11T17:52:26Z",
      "diff_hunk" : "@@ -5055,11 +5055,13 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n-            if (amountdelta) {\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453218497",
      "id" : 453218497,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxODQ5Nw==",
      "original_commit_id" : "f19dcd4e4164a6e52fefaf855a7882ecc8f8496d",
      "original_line" : 5060,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 446818416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453218497",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453218545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453218545"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            if(!MoneyRange(i.second)) {\r\n            if (!MoneyRange(i.second)) {\r\n```",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-11T17:53:01Z",
      "diff_hunk" : "@@ -5087,7 +5089,11 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if(!MoneyRange(i.second)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453218545",
      "id" : 453218545,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIxODU0NQ==",
      "original_commit_id" : "f19dcd4e4164a6e52fefaf855a7882ecc8f8496d",
      "original_line" : 5092,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 446818416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453218545",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453574819"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453574819"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-13T11:11:43Z",
      "diff_hunk" : "@@ -5055,11 +5055,13 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n-            if (amountdelta) {\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453574819",
      "id" : 453574819,
      "in_reply_to_id" : 453218497,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzU3NDgxOQ==",
      "original_commit_id" : "f19dcd4e4164a6e52fefaf855a7882ecc8f8496d",
      "original_line" : 5060,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 447155264,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453574819",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453574880"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453574880"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-13T11:11:51Z",
      "diff_hunk" : "@@ -5087,7 +5089,11 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if(!MoneyRange(i.second)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453574880",
      "id" : 453574880,
      "in_reply_to_id" : 453218545,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzU3NDg4MA==",
      "original_commit_id" : "f19dcd4e4164a6e52fefaf855a7882ecc8f8496d",
      "original_line" : 5092,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 447155332,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453574880",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift addressed all your comments and rebased. ",
      "created_at" : "2020-07-13T11:13:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-657496764",
      "id" : 657496764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzQ5Njc2NA==",
      "updated_at" : "2020-07-13T11:13:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657496764",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@rajarshimaitra  I think you still want `if (amountdelta) {` before doing `pool.PrioritiseTransaction(tx->GetHash(), amountdelta);` in order to not change the existing logic.\r\n\r\n~~I suggest leaving the existing `PrioritiseTransaction` logic intact in both cases, and simply add two stand-alone `MoneyRange` checks:~~\r\n\r\n_Update: Negative deltas allowed._\r\n\r\nSomething along the lines of â¦\r\n\r\n```\r\nif (!MoneyRange(amountdelta)) {\r\n    return false;\r\n}\r\nif (amountdelta) {\r\n    pool.PrioritiseTransaction(tx->GetHash(), amountdelta);\r\n}\r\n```\r\n\r\n... and ...\r\n\r\n```\r\nif (!MoneyRange(i.second)) {\r\n    return false;\r\n}\r\npool.PrioritiseTransaction(i.first, i.second);\r\n```\r\n\r\nAlso, would you mind also updating the PR title to the more descriptive commit message? :)~~",
      "created_at" : "2020-07-13T16:07:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-657649371",
      "id" : 657649371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzY0OTM3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-25T15:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657649371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453786078"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453786078"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n```\r\n\r\nnit: No need to change indentation on early-return. (same above)",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-13T16:45:09Z",
      "diff_hunk" : "@@ -5078,7 +5080,11 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if (!MoneyRange(i.second)) {\n+                return false;\n+            } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r453786078",
      "id" : 453786078,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NjA3OA==",
      "original_commit_id" : "069043ee4ef39488b2b3aa66a268033888c480e3",
      "original_line" : 5085,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 447422846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453786078",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r456218118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456218118"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, I didn't get it. Can you explain a bit what are you suggesting here?",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-17T04:56:18Z",
      "diff_hunk" : "@@ -5078,7 +5080,11 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if (!MoneyRange(i.second)) {\n+                return false;\n+            } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r456218118",
      "id" : 456218118,
      "in_reply_to_id" : 453786078,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIxODExOA==",
      "original_commit_id" : "069043ee4ef39488b2b3aa66a268033888c480e3",
      "original_line" : 5085,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 450372126,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T04:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456218118",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift If i understand you correctly this is what you are suggesting? \r\n```\r\nCAmount amountdelta = nFeeDelta;\r\n            if (!MoneyRange(amountdelta)) {\r\n                return false;\r\n            }\r\n            if (amountdelta) {\r\n                pool.PrioritiseTransaction(tx->GetHash(), amountdelta);\r\n            }\r\n```\r\n\r\nand \r\n```\r\nfor (const auto& i : mapDeltas) {\r\n            if (!MoneyRange(i.second)) {\r\n                return false;\r\n            }\r\n            if (i.second) {\r\n                pool.PrioritiseTransaction(i.first, i.second);\r\n            }\r\n        }\r\n```\r\nLet me know if this seems correct. \r\n",
      "created_at" : "2020-07-17T04:59:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-659851821",
      "id" : 659851821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTg1MTgyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T04:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659851821",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~@rajarshimaitra Yes for the first case, but for the second case `pool.PrioritiseTransaction(i.first, i.second);` should be done unconditionally (skip `if (i.second)`) in order to not change the existing logic :)~~\r\n\r\n_Update: Negative deltas are allowed!_\r\n\r\nAlso would you mind changing the PR title to `Fix UBSan warnings triggered when loading corrupt mempool.dat files`?",
      "created_at" : "2020-07-17T08:04:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-659944489",
      "id" : 659944489,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTk0NDQ4OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-25T15:47:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659944489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed and updated. ",
      "created_at" : "2020-07-18T04:57:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-660425807",
      "id" : 660425807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDQyNTgwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-18T04:57:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660425807",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~ACK XXX~~\r\n\r\n_Update: Negative deltas are allowed!_\r\n\r\nRestarted Travis which failed spuriously :)",
      "created_at" : "2020-07-18T10:14:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-660461002",
      "id" : 660461002,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDQ2MTAwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-25T15:47:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660461002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r456774647"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456774647"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This was fixed in your last push AFAICT :)",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-18T10:14:59Z",
      "diff_hunk" : "@@ -5078,7 +5080,11 @@ bool LoadMempool(CTxMemPool& pool)\n         file >> mapDeltas;\n \n         for (const auto& i : mapDeltas) {\n-            pool.PrioritiseTransaction(i.first, i.second);\n+            if (!MoneyRange(i.second)) {\n+                return false;\n+            } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r456774647",
      "id" : 456774647,
      "in_reply_to_id" : 453786078,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc3NDY0Nw==",
      "original_commit_id" : "069043ee4ef39488b2b3aa66a268033888c480e3",
      "original_line" : 5085,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 451047131,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-18T10:14:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456774647",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK 2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-21T18:52:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-662043906",
      "id" : 662043906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MjA0MzkwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-21T18:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/662043906",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r459776903"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459776903"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There is no requirement for deltas to be in `MoneyRange`... Better use a numeric_limit max",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-23T23:09:51Z",
      "diff_hunk" : "@@ -5046,11 +5046,14 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r459776903",
      "id" : 459776903,
      "line" : 5051,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc3NjkwMw==",
      "original_commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "original_line" : 5051,
      "original_position" : 6,
      "original_start_line" : 5049,
      "path" : "src/validation.cpp",
      "position" : 6,
      "pull_request_review_id" : 454553660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : 5049,
      "start_side" : "RIGHT",
      "updated_at" : "2020-07-23T23:13:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459776903",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r459884880"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459884880"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Before I push the commit does this look ok?\r\n\r\n```\r\nCAmount amountdelta = nFeeDelta;\r\n            if (amountdelta > numeric_limits<int64_t>::max() || amountdelta < numeric_limits<int64_t>::min())  {\r\n                return false;\r\n            }\r\n```\r\n",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-24T07:06:37Z",
      "diff_hunk" : "@@ -5046,11 +5046,14 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r459884880",
      "id" : 459884880,
      "in_reply_to_id" : 459776903,
      "line" : 5051,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg4NDg4MA==",
      "original_commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "original_line" : 5051,
      "original_position" : 6,
      "original_start_line" : 5049,
      "path" : "src/validation.cpp",
      "position" : 6,
      "pull_request_review_id" : 454672489,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : 5049,
      "start_side" : "RIGHT",
      "updated_at" : "2020-07-24T07:06:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459884880",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r460416688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/460416688"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@luke-jr Oh, crap thanks for alerting about that! I naÃ¯vely assumed that the bounds of `CAmount` were defined by `MoneyRange(â¦)`, but I now understand that this is a case where negative amounts are allowed for a `CAmount`. I assume the valid range here is `[-MAX_MONEY, MAX_MONEY]` then?\r\n\r\nShould `CAmount` perhaps be reserved for cases where `MoneyRange(â¦)` defines the bounds?\r\n\r\n@rajarshimaitra I don't think that is what @luke-jr is suggesting: note that `CAmount` is `int64_t` so `amountdelta` is guaranteed to be in the range you're checking for in the suggested diff (`[std:: numeric_limits<int64_t>::min(), std:: numeric_limits<int64_t>::max()]`) :)",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-25T15:43:51Z",
      "diff_hunk" : "@@ -5046,11 +5046,14 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r460416688",
      "id" : 460416688,
      "in_reply_to_id" : 459776903,
      "line" : 5051,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQxNjY4OA==",
      "original_commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "original_line" : 5051,
      "original_position" : 6,
      "original_start_line" : 5049,
      "path" : "src/validation.cpp",
      "position" : 6,
      "pull_request_review_id" : 455292583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : 5049,
      "start_side" : "RIGHT",
      "updated_at" : "2020-07-25T15:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/460416688",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r460484682"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/460484682"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh, right. Well, this sounds quite deep for my grasp and I wouldn't know what exactly to do. Do suggest and will update the PR accordingly.",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2020-07-26T06:16:14Z",
      "diff_hunk" : "@@ -5046,11 +5046,14 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r460484682",
      "id" : 460484682,
      "in_reply_to_id" : 459776903,
      "line" : 5051,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQ4NDY4Mg==",
      "original_commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "original_line" : 5051,
      "original_position" : 6,
      "original_start_line" : 5049,
      "path" : "src/validation.cpp",
      "position" : 6,
      "pull_request_review_id" : 455335244,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : 5049,
      "start_side" : "RIGHT",
      "updated_at" : "2020-07-26T06:16:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/460484682",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/36541669?v=4",
         "events_url" : "https://api.github.com/users/rajarshimaitra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rajarshimaitra/followers",
         "following_url" : "https://api.github.com/users/rajarshimaitra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rajarshimaitra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rajarshimaitra",
         "id" : 36541669,
         "login" : "rajarshimaitra",
         "node_id" : "MDQ6VXNlcjM2NTQxNjY5",
         "organizations_url" : "https://api.github.com/users/rajarshimaitra/orgs",
         "received_events_url" : "https://api.github.com/users/rajarshimaitra/received_events",
         "repos_url" : "https://api.github.com/users/rajarshimaitra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rajarshimaitra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rajarshimaitra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rajarshimaitra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@rajarshimaitra To allow for negative deltas: what about replacing the `MoneyRange(â¦)` usages in this PR with `IsValidFeeDelta(â¦)` which could be something along the lines of:\r\n\r\n```c++\r\nNODISCARD bool IsValidFeeDelta(const CAmount fee_delta) {\r\n    return fee_delta >= -MAX_MONEY && fee_delta <= MAX_MONEY;\r\n}\r\n```",
      "created_at" : "2020-08-18T18:48:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-675651403",
      "id" : 675651403,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NTY1MTQwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-18T18:53:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675651403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-02-11T14:06:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-777482828",
      "id" : 777482828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3NzQ4MjgyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-11T14:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/777482828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r629251750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629251750"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Already in ee11a412a537f62aa46e8862678ce2069a2df5b7",
      "commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "created_at" : "2021-05-10T10:36:43Z",
      "diff_hunk" : "@@ -5046,11 +5046,14 @@ bool LoadMempool(CTxMemPool& pool)\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n+            if (!MoneyRange(amountdelta)) {\n+                return false;\n+            }\n             if (amountdelta) {\n                 pool.PrioritiseTransaction(tx->GetHash(), amountdelta);\n             }\n             TxValidationState state;\n-            if (nTime + nExpiryTimeout > nNow) {\n+            if (nTime > nNow - nExpiryTimeout) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#discussion_r629251750",
      "id" : 629251750,
      "line" : 5056,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTI1MTc1MA==",
      "original_commit_id" : "2cc2cbde13072a2d244912aba7df8a97c81646a1",
      "original_line" : 5056,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 12,
      "pull_request_review_id" : 655495546,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19381",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-10T10:38:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629251750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing due to inactivity ",
      "created_at" : "2021-05-10T10:38:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19381#issuecomment-836535025",
      "id" : 836535025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19381",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzNjUzNTAyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-10T10:38:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/836535025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
