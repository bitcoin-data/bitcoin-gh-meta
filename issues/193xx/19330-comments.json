[
   {
      "author_association" : "MEMBER",
      "body" : "> This step may be obvious to experienced developers, but is confusing to many bitcoin users without a background in C/Make.\r\n\r\nSuch users run `make` once only, no?",
      "created_at" : "2020-06-20T12:02:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646986002",
      "id" : 646986002,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk4NjAwMg==",
      "updated_at" : "2020-06-20T12:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646986002",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> > This step may be obvious to experienced developers, but is confusing to many bitcoin users without a background in C/Make.\r\n> \r\n> Such users run `make` once only, no?\r\n\r\nI ran into the issue when upgrading to the latest version. I'm familiar with git but had no idea about `make clean`. \r\n\r\n**Steps to upgrade**\r\n```\r\ncd bitcoin\r\ngit fetch origin\r\ngit reset --hard origin/master\r\ngit checkout v0.20.0\r\n./autogen.sh\r\n./configure\r\nmake\r\nmake install\r\n```",
      "created_at" : "2020-06-20T12:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646986840",
      "id" : 646986840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk4Njg0MA==",
      "updated_at" : "2020-06-20T12:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646986840",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/30005204?v=4",
         "events_url" : "https://api.github.com/users/billygarrison/events{/privacy}",
         "followers_url" : "https://api.github.com/users/billygarrison/followers",
         "following_url" : "https://api.github.com/users/billygarrison/following{/other_user}",
         "gists_url" : "https://api.github.com/users/billygarrison/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/billygarrison",
         "id" : 30005204,
         "login" : "billygarrison",
         "node_id" : "MDQ6VXNlcjMwMDA1MjA0",
         "organizations_url" : "https://api.github.com/users/billygarrison/orgs",
         "received_events_url" : "https://api.github.com/users/billygarrison/received_events",
         "repos_url" : "https://api.github.com/users/billygarrison/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/billygarrison/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/billygarrison/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/billygarrison"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@billygarrison \r\n> I ran into the issue when upgrading to the latest version. I'm familiar with git but had no idea about `make clean`.\r\n\r\nThat makes sense :)",
      "created_at" : "2020-06-20T12:58:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646991550",
      "id" : 646991550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk5MTU1MA==",
      "updated_at" : "2020-06-20T12:58:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646991550",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@billygarrison if helpful to you, I wrote about this here, don't hesitate to look through the article: https://jonatack.github.io/articles/how-to-compile-bitcoin-core-and-run-the-tests. Here's a relevant paragraph:\r\n\r\n\"On the other hand, when you change the build configuration, and in some cases when testing different PRs, or when the build isn't working, it's often best to start with a clean slate using `make clean` or `make distclean` before configuring. Here's a complete example, courtesy of Marco Falke:\"\r\n\r\n```\r\n./autogen.sh && ./configure <any BDB flags> && make distclean && ./configure <all flags> && make \r\n```\r\n\r\n(p.s. `git reset --hard origin/master` seems unnecessary)",
      "created_at" : "2020-06-20T13:17:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646993514",
      "id" : 646993514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk5MzUxNA==",
      "updated_at" : "2020-06-20T13:17:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646993514",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "btw I switched my compile alias to `./autogen.sh && ./configure --enable-c++17 CC=clang CXX=clang++ && make clean && make check`, because the double-configure seemed overkill",
      "created_at" : "2020-06-20T13:43:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646996483",
      "id" : 646996483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk5NjQ4Mw==",
      "updated_at" : "2020-06-20T13:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646996483",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "FWIW, I have a bunch of aliases:\r\n```\r\n$ alias\r\n...\r\nalias conf-clang='./autogen.sh && ./configure --with-incompatible-bdb CC=clang-9 CXX=clang++-9 && make clean > /dev/null'\r\nalias conf-clang-debug='./autogen.sh && ./configure --enable-debug --with-incompatible-bdb CC=clang-9 CXX=clang++-9 && make clean > /dev/null'\r\nalias conf-fuzz='./autogen.sh && ./configure --enable-c++17 --enable-fuzz --with-sanitizers=fuzzer,address,undefined CC=clang-9 CXX=clang++-9 && make clean > /dev/null'\r\nalias conf-gcc='./autogen.sh && ./configure --with-incompatible-bdb && make clean > /dev/null'\r\nalias conf-gcc-17='./autogen.sh && ./configure --with-incompatible-bdb --enable-c++17 && make clean > /dev/null'\r\nalias conf-gcc-debug='./autogen.sh && ./configure --enable-debug --with-incompatible-bdb && make clean > /dev/null'\r\n...\r\n```\r\n\r\n:smiley: ",
      "created_at" : "2020-06-20T13:47:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646997006",
      "id" : 646997006,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk5NzAwNg==",
      "updated_at" : "2020-06-20T13:47:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646997006",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> btw I switched my compile alias to `./autogen.sh && ./configure --enable-c++17 CC=clang CXX=clang++ && make clean && make check`, because the double-configure seemed overkill\r\n\r\nThanks @MarcoFalke, will update. I was wondering if the benefit of double configuring was worth it.\r\n\r\n----\r\n\r\n@hebasto interesting, thanks, I have a bunch too at https://github.com/jonatack/dotfiles/blob/master/bash_aliases#L331 which has turned a bit into flag soup :D ... always interesting to see what others are doing to keep sharpening the tools.\r\n\r\n(Edit for casual observers: Don't use these bash aliases for building to run a node in production! They are for testing and debugging purposes and the builds with them run much more slowly.)",
      "created_at" : "2020-06-20T13:54:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-646998434",
      "id" : 646998434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk5ODQzNA==",
      "updated_at" : "2020-06-20T15:31:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646998434",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Another one to run a command on the commits of a branch: (I think already mentioned in productivity.md)\r\n\r\n```sh\r\n$ which tbc  # test bitcoin core\r\ntbc ()\r\n{ \r\n    git rebase --interactive --exec \"make check -j 9 && ./test/functional/test_runner.py -j 9\" $(git merge-base bitcoin-core/master HEAD)\r\n}\r\n```\r\n\r\n\r\nEdit: :)  https://github.com/bitcoin/bitcoin/blob/master/doc/productivity.md#interactive-dummy-rebases-for-fixups-and-execs-with-git-merge-base",
      "created_at" : "2020-06-20T15:07:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-647007416",
      "id" : 647007416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzAwNzQxNg==",
      "updated_at" : "2020-06-20T15:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647007416",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Going to close this for now. I don't think we need to add/maintain basic `make` usage notes in our build documentation.",
      "created_at" : "2022-03-29T09:15:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19330#issuecomment-1081628230",
      "id" : 1081628230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19330",
      "node_id" : "IC_kwDOABII585AeFZG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1081628230/reactions"
      },
      "updated_at" : "2022-03-29T09:15:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1081628230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
