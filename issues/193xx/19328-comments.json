[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "cc @Sjors ",
      "created_at" : "2020-06-19T14:01:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-646653238",
      "id" : 646653238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NjY1MzIzOA==",
      "updated_at" : "2020-06-19T14:01:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646653238",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442943981"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442943981"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in commit 87dd07e0382c6398d118d88c88b0c9ef24251e37\r\n\r\n```suggestion\r\nstatic bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point)\r\n```",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T16:43:38Z",
      "diff_hunk" : "@@ -42,19 +42,21 @@ static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n }\n \n //! Calculate statistics about the unspent transaction output set\n-bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void()>& interruption_point)\n+template <typename T>\n+bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442943981",
      "id" : 442943981,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0Mzk4MQ==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 46,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434213865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442943981",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442944374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442944374"
         }
      },
      "author_association" : "MEMBER",
      "body" : "87dd07e0382c6398d118d88c88b0c9ef24251e37:\r\n\r\nAccording to the developer notes, assert(false) and with the appropriate comment",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T16:44:33Z",
      "diff_hunk" : "@@ -75,9 +77,33 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {\n+            CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+            return GetUTXOStats(view, stats, ss, interruption_point);\n+        }\n+    }\n+    return false; // Unreachable code",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442944374",
      "id" : 442944374,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0NDM3NA==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 97,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434213865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442944374",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442944942"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442944942"
         }
      },
      "author_association" : "MEMBER",
      "body" : "87dd07e0382c6398d118d88c88b0c9ef24251e37\r\n\r\nwhy is this needed? Looks like a str to me",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T16:45:45Z",
      "diff_hunk" : "@@ -123,6 +123,7 @@ static const CRPCConvertParam vRPCConvertParams[] =\n     { \"gettxout\", 1, \"n\" },\n     { \"gettxout\", 2, \"include_mempool\" },\n     { \"gettxoutproof\", 0, \"txids\" },\n+    { \"gettxoutsetinfo\", 0, \"hash_type\" },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442944942",
      "id" : 442944942,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0NDk0Mg==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 126,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/client.cpp",
      "position" : null,
      "pull_request_review_id" : 434213865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442944942",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442945625"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442945625"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in commit ea41a5bdcc49566be0c23ef9362781e70f557bad:\r\n\r\nwhy is this not changed to NONE?",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T16:47:26Z",
      "diff_hunk" : "@@ -2316,7 +2331,7 @@ UniValue dumptxoutset(const JSONRPCRequest& request)\n \n         ::ChainstateActive().ForceFlushStateToDisk();\n \n-        if (!GetUTXOStats(&::ChainstateActive().CoinsDB(), stats, RpcInterruptionPoint)) {\n+        if (!GetUTXOStats(&::ChainstateActive().CoinsDB(), stats, CoinStatsHashType::HASH_SERIALIZED, RpcInterruptionPoint)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442945625",
      "id" : 442945625,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0NTYyNQ==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 2334,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434213865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442945625",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442947356"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442947356"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit ea41a5bdcc49566be0c23ef9362781e70f557bad\r\n\r\n```suggestion\r\nstatic void ApplyStats(CCoinsStats& stats, nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\r\n```",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T16:51:16Z",
      "diff_hunk" : "@@ -41,6 +41,17 @@ static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n     ss << VARINT(0u);\n }\n \n+static void ApplyStats(CCoinsStats &stats, nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442947356",
      "id" : 442947356,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0NzM1Ng==",
      "original_commit_id" : "ea41a5bdcc49566be0c23ef9362781e70f557bad",
      "original_line" : 44,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434213865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442947356",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442952980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442952980"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed, this should be dropped (try: `bitcoin-cli gettxoutsetinfo none`, it works without this line).",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T17:04:20Z",
      "diff_hunk" : "@@ -123,6 +123,7 @@ static const CRPCConvertParam vRPCConvertParams[] =\n     { \"gettxout\", 1, \"n\" },\n     { \"gettxout\", 2, \"include_mempool\" },\n     { \"gettxoutproof\", 0, \"txids\" },\n+    { \"gettxoutsetinfo\", 0, \"hash_type\" },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442952980",
      "id" : 442952980,
      "in_reply_to_id" : 442944942,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk1Mjk4MA==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 126,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/client.cpp",
      "position" : null,
      "pull_request_review_id" : 434225573,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442952980",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442957494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442957494"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agreed, this hash is unused in UTXO snapshots, as judged by the code as well as the hardcoded UTXO set has in `rpc_dumptxoutset.py`.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T17:15:08Z",
      "diff_hunk" : "@@ -2316,7 +2331,7 @@ UniValue dumptxoutset(const JSONRPCRequest& request)\n \n         ::ChainstateActive().ForceFlushStateToDisk();\n \n-        if (!GetUTXOStats(&::ChainstateActive().CoinsDB(), stats, RpcInterruptionPoint)) {\n+        if (!GetUTXOStats(&::ChainstateActive().CoinsDB(), stats, CoinStatsHashType::HASH_SERIALIZED, RpcInterruptionPoint)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442957494",
      "id" : 442957494,
      "in_reply_to_id" : 442945625,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk1NzQ5NA==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 2334,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434225573,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442957494",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442959103"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442959103"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe open a separate PR to see if there's support for deprecating `hash_serialized_2` and switch the default to `NONE` (pre-ACK, unless we find someone who actually uses this)",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T17:18:33Z",
      "diff_hunk" : "@@ -981,7 +983,7 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n                         {RPCResult::Type::NUM, \"transactions\", \"The number of transactions with unspent outputs\"},\n                         {RPCResult::Type::NUM, \"txouts\", \"The number of unspent transaction outputs\"},\n                         {RPCResult::Type::NUM, \"bogosize\", \"A meaningless metric for UTXO set size\"},\n-                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash\"},\n+                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash (only present if 'hash_serialized_2' hash_type is chosen)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r442959103",
      "id" : 442959103,
      "line" : 986,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk1OTEwMw==",
      "original_commit_id" : "e884c98996b135eee51e5d3994ae604110c797fd",
      "original_line" : 986,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 16,
      "pull_request_review_id" : 434225573,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442959103",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19323 (gui: Fix regression in *txoutset* in GUI console by hebasto)\n* #19145 (Add hash_type MUHASH for gettxoutsetinfo by fjahr)\n* #13462 (Make SER_GETHASH implicit for CHashWriter and SerializeHash by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-19T19:59:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-646839415",
      "id" : 646839415,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NjgzOTQxNQ==",
      "updated_at" : "2020-07-05T15:42:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646839415",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065869"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065869"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:29:44Z",
      "diff_hunk" : "@@ -42,19 +42,21 @@ static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n }\n \n //! Calculate statistics about the unspent transaction output set\n-bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void()>& interruption_point)\n+template <typename T>\n+bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, T hash_obj, const std::function<void()>& interruption_point)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065869",
      "id" : 443065869,
      "in_reply_to_id" : 442943981,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2NTg2OQ==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 46,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434367406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065869",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065888"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065888"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:29:52Z",
      "diff_hunk" : "@@ -75,9 +77,33 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats &stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {\n+            CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+            return GetUTXOStats(view, stats, ss, interruption_point);\n+        }\n+    }\n+    return false; // Unreachable code",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065888",
      "id" : 443065888,
      "in_reply_to_id" : 442944374,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2NTg4OA==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 97,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434367431,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065888",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065925"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065925"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:30:00Z",
      "diff_hunk" : "@@ -123,6 +123,7 @@ static const CRPCConvertParam vRPCConvertParams[] =\n     { \"gettxout\", 1, \"n\" },\n     { \"gettxout\", 2, \"include_mempool\" },\n     { \"gettxoutproof\", 0, \"txids\" },\n+    { \"gettxoutsetinfo\", 0, \"hash_type\" },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065925",
      "id" : 443065925,
      "in_reply_to_id" : 442944942,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2NTkyNQ==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 126,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/client.cpp",
      "position" : null,
      "pull_request_review_id" : 434367467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065925",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065960"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:30:09Z",
      "diff_hunk" : "@@ -2316,7 +2331,7 @@ UniValue dumptxoutset(const JSONRPCRequest& request)\n \n         ::ChainstateActive().ForceFlushStateToDisk();\n \n-        if (!GetUTXOStats(&::ChainstateActive().CoinsDB(), stats, RpcInterruptionPoint)) {\n+        if (!GetUTXOStats(&::ChainstateActive().CoinsDB(), stats, CoinStatsHashType::HASH_SERIALIZED, RpcInterruptionPoint)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065960",
      "id" : 443065960,
      "in_reply_to_id" : 442945625,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2NTk2MA==",
      "original_commit_id" : "87dd07e0382c6398d118d88c88b0c9ef24251e37",
      "original_line" : 2334,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434367501,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065960",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065982"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:30:16Z",
      "diff_hunk" : "@@ -41,6 +41,17 @@ static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n     ss << VARINT(0u);\n }\n \n+static void ApplyStats(CCoinsStats &stats, nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443065982",
      "id" : 443065982,
      "in_reply_to_id" : 442947356,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2NTk4Mg==",
      "original_commit_id" : "ea41a5bdcc49566be0c23ef9362781e70f557bad",
      "original_line" : 44,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434367534,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443065982",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443066599"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443066599"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be identical to the other cases to make it grep-able. See dev-notes example:\r\n\r\n```cpp\r\nenum class Tabs {\r\n    INFO,\r\n    CONSOLE,\r\n    GRAPH,\r\n    PEERS\r\n};\r\n\r\nint GetInt(Tabs tab)\r\n{\r\n    switch (tab) {\r\n    case Tabs::INFO: return 0;\r\n    case Tabs::CONSOLE: return 1;\r\n    case Tabs::GRAPH: return 2;\r\n    case Tabs::PEERS: return 3;\r\n    } // no default case, so the compiler can warn about missing cases\r\n    assert(false);\r\n}\r\n```\r\n```suggestion\r\n    assert(false);\r\n```",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:33:12Z",
      "diff_hunk" : "@@ -66,9 +88,38 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {\n+            CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+            return GetUTXOStats(view, stats, ss, interruption_point);\n+        }\n+        case(CoinStatsHashType::NONE): {\n+            return GetUTXOStats(view, stats, nullptr, interruption_point);\n+        }\n+    }\n+    assert(false); // Unreachable code",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443066599",
      "id" : 443066599,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2NjU5OQ==",
      "original_commit_id" : "0ca3ad17f3be381ee7844ffafc38fc38ce162893",
      "original_line" : 111,
      "original_position" : 105,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434368218,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443066599",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443068432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443068432"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hm, at least BTCPayServer uses it for FastSync: https://github.com/btcpayserver/btcpayserver-docker/tree/master/contrib/FastSync. They say in the docs to compare the whole `gettxoutsetinfo` but the hash is really what ensures there is nothing malicious going on. But I am not sure how much that feature is actually used. I will reach out to them to get an opinion.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:41:33Z",
      "diff_hunk" : "@@ -981,7 +983,7 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n                         {RPCResult::Type::NUM, \"transactions\", \"The number of transactions with unspent outputs\"},\n                         {RPCResult::Type::NUM, \"txouts\", \"The number of unspent transaction outputs\"},\n                         {RPCResult::Type::NUM, \"bogosize\", \"A meaningless metric for UTXO set size\"},\n-                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash\"},\n+                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash (only present if 'hash_serialized_2' hash_type is chosen)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443068432",
      "id" : 443068432,
      "in_reply_to_id" : 442959103,
      "line" : 986,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA2ODQzMg==",
      "original_commit_id" : "e884c98996b135eee51e5d3994ae604110c797fd",
      "original_line" : 986,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 16,
      "pull_request_review_id" : 434370137,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443068432",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443071007"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443071007"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there any benefit of aggressively deprecating this? With the option to select no hash there should be no downside to just leaving the default as is",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:53:49Z",
      "diff_hunk" : "@@ -981,7 +983,7 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n                         {RPCResult::Type::NUM, \"transactions\", \"The number of transactions with unspent outputs\"},\n                         {RPCResult::Type::NUM, \"txouts\", \"The number of unspent transaction outputs\"},\n                         {RPCResult::Type::NUM, \"bogosize\", \"A meaningless metric for UTXO set size\"},\n-                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash\"},\n+                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash (only present if 'hash_serialized_2' hash_type is chosen)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443071007",
      "id" : 443071007,
      "in_reply_to_id" : 442959103,
      "line" : 986,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA3MTAwNw==",
      "original_commit_id" : "e884c98996b135eee51e5d3994ae604110c797fd",
      "original_line" : 986,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 16,
      "pull_request_review_id" : 434372851,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443071007",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443071554"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443071554"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, thanks. Fixed.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-19T22:56:49Z",
      "diff_hunk" : "@@ -66,9 +88,38 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {\n+            CHashWriter ss(SER_GETHASH, PROTOCOL_VERSION);\n+            return GetUTXOStats(view, stats, ss, interruption_point);\n+        }\n+        case(CoinStatsHashType::NONE): {\n+            return GetUTXOStats(view, stats, nullptr, interruption_point);\n+        }\n+    }\n+    assert(false); // Unreachable code",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443071554",
      "id" : 443071554,
      "in_reply_to_id" : 443066599,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzA3MTU1NA==",
      "original_commit_id" : "0ca3ad17f3be381ee7844ffafc38fc38ce162893",
      "original_line" : 111,
      "original_position" : 105,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434373458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443071554",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443131733"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443131733"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ed4c7302298385b797000740960b06ff91082ce8\r\n\r\nnit `* view`.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-20T13:40:11Z",
      "diff_hunk" : "@@ -75,9 +77,33 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443131733",
      "id" : 443131733,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzEzMTczMw==",
      "original_commit_id" : "ed4c7302298385b797000740960b06ff91082ce8",
      "original_line" : 89,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434429209,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443131733",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443132203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443132203"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ed4c7302298385b797000740960b06ff91082ce8\r\n\r\nnit, this format is not used. Also add space after `switch` above.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-20T13:46:51Z",
      "diff_hunk" : "@@ -75,9 +77,33 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443132203",
      "id" : 443132203,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzEzMjIwMw==",
      "original_commit_id" : "ed4c7302298385b797000740960b06ff91082ce8",
      "original_line" : 92,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434429209,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443132203",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\ntest/fuzz/coins_view.cpp:281:23: error: no matching function for call to 'GetUTXOStats'\r\n\r\n                (void)GetUTXOStats(&coins_view_cache, stats);\r\n\r\n                      ^~~~~~~~~~~~\r\n\r\n./node/coinstats.h:39:6: note: candidate function not viable: requires at least 3 arguments, but 2 were provided\r\n\r\nbool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const CoinStatsHashType hash_type, const std::function<void()>& interruption_point = {});\r\n\r\n     ^\r\n\r\n1 error generated.",
      "created_at" : "2020-06-20T13:48:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-646997095",
      "id" : 646997095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Njk5NzA5NQ==",
      "updated_at" : "2020-06-20T13:48:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646997095",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443137142"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443137142"
         }
      },
      "author_association" : "MEMBER",
      "body" : ";)\r\nhttps://github.com/bitcoin/bitcoin/tree/master/contrib/devtools#clang-format-diffpy ",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-20T14:58:08Z",
      "diff_hunk" : "@@ -75,9 +77,33 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443137142",
      "id" : 443137142,
      "in_reply_to_id" : 443132203,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzEzNzE0Mg==",
      "original_commit_id" : "ed4c7302298385b797000740960b06ff91082ce8",
      "original_line" : 92,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434433793,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443137142",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443210295"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443210295"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T11:31:52Z",
      "diff_hunk" : "@@ -75,9 +77,33 @@ bool GetUTXOStats(CCoinsView* view, CCoinsStats& stats, const std::function<void\n         pcursor->Next();\n     }\n     if (!outputs.empty()) {\n-        ApplyStats(stats, ss, prevkey, outputs);\n+        ApplyStats(stats, hash_obj, prevkey, outputs);\n     }\n-    stats.hashSerialized = ss.GetHash();\n+\n+    FinalizeHash(hash_obj, stats);\n+\n     stats.nDiskSize = view->EstimateSize();\n     return true;\n }\n+\n+bool GetUTXOStats(CCoinsView *view, CCoinsStats& stats, CoinStatsHashType hash_type, const std::function<void()>& interruption_point)\n+{\n+    switch(hash_type) {\n+        case(CoinStatsHashType::HASH_SERIALIZED): {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443210295",
      "id" : 443210295,
      "in_reply_to_id" : 443132203,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxMDI5NQ==",
      "original_commit_id" : "ed4c7302298385b797000740960b06ff91082ce8",
      "original_line" : 92,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434493349,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443210295",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed review comments plus some more formatting improvements",
      "created_at" : "2020-06-21T11:32:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-647115861",
      "id" : 647115861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzExNTg2MQ==",
      "updated_at" : "2020-06-21T11:32:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647115861",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443211705"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443211705"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, move code below to new function and here make it `const CoinStatsHashType hash_type = ParseHashType(request.params[0], CoinStatsHashType::HASH_SERIALIZED)` (2nd is default value if 1st is null).",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T11:49:56Z",
      "diff_hunk" : "@@ -996,14 +998,29 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n     CCoinsStats stats;\n     ::ChainstateActive().ForceFlushStateToDisk();\n \n+    CoinStatsHashType hash_type = CoinStatsHashType::HASH_SERIALIZED;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443211705",
      "id" : 443211705,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxMTcwNQ==",
      "original_commit_id" : "0c90ff28e7205d5f61750c6f628ae8c4af9eedfd",
      "original_line" : 1001,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434494553,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443211705",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443211877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443211877"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, I'd explicitly set `hash_type = CoinStatsHashType::HASH_SERIALIZED`.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T11:52:02Z",
      "diff_hunk" : "@@ -996,14 +998,29 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n     CCoinsStats stats;\n     ::ChainstateActive().ForceFlushStateToDisk();\n \n+    CoinStatsHashType hash_type = CoinStatsHashType::HASH_SERIALIZED;\n+    if (!request.params[0].isNull()) {\n+        std::string hash_type_input = request.params[0].get_str();\n+\n+        if (hash_type_input == \"hash_serialized_2\") {\n+            // keep default",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443211877",
      "id" : 443211877,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxMTg3Nw==",
      "original_commit_id" : "0c90ff28e7205d5f61750c6f628ae8c4af9eedfd",
      "original_line" : 1006,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434494692,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443211877",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443216727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443216727"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\nnode/coinstats.cpp:44:44: error: unknown type name 'nullptr_t'; did you mean 'std::nullptr_t'?\r\n\r\nstatic void ApplyStats(CCoinsStats& stats, nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\r\n\r\n                                           ^~~~~~~~~\r\n\r\n                                           std::nullptr_t\r\n\r\n/usr/bin/../lib/gcc/x86_64-linux-gnu/9/../../../../include/x86_64-linux-gnu/c++/9/bits/c++config.h:258:29: note: 'std::nullptr_t' declared here\r\n\r\n  typedef decltype(nullptr)     nullptr_t;\r\n\r\n                                ^\r\n\r\nnode/coinstats.cpp:119:25: error: use of undeclared identifier 'nullptr_t'; did you mean 'nullptr'?\r\n\r\nstatic void PrepareHash(nullptr_t, CCoinsStats& stats) {}\r\n\r\n                        ^~~~~~~~~\r\n\r\n                        nullptr",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T12:51:49Z",
      "diff_hunk" : "@@ -26,26 +36,38 @@ static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n         ss << VARINT_MODE(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n         stats.nTransactionOutputs++;\n         stats.nTotalAmount += output.second.out.nValue;\n-        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n-                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+        stats.nBogoSize += GetBogoSize(output.second.out.scriptPubKey);\n     }\n     ss << VARINT(0u);\n }\n \n+static void ApplyStats(CCoinsStats& stats, nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443216727",
      "id" : 443216727,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIxNjcyNw==",
      "original_commit_id" : "0c90ff28e7205d5f61750c6f628ae8c4af9eedfd",
      "original_line" : 44,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434498902,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443216727",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443265512"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443265512"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T23:09:37Z",
      "diff_hunk" : "@@ -996,14 +998,29 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n     CCoinsStats stats;\n     ::ChainstateActive().ForceFlushStateToDisk();\n \n+    CoinStatsHashType hash_type = CoinStatsHashType::HASH_SERIALIZED;\n+    if (!request.params[0].isNull()) {\n+        std::string hash_type_input = request.params[0].get_str();\n+\n+        if (hash_type_input == \"hash_serialized_2\") {\n+            // keep default",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443265512",
      "id" : 443265512,
      "in_reply_to_id" : 443211877,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI2NTUxMg==",
      "original_commit_id" : "0c90ff28e7205d5f61750c6f628ae8c4af9eedfd",
      "original_line" : 1006,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434540240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443265512",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443265523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443265523"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T23:09:49Z",
      "diff_hunk" : "@@ -996,14 +998,29 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n     CCoinsStats stats;\n     ::ChainstateActive().ForceFlushStateToDisk();\n \n+    CoinStatsHashType hash_type = CoinStatsHashType::HASH_SERIALIZED;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443265523",
      "id" : 443265523,
      "in_reply_to_id" : 443211705,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI2NTUyMw==",
      "original_commit_id" : "0c90ff28e7205d5f61750c6f628ae8c4af9eedfd",
      "original_line" : 1001,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 434540257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443265523",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed comments and CI failure.",
      "created_at" : "2020-06-21T23:12:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-647193714",
      "id" : 647193714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzE5MzcxNA==",
      "updated_at" : "2020-06-21T23:12:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647193714",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443265704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443265704"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-21T23:12:13Z",
      "diff_hunk" : "@@ -26,26 +36,38 @@ static void ApplyStats(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n         ss << VARINT_MODE(output.second.out.nValue, VarIntMode::NONNEGATIVE_SIGNED);\n         stats.nTransactionOutputs++;\n         stats.nTotalAmount += output.second.out.nValue;\n-        stats.nBogoSize += 32 /* txid */ + 4 /* vout index */ + 4 /* height + coinbase */ + 8 /* amount */ +\n-                           2 /* scriptPubKey len */ + output.second.out.scriptPubKey.size() /* scriptPubKey */;\n+        stats.nBogoSize += GetBogoSize(output.second.out.scriptPubKey);\n     }\n     ss << VARINT(0u);\n }\n \n+static void ApplyStats(CCoinsStats& stats, nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r443265704",
      "id" : 443265704,
      "in_reply_to_id" : 443216727,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI2NTcwNA==",
      "original_commit_id" : "0c90ff28e7205d5f61750c6f628ae8c4af9eedfd",
      "original_line" : 44,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 434540421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-21T23:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443265704",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r447566116"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447566116"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Most people won't realise how slow this command is by default until they already issued it (though without an index is slow anyway).",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-06-30T10:03:03Z",
      "diff_hunk" : "@@ -981,7 +983,7 @@ static UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n                         {RPCResult::Type::NUM, \"transactions\", \"The number of transactions with unspent outputs\"},\n                         {RPCResult::Type::NUM, \"txouts\", \"The number of unspent transaction outputs\"},\n                         {RPCResult::Type::NUM, \"bogosize\", \"A meaningless metric for UTXO set size\"},\n-                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash\"},\n+                        {RPCResult::Type::STR_HEX, \"hash_serialized_2\", \"The serialized hash (only present if 'hash_serialized_2' hash_type is chosen)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r447566116",
      "id" : 447566116,
      "in_reply_to_id" : 442959103,
      "line" : 986,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzU2NjExNg==",
      "original_commit_id" : "e884c98996b135eee51e5d3994ae604110c797fd",
      "original_line" : 986,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 16,
      "pull_request_review_id" : 439864652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-30T10:08:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447566116",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r449210413"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/449210413"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd like to avoid this duplication, but it can wait.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-07-02T18:55:37Z",
      "diff_hunk" : "@@ -41,6 +41,17 @@ static void ApplyStats(CCoinsStats& stats, CHashWriter& ss, const uint256& hash,\n     ss << VARINT(0u);\n }\n \n+static void ApplyStats(CCoinsStats& stats, std::nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    stats.nTransactions++;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r449210413",
      "id" : 449210413,
      "line" : 47,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxMDQxMw==",
      "original_commit_id" : "f17a4d1c4ddce6935a353004898fb4e8618a213e",
      "original_line" : 47,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : 40,
      "pull_request_review_id" : 441947363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-02T18:56:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/449210413",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Checked that 40506bf93 is faster with the `none` option on my arm machine. Haven't yet reviewed the code of that commit",
      "created_at" : "2020-07-02T20:20:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-653203629",
      "id" : 653203629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MzIwMzYyOQ==",
      "updated_at" : "2020-07-02T20:20:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/653203629",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r449868658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/449868658"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I now remove it in the follow-up when adding hash_type MUHASH https://github.com/bitcoin/bitcoin/pull/19145/files#diff-0ab7b981bd35c1a1f45b5ed75013a698",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-07-05T11:51:07Z",
      "diff_hunk" : "@@ -41,6 +41,17 @@ static void ApplyStats(CCoinsStats& stats, CHashWriter& ss, const uint256& hash,\n     ss << VARINT(0u);\n }\n \n+static void ApplyStats(CCoinsStats& stats, std::nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+{\n+    assert(!outputs.empty());\n+    stats.nTransactions++;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r449868658",
      "id" : 449868658,
      "in_reply_to_id" : 449210413,
      "line" : 47,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg2ODY1OA==",
      "original_commit_id" : "f17a4d1c4ddce6935a353004898fb4e8618a213e",
      "original_line" : 47,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : 40,
      "pull_request_review_id" : 442670596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-05T11:51:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/449868658",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a ð¨\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a ð¨\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUiC+Qv/UfSTrJYS3nGpNjOzD1xGJWB/hTnUlgwgMIm4UkrnJw5tpLgSxniPsa7J\r\n8sK5CaKfpLKpvXjW+sFMcadgHX8IeZlFfvlDev8Bc6T0RrGh/61qgjwKqQUKtAh+\r\nzv+v+QnvkXInpgTYK3oLF7UvtBqEqwpRi04e6m23eLaDcdMC03iBAjYPd+/4WbFV\r\n+wQdWyZTn52Fe3IKR6+QcyQXXZS4lgUYd1K0N90w1nfB1kVx7C04KMn3Ubj6FxOb\r\nkZtIdYLciOCPodgy5idcZGHHEcEg88z3lhXp5JqQmh96dhDf9ehsclgl5ycFVl8I\r\nIu8BXhHs/OwYg+sy/9IDvdN6uwzknwIv1E9ueSe5fS0Xh8W6KLOaEIa7iAz4OPlQ\r\nfvseGpqHfuuGv8QHK+3e4+GorghSLM2hOyUure5y+l64dWa5BQeubc2FXHFupyf8\r\npAYWjmUjSnk240Fb4nqRqp3j6iu7joHWFKK5FSOCofZ6pLlZ7cIDluKXsYYqaDJq\r\np1ypj/n5\r\n=eqXn\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `4ce439fee8be758f1a7c060666d9c236d07dd151ec5a09fed5df26d9df431ae9  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401084ce439fee8be758f1a7c060666d9c236d07dd151ec5a09fed5df26d9df431ae9f010efd34ace6ed456231acd43e3e456700c08fff010074997c5706c82ebe7dc66885e21a16508f1045f0313b0f0080bfcf221f26428630083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff01082a2cd324a4efcfed3d1d5f46a28061a08f1045f0313aff008de1c515d5234c18c0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff0108c43f0984fab544776d809b00268f9e908f1045f0313aff008ce299776b2f37cc30083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267f01095fb4d7094a0e0b25515cc29c91d86a308f1045f0313b0f0080c0763802f98431a0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6d)\r\n\r\n</details>\r\n",
      "created_at" : "2020-07-06T12:06:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#issuecomment-654193371",
      "id" : 654193371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19328",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NDE5MzM3MQ==",
      "updated_at" : "2020-07-06T12:06:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/654193371",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r450175986"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/450175986"
         }
      },
      "author_association" : "MEMBER",
      "body" : "style-nit: No need for the `else` and all the whitespace padding below\r\n\r\n```suggestion\r\n    }\r\n    const std::str...\r\n```",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-07-06T12:08:01Z",
      "diff_hunk" : "@@ -113,6 +113,23 @@ std::vector<unsigned char> ParseHexO(const UniValue& o, std::string strKey)\n     return ParseHexV(find_value(o, strKey), strKey);\n }\n \n+CoinStatsHashType ParseHashType(const UniValue& param, const CoinStatsHashType default_type)\n+{\n+    if (param.isNull()) {\n+        return default_type;\n+    } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r450175986",
      "id" : 450175986,
      "line" : 120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3NTk4Ng==",
      "original_commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "original_line" : 120,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 8,
      "pull_request_review_id" : 443016519,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-06T12:08:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/450175986",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r450240315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/450240315"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, now fixed in #19145.",
      "commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "created_at" : "2020-07-06T13:59:40Z",
      "diff_hunk" : "@@ -113,6 +113,23 @@ std::vector<unsigned char> ParseHexO(const UniValue& o, std::string strKey)\n     return ParseHexV(find_value(o, strKey), strKey);\n }\n \n+CoinStatsHashType ParseHashType(const UniValue& param, const CoinStatsHashType default_type)\n+{\n+    if (param.isNull()) {\n+        return default_type;\n+    } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19328#discussion_r450240315",
      "id" : 450240315,
      "in_reply_to_id" : 450175986,
      "line" : 120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI0MDMxNQ==",
      "original_commit_id" : "40506bf93f955adfbc446c4d5fee4fa8bcfd7d9a",
      "original_line" : 120,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 8,
      "pull_request_review_id" : 443101638,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19328",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-06T13:59:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/450240315",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
