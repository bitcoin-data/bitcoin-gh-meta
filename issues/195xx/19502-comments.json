[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453447710"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453447710"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Verified that this does cause the test to fail at line 79 without the changes in this PR.\r\n\r\nCould also assert that the new logging is taking place with this at line 79 or just after:\r\n```python3\r\nwith self.nodes[0].assert_debug_log(expected_msgs=['Too many levels of symbolic links', 'Error scanning']):\r\n    self.nodes[0].listwalletdir()['wallets']\r\n```",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-07-13T05:49:34Z",
      "diff_hunk" : "@@ -50,6 +50,11 @@ def wallet_file(name):\n         os.mkdir(wallet_dir('w7'))\n         os.symlink('w7', wallet_dir('w7_symlink'))\n \n+        os.symlink('..', wallet_dir('recursive_dir_symlink'))\n+\n+        os.mkdir(wallet_dir('self_walletdat_symlink'))\n+        os.symlink('wallet.dat', wallet_dir('self_walletdat_symlink/wallet.dat'))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453447710",
      "id" : 453447710,
      "line" : 85,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ0NzcxMA==",
      "original_commit_id" : "bca838d38c54f3df3c85da54e23857f06f07c6bb",
      "original_line" : 85,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : 15,
      "pull_request_review_id" : 446995919,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-06T04:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453447710",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20260 (wallet: Create named SQLite wallet files instead of wallet directories by achow101)\n* #20186 (wallet: Make -wallet setting not create wallets by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-13T05:52:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-657373763",
      "id" : 657373763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzM3Mzc2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T04:31:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657373763",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453449135"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453449135"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(or combined with the existing line 79 to share the same listwalletdir call)\r\n```diff\r\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), ['', os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\r\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Too many levels of symbolic links', 'Error scanning']):\r\n+            list = self.nodes[0].listwalletdir()['wallets']\r\n+        assert_equal(sorted(map(lambda w: w['name'], list)), ['', os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\r\n```",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-07-13T05:54:38Z",
      "diff_hunk" : "@@ -50,6 +50,11 @@ def wallet_file(name):\n         os.mkdir(wallet_dir('w7'))\n         os.symlink('w7', wallet_dir('w7_symlink'))\n \n+        os.symlink('..', wallet_dir('recursive_dir_symlink'))\n+\n+        os.mkdir(wallet_dir('self_walletdat_symlink'))\n+        os.symlink('wallet.dat', wallet_dir('self_walletdat_symlink/wallet.dat'))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453449135",
      "id" : 453449135,
      "in_reply_to_id" : 453447710,
      "line" : 85,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ0OTEzNQ==",
      "original_commit_id" : "bca838d38c54f3df3c85da54e23857f06f07c6bb",
      "original_line" : 85,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : 15,
      "pull_request_review_id" : 446997501,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-06T04:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453449135",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Help me.",
      "created_at" : "2020-07-13T20:20:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-657770932",
      "id" : 657770932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1Nzc3MDkzMg==",
      "updated_at" : "2020-07-13T20:20:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657770932",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/67638258?v=4",
         "events_url" : "https://api.github.com/users/Aonny112/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Aonny112/followers",
         "following_url" : "https://api.github.com/users/Aonny112/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Aonny112/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Aonny112",
         "id" : 67638258,
         "login" : "Aonny112",
         "node_id" : "MDQ6VXNlcjY3NjM4MjU4",
         "organizations_url" : "https://api.github.com/users/Aonny112/orgs",
         "received_events_url" : "https://api.github.com/users/Aonny112/received_events",
         "repos_url" : "https://api.github.com/users/Aonny112/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Aonny112/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Aonny112/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Aonny112"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 4f0cbc4",
      "created_at" : "2020-07-14T04:05:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-657953915",
      "id" : 657953915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1Nzk1MzkxNQ==",
      "updated_at" : "2020-07-14T04:05:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657953915",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-02T15:50:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-702811773",
      "id" : 702811773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjgxMTc3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-02T15:50:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702811773",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2020-10-12T15:53:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707202800",
      "id" : 707202800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzIwMjgwMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-12T15:53:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707202800",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Before merge please note; this  ( #19502 and  ( #20080  or #19933 ) should merged together, since they vice versa would create new issues, like shorted wallet names.\r\n\r\nIf we have boost cononical best first #20080 and then this.\r\n",
      "created_at" : "2020-10-13T08:14:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707573444",
      "id" : 707573444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzU3MzQ0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T08:14:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707573444",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't see what new issues (aside from rebasing) would be created by merging them separately?",
      "created_at" : "2020-10-13T12:11:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707696358",
      "id" : 707696358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzY5NjM1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T12:11:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707696358",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I don't see what new issues (aside from rebasing) would be created by merging them separately?\r\n\r\niirc this a fix for the boost link problem and  ( evil wallet ) and makes #18095 obsolete.  \r\n\r\nÌ¶BÌ¶uÌ¶tÌ¶ Ì¶iÌ¶fÌ¶ Ì¶tÌ¶hÌ¶iÌ¶sÌ¶ Ì¶gÌ¶eÌ¶tÌ¶ Ì¶mÌ¶eÌ¶rÌ¶gÌ¶eÌ¶dÌ¶ Ì¶fÌ¶iÌ¶rÌ¶sÌ¶tÌ¶,Ì¶ Ì¶tÌ¶hÌ¶eÌ¶nÌ¶ Ì¶rÌ¶eÌ¶aÌ¶lÌ¶ Ì¶sÌ¶hÌ¶oÌ¶rÌ¶tÌ¶ Ì¶fÌ¶iÌ¶lÌ¶eÌ¶nÌ¶aÌ¶mÌ¶eÌ¶sÌ¶ Ì¶wÌ¶aÌ¶lÌ¶lÌ¶eÌ¶tÌ¶sÌ¶ Ì¶fÌ¶rÌ¶oÌ¶mÌ¶ Ì¶tÌ¶hÌ¶eÌ¶ Ì¶lÌ¶aÌ¶tÌ¶eÌ¶rÌ¶ Ì¶fÌ¶oÌ¶uÌ¶nÌ¶dÌ¶ Ì¶bÌ¶uÌ¶gÌ¶ Ì¶cÌ¶oÌ¶uÌ¶lÌ¶dÌ¶ Ì¶bÌ¶eÌ¶ Ì¶cÌ¶rÌ¶eÌ¶aÌ¶tÌ¶eÌ¶dÌ¶ Ì¶fÌ¶rÌ¶oÌ¶mÌ¶ Ì¶aÌ¶ Ì¶bÌ¶oÌ¶gÌ¶uÌ¶sÌ¶ Ì¶dÌ¶iÌ¶rÌ¶nÌ¶aÌ¶mÌ¶eÌ¶ Ì¶oÌ¶nÌ¶ Ì¶dÌ¶iÌ¶sÌ¶kÌ¶ Ì¶fÌ¶oÌ¶rÌ¶ Ì¶rÌ¶eÌ¶aÌ¶lÌ¶.Ì¶",
      "created_at" : "2020-10-13T18:07:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707916707",
      "id" : 707916707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzkxNjcwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-14T17:17:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707916707",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> But if this get merged first, then real short filenames wallets from the later found bug could be created from a bogus dirname on disk for real.\r\n\r\n@luke-jr \r\nRechecked complies from the sources:  To open non exitsting files,  is no longer the case with current master and knots so no merge sequence preferences here any longer. Was only a problem short after those errors where found and exits only if direct on top of last releases before/= 0.20 ",
      "created_at" : "2020-10-14T13:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-708387197",
      "id" : 708387197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwODM4NzE5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-14T13:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/708387197",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-15T11:09:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-709204232",
      "id" : 709204232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTIwNDIzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T11:09:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709204232",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased again",
      "created_at" : "2020-10-15T19:33:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-709545767",
      "id" : 709545767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTU0NTc2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T19:33:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709545767",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I revoke my ACK as this change makes possible an infinity loop.\r\nTo reproduce the bug, one could create a directory without access permissions, e.g.:\r\n```\r\n$ ls -l /home/hebasto/bitcoin-data-dir/wallets\r\ntotal 1456\r\ndrwx------ 3 hebasto hebasto    4096 Oct  3 11:16 20191109-main\r\ndrwx------ 2 root    root       4096 Oct 20 23:58 crash\r\n-rw-r--r-- 1 hebasto hebasto       0 Mar  5  2020 db.log\r\ndrwx------ 3 hebasto hebasto    4096 Oct 20 23:56 w20201015.bdb\r\ndrwx------ 3 hebasto hebasto    4096 Oct 20 23:56 w20201015.desc\r\n-rw-r----- 1 hebasto hebasto 1474560 Sep 12 16:08 wallet.dat\r\n```\r\n\r\nI suggest to combine into this PR the approach from #18095: https://github.com/bitcoin/bitcoin/blob/6904a309194c7ddf5a071d43e6c2bf892e8fe396/src/wallet/walletutil.cpp#L42-L53\r\nwith credits to @uhliksk",
      "created_at" : "2020-10-20T22:01:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-713165606",
      "id" : 713165606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMzE2NTYwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-20T22:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/713165606",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-29T14:20:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-718784734",
      "id" : 718784734,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODc4NDczNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T14:20:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718784734",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto Couldn't reproduce, but it did cause listwallets to miss other wallets. Added a fix and test.",
      "created_at" : "2020-10-29T19:04:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-718959641",
      "id" : 718959641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODk1OTY0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T19:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718959641",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested 49cc6919c4f9ef5a33ad5948a1b43496b454fab0, still able to reproduce an infinite loop:\r\n```\r\ncd <path-to-wallet-dir>\r\nsudo mkdir crash\r\nsudo chown 0700 crash\r\n```\r\n\r\nthen start a node, and initiate a `ListWalletDir` call in any way.",
      "created_at" : "2020-10-29T20:31:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-719004065",
      "id" : 719004065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxOTAwNDA2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T20:31:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/719004065",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514562067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514562067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "44c0bc31f4fadc932877d9764402644c84f3be4c\r\n\r\nIf this line is commented out, the test still passing.",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-10-29T20:57:33Z",
      "diff_hunk" : "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514562067",
      "id" : 514562067,
      "line" : 128,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU2MjA2Nw==",
      "original_commit_id" : "44c0bc31f4fadc932877d9764402644c84f3be4c",
      "original_line" : 128,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : 27,
      "pull_request_review_id" : 520076036,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-06T04:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514562067",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514574906"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514574906"
         }
      },
      "author_association" : "MEMBER",
      "body" : "???",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-10-29T21:21:04Z",
      "diff_hunk" : "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514574906",
      "id" : 514574906,
      "in_reply_to_id" : 514562067,
      "line" : 128,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NDkwNg==",
      "original_commit_id" : "44c0bc31f4fadc932877d9764402644c84f3be4c",
      "original_line" : 128,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : 27,
      "pull_request_review_id" : 520096776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-06T04:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514574906",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514579270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514579270"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If initial state is changed, i.e., the `no_access` directory actually has access, the test should fail, right?",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-10-29T21:29:25Z",
      "diff_hunk" : "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514579270",
      "id" : 514579270,
      "in_reply_to_id" : 514562067,
      "line" : 128,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3OTI3MA==",
      "original_commit_id" : "44c0bc31f4fadc932877d9764402644c84f3be4c",
      "original_line" : 128,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : 27,
      "pull_request_review_id" : 520102597,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-06T04:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514579270",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514662450"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514662450"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, it's just there to make sure it doesn't break things. We're testing bitcoind, not the OS...\r\n\r\n(And in fact, chmod won't work to deny read access on Windows)",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-10-30T01:21:39Z",
      "diff_hunk" : "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514662450",
      "id" : 514662450,
      "in_reply_to_id" : 514562067,
      "line" : 128,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDY2MjQ1MA==",
      "original_commit_id" : "44c0bc31f4fadc932877d9764402644c84f3be4c",
      "original_line" : 128,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : 27,
      "pull_request_review_id" : 520308293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-06T04:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514662450",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r519171061"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/519171061"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nice, TIL",
      "commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "created_at" : "2020-11-07T12:09:13Z",
      "diff_hunk" : "@@ -49,26 +49,31 @@ std::vector<fs::path> ListWalletDir()\n             continue;\n         }\n \n-        // Get wallet path relative to walletdir by removing walletdir from the wallet path.\n-        // This can be replaced by boost::filesystem::lexically_relative once boost is bumped to 1.60.\n-        const fs::path path = it->path().string().substr(offset);\n+        try {\n+            // Get wallet path relative to walletdir by removing walletdir from the wallet path.\n+            // This can be replaced by boost::filesystem::lexically_relative once boost is bumped to 1.60.\n+            const fs::path path = it->path().string().substr(offset);\n \n-        if (it->status().type() == fs::directory_file &&\n-            (ExistsBerkeleyDatabase(it->path()) || ExistsSQLiteDatabase(it->path()))) {\n-            // Found a directory which contains wallet.dat btree file, add it as a wallet.\n-            paths.emplace_back(path);\n-        } else if (it.level() == 0 && it->symlink_status().type() == fs::regular_file && ExistsBerkeleyDatabase(it->path())) {\n-            if (it->path().filename() == \"wallet.dat\") {\n-                // Found top-level wallet.dat btree file, add top level directory \"\"\n-                // as a wallet.\n-                paths.emplace_back();\n-            } else {\n-                // Found top-level btree file not called wallet.dat. Current bitcoin\n-                // software will never create these files but will allow them to be\n-                // opened in a shared database environment for backwards compatibility.\n-                // Add it to the list of available wallets.\n+            if (it->status().type() == fs::directory_file &&\n+                (ExistsBerkeleyDatabase(it->path()) || ExistsSQLiteDatabase(it->path()))) {\n+                // Found a directory which contains wallet.dat btree file, add it as a wallet.\n                 paths.emplace_back(path);\n+            } else if (it.level() == 0 && it->symlink_status().type() == fs::regular_file && ExistsBerkeleyDatabase(it->path())) {\n+                if (it->path().filename() == \"wallet.dat\") {\n+                    // Found top-level wallet.dat btree file, add top level directory \"\"\n+                    // as a wallet.\n+                    paths.emplace_back();\n+                } else {\n+                    // Found top-level btree file not called wallet.dat. Current bitcoin\n+                    // software will never create these files but will allow them to be\n+                    // opened in a shared database environment for backwards compatibility.\n+                    // Add it to the list of available wallets.\n+                    paths.emplace_back(path);\n+                }\n             }\n+        } catch (const std::exception& e) {\n+            LogPrintf(\"%s: Error scanning %s: %s\\n\", __func__, it->path().string(), e.what());\n+            it.no_push();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r519171061",
      "id" : 519171061,
      "line" : 76,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE3MTA2MQ==",
      "original_commit_id" : "24d2d3341d07509ad3f37bb6f130446ad20ac807",
      "original_line" : 76,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 45,
      "pull_request_review_id" : 525648847,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-07T12:18:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/519171061",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
