[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK ð ",
      "created_at" : "2020-07-16T13:00:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-659394609",
      "id" : 659394609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTM5NDYwOQ==",
      "updated_at" : "2020-07-16T13:00:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659394609",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased after #17919 . \r\n\r\nAlso added another commit after https://github.com/tpoechtrager/cctools-port/pull/85 was merged upstream to fix lto detection with external clang.",
      "created_at" : "2020-07-16T20:06:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-659642591",
      "id" : 659642591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTY0MjU5MQ==",
      "updated_at" : "2020-07-16T20:09:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659642591",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Checked out this branch at https://github.com/bitcoin/bitcoin/pull/19530/commits/5962522fbcb7b72c269fc271ac4463791a103918 and did a `make -C depends/ -j6 HOST=x86_64-apple-darwin16`. I'm seeing:\r\n\r\n```bash\r\n[ 97%] Building C object genisoimage/CMakeFiles/genisoimage.dir/endian.o\r\n[ 97%] Building C object genisoimage/CMakeFiles/genisoimage.dir/sha1.o\r\n[ 97%] Building C object genisoimage/CMakeFiles/genisoimage.dir/sha256.o\r\n[ 98%] Building C object genisoimage/CMakeFiles/genisoimage.dir/sha512.o\r\n[ 98%] Building C object genisoimage/CMakeFiles/genisoimage.dir/checksum.o\r\n[100%] Linking C executable genisoimage\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/apple.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/desktop.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/dvd_file.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/dvd_reader.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/eltorito.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/files.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/hash.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/ifo_read.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/joliet.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/mac_label.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/multi.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/name.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/rock.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/scsi.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/stream.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/tree.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/udf.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/volume.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/write.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot-alpha.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot-hppa.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot-mips.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/jte.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/rsync.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/boot-mipsel.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\n/usr/bin/ld: CMakeFiles/genisoimage.dir/checksum.o:(.bss+0x0): multiple definition of `outfile'; CMakeFiles/genisoimage.dir/genisoimage.o:(.bss+0x0): first defined here\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n\r\nHave not investigated further.",
      "created_at" : "2020-07-17T02:44:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-659802512",
      "id" : 659802512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTgwMjUxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T02:44:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659802512",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake Strange... this is fine locally, and our c-i didn't have any trouble with it either.\r\n\r\nIs the problem locally reproducible?",
      "created_at" : "2020-07-17T12:53:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-660090106",
      "id" : 660090106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDA5MDEwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T12:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660090106",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For me, builds of ```bitcoind``` and ```bitcoin-qt``` even succeed with lto enabled for dependencies as well with the following hack:\r\n```diff\r\ndiff --git a/depends/hosts/darwin.mk b/depends/hosts/darwin.mk\r\nindex 6099fd4c71..c4180ac2f8 100644\r\n--- a/depends/hosts/darwin.mk\r\n+++ b/depends/hosts/darwin.mk\r\n@@ -28,8 +28,8 @@ OSX_SDK=$(SDK_PATH)/Xcode-$(XCODE_VERSION)-$(XCODE_BUILD_ID)-extracted-SDK-with-\r\n #         https://reviews.llvm.org/D64089, we should use that instead. Read the\r\n #         differential summary there for more details.\r\n #\r\n-darwin_CC=clang -target $(host) -mmacosx-version-min=$(OSX_MIN_VERSION) --sysroot $(OSX_SDK) -mlinker-version=$(LD64_VERSION) -B$(build_prefix)/bin\r\n-darwin_CXX=clang++ -target $(host) -mmacosx-version-min=$(OSX_MIN_VERSION) --sysroot $(OSX_SDK) -stdlib=libc++ -mlinker-version=$(LD64_VERSION) -B$(build_prefix)/bin -nostdinc++ -isystem $(OSX_SDK)/usr/include/c++/v1\r\n+darwin_CC=clang -target $(host) -mmacosx-version-min=$(OSX_MIN_VERSION) --sysroot $(OSX_SDK) -mlinker-version=$(LD64_VERSION) -B$(build_prefix)/bin -flto=thin\r\n+darwin_CXX=clang++ -target $(host) -mmacosx-version-min=$(OSX_MIN_VERSION) --sysroot $(OSX_SDK) -stdlib=libc++ -mlinker-version=$(LD64_VERSION) -B$(build_prefix)/bin -nostdinc++ -isystem $(OSX_SDK)/usr/include/c++/v1 -flto=thin\r\n\r\n darwin_CFLAGS=-pipe\r\n darwin_CXXFLAGS=$(darwin_CFLAGS)\r\n```\r\n\r\nIt's almost suspicious how well/easily that worked. I'll dig further to make sure it's actually doing full lto under the hood.",
      "created_at" : "2020-07-17T15:21:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-660166898",
      "id" : 660166898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDE2Njg5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T15:21:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660166898",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit fd59670642f511523570607b752ae409b5e04e7d<br>(master) | commit 3fa897a0ef921a446dfb46d929c22038e367b837<br>(master and this pull) |\n|--|--|--|\n| bitcoin-core-linux-0.21-res.yml | [`505c6e4b3d5cb53e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-core-linux-0.21-res.yml) | [`fed919dada1dd203...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-core-linux-0.21-res.yml) |\n| bitcoin-core-osx-0.21-res.yml | [`59e47553324c4d43...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-core-osx-0.21-res.yml) | [`a61dd55ddf53cd1f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-core-osx-0.21-res.yml) |\n| bitcoin-core-win-0.21-res.yml | [`8b4d3e18c2e7e44c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-core-win-0.21-res.yml) | [`0c74f587c29bdb8d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-core-win-0.21-res.yml) |\n| *-aarch64-linux-gnu-debug.tar.gz | [`8e7308cd154a8b01...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-aarch64-linux-gnu-debug.tar.gz) | [`78d04b4e71c541b2...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`7c3675372886dbf7...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-aarch64-linux-gnu.tar.gz) | [`122ff48d3bfeda45...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`01b2ece9ca424ef4...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-arm-linux-gnueabihf-debug.tar.gz) | [`ba155e8de4be8cf5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`45215523beb58f6d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-arm-linux-gnueabihf.tar.gz) | [`c19fca4bd6375f94...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-arm-linux-gnueabihf.tar.gz) |\n| *-osx-unsigned.dmg | [`314f2723be4b2f70...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-osx-unsigned.dmg) | [`918ee034b90ff53a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-osx-unsigned.dmg) |\n| *-osx64.tar.gz | [`c6bfc447a2ef1334...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-osx64.tar.gz) | [`8ad996a5c35c3d09...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-osx64.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`124dfbac07ea1e64...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-riscv64-linux-gnu-debug.tar.gz) | [`6e916f614aefa5d3...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`22bfb0fc4218d285...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-riscv64-linux-gnu.tar.gz) | [`c8e0d75cb99273eb...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-riscv64-linux-gnu.tar.gz) |\n| *-win64-debug.zip | [`75f1b9e8e0aab430...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-win64-debug.zip) | [`25f869a98d19b23b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-win64-debug.zip) |\n| *-win64-setup-unsigned.exe | [`3fb66c88b0126fb3...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-win64-setup-unsigned.exe) | [`f0ec2840dbd17c09...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-win64-setup-unsigned.exe) |\n| *-win64.zip | [`de89cf52803db359...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-win64.zip) | [`49e5fb3efd3b15b5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-win64.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`a587a7333cb2823b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-x86_64-linux-gnu-debug.tar.gz) | [`1e4cfb67952e009d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`73dd22b3be507039...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5-x86_64-linux-gnu.tar.gz) | [`d121aa1d85662008...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`005ff019045bb0a4...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/bitcoin-fd59670642f5.tar.gz) | [`990f86ded9a6aff3...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-3fa897a0ef92.tar.gz) |\n| linux-build.log | [`6201e9df0f29f327...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/linux-build.log) | [`13477b89192ddeb0...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/linux-build.log) |\n| osx-build.log | [`83cd2a61f8a16ecb...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/osx-build.log) | [`090d2b71ffbd54f0...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/osx-build.log) |\n| win-build.log | [`49cc23d322018d48...`](https://drahtbot.space/gitian/bitcoin/bitcoin/fd59670642f511523570607b752ae409b5e04e7d/win-build.log) | [`49d1ce2ed45e5506...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/win-build.log) |\n| bitcoin-core-linux-0.21-res.yml.diff |  | [`9d3d37d52750777d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-core-linux-0.21-res.yml.diff) |\n| bitcoin-core-osx-0.21-res.yml.diff |  | [`56adcd0fba885953...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-core-osx-0.21-res.yml.diff) |\n| bitcoin-core-win-0.21-res.yml.diff |  | [`d8d9b7eac8b6c98b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/bitcoin-core-win-0.21-res.yml.diff) |\n| linux-build.log.diff |  | [`34eea87cd725d194...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/linux-build.log.diff) |\n| osx-build.log.diff |  | [`57bf2ca7d604d02e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/osx-build.log.diff) |\n| win-build.log.diff |  | [`d2b07e2dda38edf6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/3fa897a0ef921a446dfb46d929c22038e367b837/win-build.log.diff) |\n\n",
      "created_at" : "2020-07-18T17:56:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-660518209",
      "id" : 660518209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDUxODIwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-18T17:56:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660518209",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @fanquake Strange... this is fine locally, and our c-i didn't have any trouble with it either.\r\n> Is the problem locally reproducible?\r\n\r\nYes. Turns out the issue is actually a [change in defaults](https://gcc.gnu.org/gcc-10/porting_to.html) in GCC 10.1. See #19553. In the mean time, I'll retest here with an earlier GCC.",
      "created_at" : "2020-07-19T07:28:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-660602029",
      "id" : 660602029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDYwMjAyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-19T07:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660602029",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, even though we don't use LTO for builds currently, if it isn't unnecessary to disable it explicitly in the toolchain, we shouldn't.",
      "created_at" : "2020-07-22T15:13:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-662512004",
      "id" : 662512004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MjUxMjAwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-22T15:13:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/662512004",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Continuing the conversation from #19565:\r\n> The solution seemed to be to pass -object_path_lto through to ld64. Doing that I end up with a properly generated .dSYM:\r\n\r\nI think I understand what's happening here. From the clang docs\r\n```\r\n  The default for :option:`-flto` is \"full\", in which the\r\n  LLVM bitcode is suitable for monolithic Link Time Optimization (LTO), where\r\n  the linker merges all such modules into a single combined module for\r\n  optimization. With \"thin\", :doc:`ThinLTO <../ThinLTO>`\r\n  compilation is invoked instead.\r\n\r\n  .. note::\r\n\r\n     On Darwin, when using :option:`-flto` along with :option:`-g` and\r\n     compiling and linking in separate steps, you also need to pass\r\n     ``-Wl,-object_path_lto,<lto-filename>.o`` at the linking step to instruct the\r\n     ld64 linker not to delete the temporary object file generated during Link\r\n     Time Optimization (this flag is automatically passed to the linker by Clang\r\n     if compilation and linking are done in a single step). This allows debugging\r\n     the executable as well as generating the ``.dSYM`` bundle using :manpage:`dsymutil(1)`.\r\n```\r\n\r\nThat's describing us.\r\n\r\nThe machinery to get clang to do this for you only applies when compiling and linking at the same time. Here's a comment from elsewhere explaining why:\r\n```\r\n      // Add a 'dsymutil' step if necessary, when debug info is enabled and we\r\n      // have a compile input. We need to run 'dsymutil' ourselves in such cases\r\n      // because the debug info will refer to a temporary object file which\r\n      // will be removed at the end of the compilation process.\r\n```\r\n\r\n I can confirm that is working as intended with a test-case:\r\n\r\n```$ cat lto1.cpp lto2.cpp```\r\n```c++\r\n//lto1.cpp\r\nvoid MyFunc();\r\nint main(){\r\nMyFunc();\r\n}\r\n//lto2.cpp\r\n#include <stdio.h>\r\nvoid MyFunc()\r\n{\r\n    printf(\"hello world\\n\");\r\n}\r\n```\r\n> $ clang++ -target x86_64-apple-darwin16 -mmacosx-version-min=10.12 --sysroot /home/cory/dev/bitcoin2/depends/SDKs/Xcode-11.3.1-11C505-extracted-SDK-with-libcxx-headers -stdlib=libc++ -mlinker-version=530 -B/home/cory/dev/bitcoin2/depends/x86_64-apple-darwin16/native/bin -nostdinc++ -isystem /home/cory/dev/bitcoin2/depends/SDKs/Xcode-11.3.1-11C505-extracted-SDK-with-libcxx-headers/usr/include/c++/v1 -flto=thin -std=c++11 **lto1.cpp lto2.cpp** -v\r\n\r\nWhich produces the following link line and calls dsymutil:\r\n\r\n> \"/home/cory/dev/bitcoin2/depends/x86_64-apple-darwin16/native/bin/x86_64-apple-darwin16-ld\" -demangle **-object_path_lto /tmp/thinlto-d130c2** -lto_library /home/cory/dev/llvm-project/build/lib/libLTO.so -no_deduplicate -dynamic -arch x86_64 -platform_version macos 10.12.0 0.0.0 -syslibroot /home/cory/dev/bitcoin2/depends/SDKs/Xcode-11.3.1-11C505-extracted-SDK-with-libcxx-headers -o a.out /tmp/lto1-bd26d0.o /tmp/lto2-439b81.o -lc++ -lSystem\r\n> **\"/home/cory/dev/llvm-project/build/bin/dsymutil\" -o a.out.dSYM a.out**\r\n\r\nSo, it sounds as though everything is actually working as intended. We just need to add that link flag if lto and debugging are on. But we're getting ahead of ourselves, as we don't have an option for lto yet :)",
      "created_at" : "2020-07-23T22:45:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-663268200",
      "id" : 663268200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19530",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MzI2ODIwMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-23T22:45:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663268200",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
