[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Going to take a crack at this",
      "created_at" : "2019-12-21T16:25:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17413#issuecomment-568193371",
      "id" : 568193371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17413",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODE5MzM3MQ==",
      "updated_at" : "2019-12-21T16:25:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568193371",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5226601?v=4",
         "events_url" : "https://api.github.com/users/hackerrdave/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hackerrdave/followers",
         "following_url" : "https://api.github.com/users/hackerrdave/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hackerrdave/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hackerrdave",
         "id" : 5226601,
         "login" : "hackerrdave",
         "node_id" : "MDQ6VXNlcjUyMjY2MDE=",
         "organizations_url" : "https://api.github.com/users/hackerrdave/orgs",
         "received_events_url" : "https://api.github.com/users/hackerrdave/received_events",
         "repos_url" : "https://api.github.com/users/hackerrdave/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hackerrdave/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hackerrdave/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hackerrdave"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've just had a look over the mentioned files, and am copying my notes here to make them public.\r\n\r\nUnless otherwise noted, the filetype is shell code.\r\n\r\n1. https://github.com/bitcoin/bitcoin/blob/master/contrib/devtools/copyright_header.py#L32-40\r\n\r\nPython: Quoted string array.\r\n\r\n```\r\nEXCLUDE_DIRS = [\r\n    # git subtrees\r\n    \"src/crypto/ctaes/\",\r\n    \"src/leveldb/\",\r\n    \"src/minisketch\",\r\n    \"src/secp256k1/\",\r\n    \"src/univalue/\",\r\n    \"src/crc32c/\",\r\n]\r\n```\r\n\r\n2. https://github.com/bitcoin/bitcoin/blob/master/doc/Doxyfile.in#L864-L866\r\n\r\nUnquoted values.\r\n\r\n```\r\nEXCLUDE                = src/crc32c \\\r\n                         src/leveldb \\\r\n                         src/json\r\n```\r\n\r\n3. https://github.com/bitcoin/bitcoin/blob/master/test/lint/extended-lint-cppcheck.sh#L76\r\n\r\nQuoted strings, prefixed with :(exclude).\r\n\r\n```\r\nWARNINGS=$(git ls-files -- \"*.cpp\" \"*.h\" \":(exclude)src/leveldb/\" \":(exclude)src/crc32c/\" \":(exclude)src/secp256k1/\" \":(exclude)src/minisketch/\" \":(exclude)src/univalue/\" | \\\r\n```\r\n\r\n\r\n4. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-include-guards.sh#L13\r\n\r\nRegular Expression.\r\n\r\n```\r\nREGEXP_EXCLUDE_FILES_WITH_PREFIX=\"src/(crypto/ctaes/|leveldb/|crc32c/|secp256k1/|minisketch/|test/fuzz/FuzzedDataProvider.h|tinyformat.h|bench/nanobench.h|univalue/)\"\r\n```\r\n\r\n5. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-includes.sh#L12\r\n\r\nRegular Expression.\r\n\r\n```\r\nIGNORE_REGEXP=\"/(leveldb|secp256k1|minisketch|univalue|crc32c)/\"\r\n```\r\n\r\n6. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-python-utf8-encoding.sh#L12\r\n\r\nQuoted string, prefixed with :(exclude).\r\n\r\n```\r\nOUTPUT=$(git grep \" open(\" -- \"*.py\" \":(exclude)src/crc32c/\" | grep -vE \"encoding=.(ascii|utf8|utf-8).\" | grep -vE \"open\\([^,]*, ['\\\"][^'\\\"]*b[^'\\\"]*['\\\"]\")\r\n```\r\n\r\n6a. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-python-utf8-encoding.sh#L20\r\n\r\n```\r\nOUTPUT=$(git grep \"check_output(\" -- \"*.py\" \":(exclude)src/crc32c/\"| grep \"universal_newlines=True\" | grep -vE \"encoding=.(ascii|utf8|utf-8).\")\r\n```\r\n\r\n7. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-spelling.sh#L18\r\n\r\nQuoted strings, prefixed with :(exclude).\r\n\r\n```\r\nmapfile -t FILES < <(git ls-files -- \":(exclude)build-aux/m4/\" \":(exclude)contrib/seeds/*.txt\" \":(exclude)depends/\" \":(exclude)doc/release-notes/\" \":(exclude)src/leveldb/\" \":(exclude)src/crc32c/\" \":(exclude)src/qt/locale/\" \":(exclude)src/qt/*.qrc\" \":(exclude)src/secp256k1/\" \":(exclude)src/minisketch/\" \":(exclude)src/univalue/\" \":(exclude)contrib/builder-keys/keys.txt\" \":(exclude)contrib/guix/patches\")\r\n```\r\n\r\n8. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-whitespace.sh#L36\r\n\r\nQuoted strings, prefixed with :(exclude).\r\n\r\n```\r\n  if ! git diff -U0 \"${COMMIT_RANGE}\" -- \".\" \":(exclude)depends/patches/\" \":(exclude)contrib/guix/patches/\" \":(exclude)src/leveldb/\" \":(exclude)src/crc32c/\" \":(exclude)src/secp256k1/\" \":(exclude)src/minisketch/\" \":(exclude)src/univalue/\" \":(exclude)doc/release-notes/\" \":(exclude)src/qt/locale/\"; then\r\n```\r\n\r\n8a. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-whitespace.sh#L43\r\n\r\nQuoted strings, prefixed with :(exclude).\r\n\r\n```\r\n  if ! git diff -U0 \"${COMMIT_RANGE}\" -- *.cpp *.h *.md *.py *.sh \":(exclude)src/leveldb/\" \":(exclude)src/crc32c/\" \":(exclude)src/secp256k1/\" \":(exclude)src/minisketch/\" \":(exclude)src/univalue/\" \":(exclude)doc/release-notes/\" \":(exclude)src/qt/locale/\"; then\r\n```\r\n\r\n9. https://github.com/bitcoin/bitcoin/blob/master/Makefile.am#L186-L198\r\n\r\nAutomake: Quoted strings.\r\n\r\n```\r\nLCOV_FILTER_PATTERN = \\\r\n\t-p \"/usr/local/\" \\\r\n\t-p \"/usr/include/\" \\\r\n\t-p \"/usr/lib/\" \\\r\n\t-p \"/usr/lib64/\" \\\r\n\t-p \"src/leveldb/\" \\\r\n\t-p \"src/crc32c/\" \\\r\n\t-p \"src/bench/\" \\\r\n\t-p \"src/univalue\" \\\r\n\t-p \"src/crypto/ctaes\" \\\r\n\t-p \"src/minisketch\" \\\r\n\t-p \"src/secp256k1\" \\\r\n\t-p \"depends\"\r\n```\r\n\r\n__Additionally, searching the repo for `univalue` I found these possible additional locations.__\r\n\r\n10. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-files.py#L22\r\n\r\nPython: RegExp.\r\n\r\n```\r\nALLOWED_SOURCE_FILENAME_EXCEPTION_REGEXP = (\r\n    \"^src/(secp256k1/|minisketch/|univalue/|test/fuzz/FuzzedDataProvider.h)\"\r\n)\r\n```\r\n\r\n11. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-format-strings.sh#L37\r\n\r\nPipe separated; part of regexp.\r\n\r\n```\r\n    for MATCHING_FILE in $(git grep --full-name -l \"${FUNCTION_NAME}\" -- \"*.c\" \"*.cpp\" \"*.h\" | sort | grep -vE \"^src/(leveldb|secp256k1|minisketch|tinyformat|univalue|test/fuzz/strprintf.cpp)\"); do\r\n```\r\n\r\n12.  https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-locale-dependence.sh#L49\r\n\r\nPipe separarated; part of regexp.\r\n\r\n```\r\nREGEXP_IGNORE_EXTERNAL_DEPENDENCIES=\"^src/(crypto/ctaes/|leveldb/|secp256k1/|minisketch/|tinyformat.h|univalue/)\"\r\n```\r\n\r\n13. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-shell-locale.sh#L15-18\r\n\r\nPipe separated; part of regexp.\r\n\r\n```\r\nfor SHELL_SCRIPT in $(git ls-files -- \"*.sh\" | grep -vE \"src/(secp256k1|minisketch|univalue)/\"); do\r\n    if grep -q \"# This script is intentionally locale dependent by not setting \\\"export LC_ALL=C\\\"\" \"${SHELL_SCRIPT}\"; then\r\n        continue\r\n    fi\r\n```\r\n\r\n14. https://github.com/bitcoin/bitcoin/blob/master/test/lint/lint-shell.sh#L28\r\n\r\nPipe separated; part of regexp.\r\n\r\n```\r\nmapfile -t FILES < <(git ls-files -- '*.sh' | grep -vE 'src/(leveldb|secp256k1|minisketch|univalue)/')\r\n```",
      "created_at" : "2022-01-14T17:13:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17413#issuecomment-1013306231",
      "id" : 1013306231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17413",
      "node_id" : "IC_kwDOABII5848ZdN3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013306231/reactions"
      },
      "updated_at" : "2022-01-14T17:13:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013306231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/97605837?v=4",
         "events_url" : "https://api.github.com/users/niVelion/events{/privacy}",
         "followers_url" : "https://api.github.com/users/niVelion/followers",
         "following_url" : "https://api.github.com/users/niVelion/following{/other_user}",
         "gists_url" : "https://api.github.com/users/niVelion/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/niVelion",
         "id" : 97605837,
         "login" : "niVelion",
         "node_id" : "U_kgDOBdFYzQ",
         "organizations_url" : "https://api.github.com/users/niVelion/orgs",
         "received_events_url" : "https://api.github.com/users/niVelion/received_events",
         "repos_url" : "https://api.github.com/users/niVelion/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/niVelion/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/niVelion/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/niVelion"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "My group and I are interested in looking into this one as a starter issue, have started brainstorming solutions.",
      "created_at" : "2022-02-17T18:56:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17413#issuecomment-1043303892",
      "id" : 1043303892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17413",
      "node_id" : "IC_kwDOABII584-L43U",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1043303892/reactions"
      },
      "updated_at" : "2022-02-17T18:56:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1043303892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22504085?v=4",
         "events_url" : "https://api.github.com/users/maxraustin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maxraustin/followers",
         "following_url" : "https://api.github.com/users/maxraustin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maxraustin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maxraustin",
         "id" : 22504085,
         "login" : "maxraustin",
         "node_id" : "MDQ6VXNlcjIyNTA0MDg1",
         "organizations_url" : "https://api.github.com/users/maxraustin/orgs",
         "received_events_url" : "https://api.github.com/users/maxraustin/received_events",
         "repos_url" : "https://api.github.com/users/maxraustin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maxraustin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maxraustin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maxraustin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I expect this is going to be slightly easier to do after #24783. At least the linters are uniformly Python after this, so there's no need for a zillion different implementations of directory exclusion list logic.",
      "created_at" : "2022-04-15T08:44:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17413#issuecomment-1099970488",
      "id" : 1099970488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17413",
      "node_id" : "IC_kwDOABII585BkDe4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099970488/reactions"
      },
      "updated_at" : "2022-04-15T08:44:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099970488",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated the OP after #24783. I think it would make sense to converge on a `EXCLUDED_DIRS` list; many scripts were converted to this approach from using a regexp.",
      "created_at" : "2022-05-09T13:18:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17413#issuecomment-1121091912",
      "id" : 1121091912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17413",
      "node_id" : "IC_kwDOABII585C0oFI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121091912/reactions"
      },
      "updated_at" : "2022-05-09T13:18:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121091912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
