[
   {
      "author_association" : "MEMBER",
      "body" : "Why is this a bug? If you want payments to p2wpkh, you should import a p2wpkh descriptor.",
      "created_at" : "2020-03-02T19:57:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593588597",
      "id" : 593588597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzU4ODU5Nw==",
      "updated_at" : "2020-03-02T19:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593588597",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Someone can remove the \"bug\" label if they like, it just works the \"other way\" and that was surprising to me it didn't work this way.",
      "created_at" : "2020-03-02T19:59:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593589407",
      "id" : 593589407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzU4OTQwNw==",
      "updated_at" : "2020-03-02T19:59:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593589407",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Or open up a new issue and state the currently \"working\" half is a bug :)",
      "created_at" : "2020-03-02T20:00:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593589669",
      "id" : 593589669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzU4OTY2OQ==",
      "updated_at" : "2020-03-02T20:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593589669",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There are lots of problems with the current way of working, where often importing a key or a script results in certain related addresses/scripts to become IsMine as well. This includes the fact that it's harder/expensive to construct a list of all scriptPubKeys/addresses that belong to a wallet, and unclarity about the exact semantics.\r\n\r\nDescriptors were designed exactly to solve this problem, so we can have concise descriptions about _exactly_ what is in a wallet, rather than having it implicitly defined based on a set of known private keys, public keys, scripts, and watch-only scripts. `importmulti` with descriptors only approximates this, as it's using the old IsMine logic, which means that inevitably it's going to treat some things as IsMine that weren't requested. I don't think there is anything we can do about that, except perhaps adding a clarification that importing a descriptor may automatically also import a few more things (though only things with the same semantics; e.g. importing a multisig address should never make payments to the individual pubkeys be treated as yours).\r\n\r\nWith descriptor wallets, it'll finally be possible to be exact, and importing a particular descriptor will only ever treat that precise descriptor's addresses as IsMine.",
      "created_at" : "2020-03-02T20:10:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593594100",
      "id" : 593594100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzU5NDEwMA==",
      "updated_at" : "2020-03-02T20:10:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593594100",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's a \"bug\" because it used to work so this is technically a regression.  Of course, since it isn't necessarily intended behavior, maybe it's not a bug. This was only noticed because HWI was inadvertently relying on this behavior in its tests.\r\n\r\nI think that we should just call this \"unsupported behavior\" and wait for descriptor wallets.\r\n\r\nIt sounds like @sipa is in favor of option 1.",
      "created_at" : "2020-03-02T20:15:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593596222",
      "id" : 593596222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzU5NjIyMg==",
      "updated_at" : "2020-03-02T20:16:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593596222",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "\"Let's do it the right way and stop staring into `LegacyScriptPubKeyMan::IsMine` madness\" sounds correct",
      "created_at" : "2020-03-02T20:22:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593599208",
      "id" : 593599208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzU5OTIwOA==",
      "updated_at" : "2020-03-02T20:22:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593599208",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It's a \"bug\" because it used to work so this is technically a regression.\r\n\r\nDo you mean the exact same RPC calls resulted in a different set of IsMine addresses in a previous release? Or do you mean abstractly if you were doing this using different RPCs (non-descriptor importmulti?) you'd get different behavior?",
      "created_at" : "2020-03-02T20:26:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593604302",
      "id" : 593604302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzYwNDMwMg==",
      "updated_at" : "2020-03-02T20:26:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593604302",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Do you mean the exact same RPC calls resulted in a different set of IsMine addresses in a previous release?\r\n\r\nThis. HWI had a specific test case which happened to rely on this behavior. It was working previously, but no longer works.\r\n",
      "created_at" : "2020-03-02T23:13:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593671951",
      "id" : 593671951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzY3MTk1MQ==",
      "updated_at" : "2020-03-02T23:14:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593671951",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh, in that case it's less clear what should be done; we could treat it as \"anything that importmulti descriptor makes IsMine beyond the descriptor's generated addresses is implementation-defined behavior and subject to change\", or we could treat it as \"once the RPC is there we won't change the behavior without deprecation cycles\".",
      "created_at" : "2020-03-02T23:16:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593672868",
      "id" : 593672868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzY3Mjg2OA==",
      "updated_at" : "2020-03-02T23:16:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593672868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not completely sure that's true. The specific issue at hand seems to\nhave existed since importmulti supported descriptors. What specifically\nchanged later was how IsMine effected various things like exposing details\nabout that address. I'm on phone but will point to the PR that changed it\nunless @achow101 beats me to it.\n\nOn Mon, Mar 2, 2020, 6:16 PM Pieter Wuille <notifications@github.com> wrote:\n\n> Oh, in that case it's less clear what should be done; we could treat it as\n> \"anything that importmulti descriptor makes IsMine beyond the descriptor's\n> generated addresses is implementation-defined behavior and subject to\n> change\", or we could treat it as \"once the RPC is there we won't change the\n> behavior without deprecation cycles\".\n>\n> â\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/18248?email_source=notifications&email_token=ABMAFU4RRBN3V5UZNSLDL63RFQ44XA5CNFSM4K73NHWKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOENRLVJA#issuecomment-593672868>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABMAFU3VO4VERCKPOGCFCYLRFQ44XANCNFSM4K73NHWA>\n> .\n>\n",
      "created_at" : "2020-03-02T23:35:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-593678621",
      "id" : 593678621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MzY3ODYyMQ==",
      "updated_at" : "2020-03-02T23:35:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/593678621",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We have descriptor wallets now, so let's just call this unsupported behavior in a type of wallet that is being deprecated.",
      "created_at" : "2022-10-26T21:50:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18248#issuecomment-1292693489",
      "id" : 1292693489,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18248",
      "node_id" : "IC_kwDOABII585NDO_x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292693489/reactions"
      },
      "updated_at" : "2022-10-26T21:50:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292693489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
