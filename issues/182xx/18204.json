{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Improves the descriptor cache by changing it from a `std::vector<unsigned char>` to a newly introduced `DescriptorCache` class. Instead of serializing pubkeys and whatever else we would want to cache in a way that may not be backwards compatible, we instead create a `DescriptorCache` object and populate it. This object contains the pubkey cache and a new xpub cache. Additionally, the pubkey cache is actually just `CPubKey` objects rather than serialized pubkeys.\r\n\r\n`DescriptorCache` allows us to also cache `CExtPubKey`s now. So `BIP32PubKeyProviders` can use the cached xpubs which will help avoid additional derivations for every key and allow us to still derive pubkeys if there are hardened steps (but the last step has to be unhardened). When combined with descriptor wallets, this should allow us to be able to import a descriptor with an `xprv` and hardened steps and still be able to derive from it. In that sense, this is an alternative to #18163\r\n\r\nTo test that this works, the tests have been updated to do an additional round of `ExpandFromCache` but without the pubkey cache. This forces the use of the xpub cache. Since descriptors where the last step is hardened still require the pubkey cache, those descriptors are skipped for that part of the test.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18204/comments",
   "created_at" : "2020-02-25T00:20:41Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18204/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18204",
   "id" : 570228643,
   "labels" : [
      {
         "color" : "e9f76c",
         "default" : false,
         "description" : "",
         "id" : 1482182044,
         "name" : "Descriptors",
         "node_id" : "MDU6TGFiZWwxNDgyMTgyMDQ0",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18204/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0Mzc5Mjk4ODQ5",
   "number" : 18204,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18204.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18204",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18204.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18204"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "descriptors: improve descriptor cache and cache xpubs",
   "updated_at" : "2020-02-25T00:21:24Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18204",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
      "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
      "followers_url" : "https://api.github.com/users/achow101/followers",
      "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/achow101",
      "id" : 3782274,
      "login" : "achow101",
      "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
      "organizations_url" : "https://api.github.com/users/achow101/orgs",
      "received_events_url" : "https://api.github.com/users/achow101/received_events",
      "repos_url" : "https://api.github.com/users/achow101/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/achow101"
   }
}
