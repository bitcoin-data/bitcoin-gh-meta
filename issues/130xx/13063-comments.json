[
   {
      "author_association" : "MEMBER",
      "body" : "needs rebase",
      "created_at" : "2018-04-24T15:59:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-383986496",
      "id" : 383986496,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-04-24T15:59:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383986496",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.",
      "created_at" : "2018-04-24T16:30:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-383996823",
      "id" : 383996823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-04-24T16:30:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383996823",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I like the idea of `CWalletRef` here. `std::shared_ptr<CWallet>` buries the lede a bit.",
      "created_at" : "2018-04-25T21:19:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-384437645",
      "id" : 384437645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-04-25T21:19:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384437645",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\nA bit unfortunate that we have a lot of `CWallet* const pwallet = wallet.get();` calls outside of any lock which AFAIK partially defeats the improvements the shared pointer adds.",
      "created_at" : "2018-04-26T07:56:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-384548582",
      "id" : 384548582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-04-26T07:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384548582",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> A bit unfortunate that we have a lot of `CWallet* const pwallet = wallet.get();` calls outside of any lock\r\n\r\n@jonasschnelli what you mean by outside? There is always a `std::shared_ptr<CWallet>` in scope when `.get()` pointer is used. The only exception is `RegisterValidationInterface(walletInstance.get());`.\r\n",
      "created_at" : "2018-04-26T09:04:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-384568075",
      "id" : 384568075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-04-26T09:04:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384568075",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag: Yes. Your right.",
      "created_at" : "2018-04-26T09:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-384568430",
      "id" : 384568430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-04-26T09:05:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384568430",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on master.",
      "created_at" : "2018-05-07T20:39:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-387198757",
      "id" : 387198757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-07T20:39:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387198757",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r186740049"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186740049"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it possible to remove `m_wallet` and just keep `m_shared_wallet`?",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-08T14:08:45Z",
      "diff_hunk" : "@@ -453,11 +453,12 @@ class WalletImpl : public Wallet\n         return MakeHandler(m_wallet.NotifyWatchonlyChanged.connect(fn));\n     }\n \n+    std::shared_ptr<CWallet> m_shared_wallet;\n     CWallet& m_wallet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r186740049",
      "id" : 186740049,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 14,
      "path" : "src/interfaces/wallet.cpp",
      "position" : 14,
      "pull_request_review_id" : 118377607,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186740049",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r186740422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186740422"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can we update `EnsureWalletIsAvailable()` to take a `std::shared_ptr<CWallet>`, and then remove the need to create a `CWallet* const` in all of these rpc methods?",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-08T14:09:52Z",
      "diff_hunk" : "@@ -134,7 +134,9 @@ static std::string LabelFromValue(const UniValue& value)\n \n static UniValue getnewaddress(const JSONRPCRequest& request)\n {\n-    CWallet * const pwallet = GetWalletForJSONRPCRequest(request);\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r186740422",
      "id" : 186740422,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 27,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 27,
      "pull_request_review_id" : 118377607,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186740422",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r186744702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186744702"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: it'd be nice to rename these variables to `wallet` (yes, I know these are (smart) pointers, but `pwallet` everywhere else means raw pointers)",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-08T14:21:35Z",
      "diff_hunk" : "@@ -259,7 +259,7 @@ bool WalletInit::Open() const\n     }\n \n     for (const std::string& walletFile : gArgs.GetArgs(\"-wallet\")) {\n-        CWallet * const pwallet = CWallet::CreateWalletFromFile(walletFile, fs::absolute(walletFile, GetWalletDir()));\n+        std::shared_ptr<CWallet> pwallet = CWallet::CreateWalletFromFile(walletFile, fs::absolute(walletFile, GetWalletDir()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r186744702",
      "id" : 186744702,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 5,
      "path" : "src/wallet/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 118377607,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186744702",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can you update the PR description with the motivation for this (possibly just copy from #11402)?",
      "created_at" : "2018-05-08T14:23:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-387419933",
      "id" : 387419933,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-08T14:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387419933",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189416502"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189416502"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this should just return a raw pointer or CWallet&.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-19T00:01:39Z",
      "diff_hunk" : "@@ -20,7 +20,7 @@ void RegisterWalletRPCCommands(CRPCTable &t);\n  * @param[in] request JSONRPCRequest that wishes to access a wallet\n  * @return nullptr if no wallet should be used, or a pointer to the CWallet\n  */\n-CWallet *GetWalletForJSONRPCRequest(const JSONRPCRequest& request);\n+std::shared_ptr<CWallet> GetWalletForJSONRPCRequest(const JSONRPCRequest& request);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189416502",
      "id" : 189416502,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.h",
      "position" : 5,
      "pull_request_review_id" : 121599800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189416502",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2018-05-21T19:26:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-390756605",
      "id" : 390756605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-21T19:26:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390756605",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\nstd::unique_ptr<CWallet> RemoveWallet(const CWallet& wallet);  // Removes and releases ownership from vpwallets\r\n```\r\n@jimpo without shared_ptr the caller of `RemoveWallet` must ensure no one is using the wallet before releasing it. This may require synchronization between multiple threads, including UI.\r\n\r\nWith `shared_ptr`, the last pointer can safely release the wallet.",
      "created_at" : "2018-05-22T14:14:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391006318",
      "id" : 391006318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T14:17:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391006318",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery improved PR description.",
      "created_at" : "2018-05-22T14:17:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391007134",
      "id" : 391007134,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T14:17:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391007134",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189918729"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189918729"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The RPC handler must *hold* the wallet to prevent concurrent unload.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T14:18:35Z",
      "diff_hunk" : "@@ -20,7 +20,7 @@ void RegisterWalletRPCCommands(CRPCTable &t);\n  * @param[in] request JSONRPCRequest that wishes to access a wallet\n  * @return nullptr if no wallet should be used, or a pointer to the CWallet\n  */\n-CWallet *GetWalletForJSONRPCRequest(const JSONRPCRequest& request);\n+std::shared_ptr<CWallet> GetWalletForJSONRPCRequest(const JSONRPCRequest& request);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189918729",
      "id" : 189918729,
      "in_reply_to_id" : 189416502,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.h",
      "position" : 5,
      "pull_request_review_id" : 122190306,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189918729",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189920508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189920508"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The problem is that there are a lot of other calls that receive `CWallet*` and the diff started to be big. I can do that in a separate branch so you can see, WDYT?",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T14:22:51Z",
      "diff_hunk" : "@@ -134,7 +134,9 @@ static std::string LabelFromValue(const UniValue& value)\n \n static UniValue getnewaddress(const JSONRPCRequest& request)\n {\n-    CWallet * const pwallet = GetWalletForJSONRPCRequest(request);\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189920508",
      "id" : 189920508,
      "in_reply_to_id" : 186740422,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 27,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 27,
      "pull_request_review_id" : 122192384,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189920508",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189920883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189920883"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, sure, but the diff will grow.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T14:23:38Z",
      "diff_hunk" : "@@ -453,11 +453,12 @@ class WalletImpl : public Wallet\n         return MakeHandler(m_wallet.NotifyWatchonlyChanged.connect(fn));\n     }\n \n+    std::shared_ptr<CWallet> m_shared_wallet;\n     CWallet& m_wallet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189920883",
      "id" : 189920883,
      "in_reply_to_id" : 186740049,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 14,
      "path" : "src/interfaces/wallet.cpp",
      "position" : 14,
      "pull_request_review_id" : 122192804,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189920883",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased due to merge of #12560 and #13059.",
      "created_at" : "2018-05-22T14:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391011466",
      "id" : 391011466,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T14:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391011466",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189940145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189940145"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Definitely. Can be done in a follow-up PR.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T15:12:27Z",
      "diff_hunk" : "@@ -134,7 +134,9 @@ static std::string LabelFromValue(const UniValue& value)\n \n static UniValue getnewaddress(const JSONRPCRequest& request)\n {\n-    CWallet * const pwallet = GetWalletForJSONRPCRequest(request);\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189940145",
      "id" : 189940145,
      "in_reply_to_id" : 186740422,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 27,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 27,
      "pull_request_review_id" : 122217029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189940145",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189940229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189940229"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can be done in a follow-up PR.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T15:12:38Z",
      "diff_hunk" : "@@ -453,11 +453,12 @@ class WalletImpl : public Wallet\n         return MakeHandler(m_wallet.NotifyWatchonlyChanged.connect(fn));\n     }\n \n+    std::shared_ptr<CWallet> m_shared_wallet;\n     CWallet& m_wallet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189940229",
      "id" : 189940229,
      "in_reply_to_id" : 186740049,
      "original_commit_id" : "1279e2bdc1493e1d7b53ab43d09d16ac0926eb65",
      "original_position" : 14,
      "path" : "src/interfaces/wallet.cpp",
      "position" : 14,
      "pull_request_review_id" : 122217129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T15:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189940229",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fails build:\r\n\r\n```\r\nCXX      wallet/libbitcoin_wallet_a-wallet.o\r\nwallet/wallet.cpp: In member function Ã¢ÂÂDBErrors CWallet::LoadWallet(bool&)Ã¢ÂÂ:\r\nwallet/wallet.cpp:3204:32: error: no match for call to Ã¢ÂÂ(boost::signals2::signal<void(std::shared_ptr<CWallet>)>) (CWallet* const)Ã¢ÂÂ\r\n     uiInterface.LoadWallet(this);\r\n                                ^\r\n```",
      "created_at" : "2018-05-22T15:49:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391042146",
      "id" : 391042146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T15:49:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391042146",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @jnewbery.",
      "created_at" : "2018-05-22T16:19:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391052344",
      "id" : 391052344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T16:20:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391052344",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189975003"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189975003"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "When does this get unregistered? Seems like the validation interface queue may hold a pointer after the wallet is released.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T16:49:58Z",
      "diff_hunk" : "@@ -4342,7 +4339,7 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n     }\n \n     // Register with the validation interface. It's ok to do this after rescan since we're still holding cs_main.\n-    RegisterValidationInterface(temp_wallet.release());\n+    RegisterValidationInterface(walletInstance.get());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189975003",
      "id" : 189975003,
      "original_commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "original_position" : 102,
      "path" : "src/wallet/wallet.cpp",
      "position" : 102,
      "pull_request_review_id" : 122258296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T16:50:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189975003",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189991697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189991697"
         }
      },
      "author_association" : "MEMBER",
      "body" : "When `UnregisterAllValidationInterfaces` is called. Obviously `unloadwallet` RPC or the `Unload wallet` action in the UI will have to unregister.",
      "commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T17:41:54Z",
      "diff_hunk" : "@@ -4342,7 +4339,7 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n     }\n \n     // Register with the validation interface. It's ok to do this after rescan since we're still holding cs_main.\n-    RegisterValidationInterface(temp_wallet.release());\n+    RegisterValidationInterface(walletInstance.get());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#discussion_r189991697",
      "id" : 189991697,
      "in_reply_to_id" : 189975003,
      "original_commit_id" : "80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "original_position" : 102,
      "path" : "src/wallet/wallet.cpp",
      "position" : 102,
      "pull_request_review_id" : 122278193,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13063",
      "updated_at" : "2018-05-22T17:41:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189991697",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 80b4910f7d87983f50047074c3c2397b0a5c4e92",
      "created_at" : "2018-05-22T18:14:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391089446",
      "id" : 391089446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T18:14:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391089446",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 80b4910",
      "created_at" : "2018-05-22T18:56:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13063#issuecomment-391103059",
      "id" : 391103059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13063",
      "updated_at" : "2018-05-22T18:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/391103059",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   }
]
