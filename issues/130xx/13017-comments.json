[
   {
      "author_association" : "MEMBER",
      "body" : "Make sure to align this with the discussion in https://github.com/bitcoin/bitcoin/pull/10740#issuecomment-380950109",
      "created_at" : "2018-04-18T12:49:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382374824",
      "id" : 382374824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T12:49:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382374824",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182414488"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182414488"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do we want to provide guarantees that `GetWallets` returns no `nullptrs`? Could check here for that.",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-18T12:53:21Z",
      "diff_hunk" : "@@ -29,11 +29,42 @@\n #include <wallet/fees.h>\n \n #include <assert.h>\n+#include <algorithm>\n #include <future>\n \n #include <boost/algorithm/string/replace.hpp>\n \n-std::vector<CWalletRef> vpwallets;\n+static std::vector<CWallet*> vpwallets;\n+\n+void AddWallet(CWallet* wallet)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182414488",
      "id" : 182414488,
      "original_commit_id" : "418736582dc201d962d0a68ff4c2cf4666a180ee",
      "original_position" : 12,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 113203314,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-18T21:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182414488",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If we're doing shared ptrs alal #11402, `CWalletRef` would be preferable to `auto` IMO. https://github.com/bitcoin/bitcoin/pull/11402#discussion_r140923964",
      "created_at" : "2018-04-18T12:59:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382377544",
      "id" : 382377544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T12:59:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382377544",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182416848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182416848"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added assertions in `AddWallet` and `RemoveWallet`. Also added a check to prevent adding the same wallet (`RemoveWallet` already checks if wallet exists).",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-18T13:01:14Z",
      "diff_hunk" : "@@ -29,11 +29,42 @@\n #include <wallet/fees.h>\n \n #include <assert.h>\n+#include <algorithm>\n #include <future>\n \n #include <boost/algorithm/string/replace.hpp>\n \n-std::vector<CWalletRef> vpwallets;\n+static std::vector<CWallet*> vpwallets;\n+\n+void AddWallet(CWallet* wallet)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182416848",
      "id" : 182416848,
      "in_reply_to_id" : 182414488,
      "original_commit_id" : "418736582dc201d962d0a68ff4c2cf4666a180ee",
      "original_position" : 12,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 113206228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-18T21:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182416848",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke afaiu yes. Having `vpwallets` centralised helps in adding concurrency, signals/notifications and eventually switching to shared pointers. I've also kept these as global functions as I'm not sure if these can belong to `WalletInitInterface` (imo no).\r\n\r\n@Empact thanks for the review. I'm not saying we should use `auto` (it's not used at the moment). I'm not sure if consensus is to use `CWalletRef` instead of `std::shared_ptr<CWallet>` (when that happens). I can remove that commit if it's controversial.",
      "created_at" : "2018-04-18T13:10:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382380727",
      "id" : 382380727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T13:11:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382380727",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182458025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182458025"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This might be more correctly named `HasWallet()`, since it returns true if there's a single wallet",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-18T14:55:53Z",
      "diff_hunk" : "@@ -32,8 +32,11 @@\n #include <utility>\n #include <vector>\n \n-typedef CWallet* CWalletRef;\n-extern std::vector<CWalletRef> vpwallets;\n+void AddWallet(CWallet* wallet);\n+void RemoveWallet(CWallet* wallet);\n+bool HasWallets();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182458025",
      "id" : 182458025,
      "original_commit_id" : "689de7c08605643ebe48096c59e6810fbe3dc605",
      "original_position" : 8,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 113256766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-18T21:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182458025",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182487310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182487310"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe `unsigned int CountWallets()` is preferable?",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-18T16:19:27Z",
      "diff_hunk" : "@@ -32,8 +32,11 @@\n #include <utility>\n #include <vector>\n \n-typedef CWallet* CWalletRef;\n-extern std::vector<CWalletRef> vpwallets;\n+void AddWallet(CWallet* wallet);\n+void RemoveWallet(CWallet* wallet);\n+bool HasWallets();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182487310",
      "id" : 182487310,
      "in_reply_to_id" : 182458025,
      "original_commit_id" : "689de7c08605643ebe48096c59e6810fbe3dc605",
      "original_position" : 8,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 113292659,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-18T21:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182487310",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182489912"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182489912"
         }
      },
      "author_association" : "MEMBER",
      "body" : "no need to overcomplicate it. `HasWallets()` is fine. I was just pointing out that the name could be a little bit more precise :slightly_smiling_face: ",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-18T16:28:12Z",
      "diff_hunk" : "@@ -32,8 +32,11 @@\n #include <utility>\n #include <vector>\n \n-typedef CWallet* CWalletRef;\n-extern std::vector<CWalletRef> vpwallets;\n+void AddWallet(CWallet* wallet);\n+void RemoveWallet(CWallet* wallet);\n+bool HasWallets();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182489912",
      "id" : 182489912,
      "in_reply_to_id" : 182458025,
      "original_commit_id" : "689de7c08605643ebe48096c59e6810fbe3dc605",
      "original_position" : 8,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 113295878,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-18T21:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182489912",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery squashed.",
      "created_at" : "2018-04-18T20:24:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382517627",
      "id" : 382517627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T20:24:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382517627",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182558845"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182558845"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Note to reviewers, I've switched these instructions. Inverted condition to throw the error.",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-18T20:27:32Z",
      "diff_hunk" : "@@ -46,14 +46,13 @@ CWallet *GetWalletForJSONRPCRequest(const JSONRPCRequest& request)\n     if (request.URI.substr(0, WALLET_ENDPOINT_BASE.size()) == WALLET_ENDPOINT_BASE) {\n         // wallet endpoint was used\n         std::string requestedWallet = urlDecode(request.URI.substr(WALLET_ENDPOINT_BASE.size()));\n-        for (CWalletRef pwallet : ::vpwallets) {\n-            if (pwallet->GetName() == requestedWallet) {\n-                return pwallet;\n-            }\n-        }\n-        throw JSONRPCError(RPC_WALLET_NOT_FOUND, \"Requested wallet does not exist or is not loaded\");\n+        CWallet* pwallet = GetWallet(requestedWallet);\n+        if (!pwallet) throw JSONRPCError(RPC_WALLET_NOT_FOUND, \"Requested wallet does not exist or is not loaded\");\n+        return pwallet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182558845",
      "id" : 182558845,
      "original_commit_id" : "ac0de44a2f88e8fde3d78df80a4eb1556663935b",
      "original_position" : 12,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 12,
      "pull_request_review_id" : 113379193,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-18T21:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182558845",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Could you clang-format? Some whitespace inconsistencies.",
      "created_at" : "2018-04-18T20:39:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382521766",
      "id" : 382521766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T20:39:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382521766",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Empact done, sorry.",
      "created_at" : "2018-04-18T21:03:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382528487",
      "id" : 382528487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T21:03:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382528487",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Latests changes are:\r\n - fix include order and whitespace\r\n - removed `auto` usage\r\n - added return `bool` to `AddWallet` and `RemoveWallet`.",
      "created_at" : "2018-04-18T21:13:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382531330",
      "id" : 382531330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T21:13:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382531330",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 3c058fdcc8a71d17296973cb7f09e44a310df22e.",
      "created_at" : "2018-04-18T21:22:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382533595",
      "id" : 382533595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T21:22:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382533595",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 3c058fd",
      "created_at" : "2018-04-18T22:06:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382544399",
      "id" : 382544399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-18T22:06:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382544399",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182610860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182610860"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ÃÂ¼Nit: Maybe you could add an\r\n```C++\r\ninline bool HasWallet(CWallet* wallet)\r\n{\r\n    assert(wallet);\r\n    return std::find(vpwallets.begin(), vpwallets.end(), wallet) != vpwallets.end();\r\n}\r\n```\r\nand use that here and below (also removing the assert in both places since it's done inline here).",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-19T01:06:04Z",
      "diff_hunk" : "@@ -28,12 +28,50 @@\n #include <utilmoneystr.h>\n #include <wallet/fees.h>\n \n+#include <algorithm>\n #include <assert.h>\n #include <future>\n \n #include <boost/algorithm/string/replace.hpp>\n \n-std::vector<CWalletRef> vpwallets;\n+static std::vector<CWallet*> vpwallets;\n+\n+bool AddWallet(CWallet* wallet)\n+{\n+    assert(wallet);\n+    std::vector<CWallet*>::const_iterator i = std::find(vpwallets.begin(), vpwallets.end(), wallet);\n+    if (i != vpwallets.end()) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182610860",
      "id" : 182610860,
      "original_commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "original_position" : 17,
      "path" : "src/wallet/wallet.cpp",
      "position" : 17,
      "pull_request_review_id" : 113440447,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-19T01:08:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182610860",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182611457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182611457"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Your suggestion \"conflicts\" with adding a critical section here (which will come next). If I do as you say then the lock will be recursive, something we want to avoid AFAICK. So I'd avoid calls between these functions.",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-19T01:11:10Z",
      "diff_hunk" : "@@ -28,12 +28,50 @@\n #include <utilmoneystr.h>\n #include <wallet/fees.h>\n \n+#include <algorithm>\n #include <assert.h>\n #include <future>\n \n #include <boost/algorithm/string/replace.hpp>\n \n-std::vector<CWalletRef> vpwallets;\n+static std::vector<CWallet*> vpwallets;\n+\n+bool AddWallet(CWallet* wallet)\n+{\n+    assert(wallet);\n+    std::vector<CWallet*>::const_iterator i = std::find(vpwallets.begin(), vpwallets.end(), wallet);\n+    if (i != vpwallets.end()) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182611457",
      "id" : 182611457,
      "in_reply_to_id" : 182610860,
      "original_commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "original_position" : 17,
      "path" : "src/wallet/wallet.cpp",
      "position" : 17,
      "pull_request_review_id" : 113441114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-19T01:11:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182611457",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review @kallewoof. Like @MarcoFalke said, this is a small piece of a large feature and I'd like to keep the PR scope on focus.",
      "created_at" : "2018-04-19T01:15:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382577958",
      "id" : 382577958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-19T01:15:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382577958",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182612339"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182612339"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's a pity, but no big deal.",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-19T01:16:47Z",
      "diff_hunk" : "@@ -28,12 +28,50 @@\n #include <utilmoneystr.h>\n #include <wallet/fees.h>\n \n+#include <algorithm>\n #include <assert.h>\n #include <future>\n \n #include <boost/algorithm/string/replace.hpp>\n \n-std::vector<CWalletRef> vpwallets;\n+static std::vector<CWallet*> vpwallets;\n+\n+bool AddWallet(CWallet* wallet)\n+{\n+    assert(wallet);\n+    std::vector<CWallet*>::const_iterator i = std::find(vpwallets.begin(), vpwallets.end(), wallet);\n+    if (i != vpwallets.end()) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182612339",
      "id" : 182612339,
      "in_reply_to_id" : 182610860,
      "original_commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "original_position" : 17,
      "path" : "src/wallet/wallet.cpp",
      "position" : 17,
      "pull_request_review_id" : 113442082,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-19T01:16:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182612339",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182752694"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182752694"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I can remove these whitespace change if that is controversial.",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-19T13:51:38Z",
      "diff_hunk" : "@@ -268,7 +271,7 @@ class CMerkleTx\n //Get the marginal bytes of spending the specified output\n int CalculateMaximumSignedInputSize(const CTxOut& txout, const CWallet* pwallet);\n \n-/** ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182752694",
      "id" : 182752694,
      "original_commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "original_position" : 18,
      "path" : "src/wallet/wallet.h",
      "position" : 18,
      "pull_request_review_id" : 113613398,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-19T13:51:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182752694",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-04-19T14:01:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382747420",
      "id" : 382747420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-19T14:01:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382747420",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-19T14:39:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-382761532",
      "id" : 382761532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-19T14:39:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382761532",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182772586"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182772586"
         }
      },
      "author_association" : "MEMBER",
      "body" : "no - please don't invalidate reviewer ACKs unnecessarily",
      "commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "created_at" : "2018-04-19T14:46:35Z",
      "diff_hunk" : "@@ -268,7 +271,7 @@ class CMerkleTx\n //Get the marginal bytes of spending the specified output\n int CalculateMaximumSignedInputSize(const CTxOut& txout, const CWallet* pwallet);\n \n-/** ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#discussion_r182772586",
      "id" : 182772586,
      "in_reply_to_id" : 182752694,
      "original_commit_id" : "3c058fdcc8a71d17296973cb7f09e44a310df22e",
      "original_position" : 18,
      "path" : "src/wallet/wallet.h",
      "position" : 18,
      "pull_request_review_id" : 113638496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13017",
      "updated_at" : "2018-04-19T14:46:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182772586",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "ACK on adding wallet management functions.\r\n\r\n> The typedef CWalletRef is also removed as it is narrowly used.\r\n\r\n> If we're doing shared ptrs alal #11402, CWalletRef would be preferable to auto IMO. #11402 (comment)\r\n\r\nI think this part still needs discussion. `CWalletRef` was introduced very recently as a generalized handle for wallets, to be able to turn it into some kind of smart pointer later. Hardcoding `CWallet*` complicates that.",
      "created_at" : "2018-04-20T09:26:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-383040203",
      "id" : 383040203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-20T09:27:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383040203",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think this part still needs discussion. CWalletRef was introduced very recently\r\n\r\nIntroduced in #8694, ping @luke-jr.\r\n\r\n> Hardcoding CWallet* complicates that.\r\n\r\nSwitching to shared pointers is not a matter of just changing the typedef.\r\n\r\nAnyway, if the commit is controversial I prefer to remove it, request re-ACK and defer this discussion, it's really out of scope here.",
      "created_at" : "2018-04-20T09:55:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-383047551",
      "id" : 383047551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-20T09:55:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383047551",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It has been used in 12 instances or so, so not something to have a huge discussion about, imo.",
      "created_at" : "2018-04-20T16:24:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-383149575",
      "id" : 383149575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-20T16:24:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383149575",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "CWalletRef shouldn't be removed. It was specifically added to eventually become a shared_ptr when we have dynamic wallet loading/unloading.",
      "created_at" : "2018-04-20T18:29:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-383183543",
      "id" : 383183543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-20T18:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383183543",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> CWalletRef shouldn't be removed. It was specifically added to eventually become a shared_ptr when we have dynamic wallet loading/unloading.\r\n\r\nThis PR doesn't make changing to shared pointers any more or less difficult.\r\n\r\n#10740 builds on this. Like @MarcoFalke says, this is only used in a very few places, so let's not hold up this PR for this.",
      "created_at" : "2018-04-20T18:42:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-383186977",
      "id" : 383186977,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-20T18:42:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383186977",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : ">  it's really out of scope here.\r\n\r\nYes, that's how I felt about that commit in the first place. Whether to have CWalletRef or not is not part of \"Add wallets management functions\". \r\nAnyhow, I'll merge this is if there is broad agreement. ",
      "created_at" : "2018-04-23T05:56:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13017#issuecomment-383462831",
      "id" : 383462831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13017",
      "updated_at" : "2018-04-23T05:56:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383462831",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
