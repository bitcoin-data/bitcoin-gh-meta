[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15288](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15288.html) (Remove wallet -> node global function calls by ryanofsky)\n* [#15006](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15006.html) (Add option to create an encrypted wallet by achow101)\n* [#14918](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14918.html) (RPCHelpMan: Check default values are given at compile-time by MarcoFalke)\n* [#14912](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14912.html) ([WIP] External signer support (e.g. hardware wallet) by Sjors)\n* [#14075](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14075.html) (Import watch only pubkeys to the keypool if private keys are disabled by achow101)\n* [#13756](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13756.html) (wallet: \"avoid_reuse\" wallet flag for improved privacy by kallewoof)\n* [#10973](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10973.html) (Refactor: separate wallet from node by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-01-22T04:19:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456266282",
      "id" : 456266282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjI2NjI4Mg==",
      "updated_at" : "2019-02-09T12:47:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456266282",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249653693"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249653693"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Does this mean we are currently generating a new seed if one encrypts a wallet where private keys are disabled?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-22T06:28:35Z",
      "diff_hunk" : "@@ -700,8 +710,8 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n-        if (IsHDEnabled()) {\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one\n+        if (IsHDEnabled() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249653693",
      "id" : 249653693,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTY1MzY5Mw==",
      "original_commit_id" : "c0bfc2d7160e7c861d9a3e678e1dd9b6213a8a86",
      "original_position" : 52,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 194851542,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249653693",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249654230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249654230"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should we mention in the release notes that blank wallets can not be used in older bitcoin core versions?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-22T06:31:36Z",
      "diff_hunk" : "@@ -137,9 +137,12 @@ enum WalletFlags : uint64_t {\n \n     // will enforce the rule that the wallet can't contain any private keys (only watch-only/pubkeys)\n     WALLET_FLAG_DISABLE_PRIVATE_KEYS = (1ULL << 32),\n+\n+    // Will enforce that the wallet should be blank\n+    WALLET_FLAG_BLANK_WALLET = (1ULL << 33),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249654230",
      "id" : 249654230,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTY1NDIzMA==",
      "original_commit_id" : "c0bfc2d7160e7c861d9a3e678e1dd9b6213a8a86",
      "original_position" : 6,
      "path" : "src/wallet/wallet.h",
      "position" : 15,
      "pull_request_review_id" : 194852087,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249654230",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-01-22T06:32:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456286368",
      "id" : 456286368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjI4NjM2OA==",
      "updated_at" : "2019-01-22T06:32:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456286368",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249657163"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249657163"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No. ~~Looking at what we currently do, this should actually be checking for `HasHDSeed()`. Will change.~~ Actually for the behavior that I want, this is correct. The reason this is changed is because `IsHDEnabled()` is different now.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-22T06:47:59Z",
      "diff_hunk" : "@@ -700,8 +710,8 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n-        if (IsHDEnabled()) {\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one\n+        if (IsHDEnabled() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249657163",
      "id" : 249657163,
      "in_reply_to_id" : 249653693,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTY1NzE2Mw==",
      "original_commit_id" : "c0bfc2d7160e7c861d9a3e678e1dd9b6213a8a86",
      "original_position" : 52,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 194855226,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249657163",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, thanks for saving me some work :-)\r\n\r\nAre you sure older clients will understand this mandatory flag? Testing this is a good use of #12134, though such test should be in a separate PR to prevent a long wait.",
      "created_at" : "2019-01-22T17:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456482937",
      "id" : 456482937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjQ4MjkzNw==",
      "updated_at" : "2019-01-22T17:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456482937",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249884724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249884724"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: \"blank capable\".",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-22T17:31:33Z",
      "diff_hunk" : "@@ -1415,11 +1416,25 @@ void CWallet::SetHDChain(const CHDChain& chain, bool memonly)\n     hdChain = chain;\n }\n \n-bool CWallet::IsHDEnabled() const\n+bool CWallet::HasHDSeed() const\n {\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsHDEnabled() const\n+{\n+    LOCK(cs_wallet);\n+    // -usehd was removed in 0.16, so all wallets with FEATURE_PRE_SPLIT_KEYPOOL are HD\n+    // For older wallets the presence of seed_id indicates if HD is enabled.\n+    // Support for empty HD capable wallets was added in 0.18",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249884724",
      "id" : 249884724,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTg4NDcyNA==",
      "original_commit_id" : "c125d04c453c68f0476f2dac29755ad9cd4721ca",
      "original_position" : 35,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 195136153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249884724",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249885644"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249885644"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: document that for older wallets this relies on `IsHDEnabled()` checking `HasHDSeed()`, so there's no way this returns a false positive.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-22T17:34:02Z",
      "diff_hunk" : "@@ -1415,11 +1416,25 @@ void CWallet::SetHDChain(const CHDChain& chain, bool memonly)\n     hdChain = chain;\n }\n \n-bool CWallet::IsHDEnabled() const\n+bool CWallet::HasHDSeed() const\n {\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsHDEnabled() const\n+{\n+    LOCK(cs_wallet);\n+    // -usehd was removed in 0.16, so all wallets with FEATURE_PRE_SPLIT_KEYPOOL are HD\n+    // For older wallets the presence of seed_id indicates if HD is enabled.\n+    // Support for empty HD capable wallets was added in 0.18\n+    return CanSupportFeature(FEATURE_PRE_SPLIT_KEYPOOL) || HasHDSeed();\n+}\n+\n+bool CWallet::IsBlank() const\n+{\n+    return IsHDEnabled() && !HasHDSeed();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249885644",
      "id" : 249885644,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTg4NTY0NA==",
      "original_commit_id" : "c125d04c453c68f0476f2dac29755ad9cd4721ca",
      "original_position" : 41,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 195136153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249885644",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249888180"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249888180"
         }
      },
      "author_association" : "MEMBER",
      "body" : "So this would add a seed to an empty wallet? That should be made more clear in the documentation.\r\n\r\nWhat if I want to import private keys and encrypt those? Should we add a `bool` to `encryptwallet` to determine if it should generate a key?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-22T17:40:55Z",
      "diff_hunk" : "@@ -700,8 +710,8 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n-        if (IsHDEnabled()) {\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one\n+        if (IsHDEnabled() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249888180",
      "id" : 249888180,
      "in_reply_to_id" : 249653693,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTg4ODE4MA==",
      "original_commit_id" : "c0bfc2d7160e7c861d9a3e678e1dd9b6213a8a86",
      "original_position" : 52,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 195136153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249888180",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This should probably replace #14938 on the high priority list: https://github.com/bitcoin/bitcoin/projects/8",
      "created_at" : "2019-01-22T17:41:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456492572",
      "id" : 456492572,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjQ5MjU3Mg==",
      "updated_at" : "2019-01-22T17:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456492572",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Are you sure older clients will understand this mandatory flag? Testing this is a good use of #12134, though such test should be in a separate PR to prevent a long wait.\r\n\r\nJust tested with 0.17 and 0.16. 0.17 knows what the wallet flags are so it does understand the mandatory flag and refuses to load wallets with the blank flag set. ~~However 0.16 does not know about wallet flags and will actually load the wallet and generate keys for it. It does this for both wallets with private keys disabled and blank wallets, which might be an issue. However I noticed it is a bit harder to move back to 0.16 due to the wallet directory change where wallets are now directories instead of just files. But this is an issue in general for wallet flags.~~ 0.16 does not open these wallets because the version number was bumped for 0.17.",
      "created_at" : "2019-01-22T21:07:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456563479",
      "id" : 456563479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjU2MzQ3OQ==",
      "updated_at" : "2019-01-23T19:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456563479",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would it had made (or still make) sense to raise the wallet version number to prevent ignoring wallet flags?",
      "created_at" : "2019-01-22T21:59:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456579771",
      "id" : 456579771,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjU3OTc3MQ==",
      "updated_at" : "2019-01-22T21:59:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456579771",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would it had made (or still make) sense to raise the wallet version number to prevent ignoring wallet flags?\r\n\r\nIt makes sense that if you are going to set a mandatory flag, you also need to increase the minimum version to whatever bitcoin version started checking mandatory flags.",
      "created_at" : "2019-01-22T23:22:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456603366",
      "id" : 456603366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjYwMzM2Ng==",
      "updated_at" : "2019-01-22T23:22:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456603366",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Wallet feature flags were introduced in 0.17.0, and as @achow101 and the source comment points out, \"wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown\".\r\n\r\nThe following, added in a8da482a8bc87ff26194612727d4a7b86b2fb60d and released in v0.17.0, should already prevent 0.16 nodes from opening a >=0.17.0 wallet:\r\n\r\n```cpp\r\nFEATURE_PRE_SPLIT_KEYPOOL = 169900,\r\nFEATURE_LATEST = FEATURE_PRE_SPLIT_KEYPOOL;\r\n```\r\n\r\n@achow101 I'm surprised you were able to open such a wallet in 0.16. Are you sure you compiled it right? I just tried using the `v0.16.3` binary and it refused to open a wallet with `WALLET_FLAG_DISABLE_PRIVATE_KEYS`, because the version was too new.\r\n\r\nBy the way, let's make sure we don't get in the way of #13756 which introduces `MUTABLE_WALLET_FLAGS`, flags that once set can't be changed.",
      "created_at" : "2019-01-23T12:02:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456776635",
      "id" : 456776635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1Njc3NjYzNQ==",
      "updated_at" : "2019-01-23T12:05:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456776635",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh, I made a mistake. Just tested it again and yes, 0.16 does not open wallets that have flags set, so there is no need to do another version bump.",
      "created_at" : "2019-01-23T19:34:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-456936359",
      "id" : 456936359,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjkzNjM1OQ==",
      "updated_at" : "2019-01-23T19:34:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456936359",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Also with this, the term \"blank wallet\" is used instead of \"empty wallet\" to avoid confusion with wallets that have balance which would also be referred to as \"empty\".\r\n\r\nThank you, I really like this distinct terminology.",
      "created_at" : "2019-01-24T15:23:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-457235957",
      "id" : 457235957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NzIzNTk1Nw==",
      "updated_at" : "2019-01-24T15:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/457235957",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r250658673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250658673"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same comment here as https://github.com/bitcoin/bitcoin/pull/15235#discussion_r250547555\r\n",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-24T15:42:56Z",
      "diff_hunk" : "@@ -434,7 +434,7 @@ def batch(self, requests):\n     def send_cli(self, command=None, *args, **kwargs):\n         \"\"\"Run bitcoin-cli command. Deserializes returned string as python object.\"\"\"\n         pos_args = [str(arg).lower() if type(arg) is bool else str(arg) for arg in args]\n-        named_args = [str(key) + \"=\" + str(value) for (key, value) in kwargs.items()]\n+        named_args = [str(key) + \"=\" + (str(value).lower() if type(value) is bool else str(value)) for (key, value) in kwargs.items()]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r250658673",
      "id" : 250658673,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MDY1ODY3Mw==",
      "original_commit_id" : "ac4d021deda2a6f736a7384c3754452fe1b99726",
      "original_position" : 5,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 196097872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/250658673",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2019-01-29T19:57:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-458684676",
      "id" : 458684676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1ODY4NDY3Ng==",
      "updated_at" : "2019-01-29T19:57:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/458684676",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252201757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252201757"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be a single `!`?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-30T10:43:04Z",
      "diff_hunk" : "@@ -583,9 +583,10 @@ bool WalletModel::canGetAddresses() const\n     // The wallet can provide a fresh address if:\n     // * hdEnabled(): an HD seed is present; or\n     // * it is a legacy wallet, because:\n-    //     * !hdEnabled(): an HD seed is not present; and\n-    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true)\n-    return m_wallet->hdEnabled() || (!m_wallet->hdEnabled() && !m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS));\n+    //     * !hdEnabled(): no HD seed is present; and\n+    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true); and\n+    //     * !!IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET): the wallet is not blank",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252201757",
      "id" : 252201757,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjIwMTc1Nw==",
      "original_commit_id" : "2021dfa7375bd9dba1a2664194b8dc0359d38ab6",
      "original_position" : 9,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 198008846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252201757",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252203186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252203186"
         }
      },
      "author_association" : "MEMBER",
      "body" : "With this additional flag, it makes more sense to fix `hdEnabled()` in `interfaces::Wallet`.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-30T10:47:23Z",
      "diff_hunk" : "@@ -583,9 +583,10 @@ bool WalletModel::canGetAddresses() const\n     // The wallet can provide a fresh address if:\n     // * hdEnabled(): an HD seed is present; or\n     // * it is a legacy wallet, because:\n-    //     * !hdEnabled(): an HD seed is not present; and\n-    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true)\n-    return m_wallet->hdEnabled() || (!m_wallet->hdEnabled() && !m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS));\n+    //     * !hdEnabled(): no HD seed is present; and\n+    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true); and\n+    //     * !!IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET): the wallet is not blank",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252203186",
      "id" : 252203186,
      "in_reply_to_id" : 252201757,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjIwMzE4Ng==",
      "original_commit_id" : "2021dfa7375bd9dba1a2664194b8dc0359d38ab6",
      "original_position" : 9,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 198008846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252203186",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252212761"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252212761"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Let's fix `hdEnabled` in `WalletModel` instead, otherwise things are going to get confusing fast.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-30T11:15:34Z",
      "diff_hunk" : "@@ -457,7 +457,7 @@ class WalletImpl : public Wallet\n         return result;\n     }\n     unsigned int getConfirmTarget() override { return m_wallet.m_confirm_target; }\n-    bool hdEnabled() override { return m_wallet.IsHDEnabled(); }\n+    bool hdEnabled() override { return m_wallet.HasHDSeed(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252212761",
      "id" : 252212761,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjIxMjc2MQ==",
      "original_commit_id" : "f595d9d89e4735c5a618edb08990004eedb4ab91",
      "original_position" : 5,
      "path" : "src/interfaces/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 198008846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252212761",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252718113"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252718113"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since this issue affects multiple PRs, I've split it into a separate PR: #15301",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T15:39:50Z",
      "diff_hunk" : "@@ -434,7 +434,7 @@ def batch(self, requests):\n     def send_cli(self, command=None, *args, **kwargs):\n         \"\"\"Run bitcoin-cli command. Deserializes returned string as python object.\"\"\"\n         pos_args = [str(arg).lower() if type(arg) is bool else str(arg) for arg in args]\n-        named_args = [str(key) + \"=\" + str(value) for (key, value) in kwargs.items()]\n+        named_args = [str(key) + \"=\" + (str(value).lower() if type(value) is bool else str(value)) for (key, value) in kwargs.items()]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252718113",
      "id" : 252718113,
      "in_reply_to_id" : 250658673,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjcxODExMw==",
      "original_commit_id" : "ac4d021deda2a6f736a7384c3754452fe1b99726",
      "original_position" : 5,
      "path" : "test/functional/test_framework/test_node.py",
      "position" : null,
      "pull_request_review_id" : 198657452,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252718113",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252738777"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252738777"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Introducing these tests in 6382e96ab9b8d9f7f9ad4ab1b318262ff3890916 seems too early (I assume they're fail, which hurts `git-bisect`).",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T16:26:14Z",
      "diff_hunk" : "@@ -59,5 +59,27 @@ def run_test(self):\n         w3.getnewaddress()\n         w3.getrawchangeaddress()\n \n+        self.log.info(\"Test blank creation with privkeys enabled and then encryption\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252738777",
      "id" : 252738777,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjczODc3Nw==",
      "original_commit_id" : "6382e96ab9b8d9f7f9ad4ab1b318262ff3890916",
      "original_position" : 4,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : 72,
      "pull_request_review_id" : 198684257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252738777",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252740525"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252740525"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Now both 6382e96ab9b8d9f7f9ad4ab1b318262ff3890916 and 2774bec3aa2bc20b578453b103fbe04cf34ecbdf change `bool hdEnabled()` in `interfaces/wallet.cpp` .\r\n\r\nI don't like it that `hdEnabled()` on interfaces wallet calls `m_wallet.HasHDSeed`, even though m_wallet also has a ruction called `IsHDEnabled`.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T16:30:09Z",
      "diff_hunk" : "@@ -457,7 +457,7 @@ class WalletImpl : public Wallet\n         return result;\n     }\n     unsigned int getConfirmTarget() override { return m_wallet.m_confirm_target; }\n-    bool hdEnabled() override { return m_wallet.IsHDEnabled(); }\n+    bool hdEnabled() override { return m_wallet.HasHDSeed(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252740525",
      "id" : 252740525,
      "in_reply_to_id" : 252212761,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjc0MDUyNQ==",
      "original_commit_id" : "f595d9d89e4735c5a618edb08990004eedb4ab91",
      "original_position" : 5,
      "path" : "src/interfaces/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 198687640,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252740525",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252780377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252780377"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, the order is correct. Github is just showing it in the wrong order because of the dates. I'll fix the dates so it shows correctly.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T18:14:06Z",
      "diff_hunk" : "@@ -59,5 +59,27 @@ def run_test(self):\n         w3.getnewaddress()\n         w3.getrawchangeaddress()\n \n+        self.log.info(\"Test blank creation with privkeys enabled and then encryption\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252780377",
      "id" : 252780377,
      "in_reply_to_id" : 252738777,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1Mjc4MDM3Nw==",
      "original_commit_id" : "6382e96ab9b8d9f7f9ad4ab1b318262ff3890916",
      "original_position" : 4,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : 72,
      "pull_request_review_id" : 198738840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252780377",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252818222"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252818222"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've changed it so that `hdEnabled()` does the same thing as before and instead added a `hasHDSeed()` which calls `HasHDSeed`. `hasHDSeed` is used instead of `hdEnabled` in the `walletmodel.cpp` changes.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T19:58:50Z",
      "diff_hunk" : "@@ -457,7 +457,7 @@ class WalletImpl : public Wallet\n         return result;\n     }\n     unsigned int getConfirmTarget() override { return m_wallet.m_confirm_target; }\n-    bool hdEnabled() override { return m_wallet.IsHDEnabled(); }\n+    bool hdEnabled() override { return m_wallet.HasHDSeed(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252818222",
      "id" : 252818222,
      "in_reply_to_id" : 252212761,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjgxODIyMg==",
      "original_commit_id" : "f595d9d89e4735c5a618edb08990004eedb4ab91",
      "original_position" : 5,
      "path" : "src/interfaces/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 198785809,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252818222",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252818266"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252818266"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T19:58:57Z",
      "diff_hunk" : "@@ -583,9 +583,10 @@ bool WalletModel::canGetAddresses() const\n     // The wallet can provide a fresh address if:\n     // * hdEnabled(): an HD seed is present; or\n     // * it is a legacy wallet, because:\n-    //     * !hdEnabled(): an HD seed is not present; and\n-    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true)\n-    return m_wallet->hdEnabled() || (!m_wallet->hdEnabled() && !m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS));\n+    //     * !hdEnabled(): no HD seed is present; and\n+    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true); and\n+    //     * !!IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET): the wallet is not blank",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252818266",
      "id" : 252818266,
      "in_reply_to_id" : 252201757,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjgxODI2Ng==",
      "original_commit_id" : "2021dfa7375bd9dba1a2664194b8dc0359d38ab6",
      "original_position" : 9,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 198785857,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252818266",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've updated the docs and added a few code comments as suggested by earlier comments (which I can't respond to for some reason).",
      "created_at" : "2019-01-31T19:59:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-459484688",
      "id" : 459484688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1OTQ4NDY4OA==",
      "updated_at" : "2019-01-31T19:59:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459484688",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252829640"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252829640"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: missing `; and`",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T20:31:56Z",
      "diff_hunk" : "@@ -581,11 +581,12 @@ bool WalletModel::privateKeysDisabled() const\n bool WalletModel::canGetAddresses() const\n {\n     // The wallet can provide a fresh address if:\n-    // * hdEnabled(): an HD seed is present; or\n+    // * hasHDSeed(): an HD seed is present; or\n     // * it is a legacy wallet, because:\n-    //     * !hdEnabled(): an HD seed is not present; and\n-    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true)\n-    return m_wallet->hdEnabled() || (!m_wallet->hdEnabled() && !m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS));\n+    //     * !hasHDSeed(): an HD seed is not present; and\n+    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hasHDSeed() == true)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252829640",
      "id" : 252829640,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjgyOTY0MA==",
      "original_commit_id" : "24ff3c70c35fd11b5429f9c2c694b5319652ed5f",
      "original_position" : 11,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 198800950,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252829640",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252833195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252833195"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: `, i.e. it has no private keys` (because it might have scripts, and the keypool isn't taken into account) ",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-01-31T20:43:36Z",
      "diff_hunk" : "@@ -1129,9 +1129,15 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     void SetHDChain(const CHDChain& chain, bool memonly);\n     const CHDChain& GetHDChain() const { return hdChain; }\n \n+    /* Returns true if wallet has an HD seed */\n+    bool HasHDSeed() const;\n+\n     /* Returns true if HD is enabled */\n     bool IsHDEnabled() const;\n \n+    /* Returns true if the wallet is blank */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r252833195",
      "id" : 252833195,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1MjgzMzE5NQ==",
      "original_commit_id" : "06e7122e0f44dc9c269c74d6b63980261cffe15a",
      "original_position" : 19,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 198800950,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/252833195",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2019-02-01T15:40:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-459764312",
      "id" : 459764312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1OTc2NDMxMg==",
      "updated_at" : "2019-02-01T15:40:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459764312",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "tACK 4d2b8b4, since last check: rebase and moved some tests to another commit\r\n\r\nI checked again that v0.17.1 refuses to open a blank wallet, and that after `sethdseed`  it does.",
      "created_at" : "2019-02-01T17:39:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-459804361",
      "id" : 459804361,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1OTgwNDM2MQ==",
      "updated_at" : "2019-02-01T17:39:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/459804361",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254487952"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254487952"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/15226#discussion_r249653693\r\n\r\nIn commit \"If there are no encrypted keys, default is passing\" (e4ffedbb91e129ca282e47a5f5836dc0212deecf)\r\n\r\n> So this would add a seed to an empty wallet?\r\n\r\nI also think this is a confusing UI. What's the advantage of requiring a seed in order to use encryption?\r\n\r\nWhy not simply change the condition to `if (HasHDSeed())` keeping the previous behavior and keeping the encryption and blank wallet features independent?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-06T23:02:27Z",
      "diff_hunk" : "@@ -700,8 +710,8 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n-        if (IsHDEnabled()) {\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one\n+        if (IsHDEnabled() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254487952",
      "id" : 254487952,
      "in_reply_to_id" : 249653693,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDQ4Nzk1Mg==",
      "original_commit_id" : "c0bfc2d7160e7c861d9a3e678e1dd9b6213a8a86",
      "original_position" : 52,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 200790972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254487952",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254514195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254514195"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] support creating a blank wallet\" (96476657a06797913edffd42d3fdae320b86e9df):\r\n\r\nThis isn't checking the WALLET_FLAG_BLANK_WALLET flag at all. It seems weird that to allow topping up keypool or generating keys (in GetKeyFromPool) in a wallet that supports hd but intentionally has no seed. Am I understanding this correctly, or is there another check somewhere else?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T01:02:38Z",
      "diff_hunk" : "@@ -3295,6 +3311,9 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n+        // If wallet supports HD but no seed is present, do not top up keypool\n+        if (IsBlank()) return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254514195",
      "id" : 254514195,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDUxNDE5NQ==",
      "original_commit_id" : "96476657a06797913edffd42d3fdae320b86e9df",
      "original_position" : 53,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 200790972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254514195",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254515793"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254515793"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Set a wallet flag for blank wallets\" (4d2b8b4d93cb979fba81182258d93d562608a632)\r\n\r\nI don't understand the GUI part of this change at all. Does it actually make sense to show an HD enabled logo for a wallet that doesn't have an HD key? And will generate non-HD keys if an address is requested (IIUC)?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T01:11:37Z",
      "diff_hunk" : "@@ -463,6 +463,7 @@ class WalletImpl : public Wallet\n     }\n     unsigned int getConfirmTarget() override { return m_wallet.m_confirm_target; }\n     bool hdEnabled() override { return m_wallet.IsHDEnabled(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254515793",
      "id" : 254515793,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDUxNTc5Mw==",
      "original_commit_id" : "4d2b8b4d93cb979fba81182258d93d562608a632",
      "original_position" : 3,
      "path" : "src/interfaces/wallet.cpp",
      "position" : 3,
      "pull_request_review_id" : 200790972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254515793",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've reworked `IsHDEnabled()`, `HasHDSeed()`, and `IsBlank()`. I have decided to lave `IsHDEnabled()` as it is and dropped `HasHDSeed()`. Instead `IsBlank()` will now check whether the blank wallet flag is set or if HD support is specified in the version but no HD seed is set. This change should clear up any confusion.\r\n\r\nI've also squashed down the commits as I don't think the original commit structure would pass tests.\r\n\r\nI changed how `EncryptWallet()` works with blank wallets. It will just set the encryption master key and not create a HD seed. If the user wants a seed, they can use `sethdseed` or create a born encrypted wallet with the change in #15006 ",
      "created_at" : "2019-02-07T03:54:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-461279855",
      "id" : 461279855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTI3OTg1NQ==",
      "updated_at" : "2019-02-07T03:56:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461279855",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254549269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254549269"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (1cdb8d8346649434450e410971cc3d68c3504a25)\r\n\r\nIf there a wallet was created after the FEATURE_HD version but with `-usehd=0` set, would it cause this function to return true and no longer let GetKeyFromPool and TopUpKeyPool work?",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T05:14:12Z",
      "diff_hunk" : "@@ -1418,6 +1429,13 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsBlank()\n+{\n+    // A Blank wallet either has the flag set or it has a version number requiring HD but no HD seed is set\n+    LOCK(cs_wallet);\n+    return IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET) || (CanSupportFeature(FEATURE_HD) && !IsHDEnabled());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254549269",
      "id" : 254549269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDU0OTI2OQ==",
      "original_commit_id" : "1cdb8d8346649434450e410971cc3d68c3504a25",
      "original_position" : 76,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 200923802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254549269",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254550097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254550097"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (1cdb8d8346649434450e410971cc3d68c3504a25)\r\n\r\nIt looks like if you import a watch-only key into a blank wallet WalletModel::canGetAddresses() will start returning true. I wonder if canGetAddresses should be using IsBlank.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T05:20:24Z",
      "diff_hunk" : "@@ -374,7 +380,11 @@ bool CWallet::AddWatchOnly(const CScript& dest)\n     const CKeyMetadata& meta = m_script_metadata[CScriptID(dest)];\n     UpdateTimeFirstKey(meta.nCreateTime);\n     NotifyWatchonlyChanged(true);\n-    return WalletBatch(*database).WriteWatchOnly(dest, meta);\n+    if (WalletBatch(*database).WriteWatchOnly(dest, meta)) {\n+        UnsetWalletFlag(WALLET_FLAG_BLANK_WALLET);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254550097",
      "id" : 254550097,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDU1MDA5Nw==",
      "original_commit_id" : "1cdb8d8346649434450e410971cc3d68c3504a25",
      "original_position" : 44,
      "path" : "src/wallet/wallet.cpp",
      "position" : 44,
      "pull_request_review_id" : 200923802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254550097",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254552117"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254552117"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think so because those wallets would have a version less than FEATURE_HD.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T05:34:34Z",
      "diff_hunk" : "@@ -1418,6 +1429,13 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsBlank()\n+{\n+    // A Blank wallet either has the flag set or it has a version number requiring HD but no HD seed is set\n+    LOCK(cs_wallet);\n+    return IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET) || (CanSupportFeature(FEATURE_HD) && !IsHDEnabled());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254552117",
      "id" : 254552117,
      "in_reply_to_id" : 254549269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDU1MjExNw==",
      "original_commit_id" : "1cdb8d8346649434450e410971cc3d68c3504a25",
      "original_position" : 76,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 200926919,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254552117",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254555906"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254555906"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it should. I've added `isBlank()` to the wallet interface and `canGetAddresses()` calls it instead of checking the wallet flag.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T06:02:44Z",
      "diff_hunk" : "@@ -374,7 +380,11 @@ bool CWallet::AddWatchOnly(const CScript& dest)\n     const CKeyMetadata& meta = m_script_metadata[CScriptID(dest)];\n     UpdateTimeFirstKey(meta.nCreateTime);\n     NotifyWatchonlyChanged(true);\n-    return WalletBatch(*database).WriteWatchOnly(dest, meta);\n+    if (WalletBatch(*database).WriteWatchOnly(dest, meta)) {\n+        UnsetWalletFlag(WALLET_FLAG_BLANK_WALLET);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254555906",
      "id" : 254555906,
      "in_reply_to_id" : 254550097,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDU1NTkwNg==",
      "original_commit_id" : "1cdb8d8346649434450e410971cc3d68c3504a25",
      "original_position" : 44,
      "path" : "src/wallet/wallet.cpp",
      "position" : 44,
      "pull_request_review_id" : 200931450,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254555906",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254846379"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254846379"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I can't follow your comment.\r\nThe `IsBlank()` check here stops the refill-process if the wallet is either blank or if no HD seed is available (while HD is enabled).\r\nI also tested this by creating a blank wallet, import a watch-only and then calling `keypoolrefill`.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T19:59:57Z",
      "diff_hunk" : "@@ -3295,6 +3311,9 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n+        // If wallet supports HD but no seed is present, do not top up keypool\n+        if (IsBlank()) return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254846379",
      "id" : 254846379,
      "in_reply_to_id" : 254514195,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDg0NjM3OQ==",
      "original_commit_id" : "96476657a06797913edffd42d3fdae320b86e9df",
      "original_position" : 53,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201294754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254846379",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "created_at" : "2019-02-07T20:00:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-461574951",
      "id" : 461574951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTU3NDk1MQ==",
      "updated_at" : "2019-02-07T20:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461574951",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254857849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254857849"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254514195\r\n\r\n> I can't follow your comment.\r\n\r\nThis comment was wrong about the keypool, but it was added reviewing a previous version of this PR (commit hash mentioned was 96476657a06797913edffd42d3fdae320b86e9df) before isBlank checked the blank flag, which is probably why you were confused.\r\n\r\nI actually think now that this shouldn't directly be checking the blank flag, but I want to look more closely and follow up with an other review.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-07T20:34:34Z",
      "diff_hunk" : "@@ -3295,6 +3311,9 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n+        // If wallet supports HD but no seed is present, do not top up keypool\n+        if (IsBlank()) return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r254857849",
      "id" : 254857849,
      "in_reply_to_id" : 254514195,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NDg1Nzg0OQ==",
      "original_commit_id" : "96476657a06797913edffd42d3fdae320b86e9df",
      "original_position" : 53,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201309810,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/254857849",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested on OS X, reviewed and looks good but I don't feel qualified to ACK as I don't understand the intricacies of the wallet well enough.",
      "created_at" : "2019-02-07T23:02:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-461628262",
      "id" : 461628262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTYyODI2Mg==",
      "updated_at" : "2019-02-07T23:02:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461628262",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/458997?v=4",
         "events_url" : "https://api.github.com/users/gwillen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gwillen/followers",
         "following_url" : "https://api.github.com/users/gwillen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gwillen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gwillen",
         "id" : 458997,
         "login" : "gwillen",
         "node_id" : "MDQ6VXNlcjQ1ODk5Nw==",
         "organizations_url" : "https://api.github.com/users/gwillen/orgs",
         "received_events_url" : "https://api.github.com/users/gwillen/received_events",
         "repos_url" : "https://api.github.com/users/gwillen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gwillen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gwillen"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'll try to give this another review in the next few days.",
      "created_at" : "2019-02-08T13:14:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-461798875",
      "id" : 461798875,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTc5ODg3NQ==",
      "updated_at" : "2019-02-08T13:14:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461798875",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255229618"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255229618"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Resolved when the PR was reworked",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T20:45:20Z",
      "diff_hunk" : "@@ -463,6 +463,7 @@ class WalletImpl : public Wallet\n     }\n     unsigned int getConfirmTarget() override { return m_wallet.m_confirm_target; }\n     bool hdEnabled() override { return m_wallet.IsHDEnabled(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255229618",
      "id" : 255229618,
      "in_reply_to_id" : 254515793,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTIyOTYxOA==",
      "original_commit_id" : "4d2b8b4d93cb979fba81182258d93d562608a632",
      "original_position" : 3,
      "path" : "src/interfaces/wallet.cpp",
      "position" : 3,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255229618",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255230811"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255230811"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nWould suggest replacing this line with if `(walletInstance->CanGenerateKeys() && !walletInstance->TopUpKeyPool())` if you use my other suggestion.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T20:49:40Z",
      "diff_hunk" : "@@ -4071,14 +4101,16 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n         if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n             //selective allow to set flags\n             walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else if (wallet_creation_flags & WALLET_FLAG_BLANK_WALLET) {\n+            walletInstance->SetWalletFlag(WALLET_FLAG_BLANK_WALLET);\n         } else {\n             // generate a new seed\n             CPubKey seed = walletInstance->GenerateNewSeed();\n             walletInstance->SetHDSeed(seed);\n-        }\n+        } // Otherwise, do not generate a new seed\n \n         // Top up the keypool\n-        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET) && !walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255230811",
      "id" : 255230811,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTIzMDgxMQ==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 141,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255230811",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255239631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255239631"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're right. Apparently the `SetMinVersion(FEATURE_LATEST)` that now happens on first run didn't used to happen on first run.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T21:22:46Z",
      "diff_hunk" : "@@ -1418,6 +1429,13 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsBlank()\n+{\n+    // A Blank wallet either has the flag set or it has a version number requiring HD but no HD seed is set\n+    LOCK(cs_wallet);\n+    return IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET) || (CanSupportFeature(FEATURE_HD) && !IsHDEnabled());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255239631",
      "id" : 255239631,
      "in_reply_to_id" : 254549269,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTIzOTYzMQ==",
      "original_commit_id" : "1cdb8d8346649434450e410971cc3d68c3504a25",
      "original_position" : 76,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255239631",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255247395"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255247395"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nI think just \"keys\" here would be more accurate than \"private keys\". If you import a watchonly address the wallet isn't really blank in the sense you're describing here (it can be opened in 0.17.x).",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T21:52:44Z",
      "diff_hunk" : "@@ -0,0 +1,8 @@\n+Miscellaneous RPC changes\n+------------\n+\n+- The RPC `createwallet` now has an optional `blank` argument that can be used to create a blank wallet.\n+Blank wallets do not have any private keys or HD seed.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255247395",
      "id" : 255247395,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI0NzM5NQ==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 5,
      "path" : "doc/release-notes-15226.md",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255247395",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255249959"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255249959"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nI think there is no point to checking WALLET_FLAG_BLANK_WALLET here. It's redundant and just complicates the logic.\r\n\r\nAlso, I don't think this function should be called IsBlank, because this creates two slightly different definitions of blank, one where a wallet stops being blank when a watch-only address is added (WALLET_FLAG_BLANK_WALLET), and one which remains blank (IsBlank). I think a more accurate name for this function would be CannotGenerateKeys, but even better would be:\r\n\r\n```c++\r\nbool CWallet::CanGenerateKeys()\r\n{\r\n    // Wallet can generate keys if it has an HD seed, or is a pre-hd wallet.\r\n    return IsHDEnabled() || !CanSupportFeature(FEATURE_HD);\r\n}\r\n```\r\n\r\nwhich could simplify all the places where this is called, as well as the canGetAddresses GUI function.\r\n\r\nEDIT: Changed suggested name from `CanGenerateAddresses` to `CanGenerateKeys` in light of #14075",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T22:02:58Z",
      "diff_hunk" : "@@ -1418,6 +1429,13 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsBlank()\n+{\n+    // A Blank wallet either has the flag set or it has a version number requiring HD but no HD seed is set\n+    LOCK(cs_wallet);\n+    return IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET) || (CanSupportFeature(FEATURE_HD) && !IsHDEnabled());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255249959",
      "id" : 255249959,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI0OTk1OQ==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 76,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255249959",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255250957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255250957"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nThis is pretty convoluted. It would be more straightforward to avoid all the cancelling conditions and just write `if (!CanSupportFeature(FEATURE_HD))`",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T22:07:02Z",
      "diff_hunk" : "@@ -3880,7 +3891,7 @@ UniValue sethdseed(const JSONRPCRequest& request)\n     LOCK(pwallet->cs_wallet);\n \n     // Do not do anything to non-HD wallets\n-    if (!pwallet->IsHDEnabled()) {\n+    if (!pwallet->IsBlank() && !pwallet->IsHDEnabled()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255250957",
      "id" : 255250957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI1MDk1Nw==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 67,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255250957",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255251930"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255251930"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nWould suggest replacing this line with if `(!CanGenerateKeys()) return false` if you use my other suggestion.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T22:10:35Z",
      "diff_hunk" : "@@ -3416,7 +3446,7 @@ void CWallet::ReturnKey(int64_t nIndex, bool fInternal, const CPubKey& pubkey)\n \n bool CWallet::GetKeyFromPool(CPubKey& result, bool internal)\n {\n-    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) || IsBlank()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255251930",
      "id" : 255251930,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI1MTkzMA==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255251930",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255253505"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255253505"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nIt would be nice to explain how the flag works. I'd suggest.\r\n\r\n```c++\r\n//! Flag set when a wallet contains no HD seed and no private keys, scripts,\r\n//! addresses, and other watch only things, and is therefore \"blank.\"\r\n//!\r\n//! The only function this flag serves is to distinguish a blank wallet from\r\n//! a newly created wallet when the wallet database is loaded, to avoid\r\n//! initialization that should only happen on first run.\r\n//!\r\n//! This flag is also a mandatory flag to prevent previous versions of\r\n//! bitcoin from opening the wallet, thinking it was newly created, and\r\n//! then improperly reinitializing it.\r\n```\r\n\r\n",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-08T22:17:29Z",
      "diff_hunk" : "@@ -136,9 +136,12 @@ enum WalletFlags : uint64_t {\n \n     // will enforce the rule that the wallet can't contain any private keys (only watch-only/pubkeys)\n     WALLET_FLAG_DISABLE_PRIVATE_KEYS = (1ULL << 32),\n+\n+    // Will enforce that the wallet should be blank",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255253505",
      "id" : 255253505,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI1MzUwNQ==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 201777802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255253505",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255299609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299609"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255249959\r\n\r\nAfter seeing #14075, I'd tweak my suggestion above and call this `CanGenerateKeys` or `CanTopUpKeyPool` instead of `CanGenerateAddresses`. After #14075 it looks like it will be possible to generate addresses with imported keys even if the wallet can't generate new keys.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T14:03:06Z",
      "diff_hunk" : "@@ -1418,6 +1429,13 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsBlank()\n+{\n+    // A Blank wallet either has the flag set or it has a version number requiring HD but no HD seed is set\n+    LOCK(cs_wallet);\n+    return IsWalletFlagSet(WALLET_FLAG_BLANK_WALLET) || (CanSupportFeature(FEATURE_HD) && !IsHDEnabled());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255299609",
      "id" : 255299609,
      "in_reply_to_id" : 255249959,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTI5OTYwOQ==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 76,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201863949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255299609",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255300413"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255300413"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nThis will now allow calling `sethdseed` on a wallet with `WALLET_FLAG_DISABLE_PRIVATE_KEYS` set. That seems like a mistake because I'm not sure the resulting state would make sense, and at the very least `GenerateNewSeed` would assert false in this case.\r\n\r\nWould suggest adding a check for WALLET_FLAG_DISABLE_PRIVATE_KEYS here.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T14:30:57Z",
      "diff_hunk" : "@@ -3880,7 +3891,7 @@ UniValue sethdseed(const JSONRPCRequest& request)\n     LOCK(pwallet->cs_wallet);\n \n     // Do not do anything to non-HD wallets\n-    if (!pwallet->IsHDEnabled()) {\n+    if (!pwallet->IsBlank() && !pwallet->IsHDEnabled()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255300413",
      "id" : 255300413,
      "in_reply_to_id" : 255250957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMwMDQxMw==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 67,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201864762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255300413",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255300465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255300465"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8061ea4611696b22d5d5dcdd73c1e053ffecc09d)\r\n\r\nI think this entire line is equivalent to `return !m_wallet->isBlank()`.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T14:33:16Z",
      "diff_hunk" : "@@ -581,11 +581,12 @@ bool WalletModel::privateKeysDisabled() const\n bool WalletModel::canGetAddresses() const\n {\n     // The wallet can provide a fresh address if:\n-    // * hdEnabled(): an HD seed is present; or\n+    // * hdEnabled(): a HD seed is present; or\n     // * it is a legacy wallet, because:\n-    //     * !hdEnabled(): an HD seed is not present; and\n-    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled (which results in hdEnabled() == true)\n-    return m_wallet->hdEnabled() || (!m_wallet->hdEnabled() && !m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS));\n+    //     * !hdEnabled(): a HD seed is not present; and\n+    //     * !IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS): private keys have not been disabled\n+    //     * !isBlank(): the wallet is not blank\n+    return m_wallet->hdEnabled() || (!m_wallet->hdEnabled() && !m_wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !m_wallet->isBlank());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255300465",
      "id" : 255300465,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMwMDQ2NQ==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 13,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 201864762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255300465",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255305573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255305573"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There's already a check for that flag above.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T17:12:48Z",
      "diff_hunk" : "@@ -3880,7 +3891,7 @@ UniValue sethdseed(const JSONRPCRequest& request)\n     LOCK(pwallet->cs_wallet);\n \n     // Do not do anything to non-HD wallets\n-    if (!pwallet->IsHDEnabled()) {\n+    if (!pwallet->IsBlank() && !pwallet->IsHDEnabled()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255305573",
      "id" : 255305573,
      "in_reply_to_id" : 255250957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMwNTU3Mw==",
      "original_commit_id" : "8061ea4611696b22d5d5dcdd73c1e053ffecc09d",
      "original_position" : 67,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201870075,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255305573",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I have taken @ryanofsky's suggestions and reworked this a bit more. This should also help with #14075.\r\n\r\nI got rid of `IsBlank` and replaced it with two functions: `CanGenerateKeys` and `CanGetAddresses`. `CanGenerateKeys` is as @ryanofsky commented; it checks for whether there is an HD seed or whether the wallet is non-HD. `CanGetAddresses` checks whether there are keys in the keypool (defaults to external keypool but can check the internal one), and if not, checks `CanGenerateKeys`. This is used as a guard wherever a key from the keypool is fetched for addresses. Additionally this is called by `WalletModel::CanGetAddresses()` and replaces the logic that was there.",
      "created_at" : "2019-02-09T18:43:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-462068869",
      "id" : 462068869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MjA2ODg2OQ==",
      "updated_at" : "2019-02-09T18:43:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462068869",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255310659"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255310659"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8b5533ee281ba114b8bb5c195f4a9b715b02a644)\r\n\r\nCurious what other people think but I think it would be great to remove WALLET_FLAG_DISABLE_PRIVATE_KEYS check above in light of this check.\r\n\r\nOne thing that makes flag code hard to understand is that you can grep and have to dig through 20 usages of a flag where checking it is redundant or has little effect, which makes it harder to identify the places where the flag is actually playing an important role\r\n\r\nI think if WALLET_FLAG_DISABLE_PRIVATE_KEYS check above should be kept it should at least have a comment saying it's belt and suspenders or something like that.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T19:36:00Z",
      "diff_hunk" : "@@ -176,6 +176,11 @@ static UniValue getnewaddress(const JSONRPCRequest& request)\n \n     LOCK(pwallet->cs_wallet);\n \n+    if (!pwallet->CanGetAddresses()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255310659",
      "id" : 255310659,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMxMDY1OQ==",
      "original_commit_id" : "8b5533ee281ba114b8bb5c195f4a9b715b02a644",
      "original_position" : 4,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 11,
      "pull_request_review_id" : 201875278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255310659",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255310698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255310698"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8b5533ee281ba114b8bb5c195f4a9b715b02a644)\r\n\r\nThere's another WALLET_FLAG_DISABLE_PRIVATE_KEYS check above that could be removed or noted belt and suspenders.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T19:37:52Z",
      "diff_hunk" : "@@ -237,6 +242,10 @@ static UniValue getrawchangeaddress(const JSONRPCRequest& request)\n \n     LOCK(pwallet->cs_wallet);\n \n+    if (!pwallet->CanGetAddresses(true)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255310698",
      "id" : 255310698,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMxMDY5OA==",
      "original_commit_id" : "8b5533ee281ba114b8bb5c195f4a9b715b02a644",
      "original_position" : 16,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 30,
      "pull_request_review_id" : 201875278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255310698",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255310747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255310747"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thread could be could be marked resolved.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T19:39:28Z",
      "diff_hunk" : "@@ -374,7 +380,11 @@ bool CWallet::AddWatchOnly(const CScript& dest)\n     const CKeyMetadata& meta = m_script_metadata[CScriptID(dest)];\n     UpdateTimeFirstKey(meta.nCreateTime);\n     NotifyWatchonlyChanged(true);\n-    return WalletBatch(*database).WriteWatchOnly(dest, meta);\n+    if (WalletBatch(*database).WriteWatchOnly(dest, meta)) {\n+        UnsetWalletFlag(WALLET_FLAG_BLANK_WALLET);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255310747",
      "id" : 255310747,
      "in_reply_to_id" : 254550097,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMxMDc0Nw==",
      "original_commit_id" : "1cdb8d8346649434450e410971cc3d68c3504a25",
      "original_position" : 44,
      "path" : "src/wallet/wallet.cpp",
      "position" : 44,
      "pull_request_review_id" : 201875278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255310747",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255311178"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255311178"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Support creating a blank wallet\" (8b5533ee281ba114b8bb5c195f4a9b715b02a644)\r\n\r\nHere and other three places where wallet code is calling CanGetAddresses(), I think it should be calling CanGenerateKeys() instead. CanGetAddresses() is definitely useful for the GUI, because the GUI has to continuously keep its display state up to date with state of the keypool, and this is inherently racy and approximate. But actual wallet code shouldn't be doing racy, redundant checks like this. There's no point to locking cs_wallet, checking the number of available keys in the keypool, releasing the lock, reacquiring the lock and then doing the same check again below in ReserveKey.\r\n\r\n",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T19:52:56Z",
      "diff_hunk" : "@@ -3416,7 +3460,7 @@ void CWallet::ReturnKey(int64_t nIndex, bool fInternal, const CPubKey& pubkey)\n \n bool CWallet::GetKeyFromPool(CPubKey& result, bool internal)\n {\n-    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+    if (!CanGetAddresses(internal)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255311178",
      "id" : 255311178,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMxMTE3OA==",
      "original_commit_id" : "8b5533ee281ba114b8bb5c195f4a9b715b02a644",
      "original_position" : 138,
      "path" : "src/wallet/wallet.cpp",
      "position" : 129,
      "pull_request_review_id" : 201875278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255311178",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255314300"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255314300"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The reason I have the `CanGetAddresses` check here is for future work where you can get a key from the keypool without the ability to generate addresses.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T21:28:45Z",
      "diff_hunk" : "@@ -3416,7 +3460,7 @@ void CWallet::ReturnKey(int64_t nIndex, bool fInternal, const CPubKey& pubkey)\n \n bool CWallet::GetKeyFromPool(CPubKey& result, bool internal)\n {\n-    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+    if (!CanGetAddresses(internal)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255314300",
      "id" : 255314300,
      "in_reply_to_id" : 255311178,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMxNDMwMA==",
      "original_commit_id" : "8b5533ee281ba114b8bb5c195f4a9b715b02a644",
      "original_position" : 138,
      "path" : "src/wallet/wallet.cpp",
      "position" : 129,
      "pull_request_review_id" : 201879032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255314300",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255314466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255314466"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've added a comment",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-09T21:34:26Z",
      "diff_hunk" : "@@ -176,6 +176,11 @@ static UniValue getnewaddress(const JSONRPCRequest& request)\n \n     LOCK(pwallet->cs_wallet);\n \n+    if (!pwallet->CanGetAddresses()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255314466",
      "id" : 255314466,
      "in_reply_to_id" : 255310659,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTMxNDQ2Ng==",
      "original_commit_id" : "8b5533ee281ba114b8bb5c195f4a9b715b02a644",
      "original_position" : 4,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 11,
      "pull_request_review_id" : 201879213,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255314466",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/15226/commits/707eabab827250cc1b726179cabe97d3e0c100de\r\n\r\nI'll give @Sjors a chance to finish his last review of this, then merge tomorrow",
      "created_at" : "2019-02-10T10:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-462119069",
      "id" : 462119069,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MjExOTA2OQ==",
      "updated_at" : "2019-02-10T10:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462119069",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255343926"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255343926"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree with the usefulness of `CanGetAddresses` for followup stuff. Longer term I also think it's a useful distinction in a descriptor based wallet, which may support a lot more (semi) watch-only (solvable, but not IsMine) things like being part of a multisig group.\r\n\r\n Regarding the \"racy\" stuff, maybe it helps to add `AssertLockHeld` to `CWallet CanGetAddresses` and `CanGenerateKeys`? That way places that (indirectly) call both can get a lock once.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T16:13:10Z",
      "diff_hunk" : "@@ -3416,7 +3460,7 @@ void CWallet::ReturnKey(int64_t nIndex, bool fInternal, const CPubKey& pubkey)\n \n bool CWallet::GetKeyFromPool(CPubKey& result, bool internal)\n {\n-    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+    if (!CanGetAddresses(internal)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255343926",
      "id" : 255343926,
      "in_reply_to_id" : 255311178,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0MzkyNg==",
      "original_commit_id" : "8b5533ee281ba114b8bb5c195f4a9b715b02a644",
      "original_position" : 138,
      "path" : "src/wallet/wallet.cpp",
      "position" : 129,
      "pull_request_review_id" : 201910121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255343926",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255344608"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255344608"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`IsHDEnabled()` should be renamed to `HasHDSeed()` because that's actually what it checks (as opposed to `CanSupportFeature(FEATURE_HD)`). Can perhaps wait until a followup, since it's clear enough from the comments.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T16:32:00Z",
      "diff_hunk" : "@@ -1132,6 +1144,12 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     /* Returns true if HD is enabled */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255344608",
      "id" : 255344608,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NDYwOA==",
      "original_commit_id" : "707eabab827250cc1b726179cabe97d3e0c100de",
      "original_position" : 24,
      "path" : "src/wallet/wallet.h",
      "position" : 24,
      "pull_request_review_id" : 201910121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255344608",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255344727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255344727"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't see how \"create a fresh seed\" happens here, because if there's no seed `IsHDEnabled()` returns false.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T16:35:51Z",
      "diff_hunk" : "@@ -703,7 +713,7 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255344727",
      "id" : 255344727,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NDcyNw==",
      "original_commit_id" : "707eabab827250cc1b726179cabe97d3e0c100de",
      "original_position" : 56,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201910121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255344727",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255346516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346516"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would prefer to leave it as-is for now. That can be changed in a followup.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T17:23:58Z",
      "diff_hunk" : "@@ -1132,6 +1144,12 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     /* Returns true if HD is enabled */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255346516",
      "id" : 255346516,
      "in_reply_to_id" : 255344608,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NjUxNg==",
      "original_commit_id" : "707eabab827250cc1b726179cabe97d3e0c100de",
      "original_position" : 24,
      "path" : "src/wallet/wallet.h",
      "position" : 24,
      "pull_request_review_id" : 201912798,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346516",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255346553"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346553"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Outdated comment. I've changed it back.",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T17:25:11Z",
      "diff_hunk" : "@@ -703,7 +713,7 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255346553",
      "id" : 255346553,
      "in_reply_to_id" : 255344727,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM0NjU1Mw==",
      "original_commit_id" : "707eabab827250cc1b726179cabe97d3e0c100de",
      "original_position" : 56,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201912845,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T17:25:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255346553",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255350011"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255350011"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's fine, but I'll keep stalking you :-)",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T18:50:34Z",
      "diff_hunk" : "@@ -1132,6 +1144,12 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     /* Returns true if HD is enabled */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255350011",
      "id" : 255350011,
      "in_reply_to_id" : 255344608,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1MDAxMQ==",
      "original_commit_id" : "707eabab827250cc1b726179cabe97d3e0c100de",
      "original_position" : 24,
      "path" : "src/wallet/wallet.h",
      "position" : 24,
      "pull_request_review_id" : 201916133,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T18:50:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255350011",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 7687f78",
      "created_at" : "2019-02-10T18:58:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#issuecomment-462161103",
      "id" : 462161103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15226",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MjE2MTEwMw==",
      "updated_at" : "2019-02-10T18:58:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/462161103",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255350458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255350458"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might be useful to add \"If no HD seed is set, e.g. because it is a blank wallet, do not add one.\", can be done in the same followup as renaming `IsHDEnabled()` (though that rename would make the comment unnecessary :-).",
      "commit_id" : "7687f7873b75c3cbdfa15ab570211dc39d24ab80",
      "created_at" : "2019-02-10T19:00:30Z",
      "diff_hunk" : "@@ -703,7 +713,7 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Lock();\n         Unlock(strWalletPassphrase);\n \n-        // if we are using HD, replace the HD seed with a new one\n+        // if we are using HD, create a fresh seed or replace the existing seed with a new one",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15226#discussion_r255350458",
      "id" : 255350458,
      "in_reply_to_id" : 255344727,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1NTM1MDQ1OA==",
      "original_commit_id" : "707eabab827250cc1b726179cabe97d3e0c100de",
      "original_position" : 56,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 201916531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15226",
      "updated_at" : "2019-02-10T19:00:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/255350458",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
