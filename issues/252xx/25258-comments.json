[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "FWIW, the lack of this feature is (mostly) what made the FIBRE patchset difficult to maintain. This is the only part of that patchset that materially conflicted with new releases or even had much to touch inside Bitcoin Core. It would be great to see this to revive the FIBRE patchset.",
      "created_at" : "2023-02-06T18:00:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25258#issuecomment-1419515010",
      "id" : 1419515010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25258",
      "node_id" : "IC_kwDOABII585UnBSC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419515010/reactions"
      },
      "updated_at" : "2023-02-06T18:00:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419515010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This also seems to happen with spy(?) nodes which are the first to send a header, but then never end up responding to requests for the full block. Due to recent mempool chop, the chances of requiring a round-trip for slightly-later-but-behaving high bandwidth peer's cb goes way up, and currently cannot be accommodated.\r\n\r\ncouple of questions to think about:\r\n1) should the 2nd download only work for outbound connections? currently there are 3 hb peers possible, and only one outbound is \"protected\". Sybil nodes can take up 2 inbound slots pretty easily. Perhaps if first to announce is outbound, we allow an inbound as second as well?\r\n2) is 10 transaction diff as per https://github.com/bitcoin/bitcoin/pull/10984 reasonable with today's mempool characteristics?",
      "created_at" : "2023-05-09T12:27:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25258#issuecomment-1540028533",
      "id" : 1540028533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25258",
      "node_id" : "IC_kwDOABII585byvh1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1540028533/reactions"
      },
      "updated_at" : "2023-05-09T12:27:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1540028533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If we wait a little bit before the second attempt, and if we track which peers have since announced the header, we could pick from a larger set. Randomly and maybe with a preference for outbound. We can rely on high bandwidth mode compact block peer(s) for speed, but then for reliability use a bit more patience. Maybe we could even do one attempt at soliciting a compact block and then a few seconds later ask for a regular block.",
      "created_at" : "2023-05-12T19:26:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25258#issuecomment-1546184277",
      "id" : 1546184277,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25258",
      "node_id" : "IC_kwDOABII585cKOZV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546184277/reactions"
      },
      "updated_at" : "2023-05-12T19:26:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1546184277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
