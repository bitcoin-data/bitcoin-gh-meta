[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25386](https://github.com/bitcoin/bitcoin/pull/25386) (refactor: Extract MIB_BYTES constant for init.cpp by Empact)\n* [#25308](https://github.com/bitcoin/bitcoin/pull/25308) (refactor: Reduce number of LoadChainstate parameters and return values by ryanofsky)\n* [#25285](https://github.com/bitcoin/bitcoin/pull/25285) (Add AutoFile without ser-type and ser-version and use it where possible by MarcoFalke)\n* [#25193](https://github.com/bitcoin/bitcoin/pull/25193) (indexes: Read the locator's top block during init, allow interaction with reindex-chainstate by mzumsande)\n* [#24513](https://github.com/bitcoin/bitcoin/pull/24513) (CChainState -> Chainstate by jamesob)\n* [#24158](https://github.com/bitcoin/bitcoin/pull/24158) (Optimize Mempool Reorg logic using Epochs, improving memory usage and runtime. by JeremyRubin)\n* [#23443](https://github.com/bitcoin/bitcoin/pull/23443) (p2p: Erlay support signaling by naumenkogs)\n* [#13990](https://github.com/bitcoin/bitcoin/pull/13990) (Allow fee estimation to work with lower fees by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-06-07T08:32:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1148365806",
      "id" : 1148365806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585Ecqvu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148365806/reactions"
      },
      "updated_at" : "2022-06-27T17:12:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148365806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-07T11:00:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1148514571",
      "id" : 1148514571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585EdPEL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148514571/reactions"
      },
      "updated_at" : "2022-06-07T11:00:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148514571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pushed 532f83872d3921030fc4240fa8a8c4f6a1aaacf0 -> 4bbc2e0cfc2e395649a20e616648937c81dca377\r\n- Added doxygen comments for `MemPoolOptions`, `MemPoolLimits`, `ApplyArgsManOptions`\r\n- Use `CTxMemPool::{Options,Limits}` instead of `MemPool{Options,Limits}` wherever possible\r\n- Move `ApplyArgsManOptions(const ArgsManager&, MemPoolLimits&)` to an anonymous namespace in  `mempool_args.cpp`",
      "created_at" : "2022-06-13T17:53:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1154212042",
      "id" : 1154212042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585Ey-DK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1154212042/reactions"
      },
      "updated_at" : "2022-06-13T17:53:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1154212042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pushed f803134e4cf1f2566858e0c597fcd19e29afed3f -> c98d5f1744dc3beed116ff708e3d4d8dcfe53eae\r\n- Rebased after merge of #25215 and #25223 (thanks all reviewers!)\r\n- Marking as Ready for Review as all dependent PRs have been merged",
      "created_at" : "2022-06-16T18:21:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1157998298",
      "id" : 1157998298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FBaba",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1157998298/reactions"
      },
      "updated_at" : "2022-06-16T18:21:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1157998298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "https://cirrus-ci.com/task/6709025164230656:\r\n```bash\r\nTraceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 552, in assert_start_raises_init_error\r\n                                       ret = self.process.wait(timeout=self.rpc_timeout)\r\n                                     File \"/usr/lib/python3.6/subprocess.py\", line 1469, in wait\r\n                                       raise TimeoutExpired(self.args, timeout)\r\n                                   subprocess.TimeoutExpired: Command '['/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/bitcoind', '-datadir=/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_\\u20bf_ð_20220616_191835/mempool_limit_214/node0', '-logtimemicros', '-debug', '-debugexclude=libevent', '-debugexclude=leveldb', '-uacomment=testnode0', '-logthreadnames', '-logsourcelocations', '-maxmempool=4']' timed out after 2400 seconds\r\n                                   During handling of the above exception, another exception occurred:\r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_limit.py\", line 82, in run_test\r\n                                       self.nodes[0].assert_start_raises_init_error([\"-maxmempool=4\"], \"Error: -maxmempool must be at least 5 MB\")\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 582, in assert_start_raises_init_error\r\n                                       self._raise_assertion_error(assert_msg)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 167, in _raise_assertion_error\r\n                                       raise AssertionError(self._node_msg(msg))\r\n                                   AssertionError: [node 0] bitcoind should have exited within 2400s with expected error Error: -maxmempool must be at least 5 MB\r\n```",
      "created_at" : "2022-06-17T09:50:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1158704967",
      "id" : 1158704967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FEG9H",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158704967/reactions"
      },
      "updated_at" : "2022-06-17T09:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158704967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900028022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900028022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in 85aa9d85a6903f9f85e5f609175206aed0b09410 \"scripted-diff: Rename anc/desc size limit vars to indicate SI unit \"\r\n\r\nThis is possibly out of scope/nitty but since you're adding the KB unit, I think it's worth noting that it's kilo virtual bytes, not kilobytes. So perhaps `DEFAULT_ANCESTOR_SIZE_LIMIT_KVB` is more accurate\r\n\r\n(see https://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/txmempool.h#L98,\r\nhttps://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/txmempool.cpp#L232-L243)",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T11:24:49Z",
      "diff_hunk" : "@@ -539,9 +539,9 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-stopafterblockimport\", strprintf(\"Stop running after importing blocks from disk (default: %u)\", DEFAULT_STOPAFTERBLOCKIMPORT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-stopatheight\", strprintf(\"Stop running after reaching the given height in the main chain (default: %u)\", DEFAULT_STOPATHEIGHT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitancestorcount=<n>\", strprintf(\"Do not accept transactions if number of in-mempool ancestors is <n> or more (default: %u)\", DEFAULT_ANCESTOR_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900028022",
      "id" : 900028022,
      "line" : 542,
      "node_id" : "PRRC_kwDOABII5841pVZ2",
      "original_commit_id" : "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "original_line" : 542,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 1010370124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900028022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T12:42:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900028022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900056871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900056871"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in 95430b611c6562845143669e88e07fcde770d1af \"node/ifaces: Use existing MemPoolLimits\"\r\n\r\nI see your \"Question for Reviewers: Is the default for limit_ancestor_count and limit_descendant_count in getPackageLimits correct?\" in the commit message. To clarify, are you asking whether this has a behavior change, or are you asking if the change is better?\r\n\r\nIIUC This returns limits = 0 when there is no mempool, where it would have previously returned the results of querying gArgs / defaults. This makes logical sense to me: if there's no mempool, then there's no mempool limits. It seems the one use for `getPackageLimits` is in `SelectCoins`, and the wallet understands it can still make an unconfirmed transaction (i.e. anc/desc count = 1) so it's fine: https://github.com/bitcoin/bitcoin/blob/874529665c1c326fc86fc0d0d6c3512fab087ab8/src/wallet/spend.cpp#L509-L511\r\n\r\nI guess a future `-nomempool` option would just need to be consistent with this.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T12:09:31Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900056871",
      "id" : 900056871,
      "line" : 658,
      "node_id" : "PRRC_kwDOABII5841pccn",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 658,
      "original_position" : 15,
      "original_start_line" : 657,
      "path" : "src/node/interfaces.cpp",
      "position" : 15,
      "pull_request_review_id" : 1010370124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900056871/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 657,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-17T12:42:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900056871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900059562"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900059562"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In efcbd12767d87b33b6c6deb86d441292ff681b13 \"init: Remove redundant -*mempool*, -limit* queries \"\r\n\r\nSeems like you've dropped a `* 40` here? Is that maybe what's causing the CI failure?",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T12:13:30Z",
      "diff_hunk" : "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits\n-    int64_t nMempoolSizeMax = args.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000;\n-    int64_t nMempoolSizeMin = args.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000 * 40;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900059562",
      "id" : 900059562,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841pdGq",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 936,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 1010370124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900059562/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T12:42:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900059562",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900272797"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (c318c982f62610d1c937ab803346307d5458f877)\r\n\r\nI think the clamping and the \"mempool must be at least %d MB\" error checking that is moved here later should be part of mempool code, not init code, so initializing the mempool is straightforward, consistent across bitcoind code and test code and future kernel code, and the same error checking and conveniences are provided in every case.\r\n\r\nEasiest way to do this would be to move the `std::clamp` call to the `CTxMemPool::CTxMemPool` constructor and add a `std::optional<string>& error` output parameter to the constructor so it can provide feedback about invalid options instead of causing problems later.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T15:43:54Z",
      "diff_hunk" : "@@ -1426,10 +1429,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900272797",
      "id" : 900272797,
      "line" : 1432,
      "node_id" : "PRRC_kwDOABII5841qRKd",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 1438,
      "original_position" : 28,
      "original_start_line" : 1435,
      "path" : "src/init.cpp",
      "position" : 28,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900272797/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1429,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900272797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900332212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900332212"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (c318c982f62610d1c937ab803346307d5458f877)\r\n\r\nApplying command line options to tx_pool fuzz test appears to be a change in behavior that is only obliquely referenced in the commit message. Would be good to say up front how exactly behavior is supposed to be changing in the commit up front.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T16:52:07Z",
      "diff_hunk" : "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900332212",
      "id" : 900332212,
      "line" : 129,
      "node_id" : "PRRC_kwDOABII5841qfq0",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 129,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 16,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900332212/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900332212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900368651"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900368651"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (5b733c301debc3119872d436c555f1bf67deb00d)\r\n\r\nI think long local variable names like `mempool_max_size_mb` that differ from each other only a few characters make code frustrating to read and make it easy for mistakes to slip through. Would suggest less verbose code and short visually distinct names like:\r\n\r\n```c++\r\nif (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size = mb * 1000000;\r\n```\r\n\r\ninstead of \r\n\r\n```c++\r\nauto mempool_max_size_mb = argsman.GetIntArg(\"-maxmempool\");\r\nif (mempool_max_size_mb) mempool_opts.max_size = *mempool_max_size_mb * 1000000;\r\n```",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T17:17:19Z",
      "diff_hunk" : "@@ -10,4 +10,7 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    auto mempool_max_size_mb = argsman.GetIntArg(\"-maxmempool\");\n+    if (mempool_max_size_mb) mempool_opts.max_size = *mempool_max_size_mb * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900368651",
      "id" : 900368651,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII5841qokL",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 15,
      "original_position" : 6,
      "original_start_line" : 14,
      "path" : "src/mempool_args.cpp",
      "position" : 6,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900368651/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 29,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-17T19:10:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900368651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900378684"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900378684"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (5b733c301debc3119872d436c555f1bf67deb00d)\r\n\r\nWould be good if commit message said first thing how behavior is and isn't supposed to be changing. There's a reviewer hint to look at this but it's vague.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T17:31:13Z",
      "diff_hunk" : "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900378684",
      "id" : 900378684,
      "line" : 2293,
      "node_id" : "PRRC_kwDOABII5841qrA8",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 2299,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 57,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900378684/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900378684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900381329"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900381329"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Pass in -mempoolexpiry instead of referencing gArgs\" (98be1b84126e3a40f0a45fcd289b1073bdb10361)\r\n\r\nSeems fine, but is there intentionally not a scripted diff to change this to `DEFAULT_MEMPOOL_EXPIRY_HOURS` similar to the other ones?",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T17:35:10Z",
      "diff_hunk" : "@@ -5,11 +5,14 @@\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n #include <cstddef>\n+#include <cstdint>\n \n class CBlockPolicyEstimator;\n \n /** Default for -maxmempool, maximum megabytes of mempool memory usage */\n static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static const unsigned int DEFAULT_MEMPOOL_EXPIRY = 336;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900381329",
      "id" : 900381329,
      "line" : 17,
      "node_id" : "PRRC_kwDOABII5841qrqR",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 15,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 11,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900381329/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900381329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900383275"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900383275"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (5b733c301debc3119872d436c555f1bf67deb00d)\r\n\r\nFor this new member and the new mempool member `max_size_bytes` would seem like a nicer name than `max_size` for making code understandable and preventing bugs, especially as mb and kb and vbytes are used elsewhere.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T17:38:21Z",
      "diff_hunk" : "@@ -16,6 +21,7 @@ class CBlockPolicyEstimator;\n struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n+    size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900383275",
      "id" : 900383275,
      "line" : 29,
      "node_id" : "PRRC_kwDOABII5841qsIr",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 24,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 18,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900383275/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900383275",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900386875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900386875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Pass in -mempoolexpiry instead of referencing gArgs\" (98be1b84126e3a40f0a45fcd289b1073bdb10361)\r\n\r\nTo clarify this option and prevent bugs it would seem better to use `std::chrono::hours` type instead of `int64_t` type for this or call the variable `expiry_hours`.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T17:43:08Z",
      "diff_hunk" : "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900386875",
      "id" : 900386875,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII5841qtA7",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 28,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 19,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900386875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900386875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900395221"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900395221"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Introduce (still-unused) MemPoolLimits\" (2fdb45f17188b3983c9f60e73342b4d1571cb629)\r\n\r\nWould be good to add units to these names like `ancestor_size_vbytes` `descendant_size_vbytes` to distinguish from other size units used in mempool code and init code",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T17:56:11Z",
      "diff_hunk" : "@@ -0,0 +1,31 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+\n+/** Default for -limitancestorcount, max number of in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n+/** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n+/** Default for -limitdescendantcount, max number of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n+/** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size = DEFAULT_ANCESTOR_SIZE_LIMIT_KB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900395221",
      "id" : 900395221,
      "line" : 26,
      "node_id" : "PRRC_kwDOABII5841qvDV",
      "original_commit_id" : "2fdb45f17188b3983c9f60e73342b4d1571cb629",
      "original_line" : 26,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/mempool_limits.h",
      "position" : 26,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900395221/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900395221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900405188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900405188"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"node/ifaces: Use existing MemPoolLimits\" (95430b611c6562845143669e88e07fcde770d1af)\r\n\r\nI don't think think it is a good idea to return 0 for these. Seems like that would mess up wallet coin selection when the mempool is disabled for no benefit. Seems better to just use mempool values when mempool is present and use default values when mempool is not present like\r\n\r\n```c++\r\nlimit_ancestor_count = DEFAULT_ANCESTOR_LIMIT;\r\nlimit_descendant_count = DEFAULT_DESCENDANT_LIMIT;\r\nif (!m_node.mempool) return;\r\n```\r\n\r\nso the wallet is not doing something crazy when there is no mempool",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:10:49Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900405188",
      "id" : 900405188,
      "in_reply_to_id" : 900056871,
      "line" : 658,
      "node_id" : "PRRC_kwDOABII5841qxfE",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 658,
      "original_position" : 15,
      "original_start_line" : 657,
      "path" : "src/node/interfaces.cpp",
      "position" : 15,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900405188/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 657,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900405188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900409517"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900409517"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"node/ifaces: Use existing MemPoolLimits\" (95430b611c6562845143669e88e07fcde770d1af)\r\n\r\nWould be nice to pass MemPoolLimits struct instead of these separate parameters",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:17:24Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900409517",
      "id" : 900409517,
      "line" : 673,
      "node_id" : "PRRC_kwDOABII5841qyit",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 673,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 34,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900409517/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900409517",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900410357"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900410357"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempoolaccept: Use limits from mempool in constructor\" (084fd3d78e272dc1d75e3e17a046b6dfa798da7d)\r\n\r\nWould be nice to use MemPoolLimits struct instead of having these separate duplicate members.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:18:55Z",
      "diff_hunk" : "@@ -431,10 +431,10 @@ class MemPoolAccept\n {\n public:\n     explicit MemPoolAccept(CTxMemPool& mempool, CChainState& active_chainstate) : m_pool(mempool), m_view(&m_dummy), m_viewmempool(&active_chainstate.CoinsTip(), m_pool), m_active_chainstate(active_chainstate),\n-        m_limit_ancestors(gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT)),\n-        m_limit_ancestor_size(gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB)*1000),\n-        m_limit_descendants(gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT)),\n-        m_limit_descendant_size(gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB)*1000) {\n+        m_limit_ancestors(m_pool.m_limits.ancestor_count),\n+        m_limit_ancestor_size(m_pool.m_limits.ancestor_size),\n+        m_limit_descendants(m_pool.m_limits.descendant_count),\n+        m_limit_descendant_size(m_pool.m_limits.descendant_size) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900410357",
      "id" : 900410357,
      "line" : 435,
      "node_id" : "PRRC_kwDOABII5841qyv1",
      "original_commit_id" : "084fd3d78e272dc1d75e3e17a046b6dfa798da7d",
      "original_line" : 437,
      "original_position" : 11,
      "original_start_line" : 434,
      "path" : "src/validation.cpp",
      "position" : 11,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900410357/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 432,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900410357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900416043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900416043"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"init: Remove redundant -*mempool*, -limit* queries\" (efcbd12767d87b33b6c6deb86d441292ff681b13)\r\n\r\nNice catch. Using explicit units would also have helped here (`max_size_bytes < descendant_size_vbytes` is more obviously wrong than `max_size < descendant_size`)\r\n\r\n",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:28:22Z",
      "diff_hunk" : "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits\n-    int64_t nMempoolSizeMax = args.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000;\n-    int64_t nMempoolSizeMin = args.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000 * 40;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900416043",
      "id" : 900416043,
      "in_reply_to_id" : 900059562,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841q0Ir",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 936,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900416043/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900416043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900420112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900420112"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"init: Remove redundant -*mempool*, -limit* queries\" (efcbd12767d87b33b6c6deb86d441292ff681b13)\r\n\r\nAs mentioned previously, I think it would be good to have mempool actually do it's own error checking instead of putting this responsibility on init code, and think this could be easily accomplished giving the constructor a `std::optional<std::string>& error` output parameter.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:35:08Z",
      "diff_hunk" : "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(mempool_opts.limits.descendant_size / 1000000.0)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900420112",
      "id" : 900420112,
      "line" : 1434,
      "node_id" : "PRRC_kwDOABII5841q1IQ",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 1434,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 16,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900420112/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900420112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900422282"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900422282"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"fees: Pass in a filepath instead of referencing gArgs\" (c98d5f1744dc3beed116ff708e3d4d8dcfe53eae)\r\n\r\nPrefer `args` instead of `gArgs` here for consistency with surrounding code",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:38:48Z",
      "diff_hunk" : "@@ -1293,7 +1293,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     assert(!node.fee_estimator);\n     // Don't initialize fee estimation with old data if we don't relay transactions,\n     // as they would never get updated.\n-    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900422282",
      "id" : 900422282,
      "line" : 1296,
      "node_id" : "PRRC_kwDOABII5841q1qK",
      "original_commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "original_line" : 1296,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900422282/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900422282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900423962"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900423962"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"fees: Pass in a filepath instead of referencing gArgs\" (c98d5f1744dc3beed116ff708e3d4d8dcfe53eae)\r\n\r\nPrefer `*m_node.args` instead of `gArgs` here for consistency with surrounding code",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:41:11Z",
      "diff_hunk" : "@@ -163,7 +163,7 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     m_node.scheduler->m_service_thread = std::thread(util::TraceThread, \"scheduler\", [&] { m_node.scheduler->serviceQueue(); });\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n-    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900423962",
      "id" : 900423962,
      "line" : 166,
      "node_id" : "PRRC_kwDOABII5841q2Ea",
      "original_commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "original_line" : 166,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 5,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900423962/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900423962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900433731"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900433731"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"fees: Pass in a filepath instead of referencing gArgs\" (c98d5f1744dc3beed116ff708e3d4d8dcfe53eae)\r\n\r\nI guess `gArgs` is used in some fuzz tests, but it could break if or when BasicTestingSetup ever switches to using local args instead of global args. This is alright in its current form but could consider following `const TestingSetup* g_setup;` `g_setup = testing_setup.get()` `g_setup->m_node.args->...` pattern of other fuzz tests",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-17T18:57:10Z",
      "diff_hunk" : "@@ -22,7 +22,7 @@ FUZZ_TARGET_INIT(policy_estimator_io, initialize_policy_estimator_io)\n     FuzzedAutoFileProvider fuzzed_auto_file_provider = ConsumeAutoFile(fuzzed_data_provider);\n     CAutoFile fuzzed_auto_file = fuzzed_auto_file_provider.open();\n     // Re-using block_policy_estimator across runs to avoid costly creation of CBlockPolicyEstimator object.\n-    static CBlockPolicyEstimator block_policy_estimator;\n+    static CBlockPolicyEstimator block_policy_estimator{gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r900433731",
      "id" : 900433731,
      "line" : 25,
      "node_id" : "PRRC_kwDOABII5841q4dD",
      "original_commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "original_line" : 25,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator_io.cpp",
      "position" : 5,
      "pull_request_review_id" : 1010718583,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900433731/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-17T19:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900433731",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901898069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901898069"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit c318c982. \" pool: Add and use MemPoolOptions, ApplyArgsManOptions\"\r\n\r\nnit: The comment here could be transposed to the corresponding members in `MemPoolOptions`, as they don't have default just above informing about their usage. ",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-20T17:55:15Z",
      "diff_hunk" : "@@ -560,15 +561,14 @@ class CTxMemPool\n     indirectmap<COutPoint, const CTransaction*> mapNextTx GUARDED_BY(cs);\n     std::map<uint256, CAmount> mapDeltas GUARDED_BY(cs);\n \n+    using Options = MemPoolOptions;\n+\n     /** Create a new CTxMemPool.\n      * Sanity checks will be off by default for performance, because otherwise\n      * accepting transactions becomes O(N^2) where N is the number of transactions\n      * in the pool.\n-     *\n-     * @param[in] estimator is used to estimate appropriate transaction fees.\n-     * @param[in] check_ratio is the ratio used to determine how often sanity checks will run.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901898069",
      "id" : 901898069,
      "line" : 569,
      "node_id" : "PRRC_kwDOABII5841wd9V",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 569,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 20,
      "pull_request_review_id" : 1012622917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901898069/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T19:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901898069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901919273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901919273"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit 85aa9d8 \"scripted-diff: Rename anc/desc size limit vars to indicate SI unit \"\r\n\r\nIf you take glozow suggestion above, about the SI from KB to KvB, would be nice to update comments in consequence here.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-20T18:13:40Z",
      "diff_hunk" : "@@ -61,20 +61,20 @@ struct Params;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n /** Default for -limitdescendantcount, max number of in-mempool descendants */\n static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n /** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n-static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901919273",
      "id" : 901919273,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841wjIp",
      "original_commit_id" : "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "original_line" : 68,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 10,
      "pull_request_review_id" : 1012622917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901919273/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T19:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901919273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901924194"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901924194"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: maybe make it (along with the expiry one) `constexpr`?",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-20T18:23:40Z",
      "diff_hunk" : "@@ -4,8 +4,13 @@\n #ifndef BITCOIN_MEMPOOL_OPTIONS_H\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n+#include <cstddef>\n+\n class CBlockPolicyEstimator;\n \n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901924194",
      "id" : 901924194,
      "line" : 15,
      "node_id" : "PRRC_kwDOABII5841wkVi",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 12,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 9,
      "pull_request_review_id" : 1012643320,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901924194/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T18:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901924194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901934113"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901934113"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit 95430b61, \"node/ifaces: Use existing MemPoolLimits\"\r\n\r\nI think the wallet relying on `getPackageLimits` is to blame here, as eventually the wallet should be able to evaluate the propagation odds of its issued transactions even in a future `-nomempool` setting. I think it's a rational for a node operator to run without mempool on let's say a low-performance host, however this operator still eager to verify if the wallet transactions are compliant with the most-widely deployed policies on the network. So a future direction could be to rename `MemPoolLimits` as something like `TransactionPolicy` and ship potentially different instances to the wallet and mempool component.\r\n\r\nI think for now, I'll go with Russ suggestion as otherwise it would be a behavior change. I don't think it would fail `AttemptSelection()` as the latest call in `SelectCoins()` ignore ancestors/descendants limits though it might severely delay the selection or alter the set of yielded UTXOs in a detrimental way.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-20T18:43:38Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901934113",
      "id" : 901934113,
      "in_reply_to_id" : 900056871,
      "line" : 658,
      "node_id" : "PRRC_kwDOABII5841wmwh",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 658,
      "original_position" : 15,
      "original_start_line" : 657,
      "path" : "src/node/interfaces.cpp",
      "position" : 15,
      "pull_request_review_id" : 1012622917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901934113/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 657,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-20T19:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901934113",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901939358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901939358"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit efcbd127, \"init: Remove redundant -*mempool*, -limit* queries \"\r\n\r\nI got a compilation warning here as an unsigned int should not be inferior to 0.",
      "commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "created_at" : "2022-06-20T18:54:15Z",
      "diff_hunk" : "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r901939358",
      "id" : 901939358,
      "line" : 1433,
      "node_id" : "PRRC_kwDOABII5841woCe",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 1433,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 15,
      "pull_request_review_id" : 1012622917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901939358/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T19:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901939358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-20T19:53:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1160797195",
      "id" : 1160797195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FMFwL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160797195/reactions"
      },
      "updated_at" : "2022-06-20T19:53:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160797195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902608414"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902608414"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 67ad3f84b1e69ad830ee27b25e0b6a33519e1d0b",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:18:11Z",
      "diff_hunk" : "@@ -539,9 +539,9 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-stopafterblockimport\", strprintf(\"Stop running after importing blocks from disk (default: %u)\", DEFAULT_STOPAFTERBLOCKIMPORT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-stopatheight\", strprintf(\"Stop running after reaching the given height in the main chain (default: %u)\", DEFAULT_STOPATHEIGHT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitancestorcount=<n>\", strprintf(\"Do not accept transactions if number of in-mempool ancestors is <n> or more (default: %u)\", DEFAULT_ANCESTOR_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902608414",
      "id" : 902608414,
      "in_reply_to_id" : 900028022,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zLYe",
      "original_commit_id" : "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "original_line" : 542,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1013587580,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902608414/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902608414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902609094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902609094"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 4825207fc6c15fce4cc1cb9b14a66a51f3b5a47b, feel free to reopen if still a problem!",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:18:48Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902609094",
      "id" : 902609094,
      "in_reply_to_id" : 900056871,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zLjG",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 658,
      "original_position" : 15,
      "original_start_line" : 657,
      "path" : "src/node/interfaces.cpp",
      "position" : null,
      "pull_request_review_id" : 1013588555,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902609094/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-21T13:18:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902609094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902631718"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902631718"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 4a50089d8c3421f2e37869a2344cd7143a2c393e ð ",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:38:05Z",
      "diff_hunk" : "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits\n-    int64_t nMempoolSizeMax = args.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000;\n-    int64_t nMempoolSizeMin = args.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000 * 40;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902631718",
      "id" : 902631718,
      "in_reply_to_id" : 900059562,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zREm",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 936,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1013621014,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902631718/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:38:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902631718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902634911"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902634911"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 291b605e21b5f4eb739cd20418ca1fc6f467fcab",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:40:45Z",
      "diff_hunk" : "@@ -0,0 +1,31 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+\n+/** Default for -limitancestorcount, max number of in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n+/** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n+/** Default for -limitdescendantcount, max number of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n+/** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size = DEFAULT_ANCESTOR_SIZE_LIMIT_KB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902634911",
      "id" : 902634911,
      "in_reply_to_id" : 900395221,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zR2f",
      "original_commit_id" : "2fdb45f17188b3983c9f60e73342b4d1571cb629",
      "original_line" : 26,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/mempool_limits.h",
      "position" : null,
      "pull_request_review_id" : 1013625541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902634911/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:40:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902634911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902635618"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902635618"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 125c198efe1b2157a669758e7dadd1d15fbec368",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:41:19Z",
      "diff_hunk" : "@@ -1293,7 +1293,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     assert(!node.fee_estimator);\n     // Don't initialize fee estimation with old data if we don't relay transactions,\n     // as they would never get updated.\n-    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    if (!ignores_incoming_txs) node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902635618",
      "id" : 902635618,
      "in_reply_to_id" : 900422282,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zSBi",
      "original_commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "original_line" : 1296,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1013626532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902635618/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:41:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902635618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902636077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636077"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 125c198efe1b2157a669758e7dadd1d15fbec368",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:41:31Z",
      "diff_hunk" : "@@ -163,7 +163,7 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     m_node.scheduler->m_service_thread = std::thread(util::TraceThread, \"scheduler\", [&] { m_node.scheduler->serviceQueue(); });\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n-    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n+    m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>(gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902636077",
      "id" : 902636077,
      "in_reply_to_id" : 900423962,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zSIt",
      "original_commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "original_line" : 166,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : null,
      "pull_request_review_id" : 1013627087,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636077/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902636617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636617"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 52349ea72f58b4057a88890fe0c7b722698e3fac",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:41:53Z",
      "diff_hunk" : "@@ -4,8 +4,13 @@\n #ifndef BITCOIN_MEMPOOL_OPTIONS_H\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n+#include <cstddef>\n+\n class CBlockPolicyEstimator;\n \n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902636617",
      "id" : 902636617,
      "in_reply_to_id" : 901924194,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zSRJ",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 12,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1013627761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636617/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:41:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902636617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902637213"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637213"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:42:22Z",
      "diff_hunk" : "@@ -560,15 +561,14 @@ class CTxMemPool\n     indirectmap<COutPoint, const CTransaction*> mapNextTx GUARDED_BY(cs);\n     std::map<uint256, CAmount> mapDeltas GUARDED_BY(cs);\n \n+    using Options = MemPoolOptions;\n+\n     /** Create a new CTxMemPool.\n      * Sanity checks will be off by default for performance, because otherwise\n      * accepting transactions becomes O(N^2) where N is the number of transactions\n      * in the pool.\n-     *\n-     * @param[in] estimator is used to estimate appropriate transaction fees.\n-     * @param[in] check_ratio is the ratio used to determine how often sanity checks will run.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902637213",
      "id" : 902637213,
      "in_reply_to_id" : 901898069,
      "line" : 569,
      "node_id" : "PRRC_kwDOABII5841zSad",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 569,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 35,
      "pull_request_review_id" : 1013628594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637213/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:42:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637213",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902637726"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637726"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 67ad3f84b1e69ad830ee27b25e0b6a33519e1d0b",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T13:42:46Z",
      "diff_hunk" : "@@ -61,20 +61,20 @@ struct Params;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT_KB = 101;\n /** Default for -limitdescendantcount, max number of in-mempool descendants */\n static const unsigned int DEFAULT_DESCENDANT_LIMIT = 25;\n /** Default for -limitdescendantsize, maximum kilobytes of in-mempool descendants */\n-static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT = 101;\n+static const unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KB = 101;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902637726",
      "id" : 902637726,
      "in_reply_to_id" : 901919273,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841zSie",
      "original_commit_id" : "85aa9d85a6903f9f85e5f609175206aed0b09410",
      "original_line" : 68,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1013629311,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637726/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T13:42:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902637726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902695271"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902695271"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How about `std::chrono::seconds`? It seems that's how it's used/compared in our code anyway",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T14:28:55Z",
      "diff_hunk" : "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902695271",
      "id" : 902695271,
      "in_reply_to_id" : 900386875,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5841zgln",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 32,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 32,
      "pull_request_review_id" : 1013714101,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902695271/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T14:28:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902695271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902734719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902734719"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "No opinion on what unit should be used. Just saying using some explicit time unit in the variable name or type could make code more readable and prevent bugs.",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T15:00:44Z",
      "diff_hunk" : "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902734719",
      "id" : 902734719,
      "in_reply_to_id" : 900386875,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5841zqN_",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 32,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 32,
      "pull_request_review_id" : 1013771204,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902734719/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T15:00:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902734719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902739820"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902739820"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It could be `NodeClock::duration` with the reason that the value is compared against the value of `GetTime()`, which is deprecated in favour of (and an alias to) `NodeClock::now()`.",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T15:05:10Z",
      "diff_hunk" : "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902739820",
      "id" : 902739820,
      "in_reply_to_id" : 900386875,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5841zrds",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 32,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 32,
      "pull_request_review_id" : 1013778841,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902739820/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T15:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902739820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902827767"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902827767"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I still got a compilation warning, is that issue on your local host or misconfigs of my compiler flags ?\r\n\r\n```\r\ninit.cpp: In function âbool AppInitMain(node::NodeContext&, interfaces::BlockAndHeaderTipInfo*)â:\r\ninit.cpp:1435:37: warning: comparison of unsigned expression in â< 0â is always false [-Wtype-limits]\r\n 1435 |     if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {\r\n      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~\r\n```\r\n\r\n\r\n",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T16:26:45Z",
      "diff_hunk" : "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902827767",
      "id" : 902827767,
      "in_reply_to_id" : 901939358,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410A73",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 1433,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1013903303,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902827767/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T16:26:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902827767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902840978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902840978"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Unfortunately `MemPoolAccept` needs to hold `m_limit_descendant{s,_size}` as non-`const` since they change:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/34869114a72435b9d8364385abaefed70d703fa8/src/validation.cpp#L880-L881\r\n\r\nIf we just had a `MemPoolLimits` struct that would enforce `const`-uniformity across its members and I think it would still be good to keep `m_limit_ancestor{s,_size}` as `const`.",
      "commit_id" : "125c198efe1b2157a669758e7dadd1d15fbec368",
      "created_at" : "2022-06-21T16:40:13Z",
      "diff_hunk" : "@@ -431,10 +431,10 @@ class MemPoolAccept\n {\n public:\n     explicit MemPoolAccept(CTxMemPool& mempool, CChainState& active_chainstate) : m_pool(mempool), m_view(&m_dummy), m_viewmempool(&active_chainstate.CoinsTip(), m_pool), m_active_chainstate(active_chainstate),\n-        m_limit_ancestors(gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT)),\n-        m_limit_ancestor_size(gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB)*1000),\n-        m_limit_descendants(gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT)),\n-        m_limit_descendant_size(gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB)*1000) {\n+        m_limit_ancestors(m_pool.m_limits.ancestor_count),\n+        m_limit_ancestor_size(m_pool.m_limits.ancestor_size),\n+        m_limit_descendants(m_pool.m_limits.descendant_count),\n+        m_limit_descendant_size(m_pool.m_limits.descendant_size) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902840978",
      "id" : 902840978,
      "in_reply_to_id" : 900410357,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410EKS",
      "original_commit_id" : "084fd3d78e272dc1d75e3e17a046b6dfa798da7d",
      "original_line" : 437,
      "original_position" : 11,
      "original_start_line" : 434,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1013923008,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902840978/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-21T16:40:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902840978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936206"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 8c81736608e05607d0d84a6edb7ef6b66e46857c, 846a47db00c76b76115fb882aa9e032d234b0a5e, and 6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:23:57Z",
      "diff_hunk" : "@@ -10,4 +10,7 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    auto mempool_max_size_mb = argsman.GetIntArg(\"-maxmempool\");\n+    if (mempool_max_size_mb) mempool_opts.max_size = *mempool_max_size_mb * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936206",
      "id" : 902936206,
      "in_reply_to_id" : 900368651,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410baO",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 15,
      "original_position" : 6,
      "original_start_line" : 14,
      "path" : "src/mempool_args.cpp",
      "position" : null,
      "pull_request_review_id" : 1014057373,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936206/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-21T18:23:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936485"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 5fae7725822771b76825f1e0452d8583141e54e3",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:24:18Z",
      "diff_hunk" : "@@ -5,11 +5,14 @@\n #define BITCOIN_MEMPOOL_OPTIONS_H\n \n #include <cstddef>\n+#include <cstdint>\n \n class CBlockPolicyEstimator;\n \n /** Default for -maxmempool, maximum megabytes of mempool memory usage */\n static const unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB = 300;\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static const unsigned int DEFAULT_MEMPOOL_EXPIRY = 336;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936485",
      "id" : 902936485,
      "in_reply_to_id" : 900381329,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410bel",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 15,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1014057773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936485/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T18:24:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936739"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:24:39Z",
      "diff_hunk" : "@@ -16,6 +21,7 @@ class CBlockPolicyEstimator;\n struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n+    size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902936739",
      "id" : 902936739,
      "in_reply_to_id" : 900383275,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410bij",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 24,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1014058166,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936739/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T18:24:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902936739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902937994"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902937994"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I used `std::chrono::seconds` in 846a47db00c76b76115fb882aa9e032d234b0a5e. I think for the mempool at least we want to use something that isn't platform-specific. Feel free to reopen if still a problem!",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:26:06Z",
      "diff_hunk" : "@@ -22,6 +25,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     int check_ratio = 0;\n     size_t max_size = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;\n+    int64_t expiry = DEFAULT_MEMPOOL_EXPIRY;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902937994",
      "id" : 902937994,
      "in_reply_to_id" : 900386875,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410b2K",
      "original_commit_id" : "98be1b84126e3a40f0a45fcd289b1073bdb10361",
      "original_line" : 32,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1014059786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902937994/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T18:26:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902937994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902939657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902939657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do you mean something like below? This convenience method would really only benefit this one call site due to the limitations I mentioned here: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902840978\r\n\r\n```diff\r\ndiff --git a/src/node/interfaces.cpp b/src/node/interfaces.cpp\r\nindex cd2ad1f6a2..9977968775 100644\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -674,8 +674,7 @@ public:\r\n         std::string unused_error_string;\r\n         LOCK(m_node.mempool->cs);\r\n         return m_node.mempool->CalculateMemPoolAncestors(\r\n-            entry, ancestors, limits.ancestor_count, limits.ancestor_size_vbytes,\r\n-            limits.descendant_count, limits.descendant_size_vbytes, unused_error_string);\r\n+            entry, ancestors, limits, unused_error_string);\r\n     }\r\n     CFeeRate estimateSmartFee(int num_blocks, bool conservative, FeeCalculation* calc) override\r\n     {\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex baf5718a8d..878e828b65 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -295,6 +295,20 @@ bool CTxMemPool::CheckPackageLimits(const Package& package,\r\n     return ret;\r\n }\r\n \r\n+bool CTxMemPool::CalculateMemPoolAncestors(const CTxMemPoolEntry& entry,\r\n+                                           setEntries& setAncestors,\r\n+                                           const CTxMemPool::Limits& limits,\r\n+                                           std::string& errString,\r\n+                                           bool fSearchForParents /* = true */) const\r\n+{\r\n+    return CalculateMemPoolAncestors(entry, setAncestors,\r\n+                                     limits.ancestor_count,\r\n+                                     limits.ancestor_size_vbytes,\r\n+                                     limits.descendant_count,\r\n+                                     limits.descendant_size_vbytes,\r\n+                                     errString, fSearchForParents);\r\n+}\r\n+\r\n bool CTxMemPool::CalculateMemPoolAncestors(const CTxMemPoolEntry &entry,\r\n                                            setEntries &setAncestors,\r\n                                            uint64_t limitAncestorCount,\r\ndiff --git a/src/txmempool.h b/src/txmempool.h\r\nindex 76f51e9d1e..a71c80e2b8 100644\r\n--- a/src/txmempool.h\r\n+++ b/src/txmempool.h\r\n@@ -669,7 +669,19 @@ public:\r\n      *  fSearchForParents = whether to search a tx's vin for in-mempool parents, or\r\n      *    look up parents from mapLinks. Must be true for entries not in the mempool\r\n      */\r\n-    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry, setEntries& setAncestors, uint64_t limitAncestorCount, uint64_t limitAncestorSize, uint64_t limitDescendantCount, uint64_t limitDescendantSize, std::string& errString, bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry,\r\n+                                   setEntries& setAncestors,\r\n+                                   const CTxMemPool::Limits& limits,\r\n+                                   std::string& errString,\r\n+                                   bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry,\r\n+                                   setEntries& setAncestors,\r\n+                                   uint64_t limitAncestorCount,\r\n+                                   uint64_t limitAncestorSize,\r\n+                                   uint64_t limitDescendantCount,\r\n+                                   uint64_t limitDescendantSize,\r\n+                                   std::string& errString,\r\n+                                   bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n \r\n     /** Calculate all in-mempool ancestors of a set of transactions not already in the mempool and\r\n      * check ancestor and descendant limits. Heuristics are used to estimate the ancestor and\r\n```",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:28:12Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902939657",
      "id" : 902939657,
      "in_reply_to_id" : 900409517,
      "line" : 676,
      "node_id" : "PRRC_kwDOABII58410cQJ",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 676,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 37,
      "pull_request_review_id" : 1014062166,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902939657/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T18:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902939657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Push c98d5f1744dc3beed116ff708e3d4d8dcfe53eae -> 167076739f02ddcf754200b378d504d320d0ff22\r\n- Resolved most of the review comments (Thanks Gloria, Ryan, and Antoine^2) âºï¸ ",
      "created_at" : "2022-06-21T18:30:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1162163832",
      "id" : 1162163832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FRTZ4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162163832/reactions"
      },
      "updated_at" : "2022-06-21T18:30:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162163832",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902955883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902955883"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Reviewers: What do people think about using `uint64_t` here instead of `size_t`? It seems like there's no obvious need for these to differ from platform to platform and it might be better to not have to worry about them being inconsistent across platforms.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:48:41Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902955883",
      "id" : 902955883,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII58410gNr",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : 20,
      "pull_request_review_id" : 1014085467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902955883/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-21T18:50:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902955883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902958138"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902958138"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ping @glozow, we might also have to change the member vars in `MemPoolAccept` if you think this is an okay idea?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T18:51:19Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902958138",
      "id" : 902958138,
      "in_reply_to_id" : 902955883,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII58410gw6",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : 20,
      "pull_request_review_id" : 1014088623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902958138/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-21T18:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902958138",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903082825"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903082825"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You have a point, but I don't know. All the array/vector size functions return size_t, right? So making these `uint64_t` introduces implicit casts. That while they're unlikely to ever be outside the range of `uint32_t` anyway.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-21T21:25:27Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903082825",
      "id" : 903082825,
      "in_reply_to_id" : 902955883,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII58410_NJ",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : 20,
      "pull_request_review_id" : 1014264709,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903082825/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-21T21:25:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903082825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903473968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903473968"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> What do people think about using uint64_t here instead of size_t? It seems like there's no obvious need for these to differ from platform to platform and it might be better to not have to worry about them being inconsistent across platforms.\r\n\r\nYeah makes sense. Do you mean to do those in this PR? It seems there are thoughts about changing all virtual size representation to int64_t or int32_t across the board (signed because we do arithmetic with them). See #23962 and #23957",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T08:56:17Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903473968",
      "id" : 903473968,
      "in_reply_to_id" : 902955883,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII58412esw",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : 20,
      "pull_request_review_id" : 1014794266,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903473968/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-22T08:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903473968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903501033"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501033"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in a64c96f861d2d2658704085d42463ab03b1e6350: I think this can be written shorter by dropping the `else` and nesting.\r\n\r\n```cpp\r\nif (value.isNull()) return std::nullopt;\r\n...\r\nif (value.IsNum()) return value.getValStr();\r\nreturn value.get_str();",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T09:22:46Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903501033",
      "id" : 903501033,
      "line" : 637,
      "node_id" : "PRRC_kwDOABII58412lTp",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 637,
      "original_position" : 27,
      "original_start_line" : 627,
      "path" : "src/util/system.cpp",
      "position" : 27,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501033/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 627,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501033",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903501198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501198"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T09:22:55Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903501198",
      "id" : 903501198,
      "line" : 668,
      "node_id" : "PRRC_kwDOABII58412lWO",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 668,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 60,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501198/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903501198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903503790"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903503790"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same. Also any reason to use `if` above, but `?+std::make_optional` here?\r\n\r\n```cpp\r\nif (value.isNull()) return std::nullopt;\r\nif (value.isBool()) return value.get_bool();\r\nreturn InterpretBool(...);",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T09:25:21Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }\n }\n \n int64_t SettingToInt(const util::SettingsValue& value, int64_t nDefault)\n {\n-    return value.isNull() ? nDefault : value.isFalse() ? 0 : value.isTrue() ? 1 : value.isNum() ? value.getInt<int64_t>() : LocaleIndependentAtoi<int64_t>(value.get_str());\n+    return SettingToInt(value).value_or(nDefault);\n }\n \n bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault) const\n+{\n+    return GetBoolArg(strArg).value_or(fDefault);\n+}\n+\n+std::optional<bool> ArgsManager::GetBoolArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToBool(value, fDefault);\n+    return SettingToBool(value);\n+}\n+\n+std::optional<bool> SettingToBool(const util::SettingsValue& value)\n+{\n+    return value.isNull() ? std::nullopt : std::make_optional(value.isBool() ? value.get_bool() : InterpretBool(value.get_str()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903503790",
      "id" : 903503790,
      "line" : 689,
      "node_id" : "PRRC_kwDOABII58412l-u",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 689,
      "original_position" : 83,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 83,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903503790/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903503790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903529958"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unrelated comment in 7e6d2d72368631b03d00c8fc7689a670ba92e4ac: \r\n\r\n* It is probably a bug that no argsmanager is set up. (any log messages should be muted, not accumulated and turned into an OOM when fuzzing for a long time)\r\n* Using `{{}}` seems fine.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T09:51:16Z",
      "diff_hunk" : "@@ -23,7 +24,7 @@ FUZZ_TARGET(rbf)\n     if (!mtx) {\n         return;\n     }\n-    CTxMemPool pool;\n+    CTxMemPool pool{{}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958",
      "id" : 903529958,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII58412sXm",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 27,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/test/fuzz/rbf.cpp",
      "position" : 13,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903529958/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903529958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903532071"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903532071"
         }
      },
      "author_association" : "MEMBER",
      "body" : "question in 7e6d2d72368631b03d00c8fc7689a670ba92e4ac: \r\n\r\nI think `{{}}` should also work here?\r\n\r\nIf not it might be good to mention in the commit message why this was chosen. Presumably the goal is to add the no-op argsman stuff here is that if settings are supplied in the future, they are not ignored.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T09:53:28Z",
      "diff_hunk" : "@@ -30,7 +32,10 @@ FUZZ_TARGET_INIT(validation_load_mempool, initialize_validation_load_mempool)\n     SetMockTime(ConsumeTime(fuzzed_data_provider));\n     FuzzedFileProvider fuzzed_file_provider = ConsumeFile(fuzzed_data_provider);\n \n-    CTxMemPool pool{};\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(*g_setup->m_node.args, mempool_opts);\n+    CTxMemPool pool{mempool_opts};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903532071",
      "id" : 903532071,
      "line" : 37,
      "node_id" : "PRRC_kwDOABII58412s4n",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 37,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/validation_load_mempool.cpp",
      "position" : 16,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903532071/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903532071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903536072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903536072"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac:\r\n\r\n> Applying command line options to tx_pool fuzz test appears to be a change in behavior that is only obliquely referenced in the commit message. Would be good to say up front how exactly behavior is supposed to be changing in the commit up front.\r\n\r\nI don't think this changes behaviour, as the argsman doesn't have any stuff set. (A config setting is only forced in `ChainTestingSetup`).\r\n\r\nI think the goal to add the no-op argsman stuff here is that if settings are supplied in the future, they are not ignored.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T09:56:58Z",
      "diff_hunk" : "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903536072",
      "id" : 903536072,
      "in_reply_to_id" : 900332212,
      "line" : 129,
      "node_id" : "PRRC_kwDOABII58412t3I",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 129,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 16,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903536072/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903536072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903544784"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903544784"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 8c81736608e05607d0d84a6edb7ef6b66e46857c:\r\n\r\nCould use `1'000'000`?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T10:06:10Z",
      "diff_hunk" : "@@ -10,4 +10,6 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903544784",
      "id" : 903544784,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII58412v_Q",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 14,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 5,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903544784/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903544784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903552020"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903552020"
         }
      },
      "author_association" : "MEMBER",
      "body" : "8c81736608e05607d0d84a6edb7ef6b66e46857c:\r\n\r\nI am not a fan of exposing this test-only method to normal code. What about removing it and allowing unit tests to modify `m_max_size_bytes` (or something like that)?\r\n\r\n(Note: GetMinFee is marked const, but actually a *setter* of the rolling fee",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T10:14:00Z",
      "diff_hunk" : "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903552020",
      "id" : 903552020,
      "line" : 710,
      "node_id" : "PRRC_kwDOABII58412xwU",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 709,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 16,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903552020/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903552020",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903554269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903554269"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit 8c81736608e05607d0d84a6edb7ef6b66e46857c: Maybe use a `int64_t(...)` cast if a cast is needed?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T10:16:25Z",
      "diff_hunk" : "@@ -657,9 +657,8 @@ UniValue MempoolInfoToJSON(const CTxMemPool& pool)\n     ret.pushKV(\"bytes\", (int64_t)pool.GetTotalTxSize());\n     ret.pushKV(\"usage\", (int64_t)pool.DynamicMemoryUsage());\n     ret.pushKV(\"total_fee\", ValueFromAmount(pool.GetTotalFee()));\n-    int64_t maxmempool{gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000};\n-    ret.pushKV(\"maxmempool\", maxmempool);\n-    ret.pushKV(\"mempoolminfee\", ValueFromAmount(std::max(pool.GetMinFee(maxmempool), ::minRelayTxFee).GetFeePerK()));\n+    ret.pushKV(\"maxmempool\", (int64_t)pool.m_max_size_bytes);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903554269",
      "id" : 903554269,
      "line" : 660,
      "node_id" : "PRRC_kwDOABII58412yTd",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 660,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 7,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903554269/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903554269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903579169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903579169"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in https://github.com/bitcoin/bitcoin/commit/8c81736608e05607d0d84a6edb7ef6b66e46857c: `1'000'000`?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T10:41:00Z",
      "diff_hunk" : "@@ -18,6 +23,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     /* The ratio used to determine how often sanity checks will run.  */\n     int check_ratio = 0;\n+    size_t max_size_bytes = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903579169",
      "id" : 903579169,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII584124Yh",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 26,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 18,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903579169/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903579169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903597129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903597129"
         }
      },
      "author_association" : "MEMBER",
      "body" : "chainstatemanager_opts.h is located in `kernel/`, but this not. why?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:02:27Z",
      "diff_hunk" : "@@ -178,6 +178,9 @@ BITCOIN_CORE_H = \\\n   logging.h \\\n   logging/timer.h \\\n   mapport.h \\\n+  mempool_args.h \\\n+  mempool_limits.h \\\n+  mempool_options.h \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903597129",
      "id" : 903597129,
      "line" : 183,
      "node_id" : "PRRC_kwDOABII584128xJ",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 183,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : 6,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903597129/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903597129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903607265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903607265"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 6843403a15cab34bc4e1e7acf7a0e509a2d437df:\r\n\r\n```suggestion\r\n    if (auto cnt = argsman.GetIntArg(\"-limitancestorcount\") mempool_limits.ancestor_count = *cnt;\r\n```\r\n\r\nAny reason to use a different style for those, when it is less code to keep the style consistent with the other parsing?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:13:40Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903607265",
      "id" : 903607265,
      "line" : 13,
      "node_id" : "PRRC_kwDOABII58412_Ph",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 13,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 13,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903607265/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903607265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903608166"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903608166"
         }
      },
      "author_association" : "MEMBER",
      "body" : "same nit:\r\n\r\n```suggestion\r\n    if (auto ratio = argsman.GetIntArg(\"-checkmempool\") mempool_opts.check_ratio = *ratio;\r\n```",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:14:48Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitancestorsize\")) mempool_limits.ancestor_size_vbytes = *vkb * 1000;\n+\n+    mempool_limits.descendant_count = argsman.GetIntArg(\"-limitdescendantcount\", mempool_limits.descendant_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitdescendantsize\")) mempool_limits.descendant_size_vbytes = *vkb * 1000;\n+}\n+}\n+\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n+{\n+    mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903608166",
      "id" : 903608166,
      "line" : 25,
      "node_id" : "PRRC_kwDOABII58412_dm",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 25,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 25,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903608166/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903608166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903614723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903614723"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in b810f102c47c61f276ffa2f9a78a3b86ad5a88b8 for less code:\r\n\r\n```suggestion\r\n            const CTxMemPool::Limits default_limits{};\r\n            \r\n            const CTxMemPool::Limits& limits{m_node.mempool?m_node.mempool->m_limits:default_limits};\r\n            limit_ancestor_count = limits.ancestor_count;\r\n            limit_descendant_count = limits.descendant_count;\r\n```",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:21:40Z",
      "diff_hunk" : "@@ -653,24 +654,28 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        if (!m_node.mempool) {\n+            const CTxMemPool::Limits limits{};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        } else {\n+            const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903614723",
      "id" : 903614723,
      "line" : 665,
      "node_id" : "PRRC_kwDOABII58413BED",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 665,
      "original_position" : 22,
      "original_start_line" : 657,
      "path" : "src/node/interfaces.cpp",
      "position" : 22,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903614723/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 657,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903614723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903617180"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903617180"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65 : forgot to remove this?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:24:34Z",
      "diff_hunk" : "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903617180",
      "id" : 903617180,
      "line" : 934,
      "node_id" : "PRRC_kwDOABII58413Bqc",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 934,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 3,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903617180/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903617180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903619629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903619629"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65:\r\n\r\nthis doesn't work. You can't parse a signed integer and assign it to an unsigned type, then use `< 0` to check if it originally was negative.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:26:56Z",
      "diff_hunk" : "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903619629",
      "id" : 903619629,
      "line" : 1435,
      "node_id" : "PRRC_kwDOABII58413CQt",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 1435,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903619629/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903619629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903620266"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903620266"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65: Maybe use `1'000'000.0` (not sure if that compiles?)",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:27:42Z",
      "diff_hunk" : "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(descendant_limit_bytes / 1000000.0)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903620266",
      "id" : 903620266,
      "line" : 1436,
      "node_id" : "PRRC_kwDOABII58413Caq",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 1436,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 18,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903620266/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903620266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903623969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903623969"
         }
      },
      "author_association" : "MEMBER",
      "body" : "167076739f02ddcf754200b378d504d320d0ff22:\r\n\r\nInstead of exporting this, what about exporting a function that calculates the path?\r\n\r\n```\r\nfs::path FeeestPath(ArgsManager&);\r\n```\r\n\r\nSo caller could call `FeeestPath(gArgs)` instead of `gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME`",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:32:04Z",
      "diff_hunk" : "@@ -19,6 +20,8 @@\n #include <string>\n #include <vector>\n \n+extern const char* FEE_ESTIMATES_FILENAME;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903623969",
      "id" : 903623969,
      "line" : 23,
      "node_id" : "PRRC_kwDOABII58413DUh",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 23,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/policy/fees.h",
      "position" : 12,
      "pull_request_review_id" : 1014832386,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903623969/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:34:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903623969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903632309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903632309"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For all commits: Any reason to not use `{}` over `=` in this struct for C++11 member inits?",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T11:39:19Z",
      "diff_hunk" : "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903632309",
      "id" : 903632309,
      "line" : 29,
      "node_id" : "PRRC_kwDOABII58413FW1",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : 29,
      "pull_request_review_id" : 1015020076,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903632309/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T11:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903632309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903790214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903790214"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Okay, as the PR currently stands there are a few other integral type changes. Given that they're somewhat tricky to reason about (overflows and such), I'm going to revert them to their original types and leave the changing for other PRs.\r\n\r\nAs for this specific one... It seems that we take `ancestor_size_limit` as `uint64_t` in most `CTxMemPool` function declarations, `unsigned int` in interface, and `size_t` in `MemPoolAccept`. Not exactly sure which one to choose for `MemPoolOptions`...",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T14:04:17Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903790214",
      "id" : 903790214,
      "in_reply_to_id" : 902955883,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII58413r6G",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : 20,
      "pull_request_review_id" : 1015244220,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903790214/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-22T14:10:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903790214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903813442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903813442"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I also think using `if` makes the code clearer and more readable.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-22T14:21:56Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }\n }\n \n int64_t SettingToInt(const util::SettingsValue& value, int64_t nDefault)\n {\n-    return value.isNull() ? nDefault : value.isFalse() ? 0 : value.isTrue() ? 1 : value.isNum() ? value.getInt<int64_t>() : LocaleIndependentAtoi<int64_t>(value.get_str());\n+    return SettingToInt(value).value_or(nDefault);\n }\n \n bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault) const\n+{\n+    return GetBoolArg(strArg).value_or(fDefault);\n+}\n+\n+std::optional<bool> ArgsManager::GetBoolArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToBool(value, fDefault);\n+    return SettingToBool(value);\n+}\n+\n+std::optional<bool> SettingToBool(const util::SettingsValue& value)\n+{\n+    return value.isNull() ? std::nullopt : std::make_optional(value.isBool() ? value.get_bool() : InterpretBool(value.get_str()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903813442",
      "id" : 903813442,
      "in_reply_to_id" : 903503790,
      "line" : 689,
      "node_id" : "PRRC_kwDOABII58413xlC",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 689,
      "original_position" : 83,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 83,
      "pull_request_review_id" : 1015278025,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903813442/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T14:21:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903813442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904425171"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904425171"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I don't think this changes behaviour, as the argsman doesn't have any stuff set. (A config setting is only forced in `ChainTestingSetup`).\r\n\r\nYou're right. I was misinterpreting a comment about the other fuzz test in the commit description, thinking it applied to this test. I thought that options passed to the fuzzer would be ignored previously and now applied. But now I notice `SetMempoolConstraints` setting argsman options above, so I think this is exactly preserving existing behavior.\r\n\r\nStill would be nice if commit said explicitly if it's not intended to change behavior or is intended to change something. Easier to check if code matches intent than to work backwards and figure out what intent is supposed to be.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T00:48:01Z",
      "diff_hunk" : "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904425171",
      "id" : 904425171,
      "in_reply_to_id" : 900332212,
      "line" : 129,
      "node_id" : "PRRC_kwDOABII58416G7T",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 129,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 16,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904425171/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904425171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904428190"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904428190"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> If not it might be good to mention in the commit message why this was chosen. Presumably the goal is to add the no-op argsman stuff here is that if settings are supplied in the future, they are not ignored.\r\n\r\nAgree it would be good to document, but I think it would be preferable to say in a code comment instead of a commit message if you're explaining reasoning behind code, so people reading the code can see the explanation.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T00:55:56Z",
      "diff_hunk" : "@@ -30,7 +32,10 @@ FUZZ_TARGET_INIT(validation_load_mempool, initialize_validation_load_mempool)\n     SetMockTime(ConsumeTime(fuzzed_data_provider));\n     FuzzedFileProvider fuzzed_file_provider = ConsumeFile(fuzzed_data_provider);\n \n-    CTxMemPool pool{};\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(*g_setup->m_node.args, mempool_opts);\n+    CTxMemPool pool{mempool_opts};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904428190",
      "id" : 904428190,
      "in_reply_to_id" : 903532071,
      "line" : 37,
      "node_id" : "PRRC_kwDOABII58416Hqe",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 37,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/validation_load_mempool.cpp",
      "position" : 16,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904428190/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904428190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904437939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904437939"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Already reported here : https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902827767, get caught as a compilation warning.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-23T01:21:49Z",
      "diff_hunk" : "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904437939",
      "id" : 904437939,
      "in_reply_to_id" : 903619629,
      "line" : 1435,
      "node_id" : "PRRC_kwDOABII58416KCz",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 1435,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 1016225066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904437939/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T01:21:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904437939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904529037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904529037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "To solve, it would either need to be cast back with `int64_t(...) < 0` or the type changed.",
      "commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "created_at" : "2022-06-23T05:20:36Z",
      "diff_hunk" : "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r904529037",
      "id" : 904529037,
      "in_reply_to_id" : 903619629,
      "line" : 1435,
      "node_id" : "PRRC_kwDOABII58416gSN",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 1435,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 1016345755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904529037/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T05:20:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/904529037",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905228991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905228991"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (7e6d2d72368631b03d00c8fc7689a670ba92e4ac)\r\n\r\nMaybe would be good to mention this is intentionally ignoring chainparams.DefaultConsistencyChecks(), and always enabling checking regardless of current network for test purposes.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T16:21:19Z",
      "diff_hunk" : "@@ -161,7 +164,12 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n     m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n-    m_node.mempool = std::make_unique<CTxMemPool>(m_node.fee_estimator.get(), m_node.args->GetIntArg(\"-checkmempool\", 1));\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) m_node.fee_estimator.get(),\n+        Desig(check_ratio) 1,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905228991",
      "id" : 905228991,
      "line" : 169,
      "node_id" : "PRRC_kwDOABII58419LK_",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 169,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : 26,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905228991/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905228991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905239669"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905239669"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (7e6d2d72368631b03d00c8fc7689a670ba92e4ac)\r\n\r\nThis seems ok, but maybe later it would be better to use `const TestingSetup* g_setup;` pattern and `g_setup->m_node->mempool` to use a mempool that has check_ratio enabled (and has the muted log messages)",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T16:32:17Z",
      "diff_hunk" : "@@ -23,7 +24,7 @@ FUZZ_TARGET(rbf)\n     if (!mtx) {\n         return;\n     }\n-    CTxMemPool pool;\n+    CTxMemPool pool{{}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905239669",
      "id" : 905239669,
      "in_reply_to_id" : 903529958,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII58419Nx1",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 27,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/test/fuzz/rbf.cpp",
      "position" : 13,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905239669/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905239669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905244054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905244054"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (7e6d2d72368631b03d00c8fc7689a670ba92e4ac)\r\n\r\nAny idea why this test is creating separate mempools instead of using `g_setup->m_node->mempool`? If there's a reason, would be good to mention in a code comment.\r\n\r\nI guess same question also applies to the other `validation_load_mempool.cpp` fuzz test below",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T16:37:16Z",
      "diff_hunk" : "@@ -142,7 +152,7 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     // The sum of the values of all spendable outpoints\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n-    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\n+    CTxMemPool tx_pool_{MakeMempool(*node.args)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905244054",
      "id" : 905244054,
      "line" : 156,
      "node_id" : "PRRC_kwDOABII58419O2W",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 156,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 30,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905244054/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905244054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905260891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905260891"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r902939657\r\n\r\n> Do you mean something like below?\r\n\r\nNot really, I'm suggesting existing `CalculateMemPoolAncestors` method could to be changed to take fewer parameters, not that a wrapper could be added around it taking fewer parameters. Even if callers don't already have the struct they could pass a struct literal and parameter list would be better organized. Not very important though.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T16:56:40Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905260891",
      "id" : 905260891,
      "in_reply_to_id" : 900409517,
      "line" : 673,
      "node_id" : "PRRC_kwDOABII58419S9b",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 673,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 34,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905260891/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905260891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905273518"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905273518"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Introduce (still-unused) MemPoolLimits\" (6843403a15cab34bc4e1e7acf7a0e509a2d437df)\r\n\r\nMight be good to document these members using documentation that is deleted in later commit \"mempool: Use m_limit for UpdateTransactionsFromBlock\" (7375ec6b6ada8f45b585f272ab20f1b9c1328ed6). Like for \"The maximum allowed number of transactions including the entry and its ancestors\" interesting to know the count is inclusive.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T17:11:39Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905273518",
      "id" : 905273518,
      "line" : 16,
      "node_id" : "PRRC_kwDOABII58419WCu",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 16,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/mempool_limits.h",
      "position" : 16,
      "pull_request_review_id" : 1016207144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905273518/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T17:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905273518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384793"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384793"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of fc02f77ca6",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:29:04Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384793",
      "id" : 905384793,
      "in_reply_to_id" : 903501033,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xNZ",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 637,
      "original_position" : 27,
      "original_start_line" : 627,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1017538221,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384793/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-23T19:29:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of fc02f77ca6",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:29:11Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384862",
      "id" : 905384862,
      "in_reply_to_id" : 903501198,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xOe",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 668,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1017538328,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384862/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:29:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384921"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384921"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of fc02f77ca6",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:29:16Z",
      "diff_hunk" : "@@ -612,36 +612,86 @@ bool ArgsManager::IsArgNegated(const std::string& strArg) const\n }\n \n std::string ArgsManager::GetArg(const std::string& strArg, const std::string& strDefault) const\n+{\n+    return GetArg(strArg).value_or(strDefault);\n+}\n+\n+std::optional<std::string> ArgsManager::GetArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToString(value, strDefault);\n+    return SettingToString(value);\n+}\n+\n+std::optional<std::string> SettingToString(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return \"0\";\n+    } else if (value.isTrue()) {\n+        return \"1\";\n+    } else if (value.isNum()) {\n+        return value.getValStr();\n+    } else {\n+        return value.get_str();\n+    }\n }\n \n std::string SettingToString(const util::SettingsValue& value, const std::string& strDefault)\n {\n-    return value.isNull() ? strDefault : value.isFalse() ? \"0\" : value.isTrue() ? \"1\" : value.isNum() ? value.getValStr() : value.get_str();\n+    return SettingToString(value).value_or(strDefault);\n }\n \n int64_t ArgsManager::GetIntArg(const std::string& strArg, int64_t nDefault) const\n+{\n+    return GetIntArg(strArg).value_or(nDefault);\n+}\n+\n+std::optional<int64_t> ArgsManager::GetIntArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToInt(value, nDefault);\n+    return SettingToInt(value);\n+}\n+\n+std::optional<int64_t> SettingToInt(const util::SettingsValue& value)\n+{\n+    if (value.isNull()) {\n+        return std::nullopt;\n+    } else if (value.isFalse()) {\n+        return 0;\n+    } else if (value.isTrue()) {\n+        return 1;\n+    } else if (value.isNum()) {\n+        return value.getInt<int64_t>();\n+    } else {\n+        return LocaleIndependentAtoi<int64_t>(value.get_str());\n+    }\n }\n \n int64_t SettingToInt(const util::SettingsValue& value, int64_t nDefault)\n {\n-    return value.isNull() ? nDefault : value.isFalse() ? 0 : value.isTrue() ? 1 : value.isNum() ? value.getInt<int64_t>() : LocaleIndependentAtoi<int64_t>(value.get_str());\n+    return SettingToInt(value).value_or(nDefault);\n }\n \n bool ArgsManager::GetBoolArg(const std::string& strArg, bool fDefault) const\n+{\n+    return GetBoolArg(strArg).value_or(fDefault);\n+}\n+\n+std::optional<bool> ArgsManager::GetBoolArg(const std::string& strArg) const\n {\n     const util::SettingsValue value = GetSetting(strArg);\n-    return SettingToBool(value, fDefault);\n+    return SettingToBool(value);\n+}\n+\n+std::optional<bool> SettingToBool(const util::SettingsValue& value)\n+{\n+    return value.isNull() ? std::nullopt : std::make_optional(value.isBool() ? value.get_bool() : InterpretBool(value.get_str()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905384921",
      "id" : 905384921,
      "in_reply_to_id" : 903503790,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xPZ",
      "original_commit_id" : "a64c96f861d2d2658704085d42463ab03b1e6350",
      "original_line" : 689,
      "original_position" : 83,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1017538407,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384921/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:29:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905384921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385410"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385410"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of 468ee5b9a8",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:29:56Z",
      "diff_hunk" : "@@ -10,4 +10,6 @@\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385410",
      "id" : 905385410,
      "in_reply_to_id" : 903544784,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xXC",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 14,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : null,
      "pull_request_review_id" : 1017539112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385410/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:29:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385523"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of 468ee5b9a8",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:30:05Z",
      "diff_hunk" : "@@ -18,6 +23,7 @@ struct MemPoolOptions {\n     CBlockPolicyEstimator* const estimator = nullptr;\n     /* The ratio used to determine how often sanity checks will run.  */\n     int check_ratio = 0;\n+    size_t max_size_bytes = DEFAULT_MAX_MEMPOOL_SIZE_MB * 1000000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385523",
      "id" : 905385523,
      "in_reply_to_id" : 903579169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xYz",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 26,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1017539270,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385523/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:30:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385701"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385701"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of d669b93469",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:30:19Z",
      "diff_hunk" : "@@ -653,24 +654,28 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        if (!m_node.mempool) {\n+            const CTxMemPool::Limits limits{};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        } else {\n+            const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+            limit_ancestor_count = limits.ancestor_count;\n+            limit_descendant_count = limits.descendant_count;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385701",
      "id" : 905385701,
      "in_reply_to_id" : 903614723,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xbl",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 665,
      "original_position" : 22,
      "original_start_line" : 657,
      "path" : "src/node/interfaces.cpp",
      "position" : null,
      "pull_request_review_id" : 1017539516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385701/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-23T19:30:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385701",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385834"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of a956afedfe",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:30:31Z",
      "diff_hunk" : "@@ -932,10 +932,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     }\n \n     // mempool limits",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905385834",
      "id" : 905385834,
      "in_reply_to_id" : 903617180,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xdq",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 934,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1017539730,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385834/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:30:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905385834",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905386083"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905386083"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It does! Fixed as of a956afedfe",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:30:53Z",
      "diff_hunk" : "@@ -1434,6 +1430,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    size_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;\n+    if (mempool_opts.max_size_bytes < 0 || mempool_opts.max_size_bytes < descendant_limit_bytes) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(descendant_limit_bytes / 1000000.0)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905386083",
      "id" : 905386083,
      "in_reply_to_id" : 903620266,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419xhj",
      "original_commit_id" : "7e90c69f1be6f8ba52e1f24b983379d00aad2f65",
      "original_line" : 1436,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1017540107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905386083/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:30:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905386083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905396148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905396148"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nope! Is `{}` preferred?",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:45:06Z",
      "diff_hunk" : "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905396148",
      "id" : 905396148,
      "in_reply_to_id" : 903632309,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58419z-0",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1017554764,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905396148/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905396148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398043"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I wanted to make visually clear the cases where we directly use the `ArgsMan` arg in `CTxMemPool::Options` and which cases get transformed before getting set in `CTxMemPool::Options`. However, I don't feel strongly so let me know if you prefer the consistency instead!",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:47:43Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398043",
      "id" : 905398043,
      "in_reply_to_id" : 903607265,
      "line" : 13,
      "node_id" : "PRRC_kwDOABII584190cb",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 13,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 13,
      "pull_request_review_id" : 1017557527,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398043/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:47:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398130"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398130"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "See https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398043",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:47:50Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitancestorsize\")) mempool_limits.ancestor_size_vbytes = *vkb * 1000;\n+\n+    mempool_limits.descendant_count = argsman.GetIntArg(\"-limitdescendantcount\", mempool_limits.descendant_count);\n+\n+    if (auto vkb = argsman.GetIntArg(\"-limitdescendantsize\")) mempool_limits.descendant_size_vbytes = *vkb * 1000;\n+}\n+}\n+\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n+{\n+    mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905398130",
      "id" : 905398130,
      "in_reply_to_id" : 903608166,
      "line" : 25,
      "node_id" : "PRRC_kwDOABII584190dy",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 25,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 25,
      "pull_request_review_id" : 1017557667,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398130/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:47:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905398130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905402508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905402508"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems that only the version of `GetMinFee` with a custom size limit is test-only... Perhaps we make that version protected in `CTxMemPool` and have the tests use a:\r\n\r\n```cpp\r\nclass CMemPoolTest : public CTxMemPool\r\n{\r\npublic:\r\n    using CTxMemPool::GetMinFee;\r\n};\r\n```\r\n\r\nOr did you have something else in mind? I'm hoping it's just a small change here since it's already existing behaviour...",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-23T19:53:56Z",
      "diff_hunk" : "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905402508",
      "id" : 905402508,
      "in_reply_to_id" : 903552020,
      "line" : 710,
      "node_id" : "PRRC_kwDOABII584191iM",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 710,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 64,
      "pull_request_review_id" : 1017563969,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905402508/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-23T19:53:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905402508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905844443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905844443"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`class MemPoolTest` sounds fine",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-24T08:32:08Z",
      "diff_hunk" : "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905844443",
      "id" : 905844443,
      "in_reply_to_id" : 903552020,
      "line" : 710,
      "node_id" : "PRRC_kwDOABII5841_hbb",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 710,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 64,
      "pull_request_review_id" : 1018162428,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905844443/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-24T08:32:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905844443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905845900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905845900"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't care too much. My suggestion uses less code, but this is only a style nit.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-24T08:33:57Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <mempool_args.h>\n+\n+#include <mempool_options.h>\n+#include <util/system.h>\n+\n+namespace {\n+void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolLimits& mempool_limits)\n+{\n+    mempool_limits.ancestor_count = argsman.GetIntArg(\"-limitancestorcount\", mempool_limits.ancestor_count);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905845900",
      "id" : 905845900,
      "in_reply_to_id" : 903607265,
      "line" : 13,
      "node_id" : "PRRC_kwDOABII5841_hyM",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 13,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 13,
      "pull_request_review_id" : 1018164540,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905845900/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-24T08:33:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905845900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905847287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905847287"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, for new code it is preferred style. `{}` has narrowing warnings enabled, as opposed to `=` or `()`, which do not.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-24T08:35:37Z",
      "diff_hunk" : "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r905847287",
      "id" : 905847287,
      "in_reply_to_id" : 903632309,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841_iH3",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1018166511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905847287/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-24T08:35:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/905847287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906180247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906180247"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It was a bit hard for me to discern the original intent here, so this is definitely something we want to look into. From what I can tell, we're allowing the CoinsView to use some of mempool's memory quota when the mempool's memory usage is low? Perhaps @jamesob can shed some light on this logic and help determine what the best solution is here.",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-24T15:35:58Z",
      "diff_hunk" : "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906180247",
      "id" : 906180247,
      "in_reply_to_id" : 900378684,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842AzaX",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 2287,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1018651953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906180247/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-24T15:35:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906180247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906215658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906215658"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is required for all fuzz tests since the `initialize` function is run once but the body is run multiple times. Using `g_setup->m_node->mempool` would mean that mempool state would persist between runs. So we have to set up a fresh mempool each time.\r\n\r\nDo you think we should put in a comment along the lines of: \"Use a local mempool instead of g_setup's so that mempool state does not persist across runs\"?",
      "commit_id" : "468ee5b9a8cd4d3ec5baeb9aa89abe0ff920b7cd",
      "created_at" : "2022-06-24T16:21:29Z",
      "diff_hunk" : "@@ -142,7 +152,7 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     // The sum of the values of all spendable outpoints\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n-    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\n+    CTxMemPool tx_pool_{MakeMempool(*node.args)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906215658",
      "id" : 906215658,
      "in_reply_to_id" : 905244054,
      "line" : 156,
      "node_id" : "PRRC_kwDOABII5842A8Dq",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 156,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 30,
      "pull_request_review_id" : 1018702494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906215658/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-24T16:21:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906215658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm having some challenges with using `int64_t` vs `size_t` for `CTxMemPool::Options::max_size_bytes`. From my cursory reading, it seems like overflow of signed integral types are UB, so I'm not sure what the first check here is doing:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/1da1c0dd66265b6a610bf6c21bf2090910cb4fb3/src/init.cpp#L934\r\n\r\nIs it to somehow catch the platforms where the apparent behaviour is to wrap around to negative when signed integral types overflow? That doesn't seem right to me and I'm likely missing something.\r\n\r\nIn my mind, ideally we would eventually have `ApplyArgsManOptions` check that the command line arguments that require multiplication fit within their destination integral types after multiplication. This is a safety check that's not done even prior to this PR.\r\n\r\nThere's also the fact that prior to this PR, `-maxmempool` was passed to many functions as `size_t`, which could have underflowed...\r\n\r\nGiven that this PR is already a little bloaty, how about this: we use `int64_t` wherever we replace `GetIntArg` for now, which will make sure that there's no unintentional behaviour change, and we follow up with a PR adding bounds checked multiplication in `ApplyArgsManOptions` and propagate errors up?",
      "created_at" : "2022-06-24T21:23:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1165951176",
      "id" : 1165951176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FfwDI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165951176/reactions"
      },
      "updated_at" : "2022-06-24T21:25:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165951176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906420329"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906420329"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "See: https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1165951176",
      "commit_id" : "7a84706e5bc6e92f456b1f18948d029d9dfb99f6",
      "created_at" : "2022-06-24T21:26:11Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r906420329",
      "id" : 906420329,
      "in_reply_to_id" : 902955883,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842BuBp",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : null,
      "pull_request_review_id" : 1018998568,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906420329/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-24T21:26:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906420329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> so I'm not sure what the first check here is doing:\r\n\r\nIt is simply checking that the mempool is at least +4MB. It doesn't check for overflow or truncation later on, which can still happen. If you want to fix that, sounds good, but I'd say it is not required.\r\n\r\nin b61080b1993c10d953352701a54067955ca7401b: Please add a ***not***, see my original comment, which does have a \"not\": https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958\r\n\r\nre-ACK 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5 ð¥\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5 ð¥\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjuagwAsUkOT4dLcniGY3SR8K3PuOKlb4e3U6wMnwfNERnevJKXF89YraytloFJ\r\nQlLm6TEK9RM1NYwSApTwngC8hQIjc6uxS/JotfxrsZUJn529Njdw1jbi2Ecz/STY\r\nEaBODMg8hWBecn+RNzYTN/oRrqBg1MK0tPDyIX+3HbQ/CjpbnWsdjRS1habaikEi\r\nzQ21Xh7rvlRzDViA9pbevkQEHSNFItDoGVn4SdLpZbSV21AcsfO9y/g9iF0YjyJm\r\nByyHO08HE9FJr+S8JwXNPXHsqANPGnNTk+gtkzZIq3STD4mv9asIGFeS2IhGXM3Y\r\nmCDsPQLYAqbMEvZdsM5icazI1uHthYR4V1HgmJivQvW9e+yvptuOP1uDXCw/n7dZ\r\n52YY8hvE5gAY1NTukSJ9o3PZ3H6ijXIHyoFMwwma+wEu5aAlrm/L4l31xTQKmf/0\r\n9bq2t+DRey/ZwTN4oILdt27xorSdIfW6Vvz6c8tbD4SGs9CA6LTBnGt//4Dte2qG\r\neL+dryIC\r\n=vFr5\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "created_at" : "2022-06-27T10:23:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167172152",
      "id" : 1167172152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FkaI4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167172152/reactions"
      },
      "updated_at" : "2022-06-27T10:23:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167172152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907228336"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228336"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Closing as resolved",
      "commit_id" : "7e4f61b2901c8e1506a7b3246a4518e2aa4061f5",
      "created_at" : "2022-06-27T10:25:37Z",
      "diff_hunk" : "@@ -0,0 +1,37 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_OPTIONS_H\n+#define BITCOIN_MEMPOOL_OPTIONS_H\n+\n+#include <mempool_limits.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <cstdint>\n+\n+class CBlockPolicyEstimator;\n+\n+/** Default for -maxmempool, maximum megabytes of mempool memory usage */\n+static constexpr unsigned int DEFAULT_MAX_MEMPOOL_SIZE_MB{300};\n+/** Default for -mempoolexpiry, expiration time for mempool transactions in hours */\n+static constexpr unsigned int DEFAULT_MEMPOOL_EXPIRY_HOURS{336};\n+\n+/**\n+ * Options struct containing options for constructing a CTxMemPool. Default\n+ * constructor populates the struct with sane default values which can be\n+ * modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Options.\n+ */\n+struct MemPoolOptions {\n+    /* Used to estimate appropriate transaction fees. */\n+    CBlockPolicyEstimator* const estimator = nullptr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907228336",
      "id" : 907228336,
      "in_reply_to_id" : 903632309,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842EzSw",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/mempool_options.h",
      "position" : null,
      "pull_request_review_id" : 1019962474,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228336/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T10:25:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907228448"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228448"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Closing as resolved",
      "commit_id" : "7e4f61b2901c8e1506a7b3246a4518e2aa4061f5",
      "created_at" : "2022-06-27T10:25:44Z",
      "diff_hunk" : "@@ -19,6 +20,8 @@\n #include <string>\n #include <vector>\n \n+extern const char* FEE_ESTIMATES_FILENAME;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907228448",
      "id" : 907228448,
      "in_reply_to_id" : 903623969,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842EzUg",
      "original_commit_id" : "167076739f02ddcf754200b378d504d320d0ff22",
      "original_line" : 23,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/policy/fees.h",
      "position" : null,
      "pull_request_review_id" : 1019962647,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228448/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T10:25:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907228448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907229787"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907229787"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Closing as resolved",
      "commit_id" : "7e4f61b2901c8e1506a7b3246a4518e2aa4061f5",
      "created_at" : "2022-06-27T10:27:16Z",
      "diff_hunk" : "@@ -23,7 +24,7 @@ FUZZ_TARGET(rbf)\n     if (!mtx) {\n         return;\n     }\n-    CTxMemPool pool;\n+    CTxMemPool pool{{}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907229787",
      "id" : 907229787,
      "in_reply_to_id" : 903529958,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Ezpb",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 27,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/test/fuzz/rbf.cpp",
      "position" : null,
      "pull_request_review_id" : 1019964453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907229787/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T10:27:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907229787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907438710"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438710"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think as-written, this is the right behavior if no mempool exists. The argument passed here (see https://github.com/bitcoin/bitcoin/pull/16945/commits/b17e91d842724d2888a179a73585cc4c2ef1dc21#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R2203-R2204 for more context) ultimately just accounts for the fact that we repurpose \"extra\" mempool headroom for the coinscache (see https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L1425).",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T14:13:30Z",
      "diff_hunk" : "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907438710",
      "id" : 907438710,
      "in_reply_to_id" : 900378684,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Fmp2",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 2287,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1020269632,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438710/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T14:14:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907509842"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907509842"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"pool: Add and use MemPoolOptions, ApplyArgsManOptions\" (479807a5440660ded0932232a51280eabc1f6b7f)\r\n\r\nNote sure if this is intentional. The comment says \"override\" but this is just setting the same value. Ok if it is intentional ",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T15:21:43Z",
      "diff_hunk" : "@@ -121,6 +124,19 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+CTxMemPool MakeMempool(const NodeContext& node)\n+{\n+    // Take the default options for tests...\n+    CTxMemPool::Options mempool_opts{MemPoolOptionsForTest(node)};\n+\n+    // ...override specific options for this specific fuzz suite\n+    mempool_opts.estimator = nullptr;\n+    mempool_opts.check_ratio = 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907509842",
      "id" : 907509842,
      "line" : 134,
      "node_id" : "PRRC_kwDOABII5842F4BS",
      "original_commit_id" : "479807a5440660ded0932232a51280eabc1f6b7f",
      "original_line" : 134,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 28,
      "pull_request_review_id" : 1020371246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907509842/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T16:27:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907509842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907535652"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907535652"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"mempool: Pass in -maxmempool instead of referencing gArgs\" (1471293c698330354cd7c319c1a12b9c69c0dbdb)\r\n\r\nIMO, this function would be an ideal place to check `-maxmempool` is `>0`, let `MemPoolOptions::max_size_bytes` be a `size_t` instead of an `int64_t` so it matches the `CTxMemPool::m_max_size_bytes`, return an error string, and follow good general practice of handling errors early. As is, these checks are done separately in `src/init.cpp` though so lack of error checking here is not actually a bug",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T15:49:06Z",
      "diff_hunk" : "@@ -13,4 +13,6 @@ using kernel::MemPoolOptions;\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1'000'000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907535652",
      "id" : 907535652,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5842F-Uk",
      "original_commit_id" : "1471293c698330354cd7c319c1a12b9c69c0dbdb",
      "original_line" : 32,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 32,
      "pull_request_review_id" : 1020371246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907535652/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T16:27:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907535652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907665535"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907665535"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yup, absolutely agree. Added to project-wide TODOs.",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T18:11:49Z",
      "diff_hunk" : "@@ -13,4 +13,6 @@ using kernel::MemPoolOptions;\n void ApplyArgsManOptions(const ArgsManager& argsman, MemPoolOptions& mempool_opts)\n {\n     mempool_opts.check_ratio = argsman.GetIntArg(\"-checkmempool\", mempool_opts.check_ratio);\n+\n+    if (auto mb = argsman.GetIntArg(\"-maxmempool\")) mempool_opts.max_size_bytes = *mb * 1'000'000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907665535",
      "id" : 907665535,
      "in_reply_to_id" : 907535652,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5842GeB_",
      "original_commit_id" : "1471293c698330354cd7c319c1a12b9c69c0dbdb",
      "original_line" : 32,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/mempool_args.cpp",
      "position" : 32,
      "pull_request_review_id" : 1020593699,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907665535/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T18:11:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907665535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907672217"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907672217"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "For `.estimator`, it's overriding since `MemPoolOptionsForTest` would have set it.\r\nFor `.check_ratio`, yeah it's setting the same value, but it's essentially being explicit in case some day `MemPoolOptionsForTest` is changed.",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T18:20:10Z",
      "diff_hunk" : "@@ -121,6 +124,19 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+CTxMemPool MakeMempool(const NodeContext& node)\n+{\n+    // Take the default options for tests...\n+    CTxMemPool::Options mempool_opts{MemPoolOptionsForTest(node)};\n+\n+    // ...override specific options for this specific fuzz suite\n+    mempool_opts.estimator = nullptr;\n+    mempool_opts.check_ratio = 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907672217",
      "id" : 907672217,
      "in_reply_to_id" : 907509842,
      "line" : 134,
      "node_id" : "PRRC_kwDOABII5842GfqZ",
      "original_commit_id" : "479807a5440660ded0932232a51280eabc1f6b7f",
      "original_line" : 134,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : 28,
      "pull_request_review_id" : 1020603243,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907672217/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T18:20:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907672217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke \r\n\r\n> in [b61080b](https://github.com/bitcoin/bitcoin/commit/b61080b1993c10d953352701a54067955ca7401b): Please add a _**not**_, see my original comment, which does have a \"not\": [#25290 (comment)](https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903529958)\r\n\r\nð That is definitely my bad, fixed in latest push!",
      "created_at" : "2022-06-27T18:58:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167758807",
      "id" : 1167758807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FmpXX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167758807/reactions"
      },
      "updated_at" : "2022-06-27T18:58:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167758807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907705242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907705242"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed by making `mempool_opts.max_size_bytes` a `int64_t` to avoid an unintended change in behavior",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T18:59:53Z",
      "diff_hunk" : "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907705242",
      "id" : 907705242,
      "in_reply_to_id" : 901939358,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Gnua",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 1433,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1020649506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907705242/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T18:59:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907705242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907706332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907706332"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Made these `int64_t`s to avoid an unintended change in behavior. Added a project-wide TODO to have bounds checking in `ApplyArgsManOptions`",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:01:16Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {\n+    size_t ancestor_count = DEFAULT_ANCESTOR_LIMIT;\n+    size_t ancestor_size_vbytes = DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1000;\n+    size_t descendant_count = DEFAULT_DESCENDANT_LIMIT;\n+    size_t descendant_size_vbytes = DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1000;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907706332",
      "id" : 907706332,
      "in_reply_to_id" : 902955883,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Gn_c",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 20,
      "original_position" : 20,
      "original_start_line" : 17,
      "path" : "src/mempool_limits.h",
      "position" : null,
      "pull_request_review_id" : 1020651081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907706332/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-27T19:01:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907706332",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907707577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707577"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:02:45Z",
      "diff_hunk" : "@@ -161,7 +164,12 @@ ChainTestingSetup::ChainTestingSetup(const std::string& chainName, const std::ve\n     GetMainSignals().RegisterBackgroundSignalScheduler(*m_node.scheduler);\n \n     m_node.fee_estimator = std::make_unique<CBlockPolicyEstimator>();\n-    m_node.mempool = std::make_unique<CTxMemPool>(m_node.fee_estimator.get(), m_node.args->GetIntArg(\"-checkmempool\", 1));\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) m_node.fee_estimator.get(),\n+        Desig(check_ratio) 1,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907707577",
      "id" : 907707577,
      "in_reply_to_id" : 905228991,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842GoS5",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 169,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/test/util/setup_common.cpp",
      "position" : null,
      "pull_request_review_id" : 1020652786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707577/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:02:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907707798"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707798"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Closing, feel free to reopen if still a problem!",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:03:02Z",
      "diff_hunk" : "@@ -142,7 +152,7 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     // The sum of the values of all spendable outpoints\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n-    CTxMemPool tx_pool_{/*estimator=*/nullptr, /*check_ratio=*/1};\n+    CTxMemPool tx_pool_{MakeMempool(*node.args)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907707798",
      "id" : 907707798,
      "in_reply_to_id" : 905244054,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842GoWW",
      "original_commit_id" : "7e6d2d72368631b03d00c8fc7689a670ba92e4ac",
      "original_line" : 156,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : null,
      "pull_request_review_id" : 1020653114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707798/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:03:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907708286"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907708286"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done as of 5759f4af1f2e788de369c4998611bfb1bbf6a705",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:03:40Z",
      "diff_hunk" : "@@ -0,0 +1,23 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_MEMPOOL_LIMITS_H\n+#define BITCOIN_MEMPOOL_LIMITS_H\n+\n+#include <cstddef>\n+#include <policy/policy.h>\n+\n+/**\n+ * Options struct containing limit options for a CTxMemPool. Default constructor\n+ * populates the struct with sane default values which can be modified.\n+ *\n+ * Most of the time, this struct should be referenced as CTxMemPool::Limits.\n+ */\n+struct MemPoolLimits {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907708286",
      "id" : 907708286,
      "in_reply_to_id" : 905273518,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842God-",
      "original_commit_id" : "6843403a15cab34bc4e1e7acf7a0e509a2d437df",
      "original_line" : 16,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/mempool_limits.h",
      "position" : null,
      "pull_request_review_id" : 1020653818,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907708286/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:03:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907708286",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907709101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907709101"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:04:51Z",
      "diff_hunk" : "@@ -121,6 +123,14 @@ void MockTime(FuzzedDataProvider& fuzzed_data_provider, const CChainState& chain\n     SetMockTime(time);\n }\n \n+static inline CTxMemPool MakeMempool(const ArgsManager& argsman)\n+{\n+    CTxMemPool::Options mempool_opts{};\n+    ApplyArgsManOptions(argsman, mempool_opts);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907709101",
      "id" : 907709101,
      "in_reply_to_id" : 900332212,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Goqt",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 129,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/tx_pool.cpp",
      "position" : null,
      "pull_request_review_id" : 1020655077,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907709101/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:04:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907709101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907710360"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710360"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the help James! ð",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:06:35Z",
      "diff_hunk" : "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907710360",
      "id" : 907710360,
      "in_reply_to_id" : 900378684,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Go-Y",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 2287,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1020656913,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710360/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:06:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907711107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907711107"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of 4846995a06ee1886693f096f17cce6005b3cf796",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:07:38Z",
      "diff_hunk" : "@@ -22,7 +22,7 @@ FUZZ_TARGET_INIT(policy_estimator_io, initialize_policy_estimator_io)\n     FuzzedAutoFileProvider fuzzed_auto_file_provider = ConsumeAutoFile(fuzzed_data_provider);\n     CAutoFile fuzzed_auto_file = fuzzed_auto_file_provider.open();\n     // Re-using block_policy_estimator across runs to avoid costly creation of CBlockPolicyEstimator object.\n-    static CBlockPolicyEstimator block_policy_estimator;\n+    static CBlockPolicyEstimator block_policy_estimator{gArgs.GetDataDirNet() / FEE_ESTIMATES_FILENAME};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907711107",
      "id" : 907711107,
      "in_reply_to_id" : 900433731,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842GpKD",
      "original_commit_id" : "c98d5f1744dc3beed116ff708e3d4d8dcfe53eae",
      "original_line" : 25,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator_io.cpp",
      "position" : null,
      "pull_request_review_id" : 1020658005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907711107/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:07:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907711107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907712185"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907712185"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is a fine idea but out of the scope of this PR, adding to project-wide TODOs!",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:09:03Z",
      "diff_hunk" : "@@ -1426,10 +1429,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907712185",
      "id" : 907712185,
      "in_reply_to_id" : 900272797,
      "line" : 1431,
      "node_id" : "PRRC_kwDOABII5842Gpa5",
      "original_commit_id" : "c318c982f62610d1c937ab803346307d5458f877",
      "original_line" : 1431,
      "original_position" : 28,
      "original_start_line" : 1435,
      "path" : "src/init.cpp",
      "position" : 97,
      "pull_request_review_id" : 1020659530,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907712185/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1428,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-27T19:09:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907712185",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907713498"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907713498"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "See: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907712185",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:10:46Z",
      "diff_hunk" : "@@ -1434,6 +1430,9 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+    if (mempool_opts.max_size < 0 || mempool_opts.max_size < mempool_opts.limits.descendant_size) {\n+        return InitError(strprintf(_(\"-maxmempool must be at least %d MB\"), std::ceil(mempool_opts.limits.descendant_size / 1000000.0)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907713498",
      "id" : 907713498,
      "in_reply_to_id" : 900420112,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Gpva",
      "original_commit_id" : "efcbd12767d87b33b6c6deb86d441292ff681b13",
      "original_line" : 1434,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1020661424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907713498/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:10:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907713498",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907744608"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907744608"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Lots of call sites so not going to do in this PR, added to project-wide TODOs!",
      "commit_id" : "b9d31b5e5a8528933ae9c6628673d1d5c230e752",
      "created_at" : "2022-06-27T19:52:52Z",
      "diff_hunk" : "@@ -653,24 +654,25 @@ class ChainImpl : public Chain\n     }\n     void getPackageLimits(unsigned int& limit_ancestor_count, unsigned int& limit_descendant_count) override\n     {\n-        limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n+        limit_ancestor_count = limit_descendant_count = 0;\n+        if (!m_node.mempool) return;\n+\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n+        limit_ancestor_count = limits.ancestor_count;\n+        limit_descendant_count = limits.descendant_count;\n     }\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, false, 0, lp);\n         CTxMemPool::setEntries ancestors;\n-        auto limit_ancestor_count = gArgs.GetIntArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT);\n-        auto limit_ancestor_size = gArgs.GetIntArg(\"-limitancestorsize\", DEFAULT_ANCESTOR_SIZE_LIMIT_KB) * 1000;\n-        auto limit_descendant_count = gArgs.GetIntArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT);\n-        auto limit_descendant_size = gArgs.GetIntArg(\"-limitdescendantsize\", DEFAULT_DESCENDANT_SIZE_LIMIT_KB) * 1000;\n+        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         std::string unused_error_string;\n         LOCK(m_node.mempool->cs);\n         return m_node.mempool->CalculateMemPoolAncestors(",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907744608",
      "id" : 907744608,
      "in_reply_to_id" : 900409517,
      "line" : 672,
      "node_id" : "PRRC_kwDOABII5842GxVg",
      "original_commit_id" : "95430b611c6562845143669e88e07fcde770d1af",
      "original_line" : 672,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 26,
      "pull_request_review_id" : 1020705376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907744608/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:52:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907744608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pushed 7e4f61b2901c8e1506a7b3246a4518e2aa4061f5 -> 54913736701ed336a2be94feb0f77fae21226ba4\r\n- Fixed quoting Marco: https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167172152\r\n- Added comment about `CChainState::GetCoinsCacheSizeState()` correctness (thanks James!): https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907438710\r\n- Made `CTxMemPool::m_max_size_bytes` also `int64_t` to avoid an unintended change in behavior (thanks for pointing this one out Ryan!). Added to project TODO a task to add bounds checking in `ApplyArgsManOptions(..., MemPoolOptions&)` so that we can safely transition `CTxMemPool::{Options,Limits}` to using unsigned types for sizes.\r\n- Added commit \"mempool: Make GetMinFee() with custom size protected\" addressing: https://github.com/bitcoin/bitcoin/pull/25290#discussion_r903552020",
      "created_at" : "2022-06-27T20:26:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167849771",
      "id" : 1167849771,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585Fm_kr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167849771/reactions"
      },
      "updated_at" : "2022-06-27T20:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167849771",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maintainers: All reviews have been addressed, I think this PR is in a good place for merge pending CI pass.",
      "created_at" : "2022-06-27T20:29:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167853355",
      "id" : 1167853355,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FnAcr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167853355/reactions"
      },
      "updated_at" : "2022-06-27T20:29:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167853355",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771533"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771533"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done in 0019650c1b",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-27T20:29:36Z",
      "diff_hunk" : "@@ -701,6 +703,9 @@ class CTxMemPool\n       *  takes the fee rate to go back down all the way to 0. When the feerate\n       *  would otherwise be half of this, it is set to 0 instead.\n       */\n+    CFeeRate GetMinFee() const {\n+        return GetMinFee(m_max_size_bytes);\n+    }\n     CFeeRate GetMinFee(size_t sizelimit) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771533",
      "id" : 907771533,
      "in_reply_to_id" : 903552020,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842G36N",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 711,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 1020744451,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771533/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T20:29:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771658"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "No longer needed as of 5491373670",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-27T20:29:48Z",
      "diff_hunk" : "@@ -657,9 +657,8 @@ UniValue MempoolInfoToJSON(const CTxMemPool& pool)\n     ret.pushKV(\"bytes\", (int64_t)pool.GetTotalTxSize());\n     ret.pushKV(\"usage\", (int64_t)pool.DynamicMemoryUsage());\n     ret.pushKV(\"total_fee\", ValueFromAmount(pool.GetTotalFee()));\n-    int64_t maxmempool{gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000};\n-    ret.pushKV(\"maxmempool\", maxmempool);\n-    ret.pushKV(\"mempoolminfee\", ValueFromAmount(std::max(pool.GetMinFee(maxmempool), ::minRelayTxFee).GetFeePerK()));\n+    ret.pushKV(\"maxmempool\", (int64_t)pool.m_max_size_bytes);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771658",
      "id" : 907771658,
      "in_reply_to_id" : 903554269,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842G38K",
      "original_commit_id" : "8c81736608e05607d0d84a6edb7ef6b66e46857c",
      "original_line" : 660,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1020744661,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771658/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T20:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771959"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771959"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added some context in commit message of 710b30a02b",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-27T20:30:12Z",
      "diff_hunk" : "@@ -2298,7 +2296,7 @@ CoinsCacheSizeState CChainState::GetCoinsCacheSizeState()\n     AssertLockHeld(::cs_main);\n     return this->GetCoinsCacheSizeState(\n         m_coinstip_cache_size_bytes,\n-        gArgs.GetIntArg(\"-maxmempool\", DEFAULT_MAX_MEMPOOL_SIZE_MB) * 1000000);\n+        m_mempool ? m_mempool->m_max_size : 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r907771959",
      "id" : 907771959,
      "in_reply_to_id" : 900378684,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842G4A3",
      "original_commit_id" : "5b733c301debc3119872d436c555f1bf67deb00d",
      "original_line" : 2287,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1020745079,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771959/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T20:30:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907771959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I believe the CI failure in wallet_reorgsrestore.py is spurious: https://cirrus-ci.com/task/6073861945950208?logs=ci#L560\r\n\r\nI've run `FILE_ENV=./ci/test/00_setup_env_native_asan.sh ./ci/test_run_all.sh` locally and am unable to reproduce the error.",
      "created_at" : "2022-06-27T22:39:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1167997582",
      "id" : 1167997582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FnjqO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167997582/reactions"
      },
      "updated_at" : "2022-06-27T22:39:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167997582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908312207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908312207"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I like the idea of this commit.\r\nMy original idea for the future of defaults was to make ArgsManager handle them internally at registration time, and get rid of the `default` arguments to these functions (at query time) in that way. But this works.",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-28T10:24:41Z",
      "diff_hunk" : "@@ -365,6 +372,7 @@ class ArgsManager\n      * @return command-line argument or default value\n      */\n     bool GetBoolArg(const std::string& strArg, bool fDefault) const;\n+    std::optional<bool> GetBoolArg(const std::string& strArg) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908312207",
      "id" : 908312207,
      "line" : 375,
      "node_id" : "PRRC_kwDOABII5842I76P",
      "original_commit_id" : "fc02f77ca604f0221171bfde3059b34f5d0fb1cd",
      "original_line" : 375,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 34,
      "pull_request_review_id" : 1021494652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908312207/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T10:27:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908312207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908349364"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908349364"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: extra newline?",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-28T11:08:47Z",
      "diff_hunk" : "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);\n+\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908349364",
      "id" : 908349364,
      "line" : 14,
      "node_id" : "PRRC_kwDOABII5842JE-0",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 14,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/policy/fees_args.h",
      "position" : 14,
      "pull_request_review_id" : 1021547158,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908349364/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T11:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908349364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908350413"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908350413"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please add a doc comment for this function. E.g.\r\n```\r\n/** Return path of fee estimates data file. */\r\n```",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-28T11:10:02Z",
      "diff_hunk" : "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908350413",
      "id" : 908350413,
      "line" : 12,
      "node_id" : "PRRC_kwDOABII5842JFPN",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 12,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/policy/fees_args.h",
      "position" : 12,
      "pull_request_review_id" : 1021548644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908350413/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T11:10:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908350413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908355331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908355331"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Having a global dangling pointer here is kind of ugly. Is there really no other way to get this information in?\r\nIf you need a global, what about storing the path in the global instead of a pointer. It seems slightly safer at least.",
      "commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "created_at" : "2022-06-28T11:15:52Z",
      "diff_hunk" : "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908355331",
      "id" : 908355331,
      "line" : 22,
      "node_id" : "PRRC_kwDOABII5842JGcD",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 22,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator_io.cpp",
      "position" : 19,
      "pull_request_review_id" : 1021555724,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908355331/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T11:15:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908355331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908651573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651573"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T15:52:34Z",
      "diff_hunk" : "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);\n+\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908651573",
      "id" : 908651573,
      "in_reply_to_id" : 908349364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842KOw1",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 14,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/policy/fees_args.h",
      "position" : null,
      "pull_request_review_id" : 1021993601,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651573/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T15:52:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908651785"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651785"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed as of b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T15:52:45Z",
      "diff_hunk" : "@@ -0,0 +1,15 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_ARGS_H\n+#define BITCOIN_POLICY_FEES_ARGS_H\n+\n+#include <fs.h>\n+\n+class ArgsManager;\n+\n+fs::path FeeestPath(const ArgsManager& argsman);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908651785",
      "id" : 908651785,
      "in_reply_to_id" : 908350413,
      "line" : 13,
      "node_id" : "PRRC_kwDOABII5842KO0J",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 13,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/policy/fees_args.h",
      "position" : 13,
      "pull_request_review_id" : 1021993960,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651785/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T15:52:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908651785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908653004"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908653004"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We could just store the path, but this is sort of the pattern that most fuzz tests take, and we might want something else from the testingsetup in the future :-/",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T15:53:52Z",
      "diff_hunk" : "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908653004",
      "id" : 908653004,
      "in_reply_to_id" : 908355331,
      "line" : 22,
      "node_id" : "PRRC_kwDOABII5842KPHM",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 22,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator_io.cpp",
      "position" : 19,
      "pull_request_review_id" : 1021996192,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908653004/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T15:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908653004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908672840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908672840"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, this is the general pattern. Let me know if there is a better way.\r\n\r\nAnd there should be no risk in doing \"risky\" stuff in the unit or fuzz tests, such as globals, raw pointers/memory, \"wild\" casts, etc..., as they are run in sanitizers that should detect any issue if it arises. (As opposed to real code, which is not 100% covered by sanitizers)",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T16:13:26Z",
      "diff_hunk" : "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908672840",
      "id" : 908672840,
      "in_reply_to_id" : 908355331,
      "line" : 22,
      "node_id" : "PRRC_kwDOABII5842KT9I",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 22,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator_io.cpp",
      "position" : 19,
      "pull_request_review_id" : 1022035184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908672840/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T16:13:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908672840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908695728"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908695728"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7:\r\n\r\nCould use `{}` over `()` for additional compiler checks?",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T16:32:34Z",
      "diff_hunk" : "@@ -451,8 +451,9 @@ void CTxMemPoolEntry::UpdateAncestorState(int64_t modifySize, CAmount modifyFee,\n     assert(int(nSigOpCostWithAncestors) >= 0);\n }\n \n-CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator, int check_ratio)\n-    : m_check_ratio(check_ratio), minerPolicyEstimator(estimator)\n+CTxMemPool::CTxMemPool(const Options& opts)\n+    : m_check_ratio(opts.check_ratio),\n+      minerPolicyEstimator(opts.estimator)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908695728",
      "id" : 908695728,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842KZiw",
      "original_commit_id" : "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "original_line" : 456,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 8,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908695728/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908695728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908709685"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908709685"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7:\r\n\r\nCould use `1'000'000`?",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T16:41:10Z",
      "diff_hunk" : "@@ -1426,10 +1428,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908709685",
      "id" : 908709685,
      "line" : 1431,
      "node_id" : "PRRC_kwDOABII5842Kc81",
      "original_commit_id" : "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "original_line" : 1437,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 27,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908709685/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908709685",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908711442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908711442"
         }
      },
      "author_association" : "MEMBER",
      "body" : "commit message of 0019650c1b56b65262b75dd284040848aaaec129:\r\n\r\n\r\ndrived -> derived?",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T16:42:12Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@ BOOST_FIXTURE_TEST_SUITE(mempool_tests, TestingSetup)\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908711442",
      "id" : 908711442,
      "line" : 16,
      "node_id" : "PRRC_kwDOABII5842KdYS",
      "original_commit_id" : "0019650c1b56b65262b75dd284040848aaaec129",
      "original_line" : 16,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/test/mempool_tests.cpp",
      "position" : 1,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908711442/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908711442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908736746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908736746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok, that's a good point. I was mainly afraid of false positives/negatives due to pointers pointing to the wrong memory. But yes, the sanitizers should catch that.",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T16:58:24Z",
      "diff_hunk" : "@@ -11,9 +12,14 @@\n #include <cstdint>\n #include <vector>\n \n+namespace {\n+const BasicTestingSetup* g_setup;\n+} // namespace\n+\n void initialize_policy_estimator_io()\n {\n     static const auto testing_setup = MakeNoLogFileContext<>();\n+    g_setup = testing_setup.get();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908736746",
      "id" : 908736746,
      "in_reply_to_id" : 908355331,
      "line" : 22,
      "node_id" : "PRRC_kwDOABII5842Kjjq",
      "original_commit_id" : "54913736701ed336a2be94feb0f77fae21226ba4",
      "original_line" : 22,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator_io.cpp",
      "position" : 19,
      "pull_request_review_id" : 1022106609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908736746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T16:58:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908736746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908811064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908811064"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in e741c49716a65b624fcf91db0de6dd11617675ad: Might be nice to make `nExpiryTimeout` type-safe in a follow-up.",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T18:26:07Z",
      "diff_hunk" : "@@ -4645,7 +4641,7 @@ static const uint64_t MEMPOOL_DUMP_VERSION = 1;\n \n bool LoadMempool(CTxMemPool& pool, CChainState& active_chainstate, FopenFn mockable_fopen_function)\n {\n-    int64_t nExpiryTimeout = gArgs.GetIntArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    int64_t nExpiryTimeout = std::chrono::seconds{pool.m_expiry}.count();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908811064",
      "id" : 908811064,
      "line" : 4642,
      "node_id" : "PRRC_kwDOABII5842K1s4",
      "original_commit_id" : "e741c49716a65b624fcf91db0de6dd11617675ad",
      "original_line" : 4644,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 51,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908811064/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908811064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908812827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908812827"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 1ad4268e1a7da0e97a97fa677f7b50f226d084b4: Usually std-includes come last in a separate paragraph ",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T18:28:18Z",
      "diff_hunk" : "@@ -0,0 +1,25 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+#define BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+\n+#include <cstdint>\n+#include <policy/policy.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908812827",
      "id" : 908812827,
      "line" : 8,
      "node_id" : "PRRC_kwDOABII5842K2Ib",
      "original_commit_id" : "1ad4268e1a7da0e97a97fa677f7b50f226d084b4",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 8,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908812827/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908812827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908818810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908818810"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 5a3d18eb2c12e046d35d628dc67daa9e2bb343b3: Can update format while touching this line?",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T18:35:47Z",
      "diff_hunk" : "@@ -148,15 +147,15 @@ void CTxMemPool::UpdateForDescendants(txiter updateIt, cacheMap& cachedDescendan\n             // Don't directly remove the transaction here -- doing so would\n             // invalidate iterators in cachedDescendants. Mark it for removal\n             // by inserting into descendants_to_remove.\n-            if (descendant.GetCountWithAncestors() > ancestor_count_limit || descendant.GetSizeWithAncestors() > ancestor_size_limit) {\n+            if (descendant.GetCountWithAncestors() > uint64_t(m_limits.ancestor_count) || descendant.GetSizeWithAncestors() > uint64_t(m_limits.ancestor_size_vbytes)) {\n                 descendants_to_remove.insert(descendant.GetTx().GetHash());\n             }\n         }\n     }\n     mapTx.modify(updateIt, update_descendant_state(modifySize, modifyFee, modifyCount));\n }\n \n-void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate, uint64_t ancestor_size_limit, uint64_t ancestor_count_limit)\n+void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908818810",
      "id" : 908818810,
      "line" : 158,
      "node_id" : "PRRC_kwDOABII5842K3l6",
      "original_commit_id" : "5a3d18eb2c12e046d35d628dc67daa9e2bb343b3",
      "original_line" : 158,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 24,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908818810/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908818810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908822087"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908822087"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 470347d2ffd462d635fdf344e38332a4eb4b8ad3: could add a `{}` scope to avoid leaking this symbol into the full `AppInitMain` scope?",
      "commit_id" : "b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920",
      "created_at" : "2022-06-28T18:40:04Z",
      "diff_hunk" : "@@ -1433,6 +1428,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    int64_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908822087",
      "id" : 908822087,
      "line" : 1433,
      "node_id" : "PRRC_kwDOABII5842K4ZH",
      "original_commit_id" : "470347d2ffd462d635fdf344e38332a4eb4b8ad3",
      "original_line" : 1432,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 1022071889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908822087/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T18:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908822087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pushed b96e009a8a36f4feeee49d1a3c8f85fb9ab0d920 -> d1684beabe5b738c2cc83de83e1aaef11a761b69\r\n- Addressed some of Marco's review comments",
      "created_at" : "2022-06-28T20:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169182868",
      "id" : 1169182868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FsFCU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169182868/reactions"
      },
      "updated_at" : "2022-06-28T20:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169182868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm likely not going to repush for nits from this point forwards, since there's quite a lot of Code Review ACKs already and I want to reduce re-review burden. I hope that's understandable. We can always follow up in future PRs.\r\n\r\n-----\r\n\r\nPlease ignore the GitHub Project noise of me moving this PR across columns, I just forgot to do so earlier.",
      "created_at" : "2022-06-28T20:12:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169185167",
      "id" : 1169185167,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FsFmP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169185167/reactions"
      },
      "updated_at" : "2022-06-28T20:18:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169185167",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908900777"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908900777"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in f1941e8bfd and others",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:12:47Z",
      "diff_hunk" : "@@ -451,8 +451,9 @@ void CTxMemPoolEntry::UpdateAncestorState(int64_t modifySize, CAmount modifyFee,\n     assert(int(nSigOpCostWithAncestors) >= 0);\n }\n \n-CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator, int check_ratio)\n-    : m_check_ratio(check_ratio), minerPolicyEstimator(estimator)\n+CTxMemPool::CTxMemPool(const Options& opts)\n+    : m_check_ratio(opts.check_ratio),\n+      minerPolicyEstimator(opts.estimator)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908900777",
      "id" : 908900777,
      "in_reply_to_id" : 908695728,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842LLmp",
      "original_commit_id" : "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "original_line" : 456,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1022346361,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908900777/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908900777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901075"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in f1941e8bfd",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:13:05Z",
      "diff_hunk" : "@@ -1426,10 +1428,16 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n \n     assert(!node.mempool);\n     assert(!node.chainman);\n-    const int mempool_check_ratio = std::clamp<int>(args.GetIntArg(\"-checkmempool\", chainparams.DefaultConsistencyChecks() ? 1 : 0), 0, 1000000);\n+\n+    CTxMemPool::Options mempool_opts{\n+        Desig(estimator) node.fee_estimator.get(),\n+        Desig(check_ratio) chainparams.DefaultConsistencyChecks() ? 1 : 0,\n+    };\n+    ApplyArgsManOptions(args, mempool_opts);\n+    mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901075",
      "id" : 908901075,
      "in_reply_to_id" : 908709685,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842LLrT",
      "original_commit_id" : "c7dbe3ae368096f1b3111e0ef7e08a7a5b4ee2a7",
      "original_line" : 1437,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1022346699,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901075/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:13:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901262"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 386c9472c8",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:13:15Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@ BOOST_FIXTURE_TEST_SUITE(mempool_tests, TestingSetup)\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901262",
      "id" : 908901262,
      "in_reply_to_id" : 908711442,
      "line" : 16,
      "node_id" : "PRRC_kwDOABII5842LLuO",
      "original_commit_id" : "0019650c1b56b65262b75dd284040848aaaec129",
      "original_line" : 16,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/test/mempool_tests.cpp",
      "position" : 1,
      "pull_request_review_id" : 1022346926,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901262/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901262",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901643"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "True! Not addressing in this PR. Leaving open for posterity.",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:13:34Z",
      "diff_hunk" : "@@ -4645,7 +4641,7 @@ static const uint64_t MEMPOOL_DUMP_VERSION = 1;\n \n bool LoadMempool(CTxMemPool& pool, CChainState& active_chainstate, FopenFn mockable_fopen_function)\n {\n-    int64_t nExpiryTimeout = gArgs.GetIntArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    int64_t nExpiryTimeout = std::chrono::seconds{pool.m_expiry}.count();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901643",
      "id" : 908901643,
      "in_reply_to_id" : 908811064,
      "line" : 4642,
      "node_id" : "PRRC_kwDOABII5842LL0L",
      "original_commit_id" : "e741c49716a65b624fcf91db0de6dd11617675ad",
      "original_line" : 4642,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 104,
      "pull_request_review_id" : 1022347252,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901643/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:13:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901851"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901851"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 9333427014",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:13:46Z",
      "diff_hunk" : "@@ -0,0 +1,25 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+#define BITCOIN_KERNEL_MEMPOOL_LIMITS_H\n+\n+#include <cstdint>\n+#include <policy/policy.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908901851",
      "id" : 908901851,
      "in_reply_to_id" : 908812827,
      "line" : 7,
      "node_id" : "PRRC_kwDOABII5842LL3b",
      "original_commit_id" : "1ad4268e1a7da0e97a97fa677f7b50f226d084b4",
      "original_line" : 7,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 7,
      "pull_request_review_id" : 1022347474,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901851/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:13:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908901851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908902197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902197"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in 6c5c60c412",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:14:09Z",
      "diff_hunk" : "@@ -148,15 +147,15 @@ void CTxMemPool::UpdateForDescendants(txiter updateIt, cacheMap& cachedDescendan\n             // Don't directly remove the transaction here -- doing so would\n             // invalidate iterators in cachedDescendants. Mark it for removal\n             // by inserting into descendants_to_remove.\n-            if (descendant.GetCountWithAncestors() > ancestor_count_limit || descendant.GetSizeWithAncestors() > ancestor_size_limit) {\n+            if (descendant.GetCountWithAncestors() > uint64_t(m_limits.ancestor_count) || descendant.GetSizeWithAncestors() > uint64_t(m_limits.ancestor_size_vbytes)) {\n                 descendants_to_remove.insert(descendant.GetTx().GetHash());\n             }\n         }\n     }\n     mapTx.modify(updateIt, update_descendant_state(modifySize, modifyFee, modifyCount));\n }\n \n-void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate, uint64_t ancestor_size_limit, uint64_t ancestor_count_limit)\n+void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256> &vHashesToUpdate)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908902197",
      "id" : 908902197,
      "in_reply_to_id" : 908818810,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842LL81",
      "original_commit_id" : "5a3d18eb2c12e046d35d628dc67daa9e2bb343b3",
      "original_line" : 158,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1022347901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902197/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:14:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908902762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902762"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not going to do this in this PR, feel free to follow up.",
      "commit_id" : "d1684beabe5b738c2cc83de83e1aaef11a761b69",
      "created_at" : "2022-06-28T20:14:45Z",
      "diff_hunk" : "@@ -1433,6 +1428,11 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     };\n     ApplyArgsManOptions(args, mempool_opts);\n     mempool_opts.check_ratio = std::clamp<int>(mempool_opts.check_ratio, 0, 1000000);\n+\n+    int64_t descendant_limit_bytes = mempool_opts.limits.descendant_size_vbytes * 40;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908902762",
      "id" : 908902762,
      "in_reply_to_id" : 908822087,
      "line" : 1433,
      "node_id" : "PRRC_kwDOABII5842LMFq",
      "original_commit_id" : "470347d2ffd462d635fdf344e38332a4eb4b8ad3",
      "original_line" : 1433,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 99,
      "pull_request_review_id" : 1022348567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25290",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902762/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-28T20:14:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908902762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK d1684beabe5b738c2cc83de83e1aaef11a761b69 ð\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK d1684beabe5b738c2cc83de83e1aaef11a761b69 ð\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYEACgkQzit1aX5p\r\npUgupwv9G/2wfNggsXuzCwHm6yNWsM5mmsQMgwhxAAWWFG0O+Wa3rbImNzW04Qp5\r\nLcHOWPiZ4nx/aLL5TtvzEPYJ5iy3inLU/ekMLEzRoRJgdWaPAnXUzXEyK6/wXAie\r\nJ2Oa1RZTpJ/HuaqnrQ8grupoFHkLw7RQ3j4uhOn1aROUREz+C4JragufIQtXCnMJ\r\nEBAMn0MnNo3TWmeLEVxdpjkk6Hhuln4Kqv1/MGo9g+CLu6zFsLssBMCO2lGP/2up\r\n5p/HKyPVYh/8lqBjGW2JH7YsHj5pnS614okonpzOEKN6Qktx/YAXnnMjJyW3SvmP\r\nlVdYjNW38nekegQNSiceliYQauO6SiwmmEL4r921ytAR/zKjYEvKrpj2+w8XclU2\r\ns/KGZX2x9LqtxkL7rK0HBTqOL4ELmcp2cDqeYiPnL5FHgmERODnE+uACNszpYCHR\r\nwaRWtqkJE5tVYn7gJ3frICTDUWQFbcR5+ofdDDQPWahKfqZwSiRAd68R7x4tL6Dp\r\nPKfpIgo5\r\n=seCw\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n\r\n</details>\r\n",
      "created_at" : "2022-06-29T07:12:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169617891",
      "id" : 1169617891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585FtvPj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169617891/reactions"
      },
      "updated_at" : "2022-06-29T07:12:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169617891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Let me know if you want to follow-up for https://github.com/bitcoin/bitcoin/pull/25290#discussion_r908811064 or want me to do it. I see that you have a follow-up already open, so I don't want to duplicate work or queue up merge conflicts.",
      "created_at" : "2022-06-29T07:19:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25290#issuecomment-1169623869",
      "id" : 1169623869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25290",
      "node_id" : "IC_kwDOABII585Ftws9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169623869/reactions"
      },
      "updated_at" : "2022-06-29T07:19:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169623869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
