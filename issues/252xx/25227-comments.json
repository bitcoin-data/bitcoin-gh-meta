[
   {
      "author_association" : "MEMBER",
      "body" : "Looks like this may be used by salvage wallet, but I am not sure if it is worth it to keep for that?",
      "created_at" : "2022-05-27T14:11:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1139657857",
      "id" : 1139657857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585D7cyB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139657857/reactions"
      },
      "updated_at" : "2022-05-27T14:11:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139657857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think the distinction matters for salvage; it looks like it's bdb producing the hex dump output lines at runtime, so reading anything but hex data from it would imply buggy/incorrect use of bdb in the first place.\r\n\r\nMore generally... what about instead moving to a model where this hex parsing returns an `std::optional<std::vector<std::byte>>`, so callers are free to distinguish invalid input from empty input?",
      "created_at" : "2022-05-27T16:04:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1139753307",
      "id" : 1139753307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585D70Fb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139753307/reactions"
      },
      "updated_at" : "2022-05-27T16:04:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139753307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nBut if we're going to change this I'd prefer to return an `optional<>` so that the empty vector can be distinguished from the error condition.",
      "created_at" : "2022-05-27T18:26:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1139918114",
      "id" : 1139918114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585D8cUi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139918114/reactions"
      },
      "updated_at" : "2022-05-27T18:26:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139918114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/25227#pullrequestreview-1315609857) |\n| Concept ACK | [laanwj](https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1139918114), [vincenzopalazzo](https://github.com/bitcoin/bitcoin/pull/25227#pullrequestreview-988544670) |\n| Stale ACK | [pinheadmz](https://github.com/bitcoin/bitcoin/pull/25227#pullrequestreview-1314083875) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2022-05-28T15:40:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1140285581",
      "id" : 1140285581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585D92CN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140285581/reactions"
      },
      "updated_at" : "2023-02-27T13:42:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140285581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-07T14:00:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1177662743",
      "id" : 1177662743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585GMbUX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1177662743/reactions"
      },
      "updated_at" : "2022-07-07T14:00:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1177662743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--13523179cfe9479db18ec6c5d236f789-->\nThere hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? â¡ï¸ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? â¡ï¸ Please close.\n* Did the author lose interest or time to work on this? â¡ï¸ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "created_at" : "2022-12-12T01:40:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1345750179",
      "id" : 1345750179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585QNoSj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1345750179/reactions"
      },
      "updated_at" : "2022-12-12T01:40:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1345750179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, rebased and added a new function for `optional`. The old function remains an alias, with the fallback to an empty vector. This avoid having to change all existing code and making it needlessly verbose, because it is already properly handling empty vectors.\r\n\r\n\r\n\r\n<details><summary>Unrelated: It is possible to convert hex at compile time</summary>\r\n\r\n```cpp\r\n#include <array>\r\n#include <cstddef>\r\n#include <string_view>\r\n\r\n#define FromHex(chars_lit)                                 \\\r\n    ([&]() {                                               \\\r\n        using namespace std::literals;                     \\\r\n        constexpr std::string_view hex_str{chars_lit##sv}; \\\r\n        static_assert(IsHex(hex_str));                     \\\r\n        std::array<std::byte, hex_str.size() / 2> b{};     \\\r\n        auto it = hex_str.begin();                         \\\r\n        for (auto& i : b) {                                \\\r\n            auto c1 = HexDigit(*(it++));                   \\\r\n            auto c2 = HexDigit(*(it++));                   \\\r\n            i = std::byte(c1 << 4) | std::byte(c2);        \\\r\n        }                                                  \\\r\n                                                           \\\r\n        return b;                                          \\\r\n    }())\r\n```\r\n\r\nUse:\r\n\r\n```cpp\r\nconstexpr auto a{FromHex(\"ffaa\")}; // OK\r\nconstexpr auto a{FromHex(\"xxYx\")}; // compile failure\r\n```\r\n\r\n</details>",
      "created_at" : "2022-12-13T18:45:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1349509341",
      "id" : 1349509341,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585Qb-Dd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1349509341/reactions"
      },
      "updated_at" : "2022-12-13T20:01:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1349509341",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1064112399"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1064112399"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure if it is relevant here but I tried to check what happens when ` ` (a single space) is the input for the tested method.\r\n\r\nMy first guess was that `std::nullopt` should be returned:\r\n\r\n```cpp\r\n// Single space should be handled correctly\r\nBOOST_CHECK(!TryParseHex<uint8_t>(\" \").has_value());\r\n```\r\n\r\nbut actually what happens is:\r\n\r\n```cpp\r\n// Single space should be handled correctly\r\nresult = TryParseHex<uint8_t>(\" \").value();\r\nBOOST_CHECK_EQUAL(result.size(), 0);\r\n```\r\n\r\nMaybe it's worth adding this test to document expected behavior.",
      "commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "created_at" : "2023-01-08T09:43:57Z",
      "diff_hunk" : "@@ -140,26 +140,39 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1064112399",
      "id" : 1064112399,
      "line" : 143,
      "node_id" : "PRRC_kwDOABII584_bREP",
      "original_commit_id" : "fa6ec61d0c351c002977428125f20f4e0ed7a96c",
      "original_line" : 143,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : 4,
      "pull_request_review_id" : 1239755500,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1064112399/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-08T09:43:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1064112399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1064696542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1064696542"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, done",
      "commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "created_at" : "2023-01-09T14:25:12Z",
      "diff_hunk" : "@@ -140,26 +140,39 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1064696542",
      "id" : 1064696542,
      "in_reply_to_id" : 1064112399,
      "line" : 143,
      "node_id" : "PRRC_kwDOABII584_dfre",
      "original_commit_id" : "fa6ec61d0c351c002977428125f20f4e0ed7a96c",
      "original_line" : 143,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : 4,
      "pull_request_review_id" : 1240575411,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1064696542/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-09T14:25:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1064696542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118546663"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118546663"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: add description of expected behaviour (and in 0000509239d4e699f57b392531f242ad6933c982 it would be \"Truncated input is ignored\")\r\n```suggestion\r\n    // Truncated input makes the parsing fail entirely\r\n```",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T10:23:50Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    BOOST_CHECK(!TryParseHex(with_embedded_null).has_value());\n \n-    // Stop parsing at invalid value\n+    // Reject parsing if invalid value\n     result = ParseHex(\"1234 invalid 1234\");\n-    BOOST_CHECK(result.size() == 2 && result[0] == 0x12 && result[1] == 0x34);\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    BOOST_CHECK(!TryParseHex(\"1234 invalid 1234\").has_value());\n+\n+    // Truncated input",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118546663",
      "id" : 1118546663,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Cq6rn",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 178,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315293768,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118546663/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:01:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118546663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118568346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118568346"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: for all these, would prefer having consistency between using a temporary var for the `ParseHex` and `TryParseHex` tests\r\n```suggestion\r\n    BOOST_CHECK_EQUAL(ParseHex(with_embedded_null).size(), 0);\r\n```\r\n\r\n_(edit: updated `ParseHex(with_embedded_null)` -> `ParseHex(with_embedded_null).size()`)_",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T10:42:56Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118568346",
      "id" : 1118568346,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Cq_-a",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 170,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315293768,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118568346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:09:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118568346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118650899"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118650899"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you explain this?\r\n\r\nCurrently it is consistent in that a all cases use `result = ParseHex(...)`. This is the case before this pull request and not changed.",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T12:05:52Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118650899",
      "id" : 1118650899,
      "in_reply_to_id" : 1118568346,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CrUIT",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 170,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315449721,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118650899/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:05:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118650899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118651283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118651283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(Also, your suggestion wouldn't compile as is, I am pretty sure)",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T12:06:18Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118651283",
      "id" : 1118651283,
      "in_reply_to_id" : 1118568346,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CrUOT",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 170,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315450301,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118651283/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:06:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118651283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118658103"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118658103"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The below diff captures my entire suggestion (and compiles/tests). In these locations, we use a temp var for `ParseHex` but not for `TryParseHex`. It's just a style/minor thing (hence the nit), but I think having consistency between both makes it easier for the reviewer to see the similarities between both tests.\r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/test/util_tests.cpp b/src/test/util_tests.cpp\r\nindex 65468a113..74e151b99 100644\r\n--- a/src/test/util_tests.cpp\r\n+++ b/src/test/util_tests.cpp\r\n@@ -166,18 +166,15 @@ BOOST_AUTO_TEST_CASE(parse_hex)\r\n                                          \" \\0 \"\r\n                                          \" 22 \"s};\r\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\r\n-    result = ParseHex(with_embedded_null);\r\n-    BOOST_CHECK_EQUAL(result.size(), 0);\r\n+    BOOST_CHECK_EQUAL(ParseHex(with_embedded_null).size(), 0);\r\n     BOOST_CHECK(!TryParseHex(with_embedded_null).has_value());\r\n \r\n     // Reject parsing if invalid value\r\n-    result = ParseHex(\"1234 invalid 1234\");\r\n-    BOOST_CHECK_EQUAL(result.size(), 0);\r\n+    BOOST_CHECK_EQUAL(ParseHex(\"1234 invalid 1234\").size(), 0);\r\n     BOOST_CHECK(!TryParseHex(\"1234 invalid 1234\").has_value());\r\n \r\n     // Truncated input\r\n-    result = ParseHex(\"12 3\");\r\n-    BOOST_CHECK_EQUAL(result.size(), 0);\r\n+    BOOST_CHECK_EQUAL(ParseHex(\"12 3\").size(), 0);\r\n     BOOST_CHECK(!TryParseHex(\"12 3\").has_value());\r\n }\r\n ```\r\n</details>",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T12:13:40Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118658103",
      "id" : 1118658103,
      "in_reply_to_id" : 1118568346,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CrV43",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 170,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315461064,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118658103/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:13:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118658103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "force pushed to change tests. can be re-reviewed with range-diff",
      "created_at" : "2023-02-27T12:42:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1446262046",
      "id" : 1446262046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585WNDUe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1446262046/reactions"
      },
      "updated_at" : "2023-02-27T12:42:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1446262046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118687591"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118687591"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, done. ",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T12:43:16Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118687591",
      "id" : 1118687591,
      "in_reply_to_id" : 1118568346,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CrdFn",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 170,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315505773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118687591/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:43:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118687591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118687793"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118687793"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks, done",
      "commit_id" : "faab273e060d27e166b5fb7fe7692614ec9e5c76",
      "created_at" : "2023-02-27T12:43:28Z",
      "diff_hunk" : "@@ -140,26 +140,45 @@ BOOST_AUTO_TEST_CASE(parse_hex)\n     // Basic test vector\n     result = ParseHex(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n+    result = TryParseHex<uint8_t>(\"04678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5f\").value();\n+    BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n     // Spaces between bytes must be supported\n     result = ParseHex(\"12 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\"12 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x12 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n     // Leading space must be supported (used in BerkeleyEnvironment::Salvage)\n     result = ParseHex(\" 89 34 56 78\");\n     BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n+    result = TryParseHex<uint8_t>(\" 89 34 56 78\").value();\n+    BOOST_CHECK(result.size() == 4 && result[0] == 0x89 && result[1] == 0x34 && result[2] == 0x56 && result[3] == 0x78);\n \n-    // Embedded null is treated as end\n+    // Empty input\n+    result = ParseHex(\"\");\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    result = TryParseHex<uint8_t>(\"\").value();\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+\n+    // Embedded null is treated as invalid\n     const std::string with_embedded_null{\" 11 \"s\n                                          \" \\0 \"\n                                          \" 22 \"s};\n     BOOST_CHECK_EQUAL(with_embedded_null.size(), 11);\n     result = ParseHex(with_embedded_null);\n-    BOOST_CHECK(result.size() == 1 && result[0] == 0x11);\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    BOOST_CHECK(!TryParseHex(with_embedded_null).has_value());\n \n-    // Stop parsing at invalid value\n+    // Reject parsing if invalid value\n     result = ParseHex(\"1234 invalid 1234\");\n-    BOOST_CHECK(result.size() == 2 && result[0] == 0x12 && result[1] == 0x34);\n+    BOOST_CHECK_EQUAL(result.size(), 0);\n+    BOOST_CHECK(!TryParseHex(\"1234 invalid 1234\").has_value());\n+\n+    // Truncated input",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#discussion_r1118687793",
      "id" : 1118687793,
      "in_reply_to_id" : 1118546663,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CrdIx",
      "original_commit_id" : "fad0c892c34c30cf8f50e832425210e24d45837e",
      "original_line" : 178,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1315506081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118687793/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-27T12:43:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1118687793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR causes cross compiling errors for some hosts using default toolchains on Ubuntu 22.04.\r\n\r\nFor example, for `riscv64-linux-gnu`\r\n```\r\n$ make -C src bitcoind\r\n...\r\n  CXXLD    bitcoind\r\n/usr/lib/gcc-cross/riscv64-linux-gnu/11/../../../../riscv64-linux-gnu/bin/ld: libbitcoin_node.a(libbitcoin_node_a-net_processing.o): in function `.L11743':\r\nnet_processing.cpp:(.text+0x1cc82): undefined reference to `std::optional<std::vector<unsigned char, std::allocator<unsigned char> > > TryParseHex<unsigned char>(std::basic_string_view<char, std::char_traits<char> >)'\r\n/usr/lib/gcc-cross/riscv64-linux-gnu/11/../../../../riscv64-linux-gnu/bin/ld: libbitcoin_node.a(libbitcoin_node_a-rest.o): in function `.L2528':\r\nrest.cpp:(.text+0x4fe4): undefined reference to `std::optional<std::vector<unsigned char, std::allocator<unsigned char> > > TryParseHex<unsigned char>(std::basic_string_view<char, std::char_traits<char> >)'\r\n/usr/lib/gcc-cross/riscv64-linux-gnu/11/../../../../riscv64-linux-gnu/bin/ld: libbitcoin_node.a(libbitcoin_node_a-torcontrol.o): in function `.L0 ':\r\ntorcontrol.cpp:(.text._Z8ParseHexIhESt6vectorIT_SaIS1_EESt17basic_string_viewIcSt11char_traitsIcEE[_Z8ParseHexIhESt6vectorIT_SaIS1_EESt17basic_string_viewIcSt11char_traitsIcEE]+0x1a): undefined reference to `std::optional<std::vector<unsigned char, std::allocator<unsigned char> > > TryParseHex<unsigned char>(std::basic_string_view<char, std::char_traits<char> >)'\r\n/usr/lib/gcc-cross/riscv64-linux-gnu/11/../../../../riscv64-linux-gnu/bin/ld: libbitcoin_common.a(libbitcoin_common_a-external_signer.o): in function `.L3933':\r\nexternal_signer.cpp:(.text+0x5378): undefined reference to `std::optional<std::vector<unsigned char, std::allocator<unsigned char> > > TryParseHex<unsigned char>(std::basic_string_view<char, std::char_traits<char> >)'\r\ncollect2: error: ld returned 1 exit status\r\nmake: *** [Makefile:7178: bitcoind] Error 1\r\nmake: Leaving directory '/home/hebasto/git/bitcoin/src'\r\n```\r\n\r\nOTOH, Guix build for `riscv64-linux-gnu` is successful.\r\n\r\nA compiler bug about `std::byte` type implementation?",
      "created_at" : "2023-03-06T12:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1456009757",
      "id" : 1456009757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585WyPId",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456009757/reactions"
      },
      "updated_at" : "2023-03-06T12:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456009757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, the same happens on Lunar (gcc 12.2). Steps to reproduce on a fresh install:\r\n\r\n\r\n```\r\nexport HOST=powerpc64le-linux-gnu && export MAKEJOBS=\"$(nproc)\" && apt update && apt install git vim htop  -y && git clone https://github.com/bitcoin/bitcoin.git  --depth=1 ./bitcoin-core && cd bitcoin-core && apt install -y bzip2 make automake cmake curl g++-multilib libtool binutils bsdmainutils pkg-config python3 patch bison  && apt install -y     g++-arm-linux-gnueabihf binutils-arm-linux-gnueabihf   g++-aarch64-linux-gnu binutils-aarch64-linux-gnu    g++-powerpc64-linux-gnu binutils-powerpc64-linux-gnu g++-powerpc64le-linux-gnu binutils-powerpc64le-linux-gnu    g++-riscv64-linux-gnu binutils-riscv64-linux-gnu    g++-s390x-linux-gnu binutils-s390x-linux-gnu    && ( cd depends && make NO_QT=1 \"-j${MAKEJOBS}\" ) && ./autogen.sh && CONFIG_SITE=$PWD/depends/$HOST/share/config.site ./configure && make \"-j${MAKEJOBS}\" src/bitcoind",
      "created_at" : "2023-03-06T14:15:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1456215491",
      "id" : 1456215491,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585WzBXD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456215491/reactions"
      },
      "updated_at" : "2023-03-06T14:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456215491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It works on gcc-10 (debian bullseye), same steps to reproduce as above.",
      "created_at" : "2023-03-06T14:33:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1456248391",
      "id" : 1456248391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585WzJZH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456248391/reactions"
      },
      "updated_at" : "2023-03-06T14:35:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456248391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Same issue on Ubuntu Jammy (22.04) when crosscompiling with depends for these hosts:\r\n```\r\ni686-pc-linux-gnu\r\narm-linux-gnueabihf\r\npowerpc64-linux-gnu\r\npowerpc64le-linux-gnu\r\nriscv64-linux-gnu\r\ns390x-linux-gnu\r\n```\r\ngcc-11",
      "created_at" : "2023-03-06T15:01:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25227#issuecomment-1456297791",
      "id" : 1456297791,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25227",
      "node_id" : "IC_kwDOABII585WzVc_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456297791/reactions"
      },
      "updated_at" : "2023-03-06T15:01:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1456297791",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11212268?v=4",
         "events_url" : "https://api.github.com/users/gruve-p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gruve-p/followers",
         "following_url" : "https://api.github.com/users/gruve-p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gruve-p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gruve-p",
         "id" : 11212268,
         "login" : "gruve-p",
         "node_id" : "MDQ6VXNlcjExMjEyMjY4",
         "organizations_url" : "https://api.github.com/users/gruve-p/orgs",
         "received_events_url" : "https://api.github.com/users/gruve-p/received_events",
         "repos_url" : "https://api.github.com/users/gruve-p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gruve-p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gruve-p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gruve-p"
      }
   }
]
