[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-05-26T00:46:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1138021445",
      "id" : 1138021445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585D1NRF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138021445/reactions"
      },
      "updated_at" : "2022-05-26T00:46:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138021445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25526](https://github.com/bitcoin/bitcoin/pull/25526) (wallet: avoid double keypool TopUp() calls on descriptor wallets by furszy)\n* [#25297](https://github.com/bitcoin/bitcoin/pull/25297) (WIP, wallet: speedup transactions sync, rescan and load not flushing to db constantly by furszy)\n* [#25273](https://github.com/bitcoin/bitcoin/pull/25273) (wallet: Pass through transaction locktime and preset input sequences and scripts to CreateTransaction by achow101)\n* [#25269](https://github.com/bitcoin/bitcoin/pull/25269) (wallet: re-activate the not triggered  \"AmountWithFeeExceedsBalance\" error by furszy)\n* [#25234](https://github.com/bitcoin/bitcoin/pull/25234) (bench: add benchmark for wallet 'AvailableCoins' function. by furszy)\n* [#24897](https://github.com/bitcoin/bitcoin/pull/24897) ([Draft / POC] Silent Payments by w0xlt)\n* [#23444](https://github.com/bitcoin/bitcoin/pull/23444) (fuzz: Add regression test for wallet crash by MarcoFalke)\n* [#19602](https://github.com/bitcoin/bitcoin/pull/19602) (wallet: Migrate legacy wallets to descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-05-26T09:02:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1138321489",
      "id" : 1138321489,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585D2WhR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138321489/reactions"
      },
      "updated_at" : "2022-07-11T21:25:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138321489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-05-26T19:48:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1138948586",
      "id" : 1138948586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585D4vnq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138948586/reactions"
      },
      "updated_at" : "2022-05-26T19:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1138948586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased, conflicts solved.",
      "created_at" : "2022-05-27T12:57:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1139594490",
      "id" : 1139594490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585D7NT6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139594490/reactions"
      },
      "updated_at" : "2022-05-27T12:57:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1139594490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This basically seems like a good design.\r\n\r\nIn the simple case, you call a function and it can either succeed or fail, and if it fails it will provide an error string. In this case, the function returns `OperationResult` which contains the information packaged up in a standard format.\r\n\r\nIn the slightly more complicated case, the function has a return value. Maybe it's an informational return value, or maybe it's a return value with details about errors if the caller needs to handle different errors in different ways. Either way, `CallResult<T>` can package up the result type with the error string, and return the information a standard format.\r\n\r\nSome design questions / things I'm not sure about:\r\n\r\n- Can `OperationResult` `bool m_res` member be dropped? It seems like just having a single `std::optional<bilingual_str> m_error` member without the `bool` would provide a more minimal and unambiguous version of that class. Treating nullopt case as success, and non-nullopt case as error would avoid the need for the `bool`.\r\n\r\n- Maybe `OperationResult` type should be replaced with `CallResult<void>`, just have one result class instead of two classes\r\n\r\n- Maybe result classes should provide a standard way to chain errors. If some inner function returns an error string, the caller might want to add its own error string placing the error in context. I think we also have some wallet code that returns lists of warnings and lists of errors, so it's not clear if this result classes here would want to expand to handle this kind of thing, or they should just focus on simple cases.\r\n\r\nNo need to resolve these questions to merge the PR, I think. Can add result classes now, and experiment with using them, and add/remove features as needed.",
      "created_at" : "2022-06-16T19:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158062263",
      "id" : 1158062263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FBqC3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158062263/reactions"
      },
      "updated_at" : "2022-06-16T19:37:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158062263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-16T19:42:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158065992",
      "id" : 1158065992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FBq9I",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158065992/reactions"
      },
      "updated_at" : "2022-06-16T19:42:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158065992",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I like this rust-inspired idea.\r\nOne additional idea might be to parametrize Result on both the result and error type (in case it is not always a string). ",
      "created_at" : "2022-06-16T22:10:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158182313",
      "id" : 1158182313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FCHWp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158182313/reactions"
      },
      "updated_at" : "2022-06-16T22:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158182313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I also wonder why this needs three members and 6 constructors. Can this be implemented in less code by just using a `std::variant` with two types?\r\n\r\n\r\nGoing to the extreme, with just two lines of code:\r\n\r\n```cpp\r\ntemplate <typename Obj, typename Err>\r\nusing CallResult = std::variant<Obj, Err>;",
      "created_at" : "2022-06-17T06:30:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158539008",
      "id" : 1158539008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FDecA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158539008/reactions"
      },
      "updated_at" : "2022-06-17T06:30:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1158539008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure what is wrong with GitHub. This absolutely has a merge conflict, but it is not detected by GitHub.",
      "created_at" : "2022-06-21T05:29:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161282532",
      "id" : 1161282532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FN8Pk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161282532/reactions"
      },
      "updated_at" : "2022-06-21T05:29:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161282532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing for now due to the GitHub bug. You can open a new pull after you rebased it, or ask us to reopen this one.",
      "created_at" : "2022-06-21T05:31:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161283606",
      "id" : 1161283606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FN8gW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161283606/reactions"
      },
      "updated_at" : "2022-06-21T05:31:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161283606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "hmm, @MarcoFalke I just rebased it locally and didn't have any merge conflict.",
      "created_at" : "2022-06-21T12:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161693314",
      "id" : 1161693314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FPgiC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161693314/reactions"
      },
      "updated_at" : "2022-06-21T12:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161693314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It probably depends on the version of git, as they regularly change the merge algorithm.",
      "created_at" : "2022-06-21T12:52:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161707416",
      "id" : 1161707416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FPj-Y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161707416/reactions"
      },
      "updated_at" : "2022-06-21T12:52:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161707416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "k np, thanks for re-opening it.\r\nI actually have been working on your `std::variant` comment the past days (great point), wanted to finish wrapping up the idea properly before rebase this branch.",
      "created_at" : "2022-06-21T12:57:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161712996",
      "id" : 1161712996,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FPlVk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161712996/reactions"
      },
      "updated_at" : "2022-06-21T12:57:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161712996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "FWIW, I do not think the std::variant / rust comments are a good idea. I see the main benefit of this PR *not* as providing a way of returning structured results and errors, but as a way of returning displayable and loggable error strings in a convenient way, and a way of replacing ad-hoc `bilingual_str& error` and `std::vector<bilingual_str>& warnings` output parameters with a more consistent and streamlined return mechanism.\r\n\r\nI don't think it is a good idea for the internal `bilingual_str` error type to be customizable, or for it to be directly exposed to callers. I think the internal `bilingual_str` error field that is private and has convenient constructors and accessors in 9ba14ec845a364396b2a364c02dd17043bf5a678 is a good starting design. In the future, the internal type could become more complex if we decide to add support for chaining errors, or passing warnings along with errors.\r\n\r\nRust-style `std::variant` style result types that allow returning different success and error states with data attached are great, but they are already compatible with this PR in its current form. If you want a `std::variant` return type, you can use `CallResult<std::variant<...>>`. There should be no need or benefit to making `CallResult` into a `std::variant`",
      "created_at" : "2022-06-21T14:43:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161843649",
      "id" : 1161843649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQFPB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161843649/reactions"
      },
      "updated_at" : "2022-06-21T14:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161843649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> don't think it is a good idea for the internal bilingual_str error type to be customizable, or for it to be directly exposed to callers. I think the internal bilingual_str error field that is private and has convenient constructors and accessors in https://github.com/bitcoin/bitcoin/commit/9ba14ec845a364396b2a364c02dd17043bf5a678 is a good starting design. In the future, the internal type could become more complex if we decide to add support for chaining errors, or passing warnings along with errors.\r\n\r\nHow would you achieve this without providing the option to `<template>` on the error type. Currently in code, some places use an error string only, some use error+warnings. If the class here only accommodates one type, it can not be used in the other place.\r\n\r\n> Rust-style std::variant style result types that allow returning different success and error states with data attached are great, but they are already compatible with this PR in its current form. If you want a std::variant return type, you can use CallResult<std::variant<...>>. There should be no need or benefit to making CallResult into a std::variant\r\n\r\nNot sure how this would work if I wanted to write a method that calculates the sum, unless it is not possible, in which case it should provide the reason.\r\n\r\nCurrently I could write:\r\n\r\n```cpp\r\nenum class ArithError{ OVERFLOW, UNDERFLOW};\r\nstd::variant<int, ArithErr> sum(int, int);\r\n```\r\n\r\nHowever, the downside is that the calling code would need to unwrap the variant verbosely.\r\n\r\nI don't see how\r\n\r\n```cpp\r\nCallResult<std::variant<int,ArithErr>> sum(int,int);\r\n```\r\n\r\nmakes any sense for the caller",
      "created_at" : "2022-06-21T14:55:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161857704",
      "id" : 1161857704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQIqo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161857704/reactions"
      },
      "updated_at" : "2022-06-21T14:55:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161857704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think this result class is helpful (or hurtful) for low level level functions that compute sums and need to return structured result data to callers. I think this result class is more useful for high level functions that load wallets and create transactions and refill keypools and need to return human readable results and diagnostics to end-users.\r\n\r\n> > In the future, the internal type could become more complex if we decide to add support for chaining errors, or passing warnings along with errors.\r\n> \r\n> How would you achieve this without providing the option to `<template>` on the error type. Currently in code, some places use an error string only, some use error+warnings. If the class here only accommodates one type, it can not be used in the other place.\r\n\r\nThe type can change in the future and the API can degrade gracefully. Version 1 of this class in this PR just lets function return simple error strings and lets callers display or log them or use them in RPC results. Version 2 of this class in a future PR might add support for multiple errors or chained errors. Callers of version 2 result class could update their code to handle multiple errors in separate strings, or they could continue asking for a single error and get multiple errors in a single string. Version 3 of this class in a future-future PR might add support for warnings. Callers of version 3 result class could ask for the warning separately, or they could keep just asking for errors, and get the warnings returned as errors.\r\n\r\nThe class just gets rid of `bilingual_str& error` output parameters for now, but can grow and become more full featured in the future.\r\n\r\n> > Rust-style std::variant style result types that allow returning different success and error states with data attached are great, but they are already compatible with this PR in its current form. If you want a std::variant return type, you can use CallResult<std::variant<...>>. There should be no need or benefit to making CallResult into a std::variant\r\n> \r\n> Not sure how this would work if I wanted to write a method that calculates the sum, unless it is not possible, in which case it should provide the reason.\r\n\r\nI don't think you would use this result class in a method that calculates a sum, unless you want that method to return loggable and displayable error strings as well as sums.\r\n\r\n> Currently I could write:\r\n> \r\n> ```c++\r\n> enum class ArithError{ OVERFLOW, UNDERFLOW};\r\n> std::variant<int, ArithErr> sum(int, int);\r\n> ```\r\n> \r\n> However, the downside is that the calling code would need to unwrap the variant verbosely.\r\n\r\nRight. I don't think think there will be a good solution to verbosity until pattern matching features are added to c++. I just think this is orthogonal to anything in this PR. It is certainly orthogonal to anything in 9ba14ec845a364396b2a364c02dd17043bf5a678. If you want your sum function to return overflow/underflow/int, std::variant is your best bet probably, and I don't think this PR or another PR is going to give you something better.",
      "created_at" : "2022-06-21T15:23:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161910489",
      "id" : 1161910489,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQVjZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161910489/reactions"
      },
      "updated_at" : "2022-06-21T15:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161910489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't think this PR or another PR is going to give you something better.\r\n\r\nI'd guess that pattern matching (or emulating it verbosely) might be overkill to handle two cases. Though, if this is ever needed, it can be implemented in the future and this pull can be used as-is for now.",
      "created_at" : "2022-06-21T15:35:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161924519",
      "id" : 1161924519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQY-n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161924519/reactions"
      },
      "updated_at" : "2022-06-21T15:35:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161924519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "There might be some tricks that give a limited form of pattern matching. For example could replace enum in previous example with:\r\n\r\n```c++\r\nstruct OverflowError {};\r\nstruct UnderflowError {};\r\nstd::variant<int, OverflowError, UnderflowError> sum(int, int);\r\n```\r\n\r\nand use [`std::visit` + `util::Overloaded`lambdas trick](https://github.com/bitcoin/bitcoin/blob/34869114a72435b9d8364385abaefed70d703fa8/src/wallet/transaction.h#L89-L95) to handle the different cases.\r\n",
      "created_at" : "2022-06-21T15:46:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161936770",
      "id" : 1161936770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQb-C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161936770/reactions"
      },
      "updated_at" : "2022-06-21T15:46:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161936770",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, but that's ugly because the lambdas must have the same return type",
      "created_at" : "2022-06-21T15:59:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161952420",
      "id" : 1161952420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQfyk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161952420/reactions"
      },
      "updated_at" : "2022-06-21T15:59:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161952420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Yeah, but that's ugly because the lambdas must have the same return type\r\n\r\nYes probably the lambdas would return void and just execute code and modify local variables, like a `switch` statement. But like you said this is overkill for two cases. `std::variant` would be useful when there are more cases that need to be handled in many different ways.",
      "created_at" : "2022-06-21T16:20:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1161975272",
      "id" : 1161975272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FQlXo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161975272/reactions"
      },
      "updated_at" : "2022-06-21T16:21:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161975272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "A bit late but here.\r\n\r\n> and use [std::visit + util::Overloadedlambdas trick](https://github.com/bitcoin/bitcoin/blob/34869114a72435b9d8364385abaefed70d703fa8/src/wallet/transaction.h#L89-L95) to handle the different cases.\r\n\r\nI was actually experimenting with that (and few more things). Essentially, was making a generic wrapper class for std::variant to eliminate the extra verbosity that comes with it + adding the ability to catch, at compile-time, any not handled function outcome/s.\r\n\r\nBut.. haven't finished the experiment yet (been jumping across other findings).\r\n\r\nFrom my side, if you guys are happy with the current PR state, we could move forward with it. At the end, it cleans up a lot of boilerplate code, can easily be used in a lot of places right away, and encapsulates the result object mechanics into its own class (which, while the class interface is good, as ryanofsky said, it can be upgraded/changed in the future without any trouble).\r\nNote: decision will not stop me from continuing with the experiment.",
      "created_at" : "2022-06-24T18:17:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1165820370",
      "id" : 1165820370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FfQHS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165820370/reactions"
      },
      "updated_at" : "2022-06-24T18:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165820370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My main suggestions for improvement are here: https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158062263. I think  `bool m_res` member should be dropped and `m_error`member  being non-empty should be the only condition that determines whether the result is an error. Also just IMO but I think naming could be improved. I'd change `CallResult<T>` to `util::Result<T>` and `OperationResult` to `util::Result<void>`. I think a short name for the class is better so code is concise is and easy to read. Also I don't think when you are writing code you should need to think about vocabulary and whether a function that returns a value is considered an \"operation\" or an \"call\".",
      "created_at" : "2022-06-24T18:53:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1165846070",
      "id" : 1165846070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FfWY2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165846070/reactions"
      },
      "updated_at" : "2022-06-24T18:53:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165846070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> My main suggestions for improvement are here: https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1158062263. I think bool m_res member should be dropped and m_error member being non-empty should be the only condition that determines whether the result is an error.\r\n\r\nYeah ok ðð¼ .\r\n\r\nWouldn't be bad to think further about the \"result code\" notion there (where any <=0 value means \"failed\") to not make the optional string value a requirement (depends on where the function that uses the `Result` class is located, layer's wise, we might don't want to involve strings in the result and just error codes so then the upper layers can translate the error accordantly to a more informational string). --> Note: and I'm not targeting to low-level arithmetic functions, I'm thinking about middleware functions that are called from different places and mean a slightly different thing depending from where they are called.\r\n\r\nBut.. I'm just thinking out loud.. this could be implemented in the future using a generic error type as well (if needed).\r\n\r\n> Also just IMO but I think naming could be improved. I'd change CallResult<T> to util::Result<T> and OperationResult to util::Result<void>. I think a short name for the class is better so code is concise is and easy to read. Also I don't think when you are writing code you should need to think about vocabulary and whether a function that returns a value is considered an \"operation\" or an \"call\".\r\n\r\nYeah agree, I didn't use the \"Result\" term before because it's being used in other places and didn't want to clash with them: `feebumper.h` has a `Result` enum and `nanobench.h` has a `Result` class.\r\nBut.. just saw that those are under different namespaces, so all good.\r\nStill, I personally don't like much having the `util::` namespace prefix at the beginning of every function signature.",
      "created_at" : "2022-06-24T20:00:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1165894089",
      "id" : 1165894089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FfiHJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165894089/reactions"
      },
      "updated_at" : "2022-06-25T13:47:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1165894089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Based on all the great feedback, pushed the following changes:\r\n\r\n1. Removed the `OperationResult` class. It wasnât being used here (can be introduced in a follow-up PR when we connect it to some process).â¨\r\n\r\n2. Internally, the result class now uses an `std::variant` instead of two optional values. This is mainly because the result object behaves as an OR operation, not as an AND (it contains one value or the other, not both).â¨\r\n    Which let us gain the `std::variant` benefits without introducing the ugly `get_if` and `holds_alternative` by type, or by index, verbosity that comes with it. Quick example:\r\n\r\n    a) Using a plain `std::variant`:\r\n    ```c++\r\n    std::variant<CreatedTransactionResult, bilingual_str> result = createTx(arg1, arg2, arg3);\r\n    if (std::holds_alternative<bilingual_str>(result)) {\r\n        const auto& error = std::get<bilingual_str>(result);\r\n        // error out..\r\n    }\r\n    const auto& txr = std::get<CreatedTransactionResult>(result);\r\n    // continue doing something..\r\n    ```\r\n\r\n    b) Using the introduced `BResult` class:\r\n    ```c++\r\n    BResult<CreatedTransactionResult> result = createTx(arg1, arg2, arg3);\r\n    if (!result) {\r\n        const auto& error = result.GetError();\r\n        // error out..\r\n    }\r\n    const auto& txr = result.GetObj();\r\n    // continue doing something..\r\n    ```\r\n\r\n3. Renamed `CallResult` to `BResult`.\r\n    Some rationale for selecting this name and not the suggested `util::Result`:â¨\r\n    \r\n    a) I think that defining it as âResultâ alone will, sooner or later, cause issues with other library/module class. Itâs a pretty common name.â¨\r\n    b) Function signatures readability wise, I donât think that declare it under the `util` namespace helps much. At least for me, the `util::` prefix usage in a return object looks odd.",
      "created_at" : "2022-06-26T00:40:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166387618",
      "id" : 1166387618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585Fhami",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166387618/reactions"
      },
      "updated_at" : "2022-06-26T00:40:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166387618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906765270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765270"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason to not call this just \"get\", like https://en.cppreference.com/w/cpp/memory/unique_ptr/get",
      "commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "created_at" : "2022-06-26T06:48:16Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906765270",
      "id" : 906765270,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII5842DCPW",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : 27,
      "pull_request_review_id" : 1019380937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765270/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T07:26:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906765645"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765645"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe get -> has , like https://en.cppreference.com/w/cpp/utility/optional/operator_bool\r\n\r\nand `!std::holds_alternative<bilingual_str>` -> `std::holds_alternative<T>`?",
      "commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "created_at" : "2022-06-26T06:52:04Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906765645",
      "id" : 906765645,
      "line" : 29,
      "node_id" : "PRRC_kwDOABII5842DCVN",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : 29,
      "pull_request_review_id" : 1019380937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765645/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T07:26:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906765645",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769575"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769575"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unused?",
      "commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "created_at" : "2022-06-26T07:24:55Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769575",
      "id" : 906769575,
      "line" : 8,
      "node_id" : "PRRC_kwDOABII5842DDSn",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : 8,
      "pull_request_review_id" : 1019380937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769575/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T07:26:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769575",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769619"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think regardless of the namespace, this should be placed in the `util` folder",
      "commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "created_at" : "2022-06-26T07:25:17Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769619",
      "id" : 906769619,
      "line" : 6,
      "node_id" : "PRRC_kwDOABII5842DDTT",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : 6,
      "pull_request_review_id" : 1019380937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769619/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T07:26:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769777"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769777"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if `operator*` should be added, like https://en.cppreference.com/w/cpp/memory/unique_ptr/operator*\r\n\r\nbut instead of UB, it runs into an assertion failure?",
      "commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "created_at" : "2022-06-26T07:26:30Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {\n+        auto error = std::get_if<bilingual_str>(&m_variant);\n+        return (error ? *error : bilingual_str());\n+    }\n+\n+    explicit operator bool() const { return GetRes(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906769777",
      "id" : 906769777,
      "line" : 36,
      "node_id" : "PRRC_kwDOABII5842DDVx",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 36,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : 36,
      "pull_request_review_id" : 1019380937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769777/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T07:26:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906769777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "pull request description needs to be adjusted?",
      "created_at" : "2022-06-26T07:49:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166443699",
      "id" : 1166443699,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FhoSz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166443699/reactions"
      },
      "updated_at" : "2022-06-26T07:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166443699",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837086"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`std::get` on a variant throws [std::bad_variant_access](https://en.cppreference.com/w/cpp/utility/variant/bad_variant_access) on errors (if the variant isn't storing the type) --> https://en.cppreference.com/w/cpp/utility/variant/get. `std::get_if` just return a nullptr.\r\n\r\nIdeally, I think that an assertion here would be good, so we can directly return the const reference instead of the pointer (which will force the callers to always check if the result succeeded or not before getting the type). But.. I didn't add it here to not make this PR too broad, it was needing further restructuring in some of the function's callers (add a new plug-and-play result class is one thing, restructure how each of the callers treats the result is another one).\r\n\r\n",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T15:42:32Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837086",
      "id" : 906837086,
      "in_reply_to_id" : 906765270,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842DTxe",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019449932,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837086/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T15:42:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837162"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T15:43:10Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837162",
      "id" : 906837162,
      "in_reply_to_id" : 906765645,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842DTyq",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019450008,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837162/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T15:43:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837206"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ðð¼ removed.",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T15:43:26Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837206",
      "id" : 906837206,
      "in_reply_to_id" : 906769575,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842DTzW",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019450025,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837206/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T15:43:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837218"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837218"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "moved ðð¼",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T15:43:38Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837218",
      "id" : 906837218,
      "in_reply_to_id" : 906769619,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842DTzi",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019450037,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837218/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T15:43:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906837218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the feedback Marco!\r\n\r\nPR description updated + applied the following changes:\r\n\r\n1) result.h file moved to util directory.\r\n2) Renamed `GetRes` for `HasRes`.\r\n3) Removed unused <optional> include.\r\n\r\n",
      "created_at" : "2022-06-26T15:52:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166570663",
      "id" : 1166570663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FiHSn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166570663/reactions"
      },
      "updated_at" : "2022-06-26T15:52:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1166570663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906850137"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906850137"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I meant renaming the function name from `GetObj` to `Get`",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T17:34:25Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906850137",
      "id" : 906850137,
      "in_reply_to_id" : 906765270,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842DW9Z",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019460698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906850137/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T17:34:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906850137",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906864570"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906864570"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah ok, I tried to distinguish clearly at the interface level the two possible outcomes `GetError()`/`GetObj()` (It could had been `GetRes()` as well). Mainly to prevent this class from be blindly used as a smart pointer, forgetting the error existence.\r\nBut if you have a strong predilection for the `Get` wording, could change it. Nothing is set on stone hehe.",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T20:01:40Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906864570",
      "id" : 906864570,
      "in_reply_to_id" : 906765270,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Dae6",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019473001,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906864570/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T20:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906864570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906872770"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906872770"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, it could be handy but might end up with users trying to access the object without checking the result existence first (which, as not every error path is covered by tests, could end up badly).\r\n\r\nI would rather walk into adding a generic `std::visit` direction, so users are always forced to provide handlers for both outcomes. Which would avoid the pointers need at all and make the code less error prone.",
      "commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "created_at" : "2022-06-26T21:26:56Z",
      "diff_hunk" : "@@ -0,0 +1,39 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_RESULT_H\n+#define BITCOIN_RESULT_H\n+\n+#include <optional>\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool GetRes() const { return !std::holds_alternative<bilingual_str>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {\n+        auto error = std::get_if<bilingual_str>(&m_variant);\n+        return (error ? *error : bilingual_str());\n+    }\n+\n+    explicit operator bool() const { return GetRes(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906872770",
      "id" : 906872770,
      "in_reply_to_id" : 906769777,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842DcfC",
      "original_commit_id" : "89207d52a87c151539d42a63063c51db8f9c1dec",
      "original_line" : 36,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/result.h",
      "position" : null,
      "pull_request_review_id" : 1019479705,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906872770/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-26T21:26:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/906872770",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907436166"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907436166"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "spacing nit:\r\n```suggestion\r\n            if (!ctx.isValid()) {\r\n```",
      "commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "created_at" : "2022-06-27T14:11:09Z",
      "diff_hunk" : "@@ -370,23 +370,21 @@ QString AddressTableModel::addRow(const QString &type, const QString &label, con\n     else if(type == Receive)\n     {\n         // Generate a new address to associate with given label\n-        CTxDestination dest;\n-        if(!walletModel->wallet().getNewDestination(address_type, strLabel, dest))\n-        {\n+        auto op_dest = walletModel->wallet().getNewDestination(address_type, strLabel);\n+        if (!op_dest) {\n             WalletModel::UnlockContext ctx(walletModel->requestUnlock());\n-            if(!ctx.isValid())\n-            {\n+            if(!ctx.isValid()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907436166",
      "id" : 907436166,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842FmCG",
      "original_commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "original_line" : 376,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : null,
      "pull_request_review_id" : 1020266021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907436166/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T14:26:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907436166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907438516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438516"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "redundant nit:\r\n```suggestion\r\n        return _(\"Error: Keypool ran out, please call keypoolrefill first\");\r\n```",
      "commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "created_at" : "2022-06-27T14:13:19Z",
      "diff_hunk" : "@@ -21,26 +21,22 @@ namespace wallet {\n //! Value for the first BIP 32 hardened derivation. Can be used as a bit mask and as a value. See BIP 32 for more details.\n const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n-bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, bilingual_str& error)\n+BResult<CTxDestination> LegacyScriptPubKeyMan::GetNewDestination(const OutputType type)\n {\n     if (LEGACY_OUTPUT_TYPES.count(type) == 0) {\n-        error = _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");\n-        return false;\n+        return _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");;\n     }\n     assert(type != OutputType::BECH32M);\n \n     LOCK(cs_KeyStore);\n-    error.clear();\n \n     // Generate a new key that is added to wallet\n     CPubKey new_key;\n     if (!GetKeyFromPool(new_key, type)) {\n-        error = _(\"Error: Keypool ran out, please call keypoolrefill first\");\n-        return false;\n+        return _(\"Error: Keypool ran out, please call keypoolrefill first\");;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907438516",
      "id" : 907438516,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Fmm0",
      "original_commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "original_line" : 36,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 1020266021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438516/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T14:26:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907438516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907448364"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907448364"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: probably be explicit here, same as in the fuzz test?\r\n```suggestion\r\n        assert(op_dest.HasRes());\r\n```",
      "commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "created_at" : "2022-06-27T14:22:16Z",
      "diff_hunk" : "@@ -74,11 +74,9 @@ static void add_coin(std::vector<COutput>& coins, CWallet& wallet, const CAmount\n     tx.vout.resize(nInput + 1);\n     tx.vout[nInput].nValue = nValue;\n     if (spendable) {\n-        CTxDestination dest;\n-        bilingual_str error;\n-        const bool destination_ok = wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n-        assert(destination_ok);\n-        tx.vout[nInput].scriptPubKey = GetScriptForDestination(dest);\n+        auto op_dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+        assert(op_dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907448364",
      "id" : 907448364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842FpAs",
      "original_commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "original_line" : 78,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/wallet/test/coinselector_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1020266021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907448364/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T14:26:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907448364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511455"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511455"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "created_at" : "2022-06-27T15:23:32Z",
      "diff_hunk" : "@@ -74,11 +74,9 @@ static void add_coin(std::vector<COutput>& coins, CWallet& wallet, const CAmount\n     tx.vout.resize(nInput + 1);\n     tx.vout[nInput].nValue = nValue;\n     if (spendable) {\n-        CTxDestination dest;\n-        bilingual_str error;\n-        const bool destination_ok = wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n-        assert(destination_ok);\n-        tx.vout[nInput].scriptPubKey = GetScriptForDestination(dest);\n+        auto op_dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+        assert(op_dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511455",
      "id" : 907511455,
      "in_reply_to_id" : 907448364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842F4af",
      "original_commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "original_line" : 78,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/wallet/test/coinselector_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1020373642,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511455/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T15:23:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511560"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511560"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "created_at" : "2022-06-27T15:23:38Z",
      "diff_hunk" : "@@ -21,26 +21,22 @@ namespace wallet {\n //! Value for the first BIP 32 hardened derivation. Can be used as a bit mask and as a value. See BIP 32 for more details.\n const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n-bool LegacyScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDestination& dest, bilingual_str& error)\n+BResult<CTxDestination> LegacyScriptPubKeyMan::GetNewDestination(const OutputType type)\n {\n     if (LEGACY_OUTPUT_TYPES.count(type) == 0) {\n-        error = _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");\n-        return false;\n+        return _(\"Error: Legacy wallets only support the \\\"legacy\\\", \\\"p2sh-segwit\\\", and \\\"bech32\\\" address types\");;\n     }\n     assert(type != OutputType::BECH32M);\n \n     LOCK(cs_KeyStore);\n-    error.clear();\n \n     // Generate a new key that is added to wallet\n     CPubKey new_key;\n     if (!GetKeyFromPool(new_key, type)) {\n-        error = _(\"Error: Keypool ran out, please call keypoolrefill first\");\n-        return false;\n+        return _(\"Error: Keypool ran out, please call keypoolrefill first\");;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511560",
      "id" : 907511560,
      "in_reply_to_id" : 907438516,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842F4cI",
      "original_commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "original_line" : 36,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 1020373787,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511560/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T15:23:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511560",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511636"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "created_at" : "2022-06-27T15:23:43Z",
      "diff_hunk" : "@@ -370,23 +370,21 @@ QString AddressTableModel::addRow(const QString &type, const QString &label, con\n     else if(type == Receive)\n     {\n         // Generate a new address to associate with given label\n-        CTxDestination dest;\n-        if(!walletModel->wallet().getNewDestination(address_type, strLabel, dest))\n-        {\n+        auto op_dest = walletModel->wallet().getNewDestination(address_type, strLabel);\n+        if (!op_dest) {\n             WalletModel::UnlockContext ctx(walletModel->requestUnlock());\n-            if(!ctx.isValid())\n-            {\n+            if(!ctx.isValid()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907511636",
      "id" : 907511636,
      "in_reply_to_id" : 907436166,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842F4dU",
      "original_commit_id" : "efbeafaa1d537db171016a785da4647fde7db5cb",
      "original_line" : 376,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : null,
      "pull_request_review_id" : 1020373895,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T15:23:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907511636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review theStack!\r\n\r\nPushed the three nits.\r\n\r\n> Back then on PR https://github.com/bitcoin/bitcoin/pull/20640, which was the first step of getting rid of out parameters for the functions CreateTransaction{Internal}, the over-use of the auto keyword was questioned (see https://github.com/bitcoin/bitcoin/pull/20640#discussion_r549173268) due to obscuring the data type and hence lower readability, as it's not immediately visible what the return type is. Probably at some places explicitly using the BResult<T> would also be better\r\n\r\nI think that at least on this, non-consensus, code is \"ok\" to use the `auto` keyword on the result. Mainly because in order to get the returned value you still have to call `GetObj()` (where, probably, we could clarify the type there).\r\n\r\nAnd I think that something like the following example is a bit too much for a single line of code:\r\n```c++\r\nconst BResult<CreatedTransactionResult>& create_tx_result = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\r\n```\r\n\r\nBut.. open for comments. If more want it, will make the changes. (might be good to add a section into the developer-notes talking about this)",
      "created_at" : "2022-06-27T15:46:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1167519405",
      "id" : 1167519405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585Flu6t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167519405/reactions"
      },
      "updated_at" : "2022-06-27T16:00:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167519405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907685907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907685907"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 755cb5606de0b63e0027ab11840bb5e4c3f000aa \"Introduce generic 'Result' class\"\r\n\r\nI would prefer if we used `std::get` instead of `get_if` so that the callers don't have to deal with pointers. This could `assert(HasRes())` to avoid the exception. Then the return value would be `T&`.\r\n\r\nSame for `GetError` below.",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T18:36:57Z",
      "diff_hunk" : "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907685907",
      "id" : 907685907,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842GjAT",
      "original_commit_id" : "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "original_line" : 26,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : null,
      "pull_request_review_id" : 1020622717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907685907/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907685907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907689776"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907689776"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 755cb5606de0b63e0027ab11840bb5e4c3f000aa \"Introduce generic 'Result' class\"\r\n\r\n```suggestion\r\n    const bilingual_str& GetError() const {\r\n```",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T18:41:28Z",
      "diff_hunk" : "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907689776",
      "id" : 907689776,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Gj8w",
      "original_commit_id" : "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "original_line" : 30,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : null,
      "pull_request_review_id" : 1020622717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907689776/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907689776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907702773"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907702773"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 4e1353016dabcf645b22fb7c196f62d8f465df39 \"send: refactor CreateTransaction flow to return a BResult<CTransactionRef>\"\r\n\r\nThe `if` above could just return the error strings directly as you have done elsewhere, there's no need to be returning error after setting those strings.",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T18:56:41Z",
      "diff_hunk" : "@@ -904,7 +895,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n                     } else {\n                         error = _(\"The transaction amount is too small to send after the fee has been deducted\");\n                     }\n-                    return std::nullopt;\n+                    return error;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907702773",
      "id" : 907702773,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842GnH1",
      "original_commit_id" : "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "original_line" : 898,
      "original_position" : 93,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1020622717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907702773/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907702773",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907707351"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707351"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 9a0a4024f0fdd2ec598613fa8ea55683115a88f5 \"wallet: refactor GetNewDestination, use BResult\"\r\n\r\n```suggestion\r\n    assert(op_dest.HasRes());\r\n```",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T19:02:29Z",
      "diff_hunk" : "@@ -20,11 +20,10 @@ const std::string ADDRESS_BCRT1_UNSPENDABLE = \"bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqq\n std::string getnewaddress(CWallet& w)\n {\n     constexpr auto output_type = OutputType::BECH32;\n-    CTxDestination dest;\n-    bilingual_str error;\n-    if (!w.GetNewDestination(output_type, \"\", dest, error)) assert(false);\n+    auto op_dest = w.GetNewDestination(output_type, \"\");\n+    if (!op_dest) assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907707351",
      "id" : 907707351,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842GoPX",
      "original_commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "original_line" : 24,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/test/util/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 1020622717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707351/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907707351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907710067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 9a0a4024f0fdd2ec598613fa8ea55683115a88f5 \"wallet: refactor GetNewDestination, use BResult\"\r\n\r\nIt would be nice if this function got the same treatment too. But that can also be done in a followup to avoid expanding the scope of this PR too far.",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T19:06:13Z",
      "diff_hunk" : "@@ -1769,9 +1763,13 @@ bool DescriptorScriptPubKeyMan::Encrypt(const CKeyingMaterial& master_key, Walle\n bool DescriptorScriptPubKeyMan::GetReservedDestination(const OutputType type, bool internal, CTxDestination& address, int64_t& index, CKeyPool& keypool, bilingual_str& error)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907710067",
      "id" : 907710067,
      "line" : 1763,
      "node_id" : "PRRC_kwDOABII5842Go5z",
      "original_commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "original_line" : 1763,
      "original_position" : 75,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : 75,
      "pull_request_review_id" : 1020622717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710067/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907710067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907721005"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907721005"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 4e1353016dabcf645b22fb7c196f62d8f465df39 \"send: refactor CreateTransaction flow to return a BResult<CTransactionRef>\"\r\n\r\n`res` is not being evaluated as a `bool` here, so the tracepoint does not work as expected.\r\n\r\n```suggestion\r\n    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res.HasRes(),\r\n```",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T19:20:53Z",
      "diff_hunk" : "@@ -961,48 +948,46 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n     return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);\n }\n \n-std::optional<CreatedTransactionResult> CreateTransaction(\n+BResult<CreatedTransactionResult> CreateTransaction(\n         CWallet& wallet,\n         const std::vector<CRecipient>& vecSend,\n         int change_pos,\n-        bilingual_str& error,\n         const CCoinControl& coin_control,\n         bool sign)\n {\n     if (vecSend.empty()) {\n-        error = _(\"Transaction must have at least one recipient\");\n-        return std::nullopt;\n+        return _(\"Transaction must have at least one recipient\");\n     }\n \n     if (std::any_of(vecSend.cbegin(), vecSend.cend(), [](const auto& recipient){ return recipient.nAmount < 0; })) {\n-        error = _(\"Transaction amounts must not be negative\");\n-        return std::nullopt;\n+        return _(\"Transaction amounts must not be negative\");\n     }\n \n     LOCK(wallet.cs_wallet);\n \n-    std::optional<CreatedTransactionResult> txr_ungrouped = CreateTransactionInternal(wallet, vecSend, change_pos, error, coin_control, sign);\n-    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), txr_ungrouped.has_value(),\n-           txr_ungrouped.has_value() ? txr_ungrouped->fee : 0, txr_ungrouped.has_value() ? txr_ungrouped->change_pos : 0);\n-    if (!txr_ungrouped) return std::nullopt;\n+    auto res = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\n+    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907721005",
      "id" : 907721005,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842Grkt",
      "original_commit_id" : "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "original_line" : 969,
      "original_position" : 171,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1020622717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907721005/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T19:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907721005",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907778660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907778660"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I would prefer it too but.. the rationale to not implement it was https://github.com/bitcoin/bitcoin/pull/25218#discussion_r906837086.\r\n\r\nLet me see how large the changes to make this happen are. Probably the only refactoring will be inside `CreateTransaction` for all the tracepoints.",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-06-27T20:39:38Z",
      "diff_hunk" : "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907778660",
      "id" : 907778660,
      "in_reply_to_id" : 907685907,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842G5pk",
      "original_commit_id" : "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "original_line" : 26,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : null,
      "pull_request_review_id" : 1020754747,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907778660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-30T18:30:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907778660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907781983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907781983"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yeah, better to leave it for a follow-up PR. Once we get this one merged, other PRs will be able to use the new class in different workflows independently.",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T20:44:13Z",
      "diff_hunk" : "@@ -1769,9 +1763,13 @@ bool DescriptorScriptPubKeyMan::Encrypt(const CKeyingMaterial& master_key, Walle\n bool DescriptorScriptPubKeyMan::GetReservedDestination(const OutputType type, bool internal, CTxDestination& address, int64_t& index, CKeyPool& keypool, bilingual_str& error)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907781983",
      "id" : 907781983,
      "in_reply_to_id" : 907710067,
      "line" : 1763,
      "node_id" : "PRRC_kwDOABII5842G6df",
      "original_commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "original_line" : 1763,
      "original_position" : 75,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : 75,
      "pull_request_review_id" : 1020759413,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907781983/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T20:44:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907781983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814337"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T21:30:26Z",
      "diff_hunk" : "@@ -20,11 +20,10 @@ const std::string ADDRESS_BCRT1_UNSPENDABLE = \"bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqq\n std::string getnewaddress(CWallet& w)\n {\n     constexpr auto output_type = OutputType::BECH32;\n-    CTxDestination dest;\n-    bilingual_str error;\n-    if (!w.GetNewDestination(output_type, \"\", dest, error)) assert(false);\n+    auto op_dest = w.GetNewDestination(output_type, \"\");\n+    if (!op_dest) assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814337",
      "id" : 907814337,
      "in_reply_to_id" : 907707351,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842HCXB",
      "original_commit_id" : "9a0a4024f0fdd2ec598613fa8ea55683115a88f5",
      "original_line" : 24,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/test/util/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 1020805131,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814337/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T21:30:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814403"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T21:30:33Z",
      "diff_hunk" : "@@ -904,7 +895,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n                     } else {\n                         error = _(\"The transaction amount is too small to send after the fee has been deducted\");\n                     }\n-                    return std::nullopt;\n+                    return error;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814403",
      "id" : 907814403,
      "in_reply_to_id" : 907702773,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842HCYD",
      "original_commit_id" : "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "original_line" : 898,
      "original_position" : 93,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1020805239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814403/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T21:30:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814465"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T21:30:39Z",
      "diff_hunk" : "@@ -0,0 +1,38 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* In case of success, the result object */\n+    const T* GetObj() const { return std::get_if<T>(&m_variant); }\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+    /* In case of failure, the error cause */\n+    bilingual_str GetError() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814465",
      "id" : 907814465,
      "in_reply_to_id" : 907689776,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842HCZB",
      "original_commit_id" : "755cb5606de0b63e0027ab11840bb5e4c3f000aa",
      "original_line" : 30,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : null,
      "pull_request_review_id" : 1020805322,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814465/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T21:30:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814465",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814540"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814540"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-27T21:30:48Z",
      "diff_hunk" : "@@ -961,48 +948,46 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n     return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);\n }\n \n-std::optional<CreatedTransactionResult> CreateTransaction(\n+BResult<CreatedTransactionResult> CreateTransaction(\n         CWallet& wallet,\n         const std::vector<CRecipient>& vecSend,\n         int change_pos,\n-        bilingual_str& error,\n         const CCoinControl& coin_control,\n         bool sign)\n {\n     if (vecSend.empty()) {\n-        error = _(\"Transaction must have at least one recipient\");\n-        return std::nullopt;\n+        return _(\"Transaction must have at least one recipient\");\n     }\n \n     if (std::any_of(vecSend.cbegin(), vecSend.cend(), [](const auto& recipient){ return recipient.nAmount < 0; })) {\n-        error = _(\"Transaction amounts must not be negative\");\n-        return std::nullopt;\n+        return _(\"Transaction amounts must not be negative\");\n     }\n \n     LOCK(wallet.cs_wallet);\n \n-    std::optional<CreatedTransactionResult> txr_ungrouped = CreateTransactionInternal(wallet, vecSend, change_pos, error, coin_control, sign);\n-    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), txr_ungrouped.has_value(),\n-           txr_ungrouped.has_value() ? txr_ungrouped->fee : 0, txr_ungrouped.has_value() ? txr_ungrouped->change_pos : 0);\n-    if (!txr_ungrouped) return std::nullopt;\n+    auto res = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\n+    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r907814540",
      "id" : 907814540,
      "in_reply_to_id" : 907721005,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842HCaM",
      "original_commit_id" : "4e1353016dabcf645b22fb7c196f62d8f465df39",
      "original_line" : 969,
      "original_position" : 171,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1020805454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814540/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-27T21:30:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/907814540",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated per achow101's feedback.\r\n\r\nMain modification was around the result `getObj` and `GetError` methods, which now return const references instead of pointers.\r\nThis will force users to check whether the result succeeded or not before attempt to access the value.",
      "created_at" : "2022-06-27T21:42:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1167939817",
      "id" : 1167939817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585FnVjp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167939817/reactions"
      },
      "updated_at" : "2022-06-30T18:31:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1167939817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 26288acf5c8e5cb55cf6b1829ead883289fce633",
      "created_at" : "2022-06-30T18:20:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1171536216",
      "id" : 1171536216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585F1DlY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1171536216/reactions"
      },
      "updated_at" : "2022-06-30T18:20:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1171536216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @w0xlt for the review!\r\n\r\n> The CI has an error, but the error message does not match the current PR code.\r\nwallet.GetNewDestination(OutputType::BECH32, \"\", destination, error); was replaced in https://github.com/bitcoin/bitcoin/commit/26288acf5c8e5cb55cf6b1829ead883289fce633\r\n\r\nGood eye. Seems that it's a silent conflict with master due #24924 merge. Going to rebase it once more.",
      "created_at" : "2022-07-08T12:27:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1178931392",
      "id" : 1178931392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585GRRDA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1178931392/reactions"
      },
      "updated_at" : "2022-07-08T12:27:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1178931392",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "All green now, ready to go.",
      "created_at" : "2022-07-08T13:56:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1179018985",
      "id" : 1179018985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585GRmbp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179018985/reactions"
      },
      "updated_at" : "2022-07-08T13:56:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179018985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased once more to include the recently merged #25337 here as well.",
      "created_at" : "2022-07-08T14:24:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1179048871",
      "id" : 1179048871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585GRtun",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179048871/reactions"
      },
      "updated_at" : "2022-07-08T14:24:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179048871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-11T17:44:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1180690614",
      "id" : 1180690614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585GX-i2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180690614/reactions"
      },
      "updated_at" : "2022-07-11T17:44:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180690614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918826967"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918826967"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing newline?",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T10:51:12Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918826967",
      "id" : 918826967,
      "line" : 9,
      "node_id" : "PRRC_kwDOABII5842xC_X",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 9,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 9,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918826967/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918826967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918828784"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918828784"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if this is better written as `BResult(T obj) : m_variant{std::move(obj)} {}`. Otherwise it seems impossible to use on non-copyable types",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T10:53:14Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918828784",
      "id" : 918828784,
      "line" : 22,
      "node_id" : "PRRC_kwDOABII5842xDbw",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 22,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 22,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918828784/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918828784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918836620"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918836620"
         }
      },
      "author_association" : "MEMBER",
      "body" : "might be good to add a mutable getter, so that the result can be de-capsulated by the caller\r\n\r\n\r\nEdit: Fixed in https://github.com/bitcoin/bitcoin/pull/25594",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:02:32Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918836620",
      "id" : 918836620,
      "line" : 29,
      "node_id" : "PRRC_kwDOABII5842xFWM",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 29,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918836620/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T16:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918836620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918837404"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918837404"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shouldn't this be annotated with LIFETIMEBOUND as it is returning a pointer to internal memory?",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:03:34Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {\n+        assert(HasRes());\n+        return std::get<T>(m_variant);\n+    }\n+\n+    /* In case of failure, the error cause */\n+    const bilingual_str& GetError() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918837404",
      "id" : 918837404,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5842xFic",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 35,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918837404/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918837404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918838756"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918838756"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also LIFETIMEBOUND?",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:05:04Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918838756",
      "id" : 918838756,
      "in_reply_to_id" : 918836620,
      "line" : 29,
      "node_id" : "PRRC_kwDOABII5842xF3k",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 29,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 29,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918838756/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918838756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918840872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918840872"
         }
      },
      "author_association" : "MEMBER",
      "body" : "we don't add those comments, as they are impossible to maintain",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:07:52Z",
      "diff_hunk" : "@@ -6,6 +6,7 @@\n #define BITCOIN_WALLET_SPEND_H\n \n #include <consensus/amount.h>\n+#include <policy/fees.h> // for FeeCalculation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918840872",
      "id" : 918840872,
      "line" : 9,
      "node_id" : "PRRC_kwDOABII5842xGYo",
      "original_commit_id" : "198fcca162f4d2f877feab485e629ff89818ff56",
      "original_line" : 9,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/spend.h",
      "position" : 4,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918840872/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918840872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918843290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918843290"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could use `{}` to clarify that this is not a function and to enable narrowing warnings for the int types.",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:10:44Z",
      "diff_hunk" : "@@ -964,7 +962,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n               feeCalc.est.fail.start, feeCalc.est.fail.end,\n               (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) > 0.0 ? 100 * feeCalc.est.fail.withinTarget / (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) : 0.0,\n               feeCalc.est.fail.withinTarget, feeCalc.est.fail.totalConfirmed, feeCalc.est.fail.inMempool, feeCalc.est.fail.leftMempool);\n-    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut);\n+    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918843290",
      "id" : 918843290,
      "line" : 951,
      "node_id" : "PRRC_kwDOABII5842xG-a",
      "original_commit_id" : "198fcca162f4d2f877feab485e629ff89818ff56",
      "original_line" : 965,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : 21,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918843290/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918843290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918847542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918847542"
         }
      },
      "author_association" : "MEMBER",
      "body" : "while touching this line: clang-tidy named args are of the format `/*sign=*/`",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:16:23Z",
      "diff_hunk" : "@@ -204,10 +204,10 @@ WalletModel::SendCoinsReturn WalletModel::prepareTransaction(WalletModelTransact\n     {\n         CAmount nFeeRequired = 0;\n         int nChangePosRet = -1;\n-        bilingual_str error;\n \n         auto& newTx = transaction.getWtx();\n-        newTx = m_wallet->createTransaction(vecSend, coinControl, !wallet().privateKeysDisabled() /* sign */, nChangePosRet, nFeeRequired, error);\n+        const auto& res = m_wallet->createTransaction(vecSend, coinControl, !wallet().privateKeysDisabled() /* sign */, nChangePosRet, nFeeRequired);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918847542",
      "id" : 918847542,
      "line" : 209,
      "node_id" : "PRRC_kwDOABII5842xIA2",
      "original_commit_id" : "22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
      "original_line" : 209,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/qt/walletmodel.cpp",
      "position" : 8,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918847542/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918847542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918863838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918863838"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit could use `std::move` here, if the mutable BResult interface is implemented",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:34:42Z",
      "diff_hunk" : "@@ -965,48 +951,47 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n     return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);\n }\n \n-std::optional<CreatedTransactionResult> CreateTransaction(\n+BResult<CreatedTransactionResult> CreateTransaction(\n         CWallet& wallet,\n         const std::vector<CRecipient>& vecSend,\n         int change_pos,\n-        bilingual_str& error,\n         const CCoinControl& coin_control,\n         bool sign)\n {\n     if (vecSend.empty()) {\n-        error = _(\"Transaction must have at least one recipient\");\n-        return std::nullopt;\n+        return _(\"Transaction must have at least one recipient\");\n     }\n \n     if (std::any_of(vecSend.cbegin(), vecSend.cend(), [](const auto& recipient){ return recipient.nAmount < 0; })) {\n-        error = _(\"Transaction amounts must not be negative\");\n-        return std::nullopt;\n+        return _(\"Transaction amounts must not be negative\");\n     }\n \n     LOCK(wallet.cs_wallet);\n \n-    std::optional<CreatedTransactionResult> txr_ungrouped = CreateTransactionInternal(wallet, vecSend, change_pos, error, coin_control, sign);\n-    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), txr_ungrouped.has_value(),\n-           txr_ungrouped.has_value() ? txr_ungrouped->fee : 0, txr_ungrouped.has_value() ? txr_ungrouped->change_pos : 0);\n-    if (!txr_ungrouped) return std::nullopt;\n+    auto res = CreateTransactionInternal(wallet, vecSend, change_pos, coin_control, sign);\n+    TRACE4(coin_selection, normal_create_tx_internal, wallet.GetName().c_str(), res.HasRes(),\n+           res ? res.GetObj().fee : 0, res ? res.GetObj().change_pos : 0);\n+    if (!res) return res;\n+    const auto& txr_ungrouped = res.GetObj();\n     // try with avoidpartialspends unless it's enabled already\n-    if (txr_ungrouped->fee > 0 /* 0 means non-functional fee rate estimation */ && wallet.m_max_aps_fee > -1 && !coin_control.m_avoid_partial_spends) {\n+    if (txr_ungrouped.fee > 0 /* 0 means non-functional fee rate estimation */ && wallet.m_max_aps_fee > -1 && !coin_control.m_avoid_partial_spends) {\n         TRACE1(coin_selection, attempting_aps_create_tx, wallet.GetName().c_str());\n         CCoinControl tmp_cc = coin_control;\n         tmp_cc.m_avoid_partial_spends = true;\n-        bilingual_str error2; // fired and forgotten; if an error occurs, we discard the results\n-        std::optional<CreatedTransactionResult> txr_grouped = CreateTransactionInternal(wallet, vecSend, change_pos, error2, tmp_cc, sign);\n+        auto res_tx_grouped = CreateTransactionInternal(wallet, vecSend, change_pos, tmp_cc, sign);\n+        // Helper optional class for now\n+        std::optional<CreatedTransactionResult> txr_grouped{res_tx_grouped.HasRes() ? std::make_optional(res_tx_grouped.GetObj()) : std::nullopt};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918863838",
      "id" : 918863838,
      "line" : 983,
      "node_id" : "PRRC_kwDOABII5842xL_e",
      "original_commit_id" : "22351725bc4c5eb63ee45f607374bbf2d76e2b8c",
      "original_line" : 983,
      "original_position" : 192,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : 192,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918863838/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918863838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918867327"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918867327"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could write shorter as `const CTxDestination& dest{Assert(wallet.GetNewDestination(OutputType::BECH32, \"\")).GetObj()};`",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:39:26Z",
      "diff_hunk" : "@@ -47,12 +47,11 @@ static void BenchUnloadWallet(std::shared_ptr<CWallet>&& wallet)\n \n static void AddTx(CWallet& wallet)\n {\n-    bilingual_str error;\n-    CTxDestination dest;\n-    wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n+    const auto& dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+    assert(dest.HasRes());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918867327",
      "id" : 918867327,
      "line" : 51,
      "node_id" : "PRRC_kwDOABII5842xM1_",
      "original_commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_line" : 51,
      "original_position" : 8,
      "original_start_line" : 50,
      "path" : "src/bench/wallet_loading.cpp",
      "position" : 8,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918867327/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 50,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918867327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918868560"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918868560"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually nvm. This would likely be a use-after-free.",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:40:48Z",
      "diff_hunk" : "@@ -47,12 +47,11 @@ static void BenchUnloadWallet(std::shared_ptr<CWallet>&& wallet)\n \n static void AddTx(CWallet& wallet)\n {\n-    bilingual_str error;\n-    CTxDestination dest;\n-    wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n+    const auto& dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+    assert(dest.HasRes());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918868560",
      "id" : 918868560,
      "in_reply_to_id" : 918867327,
      "line" : 51,
      "node_id" : "PRRC_kwDOABII5842xNJQ",
      "original_commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_line" : 51,
      "original_position" : 8,
      "original_start_line" : 50,
      "path" : "src/bench/wallet_loading.cpp",
      "position" : 8,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918868560/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 50,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918868560",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918870433"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918870433"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe there could be a `ReleaseObj` helper to obtain the ownership?",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T11:43:07Z",
      "diff_hunk" : "@@ -47,12 +47,11 @@ static void BenchUnloadWallet(std::shared_ptr<CWallet>&& wallet)\n \n static void AddTx(CWallet& wallet)\n {\n-    bilingual_str error;\n-    CTxDestination dest;\n-    wallet.GetNewDestination(OutputType::BECH32, \"\", dest, error);\n+    const auto& dest = wallet.GetNewDestination(OutputType::BECH32, \"\");\n+    assert(dest.HasRes());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918870433",
      "id" : 918870433,
      "in_reply_to_id" : 918867327,
      "line" : 51,
      "node_id" : "PRRC_kwDOABII5842xNmh",
      "original_commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_line" : 51,
      "original_position" : 8,
      "original_start_line" : 50,
      "path" : "src/bench/wallet_loading.cpp",
      "position" : 8,
      "pull_request_review_id" : 1035601016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918870433/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 50,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-12T11:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918870433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918926778"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918926778"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Diff to reproduce use-after-free with asan:\r\n\r\n\r\n```diff\r\ndiff --git a/src/test/util_tests.cpp b/src/test/util_tests.cpp\r\nindex fda56ccff7..2abf2db298 100644\r\n--- a/src/test/util_tests.cpp\r\n+++ b/src/test/util_tests.cpp\r\n@@ -4,6 +4,7 @@\r\n \r\n #include <util/system.h>\r\n \r\n+#include <util/result.h>\r\n #include <clientversion.h>\r\n #include <fs.h>\r\n #include <hash.h> // For Hash()\r\n@@ -2659,6 +2660,13 @@ BOOST_AUTO_TEST_CASE(message_hash)\r\n     BOOST_CHECK_NE(message_hash1, signature_hash);\r\n }\r\n \r\n+BOOST_AUTO_TEST_CASE(bresult)\r\n+{\r\n+  const auto& long_str{\"Looooooooooooooooooooooooooooooooooooooooooooooooong string\"};\r\n+  const auto& err{BResult<int>{Untranslated(long_str)}.GetError()};\r\n+  BOOST_CHECK_EQUAL(err.original, long_str);\r\n+}\r\n+\r\n BOOST_AUTO_TEST_CASE(remove_prefix)\r\n {\r\n     BOOST_CHECK_EQUAL(RemovePrefix(\"./util/system.h\", \"./\"), \"util/system.h\");\r\n```\r\n\r\nWith the warning added:\r\n\r\n\r\n```diff\r\ndiff --git a/src/util/result.h b/src/util/result.h\r\nindex dcf5edaa5b..18364b3c6e 100644\r\n--- a/src/util/result.h\r\n+++ b/src/util/result.h\r\n@@ -6,6 +6,8 @@\r\n #define BITCOIN_UTIL_RESULT_H\r\n \r\n #include <util/translation.h>\r\n+#include <attributes.h>\r\n+\r\n #include <variant>\r\n \r\n /*\r\n@@ -32,7 +34,7 @@ public:\r\n     }\r\n \r\n     /* In case of failure, the error cause */\r\n-    const bilingual_str& GetError() const {\r\n+    const bilingual_str& GetError() const LIFETIMEBOUND {\r\n         assert(!HasRes());\r\n         return std::get<bilingual_str>(m_variant);\r\n     }\r\n```\r\n\r\nResults in:\r\n\r\n```\r\ntest/util_tests.cpp:2666:19: warning: temporary bound to local reference 'err' will be destroyed at the end of the full-expression [-Wdangling]\r\n  const auto& err{BResult<int>{Untranslated(long_str)}.GetError()};\r\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n1 warning generated.\r\n\r\n\r\n\r\n",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T12:47:13Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}\n+    BResult(const bilingual_str& error) : m_variant(error) {}\n+\n+    /* Whether the function succeeded or not */\n+    bool HasRes() const { return std::holds_alternative<T>(m_variant); }\n+\n+    /* In case of success, the result object */\n+    const T& GetObj() const {\n+        assert(HasRes());\n+        return std::get<T>(m_variant);\n+    }\n+\n+    /* In case of failure, the error cause */\n+    const bilingual_str& GetError() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918926778",
      "id" : 918926778,
      "in_reply_to_id" : 918837404,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5842xbW6",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 35,
      "pull_request_review_id" : 1035744756,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918926778/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T12:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918926778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918985474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985474"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed in https://github.com/bitcoin/bitcoin/pull/25594",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T13:40:23Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918985474",
      "id" : 918985474,
      "in_reply_to_id" : 918826967,
      "line" : 9,
      "node_id" : "PRRC_kwDOABII5842xpsC",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 9,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 9,
      "pull_request_review_id" : 1035829419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T13:40:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918985584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985584"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed in https://github.com/bitcoin/bitcoin/pull/25594",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-12T13:40:29Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {\n+private:\n+    std::variant<bilingual_str, T> m_variant;\n+\n+public:\n+    BResult() : m_variant(Untranslated(\"\")) {}\n+    BResult(const T& _obj) : m_variant(_obj) {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r918985584",
      "id" : 918985584,
      "in_reply_to_id" : 918828784,
      "line" : 22,
      "node_id" : "PRRC_kwDOABII5842xptw",
      "original_commit_id" : "7a45c33d1f8a758850cf8e7bd6ad508939ba5c0d",
      "original_line" : 22,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 22,
      "pull_request_review_id" : 1035829584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985584/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-12T13:40:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/918985584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r921376131"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921376131"
         }
      },
      "author_association" : "NONE",
      "body" : "What does that `B` means at the beginning of class name?",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-14T17:02:13Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r921376131",
      "id" : 921376131,
      "line" : 16,
      "node_id" : "PRRC_kwDOABII58426xWD",
      "original_commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_line" : 16,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 16,
      "pull_request_review_id" : 1039194856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921376131/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-14T20:08:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921376131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/54557628?v=4",
         "events_url" : "https://api.github.com/users/Riahiamirreza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Riahiamirreza/followers",
         "following_url" : "https://api.github.com/users/Riahiamirreza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Riahiamirreza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Riahiamirreza",
         "id" : 54557628,
         "login" : "Riahiamirreza",
         "node_id" : "MDQ6VXNlcjU0NTU3NjI4",
         "organizations_url" : "https://api.github.com/users/Riahiamirreza/orgs",
         "received_events_url" : "https://api.github.com/users/Riahiamirreza/received_events",
         "repos_url" : "https://api.github.com/users/Riahiamirreza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Riahiamirreza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Riahiamirreza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Riahiamirreza"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r921449805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921449805"
         }
      },
      "author_association" : "NONE",
      "body" : "@MarcoFalke Use `{}` where? You mean `CreatedTransactionResult{tx, nFeeRet, nChangePosInOut, feeCalc}` instead of current version? ",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-14T18:20:41Z",
      "diff_hunk" : "@@ -964,7 +962,7 @@ static std::optional<CreatedTransactionResult> CreateTransactionInternal(\n               feeCalc.est.fail.start, feeCalc.est.fail.end,\n               (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) > 0.0 ? 100 * feeCalc.est.fail.withinTarget / (feeCalc.est.fail.totalConfirmed + feeCalc.est.fail.inMempool + feeCalc.est.fail.leftMempool) : 0.0,\n               feeCalc.est.fail.withinTarget, feeCalc.est.fail.totalConfirmed, feeCalc.est.fail.inMempool, feeCalc.est.fail.leftMempool);\n-    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut);\n+    return CreatedTransactionResult(tx, nFeeRet, nChangePosInOut, feeCalc);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r921449805",
      "id" : 921449805,
      "in_reply_to_id" : 918843290,
      "line" : 951,
      "node_id" : "PRRC_kwDOABII58427DVN",
      "original_commit_id" : "198fcca162f4d2f877feab485e629ff89818ff56",
      "original_line" : 965,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : 21,
      "pull_request_review_id" : 1039194856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921449805/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-14T20:08:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/921449805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/54557628?v=4",
         "events_url" : "https://api.github.com/users/Riahiamirreza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Riahiamirreza/followers",
         "following_url" : "https://api.github.com/users/Riahiamirreza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Riahiamirreza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Riahiamirreza",
         "id" : 54557628,
         "login" : "Riahiamirreza",
         "node_id" : "MDQ6VXNlcjU0NTU3NjI4",
         "organizations_url" : "https://api.github.com/users/Riahiamirreza/orgs",
         "received_events_url" : "https://api.github.com/users/Riahiamirreza/received_events",
         "repos_url" : "https://api.github.com/users/Riahiamirreza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Riahiamirreza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Riahiamirreza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Riahiamirreza"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think this PR can have `Good first review` label. For someone like me which is very new to the project, understanding the concept and implementation of this PR was easy (relative to other PRs).",
      "created_at" : "2022-07-15T11:37:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1185459469",
      "id" : 1185459469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585GqK0N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185459469/reactions"
      },
      "updated_at" : "2022-07-15T11:37:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185459469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/54557628?v=4",
         "events_url" : "https://api.github.com/users/Riahiamirreza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Riahiamirreza/followers",
         "following_url" : "https://api.github.com/users/Riahiamirreza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Riahiamirreza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Riahiamirreza",
         "id" : 54557628,
         "login" : "Riahiamirreza",
         "node_id" : "MDQ6VXNlcjU0NTU3NjI4",
         "organizations_url" : "https://api.github.com/users/Riahiamirreza/orgs",
         "received_events_url" : "https://api.github.com/users/Riahiamirreza/received_events",
         "repos_url" : "https://api.github.com/users/Riahiamirreza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Riahiamirreza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Riahiamirreza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Riahiamirreza"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r922116692"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116692"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Comes from \"Bilingual\". The story behind it is in the last paragraph of this comment: https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1166387618",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-15T12:26:23Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+// Copyright (c) 2022 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_RESULT_H\n+#define BITCOIN_UTIL_RESULT_H\n+\n+#include <util/translation.h>\n+#include <variant>\n+\n+/*\n+ * 'BResult' is a generic class useful for wrapping a return object\n+ * (in case of success) or propagating the error cause.\n+*/\n+template<class T>\n+class BResult {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r922116692",
      "id" : 922116692,
      "in_reply_to_id" : 921376131,
      "line" : 16,
      "node_id" : "PRRC_kwDOABII58429mJU",
      "original_commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "original_line" : 16,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 16,
      "pull_request_review_id" : 1040224800,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116692/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T12:26:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r922116940"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116940"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "k, got it. Thanks.",
      "commit_id" : "111ea3ab711414236f8678566a7884d48619b2d8",
      "created_at" : "2022-07-15T12:26:43Z",
      "diff_hunk" : "@@ -6,6 +6,7 @@\n #define BITCOIN_WALLET_SPEND_H\n \n #include <consensus/amount.h>\n+#include <policy/fees.h> // for FeeCalculation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#discussion_r922116940",
      "id" : 922116940,
      "in_reply_to_id" : 918840872,
      "line" : 9,
      "node_id" : "PRRC_kwDOABII58429mNM",
      "original_commit_id" : "198fcca162f4d2f877feab485e629ff89818ff56",
      "original_line" : 9,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/spend.h",
      "position" : 4,
      "pull_request_review_id" : 1040225148,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25218",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116940/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T12:26:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922116940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is a follow-up in case anyone wants to review it: #25721 ",
      "created_at" : "2022-08-02T12:59:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25218#issuecomment-1202492436",
      "id" : 1202492436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25218",
      "node_id" : "IC_kwDOABII585HrJQU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1202492436/reactions"
      },
      "updated_at" : "2022-08-02T12:59:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1202492436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
