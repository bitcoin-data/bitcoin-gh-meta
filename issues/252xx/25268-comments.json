[
   {
      "author_association" : "MEMBER",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [jnewbery](https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1145818885), [theuni](https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1149177281) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27608](https://github.com/bitcoin/bitcoin/pull/27608) (p2p: Avoid prematurely clearing download state for other peers by sdaftuar)\n* [#27600](https://github.com/bitcoin/bitcoin/pull/27600) (net: Allow inbound whitebind connections to more aggresivey evict peers when slots are full by pinheadmz)\n* [#27530](https://github.com/bitcoin/bitcoin/pull/27530) (Remove now-unnecessary poll, fcntl includes from net(base).cpp by Empact)\n* [#27509](https://github.com/bitcoin/bitcoin/pull/27509) (Relay own transactions only via short-lived Tor or I2P connections by vasild)\n* [#27499](https://github.com/bitcoin/bitcoin/pull/27499) (net processing, refactor: Decouple PeerManager from gArgs by dergoegge)\n* [#27425](https://github.com/bitcoin/bitcoin/pull/27425) (test: move remaining rand code from util/setup_common to util/random by jonatack)\n* [#27385](https://github.com/bitcoin/bitcoin/pull/27385) (net, refactor: extract Network and BIP155Network logic to node/network by jonatack)\n* [#27213](https://github.com/bitcoin/bitcoin/pull/27213) (p2p: Diversify automatic outbound connections with respect to networks by amitiuttarwar)\n* [#27052](https://github.com/bitcoin/bitcoin/pull/27052) (test: rpc: add last block announcement time to getpeerinfo result by LarryRuane)\n* [#26621](https://github.com/bitcoin/bitcoin/pull/26621) (refactor: Continue moving application data from CNode to Peer by dergoegge)\n* [#24170](https://github.com/bitcoin/bitcoin/pull/24170) (p2p, rpc: Manual block-relay-only connections with addnode by mzumsande)\n* [#10443](https://github.com/bitcoin/bitcoin/pull/10443) (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-06-02T16:39:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1145077399",
      "id" : 1145077399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585EQH6X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145077399/reactions"
      },
      "updated_at" : "2023-05-09T23:14:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145077399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Very nice!",
      "created_at" : "2022-06-03T10:20:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1145818885",
      "id" : 1145818885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585ES88F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145818885/reactions"
      },
      "updated_at" : "2022-06-03T10:20:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145818885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r888968760"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/888968760"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in def070810aca6da4fa603cfcc956975fef147346 _[eviction] Create EvictionManager stub_ you've introduced an unnecessary newline.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-03T13:55:06Z",
      "diff_hunk" : "@@ -16,6 +16,7 @@\n #include <compat.h>\n #include <consensus/consensus.h>\n #include <crypto/sha256.h>\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r888968760",
      "id" : 888968760,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5840_JY4",
      "original_commit_id" : "eac4a74f5e8a097bc99ac381203f11022bba5fcc",
      "original_line" : 19,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 994948655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/888968760/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-03T13:58:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/888968760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK!",
      "created_at" : "2022-06-07T21:18:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1149177281",
      "id" : 1149177281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585Efw3B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1149177281/reactions"
      },
      "updated_at" : "2022-06-07T21:18:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1149177281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902983055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902983055"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not remove the old implementation here?",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:18:14Z",
      "diff_hunk" : "@@ -121,78 +122,6 @@ struct CSerializedNetMsg {\n     std::string m_type;\n };\n \n-/** Different types of connections to a peer. This enum encapsulates the\n- * information we have available at the time of opening or accepting the\n- * connection. Aside from INBOUND, all types are initiated by us.\n- *\n- * If adding or removing types, please update CONNECTION_TYPE_DOC in\n- * src/rpc/net.cpp and src/qt/rpcconsole.cpp, as well as the descriptions in\n- * src/qt/guiutil.cpp and src/bitcoin-cli.cpp::NetinfoRequestHandler. */\n-enum class ConnectionType {\n-    /**\n-     * Inbound connections are those initiated by a peer. This is the only\n-     * property we know at the time of connection, until P2P messages are\n-     * exchanged.\n-     */\n-    INBOUND,\n-\n-    /**\n-     * These are the default connections that we use to connect with the\n-     * network. There is no restriction on what is relayed; by default we relay\n-     * blocks, addresses & transactions. We automatically attempt to open\n-     * MAX_OUTBOUND_FULL_RELAY_CONNECTIONS using addresses from our AddrMan.\n-     */\n-    OUTBOUND_FULL_RELAY,\n-\n-\n-    /**\n-     * We open manual connections to addresses that users explicitly requested\n-     * via the addnode RPC or the -addnode/-connect configuration options. Even if a\n-     * manual connection is misbehaving, we do not automatically disconnect or\n-     * add it to our discouragement filter.\n-     */\n-    MANUAL,\n-\n-    /**\n-     * Feeler connections are short-lived connections made to check that a node\n-     * is alive. They can be useful for:\n-     * - test-before-evict: if one of the peers is considered for eviction from\n-     *   our AddrMan because another peer is mapped to the same slot in the tried table,\n-     *   evict only if this longer-known peer is offline.\n-     * - move node addresses from New to Tried table, so that we have more\n-     *   connectable addresses in our AddrMan.\n-     * Note that in the literature (\"Eclipse Attacks on Bitcoinâs Peer-to-Peer Network\")\n-     * only the latter feature is referred to as \"feeler connections\",\n-     * although in our codebase feeler connections encompass test-before-evict as well.\n-     * We make these connections approximately every FEELER_INTERVAL:\n-     * first we resolve previously found collisions if they exist (test-before-evict),\n-     * otherwise we connect to a node from the new table.\n-     */\n-    FEELER,\n-\n-    /**\n-     * We use block-relay-only connections to help prevent against partition\n-     * attacks. By not relaying transactions or addresses, these connections\n-     * are harder to detect by a third party, thus helping obfuscate the\n-     * network topology. We automatically attempt to open\n-     * MAX_BLOCK_RELAY_ONLY_ANCHORS using addresses from our anchors.dat. Then\n-     * addresses from our AddrMan if MAX_BLOCK_RELAY_ONLY_CONNECTIONS\n-     * isn't reached yet.\n-     */\n-    BLOCK_RELAY,\n-\n-    /**\n-     * AddrFetch connections are short lived connections used to solicit\n-     * addresses from peers. These are initiated to addresses submitted via the\n-     * -seednode command line argument, or under certain conditions when the\n-     * AddrMan is empty.\n-     */\n-    ADDR_FETCH,\n-};\n-\n-/** Convert ConnectionType enum to a string value */\n-std::string ConnectionTypeAsString(ConnectionType conn_type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902983055",
      "id" : 902983055,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410m2P",
      "original_commit_id" : "ef8edabe5ed6e5947e93e421eae84bde2281dbf7",
      "original_line" : 194,
      "original_position" : 82,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902983055/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902983055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902983364"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902983364"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing copyright stuff.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:18:38Z",
      "diff_hunk" : "@@ -0,0 +1,227 @@\n+#include <eviction.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902983364",
      "id" : 902983364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410m7E",
      "original_commit_id" : "a07eb1f40366d08b9d2df79848edd6d034c4042c",
      "original_line" : 5,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902983364/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902983364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902986411"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902986411"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we need to justify these values for the sake of review.\r\n\r\nFor example, a default (unset) value for `m_min_ping_time` could reasonably also be 0, so it's not clear in review why it's set to `max()`. For values that have no real meaning until after version handshake, maybe `std::optional` would better communicate their state?",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:22:35Z",
      "diff_hunk" : "@@ -1055,6 +1056,24 @@ void CConnman::CreateNodeFromAcceptedSocket(std::unique_ptr<Sock>&& sock,\n         m_nodes.push_back(pnode);\n     }\n \n+    NodeEvictionCandidate candidate{\n+        /*id=*/pnode->GetId(),\n+        /*m_connected=*/pnode->m_connected,\n+        /*m_min_ping_time=*/std::chrono::microseconds::max(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902986411",
      "id" : 902986411,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410nqr",
      "original_commit_id" : "1c805da562f865db212aa856d97d01aba3b054d2",
      "original_line" : 1010,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902986411/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902986411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902987742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902987742"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please save a time and re-use it to avoid the slim chance of setting these to different values.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:24:11Z",
      "diff_hunk" : "@@ -2631,6 +2631,7 @@ void PeerManagerImpl::ProcessBlock(CNode& node, const std::shared_ptr<const CBlo\n     m_chainman.ProcessNewBlock(block, force_processing, &new_block);\n     if (new_block) {\n         node.m_last_block_time = GetTime<std::chrono::seconds>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902987742",
      "id" : 902987742,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410n_e",
      "original_commit_id" : "d8458fabafd4475878be368eed8c556026dcb0ae",
      "original_line" : 2633,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902987742/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902987742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902988444"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902988444"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same thing here, use the same time.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:25:08Z",
      "diff_hunk" : "@@ -3450,6 +3450,7 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             m_orphanage.AddChildrenToWorkSet(tx, peer->m_orphan_work_set);\n \n             pfrom.m_last_tx_time = GetTime<std::chrono::seconds>();\n+            m_evictionman.UpdateLastTxTime(pfrom.GetId(), GetTime<std::chrono::seconds>());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902988444",
      "id" : 902988444,
      "line" : 4049,
      "node_id" : "PRRC_kwDOABII58410oKc",
      "original_commit_id" : "5101013ea6e5d0b4aee2361c028ee7b835a11767",
      "original_line" : 4049,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 173,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902988444/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902988444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902990686"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902990686"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since this can never become false again, I think we don't need the bool?\r\n\r\nThat has the advantage of communicating that it can't be unset.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:28:02Z",
      "diff_hunk" : "@@ -282,6 +282,14 @@ void EvictionManagerImpl::UpdateLoadedBloomFilter(NodeId id, bool bloom_filter_l\n     }\n }\n \n+void EvictionManagerImpl::UpdateRelayTxs(NodeId id, bool relay_txs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902990686",
      "id" : 902990686,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410ote",
      "original_commit_id" : "15fdf7ed93a3c50f514b53d6a334968893ded3bd",
      "original_line" : 285,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902990686/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902990686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902991144"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902991144"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`true` would be more readable, but see above about dropping it entirely.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:28:39Z",
      "diff_hunk" : "@@ -2771,7 +2771,10 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 LOCK(tx_relay->m_bloom_filter_mutex);\n                 tx_relay->m_relay_txs = fRelay; // set to true after we get the first filter* message\n             }\n-            if (fRelay) pfrom.m_relays_txs = true;\n+            if (fRelay) {\n+                pfrom.m_relays_txs = true;\n+                m_evictionman.UpdateRelayTxs(pfrom.GetId(), fRelay);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902991144",
      "id" : 902991144,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410o0o",
      "original_commit_id" : "15fdf7ed93a3c50f514b53d6a334968893ded3bd",
      "original_line" : 2776,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902991144/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902991144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902994029"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994029"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is really confusing to read.\r\n\r\nInstead of trying to convince myself that it's correct, I'll ask that you make it more obviously correct:`it->second.m_blocks_in_flight++`",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:32:03Z",
      "diff_hunk" : "@@ -302,6 +302,22 @@ void EvictionManagerImpl::UpdateRelayTxs(NodeId id, bool relay_txs)\n     }\n }\n \n+void EvictionManagerImpl::AddBlockInFlight(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    if (const auto& it = m_candidates.find(id); it != m_candidates.end()) {\n+        ++it->second.m_blocks_in_flight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902994029",
      "id" : 902994029,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410pht",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 309,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994029/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994029",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902994146"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994146"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Here too.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:32:08Z",
      "diff_hunk" : "@@ -302,6 +302,22 @@ void EvictionManagerImpl::UpdateRelayTxs(NodeId id, bool relay_txs)\n     }\n }\n \n+void EvictionManagerImpl::AddBlockInFlight(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    if (const auto& it = m_candidates.find(id); it != m_candidates.end()) {\n+        ++it->second.m_blocks_in_flight;\n+    }\n+}\n+\n+void EvictionManagerImpl::RemoveBlockInFlight(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    if (const auto& it = m_candidates.find(id); it != m_candidates.end()) {\n+        --it->second.m_blocks_in_flight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902994146",
      "id" : 902994146,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410pji",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 317,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994146/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902994959"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994959"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since the value is checked in the next line, I assume we're going to want `RemoveBlockInFlight` to return its new value.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:33:15Z",
      "diff_hunk" : "@@ -963,6 +963,7 @@ void PeerManagerImpl::RemoveBlockRequest(const uint256& hash)\n     state->vBlocksInFlight.erase(list_it);\n \n     state->nBlocksInFlight--;\n+    m_evictionman.RemoveBlockInFlight(node_id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902994959",
      "id" : 902994959,
      "line" : 1134,
      "node_id" : "PRRC_kwDOABII58410pwP",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 1134,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 64,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994959/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902994959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902995097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902995097"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same for `AddBlockInFlight`",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:33:27Z",
      "diff_hunk" : "@@ -993,6 +994,7 @@ bool PeerManagerImpl::BlockRequested(NodeId nodeid, const CBlockIndex& block, st\n     std::list<QueuedBlock>::iterator it = state->vBlocksInFlight.insert(state->vBlocksInFlight.end(),\n             {&block, std::unique_ptr<PartiallyDownloadedBlock>(pit ? new PartiallyDownloadedBlock(&m_mempool) : nullptr)});\n     state->nBlocksInFlight++;\n+    m_evictionman.AddBlockInFlight(nodeid);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902995097",
      "id" : 902995097,
      "line" : 1165,
      "node_id" : "PRRC_kwDOABII58410pyZ",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 1165,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 72,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902995097/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902995097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902995428"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902995428"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think `MAX_BLOCKS_IN_TRANSIT_PER_PEER` would be more reasonable here?",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:33:51Z",
      "diff_hunk" : "@@ -60,6 +60,7 @@ std::vector<NodeEvictionCandidate> GetRandomNodeEvictionCandidates(int n_candida\n             /*m_network=*/ALL_NETWORKS[random_context.randrange(ALL_NETWORKS.size())],\n             /*m_perm_flags=*/NetPermissionFlags::None,\n             /*m_conn_type=*/ConnectionType::INBOUND,\n+            /*m_blocks_in_flight=*/(int)random_context.randrange(5),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902995428",
      "id" : 902995428,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410p3k",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 63,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902995428/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902995428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902996187"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902996187"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please reuse GetTime.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:34:53Z",
      "diff_hunk" : "@@ -2277,6 +2278,7 @@ void PeerManagerImpl::ProcessHeadersMessage(CNode& pfrom, const Peer& peer,\n \n         if (received_new_header && pindexLast->nChainWork > m_chainman.ActiveChain().Tip()->nChainWork) {\n             nodestate->m_last_block_announcement = GetTime();\n+            m_evictionman.UpdateLastBlockAnnounceTime(pfrom.GetId(), GetTime<std::chrono::seconds>());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902996187",
      "id" : 902996187,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410qDb",
      "original_commit_id" : "534ae5dd17b596457cb62d306d8a3f4a775c281d",
      "original_line" : 2270,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902996187/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902996187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902996333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902996333"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Reuse GetTime here too.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:35:04Z",
      "diff_hunk" : "@@ -3657,6 +3659,7 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         // peer's last block announcement time\n         if (received_new_header && pindex->nChainWork > m_chainman.ActiveChain().Tip()->nChainWork) {\n             nodestate->m_last_block_announcement = GetTime();\n+            m_evictionman.UpdateLastBlockAnnounceTime(pfrom.GetId(), GetTime<std::chrono::seconds>());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902996333",
      "id" : 902996333,
      "line" : 4255,
      "node_id" : "PRRC_kwDOABII58410qFt",
      "original_commit_id" : "534ae5dd17b596457cb62d306d8a3f4a775c281d",
      "original_line" : 4255,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 182,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902996333/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902996333",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902998075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902998075"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Again, if this cannot become unset, I don't think we need the bool param.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:37:34Z",
      "diff_hunk" : "@@ -2374,6 +2374,7 @@ void PeerManagerImpl::ProcessHeadersMessage(CNode& pfrom, const Peer& peer,\n             if (m_outbound_peers_with_protect_from_disconnect < MAX_OUTBOUND_PEERS_TO_PROTECT_FROM_DISCONNECT && nodestate->pindexBestKnownBlock->nChainWork >= m_chainman.ActiveChain().Tip()->nChainWork && !nodestate->m_chain_sync.m_protect) {\n                 LogPrint(BCLog::NET, \"Protecting outbound peer=%d from eviction\\n\", pfrom.GetId());\n                 nodestate->m_chain_sync.m_protect = true;\n+                m_evictionman.UpdateSlowChainProtected(pfrom.GetId(), true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902998075",
      "id" : 902998075,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410qg7",
      "original_commit_id" : "07732d03d027f8c3083c6ac9dd217a6bcdcda5b3",
      "original_line" : 2377,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902998075/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902998075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902998752"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902998752"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Another unneeded bool param.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:38:18Z",
      "diff_hunk" : "@@ -2923,6 +2923,7 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             m_connman.PushMessage(&pfrom, msgMaker.Make(NetMsgType::SENDCMPCT, /*high_bandwidth=*/false, /*version=*/CMPCTBLOCKS_VERSION));\n         }\n         pfrom.fSuccessfullyConnected = true;\n+        m_evictionman.UpdateSuccessfullyConnected(pfrom.GetId(), true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902998752",
      "id" : 902998752,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410qrg",
      "original_commit_id" : "8df3d9c5d7fcc04691dd1e190d04ca234e62cc1a",
      "original_line" : 2926,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902998752/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902998752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903003875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903003875"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this could/should be done outside of `m_nodes_mutex` for the sake of untangling? I'm not actually sure, but if it wouldn't break anything IMO it'd be preferable.\r\n\r\nWe'd need to create a list of nodes to be evicted, then do the removals outside of the lock.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:44:45Z",
      "diff_hunk" : "@@ -1119,6 +1138,9 @@ void CConnman::DisconnectNodes()\n                 // remove from m_nodes\n                 m_nodes.erase(remove(m_nodes.begin(), m_nodes.end(), pnode), m_nodes.end());\n \n+                // Tell the eviction manager to forget about this node\n+                m_evictionman.RemoveCandidate(pnode->GetId());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903003875",
      "id" : 903003875,
      "line" : 1117,
      "node_id" : "PRRC_kwDOABII58410r7j",
      "original_commit_id" : "1c805da562f865db212aa856d97d01aba3b054d2",
      "original_line" : 1117,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 94,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903003875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903003875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903006727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903006727"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What's this doing?",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:48:38Z",
      "diff_hunk" : "@@ -4088,7 +4091,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 tx_relay->m_relay_txs = true;\n             }\n             pfrom.m_bloom_filter_loaded = true;\n+            pfrom.m_relays_txs = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903006727",
      "id" : 903006727,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410soH",
      "original_commit_id" : "15fdf7ed93a3c50f514b53d6a334968893ded3bd",
      "original_line" : 4094,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903006727/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903006727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903008155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903008155"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this can be done outside of `cs_main` ?",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-21T19:50:21Z",
      "diff_hunk" : "@@ -1269,8 +1269,9 @@ void PeerManagerImpl::AddTxAnnouncement(const CNode& node, const GenTxid& gtxid,\n void PeerManagerImpl::UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_seconds)\n {\n     LOCK(cs_main);\n-    CNodeState *state = State(node);\n+    CNodeState* state = State(node);\n     if (state) state->m_last_block_announcement = time_in_seconds;\n+    m_evictionman.UpdateLastBlockAnnounceTime(node, std::chrono::seconds{time_in_seconds});",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903008155",
      "id" : 903008155,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58410s-b",
      "original_commit_id" : "534ae5dd17b596457cb62d306d8a3f4a775c281d",
      "original_line" : 1274,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1014123554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903008155/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-21T19:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903008155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903955965"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903955965"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:03:47Z",
      "diff_hunk" : "@@ -0,0 +1,227 @@\n+#include <eviction.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903955965",
      "id" : 903955965,
      "in_reply_to_id" : 902983364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414UX9",
      "original_commit_id" : "a07eb1f40366d08b9d2df79848edd6d034c4042c",
      "original_line" : 5,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1015488297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903955965/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903955965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903956335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903956335"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:03:59Z",
      "diff_hunk" : "@@ -121,78 +122,6 @@ struct CSerializedNetMsg {\n     std::string m_type;\n };\n \n-/** Different types of connections to a peer. This enum encapsulates the\n- * information we have available at the time of opening or accepting the\n- * connection. Aside from INBOUND, all types are initiated by us.\n- *\n- * If adding or removing types, please update CONNECTION_TYPE_DOC in\n- * src/rpc/net.cpp and src/qt/rpcconsole.cpp, as well as the descriptions in\n- * src/qt/guiutil.cpp and src/bitcoin-cli.cpp::NetinfoRequestHandler. */\n-enum class ConnectionType {\n-    /**\n-     * Inbound connections are those initiated by a peer. This is the only\n-     * property we know at the time of connection, until P2P messages are\n-     * exchanged.\n-     */\n-    INBOUND,\n-\n-    /**\n-     * These are the default connections that we use to connect with the\n-     * network. There is no restriction on what is relayed; by default we relay\n-     * blocks, addresses & transactions. We automatically attempt to open\n-     * MAX_OUTBOUND_FULL_RELAY_CONNECTIONS using addresses from our AddrMan.\n-     */\n-    OUTBOUND_FULL_RELAY,\n-\n-\n-    /**\n-     * We open manual connections to addresses that users explicitly requested\n-     * via the addnode RPC or the -addnode/-connect configuration options. Even if a\n-     * manual connection is misbehaving, we do not automatically disconnect or\n-     * add it to our discouragement filter.\n-     */\n-    MANUAL,\n-\n-    /**\n-     * Feeler connections are short-lived connections made to check that a node\n-     * is alive. They can be useful for:\n-     * - test-before-evict: if one of the peers is considered for eviction from\n-     *   our AddrMan because another peer is mapped to the same slot in the tried table,\n-     *   evict only if this longer-known peer is offline.\n-     * - move node addresses from New to Tried table, so that we have more\n-     *   connectable addresses in our AddrMan.\n-     * Note that in the literature (\"Eclipse Attacks on Bitcoinâs Peer-to-Peer Network\")\n-     * only the latter feature is referred to as \"feeler connections\",\n-     * although in our codebase feeler connections encompass test-before-evict as well.\n-     * We make these connections approximately every FEELER_INTERVAL:\n-     * first we resolve previously found collisions if they exist (test-before-evict),\n-     * otherwise we connect to a node from the new table.\n-     */\n-    FEELER,\n-\n-    /**\n-     * We use block-relay-only connections to help prevent against partition\n-     * attacks. By not relaying transactions or addresses, these connections\n-     * are harder to detect by a third party, thus helping obfuscate the\n-     * network topology. We automatically attempt to open\n-     * MAX_BLOCK_RELAY_ONLY_ANCHORS using addresses from our anchors.dat. Then\n-     * addresses from our AddrMan if MAX_BLOCK_RELAY_ONLY_CONNECTIONS\n-     * isn't reached yet.\n-     */\n-    BLOCK_RELAY,\n-\n-    /**\n-     * AddrFetch connections are short lived connections used to solicit\n-     * addresses from peers. These are initiated to addresses submitted via the\n-     * -seednode command line argument, or under certain conditions when the\n-     * AddrMan is empty.\n-     */\n-    ADDR_FETCH,\n-};\n-\n-/** Convert ConnectionType enum to a string value */\n-std::string ConnectionTypeAsString(ConnectionType conn_type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903956335",
      "id" : 903956335,
      "in_reply_to_id" : 902983055,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414Udv",
      "original_commit_id" : "ef8edabe5ed6e5947e93e421eae84bde2281dbf7",
      "original_line" : 194,
      "original_position" : 82,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1015488774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903956335/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:03:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903956335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903956600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903956600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:04:11Z",
      "diff_hunk" : "@@ -2631,6 +2631,7 @@ void PeerManagerImpl::ProcessBlock(CNode& node, const std::shared_ptr<const CBlo\n     m_chainman.ProcessNewBlock(block, force_processing, &new_block);\n     if (new_block) {\n         node.m_last_block_time = GetTime<std::chrono::seconds>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903956600",
      "id" : 903956600,
      "in_reply_to_id" : 902987742,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414Uh4",
      "original_commit_id" : "d8458fabafd4475878be368eed8c556026dcb0ae",
      "original_line" : 2633,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1015489060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903956600/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:04:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903956600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903957900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903957900"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:04:55Z",
      "diff_hunk" : "@@ -282,6 +282,14 @@ void EvictionManagerImpl::UpdateLoadedBloomFilter(NodeId id, bool bloom_filter_l\n     }\n }\n \n+void EvictionManagerImpl::UpdateRelayTxs(NodeId id, bool relay_txs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903957900",
      "id" : 903957900,
      "in_reply_to_id" : 902990686,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414U2M",
      "original_commit_id" : "15fdf7ed93a3c50f514b53d6a334968893ded3bd",
      "original_line" : 285,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1015490683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903957900/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:04:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903957900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903959409"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903959409"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point. The dev docs recommend this way but in this case its obviously better to do `foo++`.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:05:30Z",
      "diff_hunk" : "@@ -302,6 +302,22 @@ void EvictionManagerImpl::UpdateRelayTxs(NodeId id, bool relay_txs)\n     }\n }\n \n+void EvictionManagerImpl::AddBlockInFlight(NodeId id)\n+{\n+    LOCK(m_candidates_mutex);\n+    if (const auto& it = m_candidates.find(id); it != m_candidates.end()) {\n+        ++it->second.m_blocks_in_flight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903959409",
      "id" : 903959409,
      "in_reply_to_id" : 902994029,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414VNx",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 309,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/eviction.cpp",
      "position" : null,
      "pull_request_review_id" : 1015492824,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903959409/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:05:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903959409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903960126"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903960126"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`CNodeState::nBlocksInFlight` is not removed in this PR so i think it would be confusing to also do the check with the value from the eviction manager. This is one of those cases that i didn't like because the variables have to be kept in sync. (Arguably it's pretty easy for this one since `nBlocksInFlight` is only modified in two places)",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:06:03Z",
      "diff_hunk" : "@@ -963,6 +963,7 @@ void PeerManagerImpl::RemoveBlockRequest(const uint256& hash)\n     state->vBlocksInFlight.erase(list_it);\n \n     state->nBlocksInFlight--;\n+    m_evictionman.RemoveBlockInFlight(node_id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903960126",
      "id" : 903960126,
      "in_reply_to_id" : 902994959,
      "line" : 1134,
      "node_id" : "PRRC_kwDOABII58414VY-",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 1134,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 64,
      "pull_request_review_id" : 1015493555,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903960126/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:06:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903960126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903960580"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903960580"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, i couldn't use the `MAX_BLOCKS_IN_TRANSIT_PER_PEER` constant here but i changed to the right value and left a comment.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:06:23Z",
      "diff_hunk" : "@@ -60,6 +60,7 @@ std::vector<NodeEvictionCandidate> GetRandomNodeEvictionCandidates(int n_candida\n             /*m_network=*/ALL_NETWORKS[random_context.randrange(ALL_NETWORKS.size())],\n             /*m_perm_flags=*/NetPermissionFlags::None,\n             /*m_conn_type=*/ConnectionType::INBOUND,\n+            /*m_blocks_in_flight=*/(int)random_context.randrange(5),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903960580",
      "id" : 903960580,
      "in_reply_to_id" : 902995428,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414VgE",
      "original_commit_id" : "ba938cfd15ac36c0a380d457ac8da5c3cae6bd44",
      "original_line" : 63,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/util/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1015494038,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903960580/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:06:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903960580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903962265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903962265"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.\r\n\r\n(You actually had it like that in your original branch and i changed it because it seemed simpler this way.)",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:07:05Z",
      "diff_hunk" : "@@ -1119,6 +1138,9 @@ void CConnman::DisconnectNodes()\n                 // remove from m_nodes\n                 m_nodes.erase(remove(m_nodes.begin(), m_nodes.end(), pnode), m_nodes.end());\n \n+                // Tell the eviction manager to forget about this node\n+                m_evictionman.RemoveCandidate(pnode->GetId());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903962265",
      "id" : 903962265,
      "in_reply_to_id" : 903003875,
      "line" : 1117,
      "node_id" : "PRRC_kwDOABII58414V6Z",
      "original_commit_id" : "1c805da562f865db212aa856d97d01aba3b054d2",
      "original_line" : 1117,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 94,
      "pull_request_review_id" : 1015496589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903962265/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:07:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903962265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903962749"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903962749"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Whoops forgot about this, it does not belong here (this line was accidentally removed in another PR). I opened a PR for that earlier today: #25446",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:07:19Z",
      "diff_hunk" : "@@ -4088,7 +4091,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                 tx_relay->m_relay_txs = true;\n             }\n             pfrom.m_bloom_filter_loaded = true;\n+            pfrom.m_relays_txs = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903962749",
      "id" : 903962749,
      "in_reply_to_id" : 903006727,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414WB9",
      "original_commit_id" : "15fdf7ed93a3c50f514b53d6a334968893ded3bd",
      "original_line" : 4094,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1015497417,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903962749/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:07:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903962749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903963201"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903963201"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`PeerManagerImpl::UpdateLastBlockAnnounceTime` is removed later on but i still went with your suggestion here for the commits before that.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:07:32Z",
      "diff_hunk" : "@@ -1269,8 +1269,9 @@ void PeerManagerImpl::AddTxAnnouncement(const CNode& node, const GenTxid& gtxid,\n void PeerManagerImpl::UpdateLastBlockAnnounceTime(NodeId node, int64_t time_in_seconds)\n {\n     LOCK(cs_main);\n-    CNodeState *state = State(node);\n+    CNodeState* state = State(node);\n     if (state) state->m_last_block_announcement = time_in_seconds;\n+    m_evictionman.UpdateLastBlockAnnounceTime(node, std::chrono::seconds{time_in_seconds});",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903963201",
      "id" : 903963201,
      "in_reply_to_id" : 903008155,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414WJB",
      "original_commit_id" : "534ae5dd17b596457cb62d306d8a3f4a775c281d",
      "original_line" : 1274,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1015498212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903963201/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:07:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903963201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903979743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903979743"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm gonna try to slim down the `NodeEvictionCandidate` interface a bit because a lot of these values don't need to be set by users of the eviction manager. They could just be default initialized internally in the eviction manager. I'm also gonna add some comments explaining the defaults.\r\n\r\nI think `std::optional` would make it a bit to complicated but i'll see maybe it works out nicely.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-22T16:19:45Z",
      "diff_hunk" : "@@ -1055,6 +1056,24 @@ void CConnman::CreateNodeFromAcceptedSocket(std::unique_ptr<Sock>&& sock,\n         m_nodes.push_back(pnode);\n     }\n \n+    NodeEvictionCandidate candidate{\n+        /*id=*/pnode->GetId(),\n+        /*m_connected=*/pnode->m_connected,\n+        /*m_min_ping_time=*/std::chrono::microseconds::max(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r903979743",
      "id" : 903979743,
      "in_reply_to_id" : 902986411,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58414aLf",
      "original_commit_id" : "1c805da562f865db212aa856d97d01aba3b054d2",
      "original_line" : 1010,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1015521244,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903979743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-22T16:19:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903979743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review @theuni! I've addressed most of your comments (still working on https://github.com/bitcoin/bitcoin/pull/25268#discussion_r902986411 and restructuring the commits).\r\n\r\nDo you also think it would be good to split this into multiple PRs, like John suggested https://github.com/bitcoin/bitcoin/pull/25268#pullrequestreview-994948655? I think that would also help with readability.\r\n\r\n",
      "created_at" : "2022-06-22T16:26:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1163339636",
      "id" : 1163339636,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585FVyd0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1163339636/reactions"
      },
      "updated_at" : "2022-06-22T16:26:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1163339636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : " > Do you also think it would be good to split this into multiple PRs, like John suggested [#25268 (review)](https://github.com/bitcoin/bitcoin/pull/25268#pullrequestreview-994948655)? I think that would also help with readability.\r\n\r\nYes, I agree with that. And in that case, as I mentioned above, I'd also request that the commits in the 2nd pull request would immediately use the new functionality as it's added as opposed to adding it all, then switching it all in the end. To do that, I suspect that many of these current commits will need to be combined/dropped/re-worked. If that's the case, don't worry about git attribution or trying to use the original commits, I don't care about that at all :)",
      "created_at" : "2022-06-22T17:50:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1163434111",
      "id" : 1163434111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585FWJh_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 1,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1163434111/reactions"
      },
      "updated_at" : "2022-06-22T17:50:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1163434111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is it possible to contextualize the benefit of this relatively large refactor? A lot of code is changing here, and the benefits listed in the PR description (resolution of layer violations) are somewhat abstract.\r\n\r\nIf this is, for example, more testable, wouldn't it make sense to bundle the added test coverage with these changes so that potential reviewers are able to see the tangible benefit? \r\n\r\nIs there some broader effort that this is part of?",
      "created_at" : "2022-06-23T17:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1164677556",
      "id" : 1164677556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585Fa5G0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1164677556/reactions"
      },
      "updated_at" : "2022-06-23T17:23:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1164677556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is it possible to contextualize the benefit of this relatively large refactor?\r\n\r\nI would say this PR is similar to #21148, #19988 or #787 in that it splits some logic (e.g. tx request, orphan handling) into its own component (some of the mentioned PRs also changed behavior which this PR does not), which is good for modularity and testability. At the moment, the eviction logic is mangled across two different components (CConnman, PeerManager), so we can't really test it in isolation. This is not completely true for the inbound eviction logic as it exists as static functions in `net` but the outbound eviction logic is not covered by any fuzz tests and is only testable by spinning up both a connman and peerman.\r\n\r\nI also think that isolating this logic will make it easier to reason about potential future changes to it.\r\n\r\nThe layer violation resolutions are more of a nice side effect and I should have mentioned/stressed the test/fuzz benefits in the PR description.\r\n\r\n> If this is, for example, more testable, wouldn't it make sense to bundle the added test coverage with these changes so that potential reviewers are able to see the tangible benefit?\r\n\r\nGood idea i will add some fuzz and isolated testing for the outbound eviction logic. \r\n\r\n> Is there some broader effort that this is part of?\r\n\r\nPinging @theuni for this question and to see if he has more to add here in general since this was originally his work.\r\n",
      "created_at" : "2022-06-28T10:47:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1168560027",
      "id" : 1168560027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585Fps-b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1168560027/reactions"
      },
      "updated_at" : "2022-06-28T10:47:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1168560027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r908773897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908773897"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I thought about using `std::optional` here but afaict we would end up treating a `std::nullopt` value for one of these in the same way that we treat them right now w.r.t. to the default values. The default values currently increase the likelihood of eviction for new peers (e.g. we prefer to disconnect peers with slow ping times, so the default is the max possible value) and i have added a comment to document that.",
      "commit_id" : "eac63ee4b38879b4c95ad28266cbcb11bfc38a52",
      "created_at" : "2022-06-28T17:40:37Z",
      "diff_hunk" : "@@ -1055,6 +1056,24 @@ void CConnman::CreateNodeFromAcceptedSocket(std::unique_ptr<Sock>&& sock,\n         m_nodes.push_back(pnode);\n     }\n \n+    NodeEvictionCandidate candidate{\n+        /*id=*/pnode->GetId(),\n+        /*m_connected=*/pnode->m_connected,\n+        /*m_min_ping_time=*/std::chrono::microseconds::max(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#discussion_r908773897",
      "id" : 908773897,
      "in_reply_to_id" : 902986411,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842KsoJ",
      "original_commit_id" : "1c805da562f865db212aa856d97d01aba3b054d2",
      "original_line" : 1010,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1022159106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25268",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908773897/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2022-06-28T17:40:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/908773897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and restructured the commits a bit as suggested here: https://github.com/bitcoin/bitcoin/pull/25268#pullrequestreview-1014123554.",
      "created_at" : "2022-06-28T17:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1169047886",
      "id" : 1169047886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585FrkFO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169047886/reactions"
      },
      "updated_at" : "2022-06-28T17:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169047886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think @dergoegge explained well, but I'll add a bit on top.\r\n\r\nThe larger effort, which has been improving over the years, is the notion of self-contained subsystems. As it stands, in order to evict a peer, we need to gather the current states of several otherwise-unrelated things. Not only is this slow and error-prone (real-time locking for each individual state capture), it also makes the eviction logic impossible to reason about (and test) on its own.\r\n\r\nSo the solution/pattern that's emerged to untangle similar problems in the past is: rather than doing real-time peeks into required subsystems every time we need to do something, instead broadcast the triggering events to a new subsystem that maintains a full view of whatever it needs. In practice, what this means is a producer/consumer pattern where multiple subsystems are notified when _something_ happens, and it's up to each to decide what to do with those changes. Yes, this may mean that several subsystems hold duplicate values for the same thing, but now they don't have to cross over each-other for a full view.\r\n\r\nEventually these patterns could be formalized into something like the signals/slots we have elsewhere, which has the nice side-effect of defining triggers that other subsystems may be interested in as well. But as a first step, imo just untangling the layer violations is a worthy goal.",
      "created_at" : "2022-07-06T14:42:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1176308898",
      "id" : 1176308898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585GHQyi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1176308898/reactions"
      },
      "updated_at" : "2022-07-06T14:42:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1176308898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "#25500 has been merged, the PR that splits off the next couple commits is #25572.",
      "created_at" : "2022-07-08T16:41:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1179181381",
      "id" : 1179181381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585GSOFF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179181381/reactions"
      },
      "updated_at" : "2022-07-08T16:41:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179181381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased. This now also includes a fuzz target for `EvictionManager`, both inbound and outbound logic is being fuzzed.",
      "created_at" : "2022-11-29T10:27:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1330411556",
      "id" : 1330411556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585PTHgk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1330411556/reactions"
      },
      "updated_at" : "2022-11-29T10:27:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1330411556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-05-10T11:24:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25268#issuecomment-1542006302",
      "id" : 1542006302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25268",
      "node_id" : "IC_kwDOABII585b6SYe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542006302/reactions"
      },
      "updated_at" : "2023-05-10T11:24:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1542006302",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
