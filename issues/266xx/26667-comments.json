[
   {
      "author_association" : "MEMBER",
      "body" : "This is particularly annoying now that `-zapwallettxes` has been removed.\r\n\r\n<img width=\"426\" alt=\"SchermÂ­afbeelding 2022-12-08 om 14 55 29\" src=\"https://user-images.githubusercontent.com/10217/206554825-fa31ba91-73d3-4c13-94dc-b726243eef7b.png\">\r\n",
      "created_at" : "2022-12-08T19:56:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26667#issuecomment-1343278184",
      "id" : 1343278184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26667",
      "node_id" : "IC_kwDOABII585QEMxo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343278184/reactions"
      },
      "updated_at" : "2022-12-08T19:56:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343278184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Having trouble replicating. When I try to `abandontransaction` on B, I get:\r\n\r\n`Transaction not eligible for abandonment (code -5)`\r\n\r\nI'm using 24.0.",
      "created_at" : "2022-12-08T22:27:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26667#issuecomment-1343456884",
      "id" : 1343456884,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26667",
      "node_id" : "IC_kwDOABII585QE4Z0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343456884/reactions"
      },
      "updated_at" : "2022-12-08T22:27:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343456884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/116917595?v=4",
         "events_url" : "https://api.github.com/users/john-moffett/events{/privacy}",
         "followers_url" : "https://api.github.com/users/john-moffett/followers",
         "following_url" : "https://api.github.com/users/john-moffett/following{/other_user}",
         "gists_url" : "https://api.github.com/users/john-moffett/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/john-moffett",
         "id" : 116917595,
         "login" : "john-moffett",
         "node_id" : "U_kgDOBvgFWw",
         "organizations_url" : "https://api.github.com/users/john-moffett/orgs",
         "received_events_url" : "https://api.github.com/users/john-moffett/received_events",
         "repos_url" : "https://api.github.com/users/john-moffett/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/john-moffett/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/john-moffett/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/john-moffett"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@john-moffett that error happens because the transaction is in your mempool. One way around that is to stop the node, delete `mempool.dat` and start again with `-connect=0 -walletbroadcast=0`.\r\n\r\nThe first argument makes it so your node doesn't connect to other peers that would echo the transaction back. The second ensures your wallet doesn't put the transaction in the mempool.",
      "created_at" : "2022-12-08T23:06:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26667#issuecomment-1343487826",
      "id" : 1343487826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26667",
      "node_id" : "IC_kwDOABII585QE_9S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343487826/reactions"
      },
      "updated_at" : "2022-12-08T23:08:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343487826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors Thank you! \r\n\r\nIt appears that `HasWalletSpend` doesn't make an exception for abandoned transactions:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7d515600034b84ebf23346a3642cf0a714880e25/src/wallet/wallet.cpp#L646-L657\r\n\r\nHowever, `IsSpent` does make an exception:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7d515600034b84ebf23346a3642cf0a714880e25/src/wallet/wallet.cpp#L712-L727\r\n\r\n`HasWalletSpend` appears to to be used only by `feebumper` (and tests). I'll take a look tomorrow to see if that will fix the issue.\r\n\r\nOn a broader level, it's unclear to me why `abandontransaction` won't remove transactions from the mempool and mark them as abandoned. Perhaps there ought to be a `force` option? ",
      "created_at" : "2022-12-09T00:48:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26667#issuecomment-1343683868",
      "id" : 1343683868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26667",
      "node_id" : "IC_kwDOABII585QFv0c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343683868/reactions"
      },
      "updated_at" : "2022-12-09T00:48:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343683868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/116917595?v=4",
         "events_url" : "https://api.github.com/users/john-moffett/events{/privacy}",
         "followers_url" : "https://api.github.com/users/john-moffett/followers",
         "following_url" : "https://api.github.com/users/john-moffett/following{/other_user}",
         "gists_url" : "https://api.github.com/users/john-moffett/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/john-moffett",
         "id" : 116917595,
         "login" : "john-moffett",
         "node_id" : "U_kgDOBvgFWw",
         "organizations_url" : "https://api.github.com/users/john-moffett/orgs",
         "received_events_url" : "https://api.github.com/users/john-moffett/received_events",
         "repos_url" : "https://api.github.com/users/john-moffett/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/john-moffett/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/john-moffett/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/john-moffett"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> On a broader level, it's unclear to me why `abandontransaction` won't remove transactions from the mempool and mark them as abandoned. Perhaps there ought to be a `force` option?\r\n\r\nExplicitly removing a transaction from our mempool has no effect on the network and could mislead users into thinking that they have \"canceled\" their transaction. Doing so may surprise users when the \"abandoned\" transaction ends up confirming, or a subsequent spend ends up not propagating because it conflicts with the abandoned transaction (that all of the other nodes still have in their mempool). However, by allowing abandoning when our own mempool has dropped the transaction, we can more safely assume that other nodes have dropped the transaction as well. Abandoning in this case has a higher likelihood of the transaction actually having been forgotten by a significant portion of the network.",
      "created_at" : "2022-12-09T02:08:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26667#issuecomment-1343743766",
      "id" : 1343743766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26667",
      "node_id" : "IC_kwDOABII585QF-cW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343743766/reactions"
      },
      "updated_at" : "2022-12-09T02:08:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343743766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hello, good evening Sir \r\nI'm new here can you help lean better pls",
      "created_at" : "2022-12-11T16:13:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26667#issuecomment-1345594692",
      "id" : 1345594692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26667",
      "node_id" : "IC_kwDOABII585QNCVE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1345594692/reactions"
      },
      "updated_at" : "2022-12-11T16:13:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1345594692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/120274458?v=4",
         "events_url" : "https://api.github.com/users/Seentalmerh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Seentalmerh/followers",
         "following_url" : "https://api.github.com/users/Seentalmerh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Seentalmerh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Seentalmerh",
         "id" : 120274458,
         "login" : "Seentalmerh",
         "node_id" : "U_kgDOBys-Gg",
         "organizations_url" : "https://api.github.com/users/Seentalmerh/orgs",
         "received_events_url" : "https://api.github.com/users/Seentalmerh/received_events",
         "repos_url" : "https://api.github.com/users/Seentalmerh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Seentalmerh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Seentalmerh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Seentalmerh"
      }
   }
]
