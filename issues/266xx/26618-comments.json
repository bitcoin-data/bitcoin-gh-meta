[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/26618#pullrequestreview-1220954487), [kouloumos](https://github.com/bitcoin/bitcoin/pull/26618#pullrequestreview-1240716694), [promag](https://github.com/bitcoin/bitcoin/pull/26618#pullrequestreview-1240779405), [achow101](https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1376330753) |\n| Concept ACK | [luke-jr](https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1340253430) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2022-12-01T16:09:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1334004635",
      "id" : 1334004635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585Pg0ub",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1334004635/reactions"
      },
      "updated_at" : "2023-01-09T21:18:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1334004635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Changing that by throwing could affect downstream users that are expecting unloadwallet to just wait.\r\n\r\nDo you know any software that would use this behavior? I understand this could affect users but this seems a bit hacky.\r\n\r\n> A warning could be given when a rescan has been aborted by unloadwallet so that a user is not surprised.\r\n\r\nI don't really have an opinion on this. But an argument for keeping the warning in 8198c76a3008094fefbbae1b11e5d5673a993158 is that an user may not realize that the wallet is still rescanning and wouldn't want to abort it when trying to unload.\r\nAs a compromise we could add a 'force' argument to unloadwallet to abort the rescan if there is one.",
      "created_at" : "2022-12-03T10:28:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1336130416",
      "id" : 1336130416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585Po7tw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1336130416/reactions"
      },
      "updated_at" : "2022-12-03T10:28:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1336130416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> As a compromise we could add a 'force' argument to unloadwallet to abort the rescan if there is one.\r\n\r\nI think this is a good approach.",
      "created_at" : "2022-12-03T20:06:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1336249204",
      "id" : 1336249204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585PpYt0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1336249204/reactions"
      },
      "updated_at" : "2022-12-03T20:06:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1336249204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Agree with a force option (named only / options Object).\r\n\r\nBut also, we probably shouldn't return from `unloadwallet` until the wallet is actually unloaded fully, independently of whether that's due to a rescan or otherwise.\r\n\r\nI guess this PR is strictly better than the current behaviour, though, so Concept ACK.",
      "created_at" : "2022-12-07T01:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1340253430",
      "id" : 1340253430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585P4qT2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1340253430/reactions"
      },
      "updated_at" : "2022-12-07T01:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1340253430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I added the named `force` option that will abort the rescan in progress.\r\nhttps://github.com/bitcoin/bitcoin/compare/8198c76a3008094fefbbae1b11e5d5673a993158..2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "created_at" : "2022-12-07T14:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1341023186",
      "id" : 1341023186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585P7mPS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341023186/reactions"
      },
      "updated_at" : "2022-12-07T14:11:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341023186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1042688567"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1042688567"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is a positional parameter. See `simulaterawtransaction` for how to do named-only parameters in an options Object.\r\n\r\n(Maybe move \"load_on_startup\" there too)",
      "commit_id" : "2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "created_at" : "2022-12-07T21:14:52Z",
      "diff_hunk" : "@@ -412,6 +412,7 @@ static RPCHelpMan unloadwallet()\n                 {\n                     {\"wallet_name\", RPCArg::Type::STR, RPCArg::DefaultHint{\"the wallet name from the RPC endpoint\"}, \"The name of the wallet to unload. If provided both here and in the RPC endpoint, the two must be identical.\"},\n                     {\"load_on_startup\", RPCArg::Type::BOOL, RPCArg::Optional::OMITTED_NAMED_ARG, \"Save wallet name to persistent settings and load on startup. True to add wallet to startup list, false to remove, null to leave unchanged.\"},\n+                    {\"force\", RPCArg::Type::BOOL, RPCArg::Optional::OMITTED_NAMED_ARG, \"Force unload of wallet. This will abort any rescan in progress.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1042688567",
      "id" : 1042688567,
      "line" : 415,
      "node_id" : "PRRC_kwDOABII584-Jio3",
      "original_commit_id" : "2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "original_line" : 415,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 1209131081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1042688567/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-07T21:15:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1042688567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks for fixing this issue. I like the approach more where we just fail the `unloadwallet` call but the force flag is also a good way. \r\n\r\n>  a scan can be initiated after IsScanning check if importdescriptors is called concurrently.\r\n\r\nDefinitly important to prevent bitcoind from crashing. I was able to bring bitcoind down when unloading the wallet (blocking in the background) deleting the walletdir and then importing the descriptors with the same wallet name again (an then there was a dependence that one sync finished before the other). So would be important if we would not allow loading a wallet which is currently in rescan (at least not with the same name).",
      "created_at" : "2022-12-08T00:01:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1341774782",
      "id" : 1341774782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585P-du-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341774782/reactions"
      },
      "updated_at" : "2022-12-08T00:01:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1341774782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/90319354?v=4",
         "events_url" : "https://api.github.com/users/ziggie1984/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ziggie1984/followers",
         "following_url" : "https://api.github.com/users/ziggie1984/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ziggie1984/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ziggie1984",
         "id" : 90319354,
         "login" : "ziggie1984",
         "node_id" : "MDQ6VXNlcjkwMzE5MzU0",
         "organizations_url" : "https://api.github.com/users/ziggie1984/orgs",
         "received_events_url" : "https://api.github.com/users/ziggie1984/received_events",
         "repos_url" : "https://api.github.com/users/ziggie1984/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ziggie1984/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ziggie1984/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ziggie1984"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1043229580"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043229580"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Moving `load_on_startup` to the `options` object would be a compatibility-breaking change no?",
      "commit_id" : "2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "created_at" : "2022-12-08T11:05:22Z",
      "diff_hunk" : "@@ -412,6 +412,7 @@ static RPCHelpMan unloadwallet()\n                 {\n                     {\"wallet_name\", RPCArg::Type::STR, RPCArg::DefaultHint{\"the wallet name from the RPC endpoint\"}, \"The name of the wallet to unload. If provided both here and in the RPC endpoint, the two must be identical.\"},\n                     {\"load_on_startup\", RPCArg::Type::BOOL, RPCArg::Optional::OMITTED_NAMED_ARG, \"Save wallet name to persistent settings and load on startup. True to add wallet to startup list, false to remove, null to leave unchanged.\"},\n+                    {\"force\", RPCArg::Type::BOOL, RPCArg::Optional::OMITTED_NAMED_ARG, \"Force unload of wallet. This will abort any rescan in progress.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1043229580",
      "id" : 1043229580,
      "in_reply_to_id" : 1042688567,
      "line" : 415,
      "node_id" : "PRRC_kwDOABII584-LmuM",
      "original_commit_id" : "2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "original_line" : 415,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 1209895706,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043229580/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-08T11:05:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043229580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1043315915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043315915"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As `AbortRescan()` does not abort the scanning process right away (only sets a flag that is later read by the wallet's scanning thread), might be good to add a \"wait until scan aborts\" here.\r\n\r\nSo there is no race between the wallet removal and the scanning process.",
      "commit_id" : "2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "created_at" : "2022-12-08T12:47:53Z",
      "diff_hunk" : "@@ -437,6 +438,14 @@ static RPCHelpMan unloadwallet()\n         throw JSONRPCError(RPC_WALLET_NOT_FOUND, \"Requested wallet does not exist or is not loaded\");\n     }\n \n+    if (wallet->IsScanning()) {\n+        if (request.params[2].isNull() || !request.params[2].get_bool()) {\n+            throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot unload a wallet while it is rescanning. Retry with the force option or run abortrescan first.\");\n+        }\n+\n+        wallet->AbortRescan();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1043315915",
      "id" : 1043315915,
      "line" : 446,
      "node_id" : "PRRC_kwDOABII584-L7zL",
      "original_commit_id" : "2567ffc5f1850af7b97c3faf166c187dff65cd4c",
      "original_line" : 446,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 17,
      "pull_request_review_id" : 1210022360,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043315915/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-08T12:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043315915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I have decided to remove to force option and only leave a warning in case there is a rescan. To me it's simpler and faster to type `abortrescan` than `options={\"force\": true}` and the warning is consistent with other RPCs.\r\n\r\n> I think you should use WalletRescanReserver because it allows checking if a rescan is in progress and at the same time prevent concurrent scans.\r\n\r\nDone, thanks.",
      "created_at" : "2022-12-08T15:16:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1342887047",
      "id" : 1342887047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QCtSH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342887047/reactions"
      },
      "updated_at" : "2022-12-08T15:16:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342887047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1043487738"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043487738"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`reserver` destructor needs to be called before `UnloadWallet`, something like:\r\n```cpp\r\n{\r\n    WalletRescanReserver reserver(*wallet);\r\n    ....\r\n    \r\n    RemoveWallet()\r\n}\r\nUnloadWallet();\r\n\r\n```",
      "commit_id" : "109cbb819ddd20220a255791c40261f746260f42",
      "created_at" : "2022-12-08T15:29:58Z",
      "diff_hunk" : "@@ -437,6 +437,11 @@ static RPCHelpMan unloadwallet()\n         throw JSONRPCError(RPC_WALLET_NOT_FOUND, \"Requested wallet does not exist or is not loaded\");\n     }\n \n+    WalletRescanReserver reserver(*wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#discussion_r1043487738",
      "id" : 1043487738,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584-Mlv6",
      "original_commit_id" : "3f319491321b9a856bf8a970a94ccf58e77f98b6",
      "original_line" : 440,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 1210288308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26618",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043487738/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-08T15:30:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1043487738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks, @promag. I added release notes.\r\n\r\nI think the test should be a follow-up as there are many other instances where this warning is not tested.",
      "created_at" : "2022-12-08T15:47:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1342929087",
      "id" : 1342929087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QC3i_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342929087/reactions"
      },
      "updated_at" : "2022-12-08T15:47:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342929087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think the test should be a follow-up as there are many other instances where this warning is not tested.\r\n\r\nThe general rule of thumb is that tests are added when there are changes.",
      "created_at" : "2022-12-08T16:08:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1342956845",
      "id" : 1342956845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QC-Ut",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342956845/reactions"
      },
      "updated_at" : "2022-12-08T16:08:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342956845",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The general rule of thumb is that tests are added when there are changes.\r\n\r\nI agree but the RPC error `Wallet is currently rescanning. Abort existing rescan or wait` has not been tested in other RPCs either and if a test were to be added, the other RPCs should be tested too and that may be out of scope.\r\n\r\n```\r\ngrep -nrIi \"Wallet is currently rescanning. Abort existing rescan or wait\" ./src\r\nsrc/wallet/rpc/backup.cpp:159:            throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/backup.cpp:254:        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/backup.cpp:447:        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/backup.cpp:516:        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/backup.cpp:1351:        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/backup.cpp:1658:        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/transactions.cpp:872:        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\nsrc/wallet/rpc/wallet.cpp:444:            throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is currently rescanning. Abort existing rescan or wait.\");\r\n```\r\n\r\n```\r\ngrep -nrIi \"Wallet is currently rescanning. Abort existing rescan or wait\" ./test\r\n<empty>\r\n```\r\n\r\nI'll look into adding a test though.",
      "created_at" : "2022-12-08T16:34:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1342989752",
      "id" : 1342989752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QDGW4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342989752/reactions"
      },
      "updated_at" : "2022-12-08T16:34:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342989752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My suggestion is to test the just introduced error, the other are indeed out of scope.",
      "created_at" : "2022-12-08T16:36:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1342992067",
      "id" : 1342992067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QDG7D",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342992067/reactions"
      },
      "updated_at" : "2022-12-08T16:36:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1342992067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Is it conceptionally possible to abort the rescan, if the wallet_dir is deleted (manually with rm -f wallet_dir)? My tests showed me that bitcoind will happily rescan further ? Or is it somehow a user-misbehaving we should not take into account ?",
      "created_at" : "2022-12-08T23:02:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1343482429",
      "id" : 1343482429,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QE-o9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343482429/reactions"
      },
      "updated_at" : "2022-12-08T23:02:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343482429",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/90319354?v=4",
         "events_url" : "https://api.github.com/users/ziggie1984/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ziggie1984/followers",
         "following_url" : "https://api.github.com/users/ziggie1984/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ziggie1984/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ziggie1984",
         "id" : 90319354,
         "login" : "ziggie1984",
         "node_id" : "MDQ6VXNlcjkwMzE5MzU0",
         "organizations_url" : "https://api.github.com/users/ziggie1984/orgs",
         "received_events_url" : "https://api.github.com/users/ziggie1984/received_events",
         "repos_url" : "https://api.github.com/users/ziggie1984/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ziggie1984/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ziggie1984/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ziggie1984"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ziggie1984 user-misbehaving",
      "created_at" : "2022-12-08T23:07:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1343489127",
      "id" : 1343489127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QFARn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343489127/reactions"
      },
      "updated_at" : "2022-12-08T23:07:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343489127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, I would think deleting data files out from under the software should be expected to crash ;)",
      "created_at" : "2022-12-09T03:53:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1343811541",
      "id" : 1343811541,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QGO_V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343811541/reactions"
      },
      "updated_at" : "2022-12-09T03:53:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343811541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I added a test in #26700 @promag.",
      "created_at" : "2022-12-14T19:43:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1352053552",
      "id" : 1352053552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585QlrMw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352053552/reactions"
      },
      "updated_at" : "2022-12-14T19:43:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352053552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 109cbb819ddd20220a255791c40261f746260f42",
      "created_at" : "2023-01-09T21:18:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1376330753",
      "id" : 1376330753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585SCSQB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1376330753/reactions"
      },
      "updated_at" : "2023-01-09T21:18:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1376330753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This was merged",
      "created_at" : "2023-01-09T22:02:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26618#issuecomment-1376388329",
      "id" : 1376388329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26618",
      "node_id" : "IC_kwDOABII585SCgTp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1376388329/reactions"
      },
      "updated_at" : "2023-01-09T22:02:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1376388329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
