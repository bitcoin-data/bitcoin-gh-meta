[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This would be very useful if the CI was able to detect which tests have been updated in a pull request to execute them first. (#23808).\r\nI've tried to update the CI accordingly but it does seem to work because of errors such as:\r\n> fatal: ambiguous argument 'master': unknown revision or path not in the working tree.\r\n\r\nI am unfamiliar with the CI so any help would be welcome, maybe in another PR.\r\n\r\nWhat I've tried:\r\n```diff\r\ndiff --git a/ci/test/06_script_b.sh b/ci/test/06_script_b.sh\r\nindex 5bdb392ba..f3da08637 100755\r\n--- a/ci/test/06_script_b.sh\r\n+++ b/ci/test/06_script_b.sh\r\n@@ -31,7 +31,7 @@ if [ \"$RUN_UNIT_TESTS_SEQUENTIAL\" = \"true\" ]; then\r\n fi\r\n\r\n if [ \"$RUN_FUNCTIONAL_TESTS\" = \"true\" ]; then\r\n-  CI_EXEC LD_LIBRARY_PATH=\"${DEPENDS_DIR}/${HOST}/lib\" \"${TEST_RUNNER_ENV}\" test/functional/test_runner.py --ci \"$MAKEJOBS\" --tmpdirprefix \"${BASE_SCRATCH_DIR}/test_runner/\" --ansi --combinedlogslen=4000 --timeout-factor=\"${TEST_RUNNER_TIMEOUT_FACTOR}\" \"${TEST_RUNNER_EXTRA}\" --quiet --failfast\r\n+  CI_EXEC LD_LIBRARY_PATH=\"${DEPENDS_DIR}/${HOST}/lib\" \"${TEST_RUNNER_ENV}\" test/functional/test_runner.py --ci \"$MAKEJOBS\" --tmpdirprefix \"${BASE_SCRATCH_DIR}/test_runner/\" --ansi --combinedlogslen=4000 --timeout-factor=\"${TEST_RUNNER_TIMEOUT_FACTOR}\" \"${TEST_RUNNER_EXTRA}\" --quiet --failfast --priority $(git diff --name-only \"${CIRRUS_BASE_BRANCH}\" \"${CIRRUS_BRANCH}\" | while read t; do if [[ $t == test/functional/*.py ]]; then echo $(basename $t); fi; done)\r\n fi\r\n\r\n if [ \"${RUN_TIDY}\" = \"true\" ]; then\r\n```",
      "created_at" : "2022-09-15T16:28:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26102#issuecomment-1248339558",
      "id" : 1248339558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26102",
      "node_id" : "IC_kwDOABII585KaCZm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248339558/reactions"
      },
      "updated_at" : "2022-09-15T16:28:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248339558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Is the motivation behind this purely for the CI to fail fast on modified tests? What's the scenario where someone will want to run the tests not in parallel and with specific priority? Could you achieve a similar outcome with `-filter`?",
      "created_at" : "2022-09-15T17:03:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26102#issuecomment-1248374456",
      "id" : 1248374456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26102",
      "node_id" : "IC_kwDOABII585KaK64",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248374456/reactions"
      },
      "updated_at" : "2022-09-15T17:03:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248374456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is the motivation behind this purely for the CI to fail fast on modified tests?\r\n\r\nI think it still has its use-cases; for example if you're touching wallet code and you want to run a few specific wallet tests before the rest locally.\r\nBut yes it would be better to have it on the CI for the fail fast.\r\n\r\n> What's the scenario where someone will want to run the tests not in parallel and with specific priority?\r\n\r\nI don't think anyone will want to do that. I added the note for reviewers in case they run the script with parallel jobs and prioritized tests because some non-prioritized tests may finish faster and that may be confusing.\r\n\r\n",
      "created_at" : "2022-09-15T17:27:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26102#issuecomment-1248398304",
      "id" : 1248398304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26102",
      "node_id" : "IC_kwDOABII585KaQvg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248398304/reactions"
      },
      "updated_at" : "2022-09-15T17:27:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248398304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16545](https://github.com/bitcoin/bitcoin/pull/16545) (refactor: Implement missing error checking for ArgsManager flags by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-09-23T03:37:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26102#issuecomment-1255767412",
      "id" : 1255767412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26102",
      "node_id" : "IC_kwDOABII585K2X10",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255767412/reactions"
      },
      "updated_at" : "2022-09-23T03:37:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255767412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
