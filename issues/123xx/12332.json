{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "I have malloc() error(s) in bitcoin 0.13.2 built for OpenBSD 6.2amd64 GENERIC.MP. On previous OpenBSD 6.1amd64 GENERIC.MP bitcoin 0.13.2 works smoothly.\r\n\r\nThe errors usually occurs every time when Bitcoin started.\r\n\r\nOpenBSD developers points on some hidden bugs in memory management used in Bitcoin which float after more strict malloc() was implemented.\r\n\r\n------------------------------------------\r\nHere is the error using defalt malloc() settings (no any options were enabled from man(5) malloc.conf): \r\n\r\nbitcoind (2672) malloc():bogus pointer (double free?) 0xdfdfdfdfdfdfdfdf\r\nbitcoind (17411) free(): chunk is already free 0x1bc9981cae20\r\nOR\r\nbitcoind (25876) in free(): double free 0xb4b86701cc0\r\nOR\r\nbitcoind (8031) in free(): chink is already free 0x11577e86bb50\r\nOR\r\nbitcoind (3267) in free(): chink is already free 0x14e5fe642910\r\n\r\n------------------------------------------\r\nAfter enabling 'S' option \"Enable all options suitable for security auditing\" by the command:\r\n\r\nln -s 'S' /etc/malloc.conf\r\n\r\nThe error is a bit different, but persistent.\r\n \r\nbitcoind (2476) in free(): chunk canary corrupted 0x1ad4b3e5b3b0\r\n0x2@0x2 (double free?)\r\n\r\n------------------------------------------\r\n\r\nI tried to run the bitcoin-0.13.2 with 'j' option \"Less junking\" the malloc() errors still present.\r\nln -s 'j' /etc/malloc.conf\r\n\r\nI can add some further test conditions and build options for bitcoin on this platform.",
   "closed_at" : "2018-04-20T02:04:55Z",
   "closed_by" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12332/comments",
   "created_at" : "2018-02-02T11:41:16Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12332/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/12332",
   "id" : 293861090,
   "labels" : [
      {
         "color" : "770000",
         "default" : false,
         "id" : 234878,
         "name" : "Linux/Unix",
         "node_id" : "MDU6TGFiZWwyMzQ4Nzg=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Linux/Unix"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12332/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUyOTM4NjEwOTA=",
   "number" : 12332,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Bitcoin malloc() error in OpenBSD 6.2amd64",
   "updated_at" : "2018-04-20T02:04:55Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12332",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/35894159?v=4",
      "events_url" : "https://api.github.com/users/amore-amore/events{/privacy}",
      "followers_url" : "https://api.github.com/users/amore-amore/followers",
      "following_url" : "https://api.github.com/users/amore-amore/following{/other_user}",
      "gists_url" : "https://api.github.com/users/amore-amore/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/amore-amore",
      "id" : 35894159,
      "login" : "amore-amore",
      "node_id" : "MDQ6VXNlcjM1ODk0MTU5",
      "organizations_url" : "https://api.github.com/users/amore-amore/orgs",
      "received_events_url" : "https://api.github.com/users/amore-amore/received_events",
      "repos_url" : "https://api.github.com/users/amore-amore/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/amore-amore/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/amore-amore/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/amore-amore"
   }
}
