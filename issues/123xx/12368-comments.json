[
   {
      "author_association" : "MEMBER",
      "body" : "Thanks, fixes the test failures for me. (At least the wallet and mempool related ones, heh)\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 85aa8398f5d13c659299b81cdae377462b4f8316\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIcBAEBCgAGBQJaefz+AAoJENLqSFDnUoslrz4P/07HOkA1I4XAQTGUcFpWYVgM\r\nLdLJIdSY1HcflR/l9L07oNU7wZgKMGRVYMU+fn6sB1FPmJVJAWURSKBBrq1dr37h\r\nAHIkHG4nZAJuxcU1oi+s0n8/KxPh1mLPi+NsTcUm88c1DcWFQQUripYIiSh0f5tv\r\nuFSdIwVYc7es3BdGoSwHhK4d/+tZIZQ9GCUITYfciqiK0YpHSAZ0RF+xM0nHADdC\r\nXDMr0igQ0DmSGrM4yzdbZUciVcxASC+oeM6i5Jgck9fFNIfaQziNIWOk2PBEsAfg\r\nKBj4mkOPjvqmLyxp8FCWaVKxt2VXE1/bQq0pneGkIyJvEri6I39tU0lG6R1ReBm7\r\nWJtSx+XMvsVQU7A8GvcEQ7oCq0pA63T2+YA9p00TRXBYjireDgmhmzrSXkgmxaD8\r\nbw8WZexF1GfBLkKgR4zgjWkYOKvnRqUOKgPoCfTXkyaSxloeOg3pVF/XDMD0A1Yw\r\npX0ASzgEapm8epJVojF7tLwEEGvzFfaFR/UOA70MHb7k4DtNCjyhgwrjppK3+X32\r\n3BqIzFPaq4w8s4zqJosVKCxP41fzi8uOLPyZetWd2y/JE5dv4FTGuiE5NWIBzyLh\r\n5fGErIBdYAZdQyLQWvCHdJvBVsvscNo/ZL7mXFl4IbdPmUieEz7OnrU82tbb+xMe\r\nngOWNw5mjJFBtkyLuIme\r\n=ovgc\r\n-----END PGP SIGNATURE-----",
      "created_at" : "2018-02-06T19:22:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363535207",
      "id" : 363535207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-06T19:22:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363535207",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 02fc8863630a20e75230f8bc3ba1051c480ae560 (second commit obviously not for backport)",
      "created_at" : "2018-02-06T21:15:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363566834",
      "id" : 363566834,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-06T21:15:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363566834",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think this is correct because of lock order. You correctly say\r\n```cpp\r\n// mempool \"read lock\" (held through GetMainSignals().TransactionAddedToMempool())\r\n```\r\nAnd when it hits `CWallet::TransactionAddedToMempool` the lock order will be `cs_main, mempool.cs, cs_wallet`.\r\n\r\nBut, for instance, `listtransactions` RPC when eventually reaches `WalletTxToJSON`, the lock order will be `cs_main, cs_wallet, mempool.cs`.\r\n\r\nCorrect me if I'm wrong, but can't this create a deadlock?",
      "created_at" : "2018-02-06T22:20:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363584547",
      "id" : 363584547,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-06T22:20:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363584547",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "There is no lock order across TransactionAddedToMempool as it is called on a background thread (and can wait as long as it wants).",
      "created_at" : "2018-02-06T22:24:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363585868",
      "id" : 363585868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-06T22:24:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363585868",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, `GetMainSignals().TransactionAddedToMempool` enqueues the signal!\r\n\r\nutACK 02fc886.",
      "created_at" : "2018-02-06T22:34:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363588397",
      "id" : 363588397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-06T22:34:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363588397",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK 02fc8863630a20e75230f8bc3ba1051c480ae560. We probably want to rethink how locking of chainstate/mempool works later on (either by using actual rwlocks, or by allowing the mempool to lag behind chain validation).",
      "created_at" : "2018-02-07T03:21:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363643941",
      "id" : 363643941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-07T03:21:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363643941",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/12368/commits/02fc8863630a20e75230f8bc3ba1051c480ae560",
      "created_at" : "2018-02-07T17:27:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363845440",
      "id" : 363845440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
      "updated_at" : "2018-02-07T17:27:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363845440",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/107096?v=4",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   }
]
