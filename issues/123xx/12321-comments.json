[
   {
      "author_association" : "NONE",
      "body" : "Again I'm only considering the edge cases after clicking \"create pull request\"..  What if the script contains a checksig with an uncompressed pubkey?\r\nObviously not ready.",
      "created_at" : "2018-02-01T01:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-362126899",
      "id" : 362126899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-01T01:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362126899",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fivepiece feel free to add [WIP] to the title of your PR if its work in progress :) It's usually fine to open up a PR before its completely ready because other contributors might like to give feedback on the approach or high level concept ACK/NACKs regardless. Thanks for helping out!",
      "created_at" : "2018-02-01T01:30:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-362128524",
      "id" : 362128524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-01T01:30:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362128524",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Cheers, title changed\r\n(and now changed back :) )",
      "created_at" : "2018-02-01T01:34:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-362129314",
      "id" : 362129314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-03T17:39:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362129314",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ideas welcome, returning a p2wsh for a p2pk or multisig with an uncompressed pubkey can result in fund loss, then again `decodescript` already returns p2sh addresses even for complete garbage.\r\nWhat should this change to `decodescript` take into account when deciding whether to post a p2wsh address to the user?",
      "created_at" : "2018-02-01T20:24:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-362390742",
      "id" : 362390742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-01T20:24:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362390742",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK\r\n\r\nI think returning garbage is fine. It can be something unprovably unspendable even, and I don't think it's the job of this tool to check. \r\n\r\nWonder if it's worth it to have it also return a p2sh-p2wsh version, in other words interpreting the script as a witnessscript, if applicable?",
      "created_at" : "2018-02-01T22:14:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-362420032",
      "id" : 362420032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-01T22:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362420032",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Agreed.  Keeping the simple check that this is not a bare witness program seems to be in line with the check above it not letting p2sh be re-encoded into p2sh.\r\nThis commit adds p2sh-p2wsh as well. ",
      "created_at" : "2018-02-01T23:10:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-362432972",
      "id" : 362432972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-01T23:10:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362432972",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag wouldn't moving this to `ScriptPubKeyToUniv` cause script translation to all these types of addresses to fire on `decoderawtransaction` as well?\r\nSorry if I misunderstood your comment.\r\n\r\nI will be looking into adding tests as well.",
      "created_at" : "2018-02-08T14:38:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-364131011",
      "id" : 364131011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-08T14:38:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364131011",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I've made some changes to this:\r\n\r\n1. Segwit stuff is handled in a generic way using `GetScriptForWitness()`.  This allows to return a more appropriate p2wpkh for p2pkh and p2pk scriptpubkeys, and (currently) p2wsh for all the rest.\r\n2. The data returned for the segwit scripts is its own univalue object (@promag suggestion), so it includes more useful info like the segwit scriptpubkey and type, along with the bech32 address.\r\n\r\nVarious examples of the output can be seen here :\r\nhttps://gist.github.com/fivepiece/e25b0fcdf8303fdbfd56363ae50dec15\r\n\r\nCaveats :\r\n\r\n1. For the segwit scriptpubkeys, we always have `\"reqSigs\": 1`.\r\n2. It's still possible to get a segwit program address for scripts using checksigs with uncompressed pubkeys.  This is because `GetScriptForWitness()` doesn't check `vSolutions` for presense of such pubkeys.  It's probably be possible to change GetScriptForWitness to check for that when bare pubkeys are invloved in the script, but out of scope for this PR.",
      "created_at" : "2018-02-09T19:31:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-364537391",
      "id" : 364537391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-09T19:31:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364537391",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This is pretty much a complete rewrite taking into account @sipa's suggestion (on irc) to use the same logic from `validateaddress` in here.\r\n\r\n1. Uncompressed pubkeys are handled correctly - meaning standard scripts containing them will not be encoded in segwit scriptpubkeys.\r\n2. Added a few tests on top of the existing `rpc_decodescript.py`.  I couldn't find a way to easily test that segwit output is **not** returned for standard scripts with uncompressed pubkeys.  Suggestions on how to do that are welcome.\r\n3. Updated https://gist.github.com/fivepiece/e25b0fcdf8303fdbfd56363ae50dec15 with examples showing segwit output is disabled for uncompressed pubkey scripts.\r\n\r\n~(please restart the travis job if possible, it hasn't failed, just cancelled before it began)~ Done, thanks!",
      "created_at" : "2018-02-16T14:39:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-366252840",
      "id" : 366252840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-16T14:43:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366252840",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "kicked travis.\r\n\r\n> I couldn't find a way to easily test that segwit output is not returned for standard scripts with uncompressed pubkeys.\r\n\r\nhm? Your gist has examples that you could use.\r\n",
      "created_at" : "2018-02-16T14:44:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-366254202",
      "id" : 366254202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-16T14:44:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366254202",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Specifically, I don't know how to assert that a value (say `rpc_result['segwit']`) does not exist in the returned univalue.",
      "created_at" : "2018-02-16T14:48:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-366255195",
      "id" : 366255195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-16T14:48:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366255195",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "in python `'segwit' not in rpc_result` ?",
      "created_at" : "2018-02-16T14:51:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-366256014",
      "id" : 366256014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-16T14:51:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366256014",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, I was trying to bend `assert_array_result` to do the check but your way works.",
      "created_at" : "2018-02-16T14:54:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-366257069",
      "id" : 366257069,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-16T14:54:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366257069",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Added tests for checking `'segwit'` value is not returned when inappropriate. ",
      "created_at" : "2018-02-17T09:12:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-366428315",
      "id" : 366428315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-02-17T09:12:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/366428315",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172524899"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172524899"
         }
      },
      "author_association" : "MEMBER",
      "body" : "could you generate this dynamically instead of hardcoding the long hex?",
      "commit_id" : "4f933b3d23010d3b03998460290faed97cd6f236",
      "created_at" : "2018-03-06T14:05:15Z",
      "diff_hunk" : "@@ -59,18 +59,24 @@ def decodescript_script_pub_key(self):\n         # <pubkey> OP_CHECKSIG\n         rpc_result = self.nodes[0].decodescript(push_public_key + 'ac')\n         assert_equal(public_key + ' OP_CHECKSIG', rpc_result['asm'])\n+        # P2PK is translated to P2WPKH\n+        assert_equal('0 ' + public_key_hash, rpc_result['segwit']['asm'])\n \n         # 2) P2PKH scriptPubKey\n         # OP_DUP OP_HASH160 <PubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n         rpc_result = self.nodes[0].decodescript('76a9' + push_public_key_hash + '88ac')\n         assert_equal('OP_DUP OP_HASH160 ' + public_key_hash + ' OP_EQUALVERIFY OP_CHECKSIG', rpc_result['asm'])\n+        # P2PKH is translated to P2WPKH\n+        assert_equal('0 ' + public_key_hash, rpc_result['segwit']['asm'])\n \n         # 3) multisig scriptPubKey\n         # <m> <A pubkey> <B pubkey> <C pubkey> <n> OP_CHECKMULTISIG\n         # just imagine that the pub keys used below are different.\n         # for our purposes here it does not matter that they are the same even though it is unrealistic.\n         rpc_result = self.nodes[0].decodescript('52' + push_public_key + push_public_key + push_public_key + '53ae')\n         assert_equal('2 ' + public_key + ' ' + public_key + ' ' + public_key +  ' 3 OP_CHECKMULTISIG', rpc_result['asm'])\n+        # multisig in P2WSH\n+        assert_equal('0 0f320decca000221b611117448134c78dd220cd22384ac80025b59e43c8698e8', rpc_result['segwit']['asm'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172524899",
      "id" : 172524899,
      "original_commit_id" : "d0164ba9cef3847851348fba3bcb98fc24e3c7e2",
      "original_position" : 30,
      "path" : "test/functional/rpc_decodescript.py",
      "position" : null,
      "pull_request_review_id" : 101554123,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321",
      "updated_at" : "2018-03-06T21:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172524899",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172524936"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172524936"
         }
      },
      "author_association" : "MEMBER",
      "body" : "could you generate this dynamically instead of hardcoding the long hex?",
      "commit_id" : "4f933b3d23010d3b03998460290faed97cd6f236",
      "created_at" : "2018-03-06T14:05:24Z",
      "diff_hunk" : "@@ -103,6 +109,8 @@ def decodescript_script_pub_key(self):\n         # lock until block 500,000\n         rpc_result = self.nodes[0].decodescript('63' + push_public_key + 'ad670320a107b17568' + push_public_key + 'ac')\n         assert_equal('OP_IF ' + public_key + ' OP_CHECKSIGVERIFY OP_ELSE 500000 OP_CHECKLOCKTIMEVERIFY OP_DROP OP_ENDIF ' + public_key + ' OP_CHECKSIG', rpc_result['asm'])\n+        # CLTV script in P2WSH\n+        assert_equal('0 01f79ceb012cbcefb251f7843b827a3e285f40ddc5014d35e2486716cbacf5f1', rpc_result['segwit']['asm'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172524936",
      "id" : 172524936,
      "original_commit_id" : "d0164ba9cef3847851348fba3bcb98fc24e3c7e2",
      "original_position" : 39,
      "path" : "test/functional/rpc_decodescript.py",
      "position" : null,
      "pull_request_review_id" : 101554166,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321",
      "updated_at" : "2018-03-06T21:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172524936",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/12321/commits/785bd02cda896c92190a8a9bba3d1b40fd2812b9\r\n\r\nI think you can squash almost all these commits.",
      "created_at" : "2018-03-06T14:06:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-370791833",
      "id" : 370791833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-03-06T14:06:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370791833",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Cool, I'll squash it all into a single commit if this current change looks good, or two if it's better to separate work done on core from the tests.  Let me know which is better.",
      "created_at" : "2018-03-06T19:39:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-370902315",
      "id" : 370902315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-03-06T19:39:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370902315",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "whatever's easier to you, 1 or 2",
      "created_at" : "2018-03-06T19:41:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-370903005",
      "id" : 370903005,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-03-06T19:41:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370903005",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Two commits now.  No problem changing later on if needed.",
      "created_at" : "2018-03-06T19:55:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-370907399",
      "id" : 370907399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-03-06T19:55:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370907399",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172641751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172641751"
         }
      },
      "author_association" : "MEMBER",
      "body" : "just return `r` here. then remove the conditional later?",
      "commit_id" : "4f933b3d23010d3b03998460290faed97cd6f236",
      "created_at" : "2018-03-06T20:00:55Z",
      "diff_hunk" : "@@ -563,6 +563,41 @@ UniValue decodescript(const JSONRPCRequest& request)\n         // P2SH cannot be wrapped in a P2SH. If this script is already a P2SH,\n         // don't return the address for a P2SH of the P2SH.\n         r.pushKV(\"p2sh\", EncodeDestination(CScriptID(script)));\n+        // P2SH and witness programs cannot be wrapped in P2WSH, if this script\n+        // is a witness program, don't return addresses for a segwit programs.\n+        if (type.get_str().find(\"witness\") == std::string::npos) {\n+            txnouttype which_type;\n+            std::vector<std::vector<unsigned char>> solutions_data;\n+            Solver(script, which_type, solutions_data);\n+            // Uncompressed pubkeys cannot be used with segwit checksigs.\n+            // If the script contains an uncompressed pubkey, skip encoding of a segwit program.\n+            bool fFoundUncompressedPubkeys = false;\n+            if ((which_type == TX_PUBKEY) || (which_type == TX_MULTISIG)) {\n+                for (const auto& solution : solutions_data) {\n+                    if ((solution.size() != 1) && !CPubKey(solution).IsCompressed()) {\n+                        fFoundUncompressedPubkeys = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172641751",
      "id" : 172641751,
      "original_commit_id" : "f474907243cdbed7e3256b381cabea439a040fdc",
      "original_position" : 16,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 101694535,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321",
      "updated_at" : "2018-03-06T21:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172641751",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172647200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172647200"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah I see what you mean, looking into this.",
      "commit_id" : "4f933b3d23010d3b03998460290faed97cd6f236",
      "created_at" : "2018-03-06T20:20:47Z",
      "diff_hunk" : "@@ -563,6 +563,41 @@ UniValue decodescript(const JSONRPCRequest& request)\n         // P2SH cannot be wrapped in a P2SH. If this script is already a P2SH,\n         // don't return the address for a P2SH of the P2SH.\n         r.pushKV(\"p2sh\", EncodeDestination(CScriptID(script)));\n+        // P2SH and witness programs cannot be wrapped in P2WSH, if this script\n+        // is a witness program, don't return addresses for a segwit programs.\n+        if (type.get_str().find(\"witness\") == std::string::npos) {\n+            txnouttype which_type;\n+            std::vector<std::vector<unsigned char>> solutions_data;\n+            Solver(script, which_type, solutions_data);\n+            // Uncompressed pubkeys cannot be used with segwit checksigs.\n+            // If the script contains an uncompressed pubkey, skip encoding of a segwit program.\n+            bool fFoundUncompressedPubkeys = false;\n+            if ((which_type == TX_PUBKEY) || (which_type == TX_MULTISIG)) {\n+                for (const auto& solution : solutions_data) {\n+                    if ((solution.size() != 1) && !CPubKey(solution).IsCompressed()) {\n+                        fFoundUncompressedPubkeys = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r172647200",
      "id" : 172647200,
      "in_reply_to_id" : 172641751,
      "original_commit_id" : "f474907243cdbed7e3256b381cabea439a040fdc",
      "original_position" : 16,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 101701036,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321",
      "updated_at" : "2018-03-06T21:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172647200",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Good call.  All in a single commit now.",
      "created_at" : "2018-03-06T21:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-370929567",
      "id" : 370929567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-03-06T21:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370929567",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK https://github.com/bitcoin/bitcoin/pull/12321/commits/4f933b3d23010d3b03998460290faed97cd6f236",
      "created_at" : "2018-03-06T21:26:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-370934016",
      "id" : 370934016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-03-06T21:26:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370934016",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r179925590"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179925590"
         }
      },
      "author_association" : "OWNER",
      "body" : "Searching for a string in the type name seems brittle - if we have to work with strings here (there seems to be no other accessible way) let's explicitly list the options. e.g. according to current selection that would be\r\n```\r\n\"nonstandard\"\r\n\"pubkey\"\r\n\"pubkeyhash\"\r\n\"scripthash\"\r\n\"multisig\"\r\n\"nulldata\"\r\n```",
      "commit_id" : "4f933b3d23010d3b03998460290faed97cd6f236",
      "created_at" : "2018-04-07T19:19:15Z",
      "diff_hunk" : "@@ -563,6 +563,38 @@ UniValue decodescript(const JSONRPCRequest& request)\n         // P2SH cannot be wrapped in a P2SH. If this script is already a P2SH,\n         // don't return the address for a P2SH of the P2SH.\n         r.pushKV(\"p2sh\", EncodeDestination(CScriptID(script)));\n+        // P2SH and witness programs cannot be wrapped in P2WSH, if this script\n+        // is a witness program, don't return addresses for a segwit programs.\n+        if (type.get_str().find(\"witness\") == std::string::npos) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#discussion_r179925590",
      "id" : 179925590,
      "original_commit_id" : "4f933b3d23010d3b03998460290faed97cd6f236",
      "original_position" : 6,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 6,
      "pull_request_review_id" : 110264700,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12321",
      "updated_at" : "2018-04-07T19:39:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179925590",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated to address @laanwj's comment",
      "created_at" : "2018-04-07T22:03:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-379502377",
      "id" : 379502377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-04-07T22:03:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379502377",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5624963?v=4",
         "events_url" : "https://api.github.com/users/fivepiece/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fivepiece/followers",
         "following_url" : "https://api.github.com/users/fivepiece/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fivepiece/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fivepiece",
         "id" : 5624963,
         "login" : "fivepiece",
         "organizations_url" : "https://api.github.com/users/fivepiece/orgs",
         "received_events_url" : "https://api.github.com/users/fivepiece/received_events",
         "repos_url" : "https://api.github.com/users/fivepiece/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fivepiece/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fivepiece/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fivepiece"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Thank you\r\nutACK https://github.com/bitcoin/bitcoin/pull/12321/commits/41ff9675a92f6c080a4bb171e286060ef864a803",
      "created_at" : "2018-04-08T17:34:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12321#issuecomment-379567546",
      "id" : 379567546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12321",
      "updated_at" : "2018-04-08T17:34:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379567546",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
