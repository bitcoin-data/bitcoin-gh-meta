[
   {
      "author_association" : "MEMBER",
      "body" : "Here is a categorized list of the commits:\n- P2P/node/consensus (https://github.com/sipa/bitcoin/compare/4182520...7080d47)\n  - 8199125 BIP144: Serialization, hashes, relay (sender side)\n  - 04dd13a BIP141: Witness program\n  - 1fff664 BIP141: Commitment structure and deployment\n  - 902c279 BIP144: Handshake and relay (receiver side)\n  - 113b3e5 Refactor script validation to observe amounts\n  - 1f5bb93 BIP143: Verification logic\n  - 87252e9 [RPC] Return witness data in blockchain RPCs\n  - 94c2abb BIP141: Other consensus critical limits, and BIP145\n  - f0b33a5 [libconsensus] Script verification API with amounts\n  - 76cb63b Add rewind logic to deal with post-fork software updates\n- wallet (https://github.com/sipa/bitcoin/compare/7080d47...8a5665a)\n  - b344e52 BIP143: Signing logic\n  - ddb6682 [RPC] Add wallet support for witness transactions (using P2SH)\n  - 0c57081 [RPC] signrawtransaction can sign P2WSH\n- tests (https://github.com/sipa/bitcoin/compare/8a5665a...37916d3)\n  - f7d6e0a [qa] Witness version 0 signing unit tests\n  - 2cbf540 [qa] Add transaction tests for segwit\n  - 29344db [qa] Add segwit support to script_tests\n  - ec00dc9 [qa] Autogeneration support for witness in script_tests\n  - e711429 [qa] Add rpc test for segwit\n  - 7d828f1 [qa] p2p segwit tests\n  - 0612ad6 [qa] script_tests: witness tests can specify tx amount\n  - 89179b0 [qa] Add GetTransactionSigOpCost unit tests\n- deployment (https://github.com/sipa/bitcoin/compare/37916d3...74300b9a5ed24e9f7d80ecc39d4e19690732ccbe)\n  - 74300b9 BIP9 parameters for testnet\n",
      "created_at" : "2016-06-06T13:06:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-223953094",
      "id" : 223953094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMzk1MzA5NA==",
      "updated_at" : "2016-06-16T18:34:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/223953094",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK for same git tree hash for 3cb46c1a4ac94f4a7f25368bc2ba3c784c901b89 and 17389dc466f2acf8bfa64ce0416f3b5281445a5c.\n",
      "created_at" : "2016-06-06T13:34:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-223960154",
      "id" : 223960154,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyMzk2MDE1NA==",
      "updated_at" : "2016-06-06T13:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/223960154",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/101238?v=4",
         "events_url" : "https://api.github.com/users/kanzure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanzure/followers",
         "following_url" : "https://api.github.com/users/kanzure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanzure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanzure",
         "id" : 101238,
         "login" : "kanzure",
         "node_id" : "MDQ6VXNlcjEwMTIzOA==",
         "organizations_url" : "https://api.github.com/users/kanzure/orgs",
         "received_events_url" : "https://api.github.com/users/kanzure/received_events",
         "repos_url" : "https://api.github.com/users/kanzure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanzure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanzure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r65914300"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65914300"
         }
      },
      "body" : "This `ret` looks like unused.",
      "commit_id" : "17389dc466f2acf8bfa64ce0416f3b5281445a5c",
      "created_at" : "2016-06-06T15:43:02Z",
      "diff_hunk" : "@@ -64,4 +65,179 @@ BOOST_AUTO_TEST_CASE(GetSigOpCount)\n     BOOST_CHECK_EQUAL(p2sh.GetSigOpCount(scriptSig2), 3U);\n }\n \n+/**\n+ * Verifies script execution of the zeroth scriptPubKey of tx output and\n+ * zeroth scriptSig and witness of tx input.\n+ */\n+ScriptError VerifyWithFlag(const CTransaction& output, const CMutableTransaction& input, int flags)\n+{\n+    ScriptError error;\n+    CTransaction inputi(input);\n+    bool ret = VerifyScript(inputi.vin[0].scriptSig, output.vout[0].scriptPubKey, inputi.wit.vtxinwit.size() > 0 ? &inputi.wit.vtxinwit[0].scriptWitness : NULL, flags, TransactionSignatureChecker(&inputi, 0, output.vout[0].nValue), &error);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r65914300",
      "id" : 65914300,
      "original_commit_id" : "17389dc466f2acf8bfa64ce0416f3b5281445a5c",
      "original_position" : 20,
      "path" : "src/test/sigopcount_tests.cpp",
      "position" : 20,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-06-06T15:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/65914300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r66020110"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66020110"
         }
      },
      "body" : "Please comment in #7910.",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-06-07T07:14:49Z",
      "diff_hunk" : "@@ -64,4 +65,179 @@ BOOST_AUTO_TEST_CASE(GetSigOpCount)\n     BOOST_CHECK_EQUAL(p2sh.GetSigOpCount(scriptSig2), 3U);\n }\n \n+/**\n+ * Verifies script execution of the zeroth scriptPubKey of tx output and\n+ * zeroth scriptSig and witness of tx input.\n+ */\n+ScriptError VerifyWithFlag(const CTransaction& output, const CMutableTransaction& input, int flags)\n+{\n+    ScriptError error;\n+    CTransaction inputi(input);\n+    bool ret = VerifyScript(inputi.vin[0].scriptSig, output.vout[0].scriptPubKey, inputi.wit.vtxinwit.size() > 0 ? &inputi.wit.vtxinwit[0].scriptWitness : NULL, flags, TransactionSignatureChecker(&inputi, 0, output.vout[0].nValue), &error);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r66020110",
      "id" : 66020110,
      "original_commit_id" : "17389dc466f2acf8bfa64ce0416f3b5281445a5c",
      "original_position" : 20,
      "path" : "src/test/sigopcount_tests.cpp",
      "position" : 20,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-06-22T14:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/66020110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated with a rebased/squashed version of the changes in #7910. The resulting tree should still be identical.\n",
      "created_at" : "2016-06-12T20:32:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-225458658",
      "id" : 225458658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTQ1ODY1OA==",
      "updated_at" : "2016-06-12T20:32:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225458658",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated again.\n",
      "created_at" : "2016-06-13T20:33:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-225699737",
      "id" : 225699737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNTY5OTczNw==",
      "updated_at" : "2016-06-13T20:33:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/225699737",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 74300b9a5ed24e9f7d80ecc39d4e19690732ccbe\n",
      "created_at" : "2016-06-17T05:05:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-226681446",
      "id" : 226681446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjY4MTQ0Ng==",
      "updated_at" : "2016-06-17T05:05:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226681446",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Reviewed everything. Tested different scenarios. Mostly focused on the wallet.\nACK 74300b9a5ed24e9f7d80ecc39d4e19690732ccbe\n",
      "created_at" : "2016-06-17T06:14:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-226688777",
      "id" : 226688777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjY4ODc3Nw==",
      "updated_at" : "2016-06-17T06:14:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226688777",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 74300b9a5ed24e9f7d80ecc39d4e19690732ccbe (focused more on the scripting side, and tx signature v2, lightly reviewed the rest)\n",
      "created_at" : "2016-06-17T10:27:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-226735778",
      "id" : 226735778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNjczNTc3OA==",
      "updated_at" : "2016-06-17T10:29:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/226735778",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on top of #8068 and #8179.\n\nNote that since there is currently no written-down specification for how segwit should interact with compact blocks, I've taken the conservative approach of disabling compact blocks whenever the segwit softfork is defined (in practice this means that compact blocks won't be used on testnet, but will be on mainnet).\n\nDefining how segwit + compact blocks work together should be trivial, but it shouldn't burden this PR and testing thereof.\n",
      "created_at" : "2016-06-22T14:08:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-227755007",
      "id" : 227755007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyNzc1NTAwNw==",
      "updated_at" : "2016-06-22T15:55:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/227755007",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "will run #8149 node! finally!\n",
      "created_at" : "2016-06-24T09:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-228302453",
      "id" : 228302453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODMwMjQ1Mw==",
      "updated_at" : "2016-06-24T09:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228302453",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4107993?v=4",
         "events_url" : "https://api.github.com/users/sneurlax/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sneurlax/followers",
         "following_url" : "https://api.github.com/users/sneurlax/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sneurlax/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sneurlax",
         "id" : 4107993,
         "login" : "sneurlax",
         "node_id" : "MDQ6VXNlcjQxMDc5OTM=",
         "organizations_url" : "https://api.github.com/users/sneurlax/orgs",
         "received_events_url" : "https://api.github.com/users/sneurlax/received_events",
         "repos_url" : "https://api.github.com/users/sneurlax/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sneurlax/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sneurlax/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sneurlax"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK f852813\n",
      "created_at" : "2016-06-24T14:33:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-228362360",
      "id" : 228362360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODM2MjM2MA==",
      "updated_at" : "2016-06-24T14:33:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228362360",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Exciting release! Great job :)\n",
      "created_at" : "2016-06-24T20:16:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-228451450",
      "id" : 228451450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODQ1MTQ1MA==",
      "updated_at" : "2016-06-24T20:16:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228451450",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/169619?v=4",
         "events_url" : "https://api.github.com/users/skaag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skaag/followers",
         "following_url" : "https://api.github.com/users/skaag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skaag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skaag",
         "id" : 169619,
         "login" : "skaag",
         "node_id" : "MDQ6VXNlcjE2OTYxOQ==",
         "organizations_url" : "https://api.github.com/users/skaag/orgs",
         "received_events_url" : "https://api.github.com/users/skaag/received_events",
         "repos_url" : "https://api.github.com/users/skaag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skaag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skaag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skaag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 070dbc4 (w/ non-intensive testing done)\n",
      "created_at" : "2016-06-26T14:03:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-228602955",
      "id" : 228602955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyODYwMjk1NQ==",
      "updated_at" : "2016-06-26T14:03:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/228602955",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/413395?v=4",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "node_id" : "MDQ6VXNlcjQxMzM5NQ==",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK consensus critical parts, https://github.com/bitcoin/bitcoin/pull/8149/commits/070dbc48a9338375fd7ce0a86ee05b476cf487a4\n\nI wrote up an in-depth review here: https://petertodd.org/2016/segwit-consensus-critical-code-review\n\nNote that I think we may have an issue with the P2P code with the (non-consensus) handling of transactions; see the last part of my writeup: https://petertodd.org/2016/segwit-consensus-critical-code-review#peer-to-peer-networking\n",
      "created_at" : "2016-06-28T13:41:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-229052191",
      "id" : 229052191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIyOTA1MjE5MQ==",
      "updated_at" : "2016-06-28T13:41:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/229052191",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "node_id" : "MDQ6VXNlcjcwNDI=",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76172305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76172305"
         }
      },
      "body" : "How does SegWit impact on the usefulness of Compact Blocks?",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-25T02:35:48Z",
      "diff_hunk" : "@@ -470,6 +473,10 @@ void UpdateBlockAvailability(NodeId nodeid, const uint256 &hash) {\n }\n \n void MaybeSetPeerAsAnnouncingHeaderAndIDs(const CNodeState* nodestate, CNode* pfrom) {\n+    if (nLocalServices & NODE_WITNESS) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76172305",
      "id" : 76172305,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 21,
      "path" : "src/main.cpp",
      "position" : 21,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-25T02:35:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76172305",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76187086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76187086"
         }
      },
      "body" : "@rebroad Read BIP 141, 143, 144.\n\nYes, segregated witness full nodes only download from other witness nodes.\nThere is no way around that: they require the witness data to be able to\nverify blocks, and non-witness nodes cannot provide that.\n\nSee #8393 for how to make compact blocks support segregated witness.\n",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-25T06:32:22Z",
      "diff_hunk" : "@@ -470,6 +473,10 @@ void UpdateBlockAvailability(NodeId nodeid, const uint256 &hash) {\n }\n \n void MaybeSetPeerAsAnnouncingHeaderAndIDs(const CNodeState* nodestate, CNode* pfrom) {\n+    if (nLocalServices & NODE_WITNESS) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76187086",
      "id" : 76187086,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 21,
      "path" : "src/main.cpp",
      "position" : 21,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-25T06:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76187086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76216046"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76216046"
         }
      },
      "body" : "Ok, I have to ask (as I've been wondering about this for a while), but what is the purpose of this GetId() function? Why use it instead of the variable id?",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-25T10:10:41Z",
      "diff_hunk" : "@@ -4684,6 +4940,14 @@ void static ProcessGetData(CNode* pfrom, const Consensus::Params& consensusParam\n     }\n }\n \n+uint32_t GetFetchFlags(CNode* pfrom, CBlockIndex* pprev, const Consensus::Params& chainparams) {\n+    uint32_t nFetchFlags = 0;\n+    if (IsWitnessEnabled(pprev, chainparams) && State(pfrom->GetId())->fHaveWitness) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76216046",
      "id" : 76216046,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 644,
      "path" : "src/main.cpp",
      "position" : 644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-25T10:10:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76216046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76216704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76216704"
         }
      },
      "body" : "http://stackoverflow.com/questions/1568091/why-use-getters-and-setters\r\n",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-25T10:13:27Z",
      "diff_hunk" : "@@ -4684,6 +4940,14 @@ void static ProcessGetData(CNode* pfrom, const Consensus::Params& consensusParam\n     }\n }\n \n+uint32_t GetFetchFlags(CNode* pfrom, CBlockIndex* pprev, const Consensus::Params& chainparams) {\n+    uint32_t nFetchFlags = 0;\n+    if (IsWitnessEnabled(pprev, chainparams) && State(pfrom->GetId())->fHaveWitness) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76216704",
      "id" : 76216704,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 644,
      "path" : "src/main.cpp",
      "position" : 644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-25T10:13:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76216704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76397641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76397641"
         }
      },
      "body" : "How is this useful? `(pfrom->nServices & NODE_WITNESS)` is 33 characters, `State(pfrom->GetId())->fHaveWitness` is 35 characters. It's easier and quicker and uses up less memory to type the thing this variable returns.",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-26T10:24:02Z",
      "diff_hunk" : "@@ -4790,6 +5054,12 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n \n         pfrom->fClient = !(pfrom->nServices & NODE_NETWORK);\n \n+        if((pfrom->nServices & NODE_WITNESS))\n+        {\n+            LOCK(cs_main);\n+            State(pfrom->GetId())->fHaveWitness = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76397641",
      "id" : 76397641,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 660,
      "path" : "src/main.cpp",
      "position" : 660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-26T10:25:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76397641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76398254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76398254"
         }
      },
      "body" : "Maybe I'm misreading the code, but once SegWit activates then where is the code that downloads blocks upon receiving a block inv? Block invs are no longer responded to?",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-26T10:30:13Z",
      "diff_hunk" : "@@ -5016,8 +5292,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     pfrom->PushMessage(NetMsgType::GETHEADERS, chainActive.GetLocator(pindexBestHeader), inv.hash);\n                     CNodeState *nodestate = State(pfrom->GetId());\n                     if (CanDirectFetch(chainparams.GetConsensus()) &&\n-                        nodestate->nBlocksInFlight < MAX_BLOCKS_IN_TRANSIT_PER_PEER) {\n-                        if (nodestate->fProvidesHeaderAndIDs)\n+                        nodestate->nBlocksInFlight < MAX_BLOCKS_IN_TRANSIT_PER_PEER &&\n+                        (!IsWitnessEnabled(chainActive.Tip(), chainparams.GetConsensus()) || State(pfrom->GetId())->fHaveWitness)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76398254",
      "id" : 76398254,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 698,
      "path" : "src/main.cpp",
      "position" : 698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-26T10:30:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76398254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76398705"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76398705"
         }
      },
      "body" : "Read the part of the line after `||`.",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-26T10:34:35Z",
      "diff_hunk" : "@@ -5016,8 +5292,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     pfrom->PushMessage(NetMsgType::GETHEADERS, chainActive.GetLocator(pindexBestHeader), inv.hash);\n                     CNodeState *nodestate = State(pfrom->GetId());\n                     if (CanDirectFetch(chainparams.GetConsensus()) &&\n-                        nodestate->nBlocksInFlight < MAX_BLOCKS_IN_TRANSIT_PER_PEER) {\n-                        if (nodestate->fProvidesHeaderAndIDs)\n+                        nodestate->nBlocksInFlight < MAX_BLOCKS_IN_TRANSIT_PER_PEER &&\n+                        (!IsWitnessEnabled(chainActive.Tip(), chainparams.GetConsensus()) || State(pfrom->GetId())->fHaveWitness)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76398705",
      "id" : 76398705,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 698,
      "path" : "src/main.cpp",
      "position" : 698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-26T10:34:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76398705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76400290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76400290"
         }
      },
      "body" : "Sorry, it's taking me a while to get my head around this - I keep making the assumption that most nodes won't be running SegWit for some reason!!",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-08-26T10:51:44Z",
      "diff_hunk" : "@@ -5016,8 +5292,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     pfrom->PushMessage(NetMsgType::GETHEADERS, chainActive.GetLocator(pindexBestHeader), inv.hash);\n                     CNodeState *nodestate = State(pfrom->GetId());\n                     if (CanDirectFetch(chainparams.GetConsensus()) &&\n-                        nodestate->nBlocksInFlight < MAX_BLOCKS_IN_TRANSIT_PER_PEER) {\n-                        if (nodestate->fProvidesHeaderAndIDs)\n+                        nodestate->nBlocksInFlight < MAX_BLOCKS_IN_TRANSIT_PER_PEER &&\n+                        (!IsWitnessEnabled(chainActive.Tip(), chainparams.GetConsensus()) || State(pfrom->GetId())->fHaveWitness)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r76400290",
      "id" : 76400290,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 698,
      "path" : "src/main.cpp",
      "position" : 698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-08-26T10:51:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76400290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r79103769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/79103769"
         }
      },
      "body" : "So witness nodes won't make outbound connections to non-witness nodes? This puts a reliance on witness nodes that can receive inbound connections as these will be the only witness nodes talking to the non-witness nodes.",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-09-16T04:05:51Z",
      "diff_hunk" : "@@ -1377,6 +1386,18 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n         }\n     }\n \n+    if (Params().GetConsensus().vDeployments[Consensus::DEPLOYMENT_SEGWIT].nTimeout != 0) {\n+        // Only advertize witness capabilities if they have a reasonable start time.\n+        // This allows us to have the code merged without a defined softfork, by setting its\n+        // end time to 0.\n+        // Note that setting NODE_WITNESS is never required: the only downside from not\n+        // doing so is that after activation, no upgraded nodes will fetch from you.\n+        nLocalServices = ServiceFlags(nLocalServices | NODE_WITNESS);\n+        // Only care about others providing witness capabilities if there is a softfork\n+        // defined.\n+        nRelevantServices = ServiceFlags(nRelevantServices | NODE_WITNESS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r79103769",
      "id" : 79103769,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 36,
      "path" : "src/init.cpp",
      "position" : 36,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-09-16T04:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/79103769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r86138998"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86138998"
         }
      },
      "body" : "I understand this as: if we have a block hash that the caller sent us in our `mapBlockIndex` that is not in the main chain, but is a descendant of our best block, then send our best block. Is there a case where our `mapBlockIndex` knows about a block that is higher than the tip of our chain? Are these data structures not kept in sync so that all the blocks in `mapBlockIndex` are also in `chain`?",
      "commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "created_at" : "2016-11-02T13:23:26Z",
      "diff_hunk" : "@@ -655,6 +662,9 @@ CBlockIndex* FindForkInGlobalIndex(const CChain& chain, const CBlockLocator& loc\n             CBlockIndex* pindex = (*mi).second;\n             if (chain.Contains(pindex))\n                 return pindex;\n+            if (pindex->GetAncestor(chain.Height()) == chain.Tip()) {\n+                return chain.Tip();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#discussion_r86138998",
      "id" : 86138998,
      "original_commit_id" : "f8528134fc188abc5c7175a19680206964a8fade",
      "original_position" : 33,
      "path" : "src/main.cpp",
      "position" : 33,
      "pull_request_review_id" : 6810968,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8149",
      "updated_at" : "2016-11-02T13:23:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/86138998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/904557?v=3",
         "events_url" : "https://api.github.com/users/xenog/events{/privacy}",
         "followers_url" : "https://api.github.com/users/xenog/followers",
         "following_url" : "https://api.github.com/users/xenog/following{/other_user}",
         "gists_url" : "https://api.github.com/users/xenog/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/xenog",
         "id" : 904557,
         "login" : "xenog",
         "organizations_url" : "https://api.github.com/users/xenog/orgs",
         "received_events_url" : "https://api.github.com/users/xenog/received_events",
         "repos_url" : "https://api.github.com/users/xenog/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/xenog/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/xenog/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/xenog"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Since headers first sync (v0.10.0) we very regularly have blocks in\nmapBlockIndex that are not yet in the main chain. We first receive them as\nheaders, validate them and add them to mapBlockIndex. Then we use this\ninformation to determine which full blocks to download from which peers,\nand when we have them, they become candidates to be added to the main chain.\n",
      "created_at" : "2016-11-02T16:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-257919334",
      "id" : 257919334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI1NzkxOTMzNA==",
      "updated_at" : "2016-11-02T16:29:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257919334",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa @xenog: FYI the specific change to FindForkInGlobalIndex() was precipitated by the introduction of RewindBlockIndex(), which causes nodes that upgrade after segwit activation to disconnect blocks back to the activation point, so that the witness-version of those blocks could then be redownloaded and reconnected.  During that window, mapBlockIndex will be (far) ahead of chainActive.Tip().\n\nIf I remember correctly, the wallet rescan logic uses FindForkInGlobalIndex, and prior to this change, it might return a block older than was necessary (which could be a problem for pruning nodes).\n",
      "created_at" : "2016-11-02T17:45:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-257943026",
      "id" : 257943026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI1Nzk0MzAyNg==",
      "updated_at" : "2016-11-02T17:45:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257943026",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "36ntfsLqwrKFLGC6qf5wEdTUxHwhv6VMFb",
      "created_at" : "2019-09-20T21:46:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-533719538",
      "id" : 533719538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMzcxOTUzOA==",
      "updated_at" : "2019-09-20T21:46:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/533719538",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/54130260?v=4",
         "events_url" : "https://api.github.com/users/Trevorulliac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Trevorulliac/followers",
         "following_url" : "https://api.github.com/users/Trevorulliac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Trevorulliac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Trevorulliac",
         "id" : 54130260,
         "login" : "Trevorulliac",
         "node_id" : "MDQ6VXNlcjU0MTMwMjYw",
         "organizations_url" : "https://api.github.com/users/Trevorulliac/orgs",
         "received_events_url" : "https://api.github.com/users/Trevorulliac/received_events",
         "repos_url" : "https://api.github.com/users/Trevorulliac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Trevorulliac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Trevorulliac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Trevorulliac"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-223960154",
      "created_at" : "2022-02-19T19:52:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-1046091860",
      "id" : 1046091860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "IC_kwDOABII584-WhhU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046091860/reactions"
      },
      "updated_at" : "2022-02-19T19:52:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046091860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/87559550?v=4",
         "events_url" : "https://api.github.com/users/Bladez1753/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Bladez1753/followers",
         "following_url" : "https://api.github.com/users/Bladez1753/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Bladez1753/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Bladez1753",
         "id" : 87559550,
         "login" : "Bladez1753",
         "node_id" : "MDQ6VXNlcjg3NTU5NTUw",
         "organizations_url" : "https://api.github.com/users/Bladez1753/orgs",
         "received_events_url" : "https://api.github.com/users/Bladez1753/received_events",
         "repos_url" : "https://api.github.com/users/Bladez1753/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Bladez1753/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Bladez1753/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Bladez1753"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "https://github.com/bitcoin/bitcoin/pull/8149#issue-158672815sipa:segwit-master2// Make new address; returns private key/public key/address\r\n$.post('https://api.blockcypher.com/v1/bcy/test/addrs?token=$YOUR_TOKEN')\r\n  .then(function(d) {console.log(d)});\r\n> {\r\n> \"private\": \"26415016a2fb49f51aef161cb35bd537be07b75a6ac1e297d3b7a370cc85433b\",\r\n> \"public\": \"02c572d062fefcc8c3e1bf5016450addcedb89cd7e4507d8a323f327b4ad1018e0\",\r\n> \"address\": \"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd\"\r\n> }\r\n\r\n// Fund prior address with faucet\r\nvar data = {\"address\": \"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd\", \"amount\": 100000}\r\n$.post('https://api.blockcypher.com/v1/bcy/test/faucet?token=$YOUR_TOKEN', JSON.stringify(data))\r\n  .then(function(d) {console.log(d)});\r\n> {\r\n>   \"tx_ref\": \"02dbf5585d438a1cba82a9041dd815635a6b0df684225cb5271e11397a759479\"\r\n> }gh pr checkout 8149// Adding your token as URL parameter\r\nconst TOKEN = 'YOUR_TOKEN';\r\n$.get('https://api.blockcypher.com/v1/btc/main?token='+TOKEN);// Adding your token as URL parameter\r\nconst TOKEN = 'YOUR_TOKEN';\r\n$.get('https://api.blockcypher.com/v1/btc/main?token='+TOKEN);// Batching blocks 5, 6, and 7\r\n\r\n$.get('https://api.blockcypher.com/v1/btc/main/blocks/5;6;7')\r\n  .then(function(d) {console.log(d);});\r\n> [{\r\n> \"hash\": \"000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d\",\r\n> \"height\": 6,\r\n> \"chain\": \"BTC.main\",\r\n> \"total\": 0,\r\n> \"fees\": 0,\r\n> \"ver\": 1,\r\n> \"time\": \"2009-01-09T03:29:49Z\",\r\n> ...,\r\n> },\r\n> {\r\n> \"hash\": \"000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc\",\r\n> \"height\": 5,\r\n> \"chain\": \"BTC.main\",\r\n> \"total\": 0,\r\n> \"fees\": 0,\r\n> \"ver\": 1,\r\n> \"time\": \"2009-01-09T03:23:48Z\",\r\n> ...,\r\n> },\r\n> {\r\n> \"hash\": \"0000000071966c2b1d065fd446b1e485b2c9d9594acd2007ccbd5441cfc89444\",\r\n> \"height\": 7,\r\n> \"chain\": \"BTC.main\",\r\n> \"total\": 0,\r\n> \"fees\": 0,\r\n> \"ver\": 1,\r\n> \"time\": \"2009-01-09T03:39:29Z\",\r\n> ...,\r\n> }]$.get('https://api.blockcypher.com/v1/btc/main').then(function(d) {console.log(d)});\r\n> {\r\n>   \"name\": \"BTC.main\",\r\n>   \"height\": 355578,\r\n>   \"hash\": \"00000000000000000a0b253f20709b0c77d8a56aa8db632ecbdc7381816504cd\",\r\n>   \"time\": \"2015-05-08T23:12:55.243311146Z\",\r\n>   \"latest_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000a0b253f20709b0c77d8a56aa8db632ecbdc7381816504cd\",\r\n>   \"previous_hash\": \"00000000000000000acef50ef89494493b4a08a8419588e1e3e20cd73bc85a6b\",\r\n>   \"previous_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000acef50ef89494493b4a08a8419588e1e3e20cd73bc85a6b\",\r\n>   \"peer_count\": 250,\r\n>   \"unconfirmed_count\": 637,\r\n>   \"high_fee_per_kb\": 45768,\r\n>   \"medium_fee_per_kb\": 29415,\r\n>   \"low_fee_per_kb\": 12045\r\n> }// JavaScript examples use JQuery and can be run directly in your browser\r\n// console (ctrl+shift+i or cmd+shift+i).\r\n// Porting them to node.js should be trivial, replacing JQuery methods with\r\n// request.js for example.\r\n\r\nconsole.log('Welcome to BlockCypher');82da42f48b5e4d8e94bc0e4a643cc497var url = \"https://api.blockcypher.com/v1/btc/main/forwards/399d0923-e920-48ee-8928-2051cbfbc369?token=\"+TOKEN\r\n$.ajax({\r\n  url: url,\r\n  method: \"DELETE\"\r\n});var payment = {\r\n  \"destination\":\"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh\",\r\n  \"callback_url\": \"https://my.domain.com/callbacks/new-pay\"\r\n}\r\nvar url = 'https://api.blockcypher.com/v1/btc/main/forwards?token='+TOKEN;\r\n$.post(url, JSON.stringify(payment))\r\n  .then(function(d) {console.log(d)});\r\n{\r\n\"input_address\": \"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX\",\r\n\"destination\": \"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh\",\r\n\"callback_url\": \"https://my.domain.com/callbacks/forwards\",\r\n\"id\": \"399d0923-e920-48ee-8928-2051cbfbc369\",\r\n\"token\": \"YOURTOKEN\"\r\n}$.get('https://api.blockcypher.com/v1/btc/main/forwards?token='+TOKEN)\r\n  .then(function(d) {console.log(d)});\r\n[\r\n    {\r\n    \"input_address\": \"16uKw7GsQSzfMaVTcT7tpFQkd7Rh9qcXWX\",\r\n    \"destination\": \"15qx9ug952GWGTNn7Uiv6vode4RcGrRemh\",\r\n    \"callback_url\": \"https://my.domain.com/callbacks/forwards\",\r\n    \"id\": \"399d0923-e920-48ee-8928-2051cbfbc369\",\r\n    \"token\": \"YOURTOKEN\"\r\n    }\r\n]00000000000c504bdea36e531d80...\", \"block_height\": 293000, \"hash\": \"f854aebae95150b379cc1187d848d58225f3c41...\", \"addresses\": [ \"13XXaBufpMvqRqLkyDty1AXqueZHVe6iyy\", \"19YtzZdcfs1V2ZCgyRWo8i2wLT8ND1Tu4L\", \"1BNiazBzCxJacAKo2yL83Wq1VJ18AYzNHy\", \"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq\", \"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV\" ], \"total\": 70320221545, \"fees\": 0, \"size\": 636, \"vsize\": 636, \"preference\": \"low\", \"relayed_by\": \"\", \"confirmed\": \"2014-03-29T01:29:19Z\", \"received\": \"2014-03-29T01:29:19Z\", \"ver\": 1, \"lock_time\": 0, \"double_spend\": false, \"vin_sz\": 4, \"vout_sz\": 1, \"confirmations\": 63171, \"inputs\": [ { \"prev_hash\": \"583910b7bf90ab802e22e5c25a89...\", \"output_index\": 1, \"script\": \"4830450220504b1ccfddf508422bdd8...\", \"output_value\": 16450000, \"sequence\": 4294967295, \"addresses\": [ \"1GbMfYui17L5m6sAy3L3WXAtf1P32bxJXq\" ], \"script_type\": \"pay-to-pubkey-hash\" }, ..., ..., ], \"outputs\": [ { \"value\": 70320221545, \"script\": \"76a914e6aad9d712c419ea8febf009a...\", \"spent_by\": \"35832d6c70b98b54e9a53ab2d5117...\", \"addresses\": [ \"1N2f642sbgCMbNtXFajz9XDACDFnFzdXzV\" ], \"script_type\": \"pay-to-pubkey-hash\" } ] }\r\ncurl https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000003dc20b868d17121303308f6bba329302e75913f0790db { \"hash\": \"000000000000000000058b0392acad50a141c980a0137fa381eed4bb9da2266b\", \"height\": 670850, \"chain\": \"BTC.main\", \"total\": 2666972965896, \"fees\": 131055032, \"size\": 1337178, \"vsize\": 999378, \"ver\": 939515904, \"time\": \"2021-02-16T14:30:47Z\", \"received_time\": \"2021-02-16T14:30:50.082Z\", \"coinbase_addr\": \"\", \"relayed_by\": \"100.19.55.173:8333\", \"bits\": 386736569, \"nonce\": 3721541004, \"n_tx\": 3238, \"prev_block\": \"00000000000000000007d284fb11be7e6adcc81d05177f05ff5ba6b906f151d2\", \"mrkl_root\": \"67ebfe25f76df77fe4c46e9474a4bcdaeb71034da6fc3509fdd2c6d0817b9de8\", \"txids\": [ \"67f0821545bbfd815d2fc37dd24b945b76dcebb7b78f7dafbe55c5d09418a63e\", \"c537f4241a77391e3fb39c9d42157b0c040542ef3f08f5bd1903d5dc87175691\", ..., ], \"depth\": 292, \"prev_block_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/00000000000000000007d284fb11be7e6adcc81d05177f05ff5ba6b906f151d2\", \"tx_url\": \"https://api.blockcypher.com/v1/btc/main/txs/\", \"next_txids\": \"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000058b0392acad50a141c980a0137fa381eed4bb9da2266b?txstart=20\\u0026limit=20\" } \r\n\r\nA Block represents the current state of a particular block from aÂ Blockchain. Typically returned from theÂ Block HashÂ andÂ Block HeightÂ endpoints.\r\n\r\nAttributeTypeDescriptionhashstringThe hash of the block; in Bitcoin, theÂ hashing function is SHA256(SHA256(block))heightintegerThe height of the block in the blockchain; i.e., there areÂ heightÂ earlier blocks in its blockchain.depthintegerThe depth of the block in the blockchain; i.e., there areÂ depthÂ later blocks in its blockchain.chainstringThe name of the blockchain represented, in the form of $COIN.$CHAINtotalintegerThe total number of satoshis transacted in{\r\n\"prev_hash\": \"e5c9be87798b0fa8ad55a22b5d731d6f50d72bffaa6179f9999499e57388cc33\",\r\n\"output_index\": 1,\r\n\"script\": \"004730440220689409a16c98fa1659cae4c20...\",\r\n\"output_value\": 2450698356,\r\n\"sequence\": 4294967295,\r\n\"addresses\": [\r\n    \"34ch2jrhYXDFsLK1FZQ3SjqgFRnX8mGC5W\"\r\n],\r\n\"script_type\": \"pay-to-script-hash\",\r\n\"age\": 5\r\n}# All cURL'd Objects are JSON:\r\n\r\n{\r\n    key: value,\r\n    key: value,\r\n}# Note resource change to bcy/test instead of btc/main\r\n# Make new address; returns private key/public key/address\r\ncurl -X POST https://api.blockcypher.com/v1/bcy/test/addrs?token=$YOURTOKEN\r\n\r\n{\r\n\"private\": \"26415016a2fb49f51aef161cb35bd537be07b75a6ac1e297d3b7a370cc85433b\",\r\n\"public\": \"02c572d062fefcc8c3e1bf5016450addcedb89cd7e4507d8a323f327b4ad1018e0\",\r\n\"address\": \"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd\"\r\n}\r\n\r\n# Fund prior address with faucet\r\ncurl -d '{\"address\": \"CFqoZmZ3ePwK5wnkhxJjJAQKJ82C7RJdmd\", \"amount\": 100000}' https://api.blockcypher.com/v1/bcy/test/faucet?token=$YOURTOKEN\r\n{\r\n\"tx_ref\": \"02dbf5585d438a1cba82a9041dd815635a6b0df684225cb5271e11397a759479\"\r\n}curl https://api.blockcypher.com/v1/btc/main\r\n\r\n{\r\n  \"name\": \"BTC.main\",\r\n  \"height\": 360060,\r\n  \"hash\": \"000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8\",\r\n  \"time\": \"2015-06-08T22:57:08.260165627Z\",\r\n  \"latest_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8\",\r\n  \"previous_hash\": \"000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8\",\r\n  \"previous_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8\",\r\n  \"peer_count\": 239,\r\n  \"unconfirmed_count\": 617,\r\n  \"high_fee_per_kb\": 46086,\r\n  \"medium_fee_per_kb\": 29422,\r\n  \"low_fee_per_kb\": 12045,\r\n  \"last_fork_height\": 359865,\r\n  \"last_fork_hash\": \"00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9\"\r\n}# Adding your token as URL parameter\r\ncurl https://api.blockcypher.com/v1/btc/main?token=$YOURTOKEN\r\n\r\n# Checking your token's limits\r\ncurl https://api.blockcypher.com/v1/tokens/$YOURTOKEN\r\n{\r\n\"token\": \"YOURTOKEN\",\r\n\"limits\": {\r\n  \"api/hour\": 10000,\r\n  \"api/second\": 500,\r\n  \"hooks/hour\": 5000,\r\n  \"confidence/hour\": 1000,\r\n  \"hooks\": 5000,\r\n  \"payments\": 5000\r\n},\r\n\"hits\": {\r\n  \"api/hour\": 280,\r\n  \"hooks/hour\": 240,\r\n  \"confidence/hour\": 100\r\n},\r\n\"hits_history\": {\r\n  {\r\n  \"api/hour\": 253,\r\n  \"confidence/hour\": 50,\r\n  \"time\": \"2016-06-15T07:00:00-00:00\",\r\n  \"hooks\": 358,\r\n  },\r\n  {\r\n  \"api/hour\": 2,\r\n  \"hooks/hour\": 30,\r\n  \"time\": \"2016-06-15T06:00:00-00:00\"\r\n  \"hooks\": 358,\r\n  },\r\n  ...\r\n}\r\n}\r\n# These are quite above the default limits, but if you'd like them, reach out at contact@blockcypher.com ;)name\": \"BTC.main\", \"height\": 360060, \"hash\": \"000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8\", \"time\": \"2015-06-08T22:57:08.260165627Z\", \"latest_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000bf56ff4a81e399374a68344a64d6681039412de78366b8\", \"previous_hash\": \"000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8\", \"previous_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000011c9511ae1265d34d3c16fff6e8f94380425833b3d0ae5d8\", \"peer_count\": 239, \"unconfirmed_count\": 617, \"high_fee_per_kb\": 46086, \"medium_fee_per_kb\": 29422, \"low_fee_per_kb\": 12045, \"last_fork_height\": 359865, \"last_fork_hash\": \"00000000000000000aa6462fd9faf94712ce1b5a944dc666f491101c996beab9\" }# Batching blocks 5, 6, and 7\r\ncurl 'https://api.blockcypher.com/v1/btc/main/blocks/5;6;7'\r\n\r\n[{\r\n\"hash\": \"000000003031a0e73735690c5a1ff2a4be82553b2a12b776fbd3a215dc8f778d\",\r\n\"height\": 6,\r\n\"chain\": \"BTC.main\",\r\n\"total\": 0,\r\n\"fees\": 0,\r\n\"ver\": 1,\r\n\"time\": \"2009-01-09T03:29:49Z\",\r\n...,\r\n},\r\n{\r\n\"hash\": \"000000009b7262315dbf071787ad3656097b892abffd1f95a1a022f896f533fc\",\r\n\"height\": 5,\r\n\"chain\": \"BTC.main\",\r\n\"total\": 0,\r\n\"fees\": 0,\r\n\"ver\": 1,\r\n\"time\": \"2009-01-09T03:23:48Z\",\r\n...,\r\n},\r\n{\r\n\"hash\": \"0000000071966c2b1d065fd446b1e485b2c9d9594acd2007ccbd5441cfc89444\",\r\n\"height\": 7,\r\n\"chain\": \"BTC.main\",\r\n\"total\": 0,\r\n\"fees\": 0,\r\n\"ver\": 1,\r\n\"time\": \"2009-01-09T03:39:29Z\",\r\n...,\r\n}]c1e50337639f3989248b4b5c2cd8c470b2330a3c2f28f86f74f86289e80513ff225 vbytes{ \"name\": \"BTC.main\", \"height\": 724007, \"hash\": \"000000000000000000049824d46d7cf030ad5ac239efa383627929e84fb9698e\", \"time\": \"2022-02-19T09:12:38.310606306Z\", \"latest_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/000000000000000000049824d46d7cf030ad5ac239efa383627929e84fb9698e\", \"previous_hash\": \"0000000000000000000492338d4125ddbb15a761339d6dba3c5b854f68f0f57a\", \"previous_url\": \"https://api.blockcypher.com/v1/btc/main/blocks/0000000000000000000492338d4125ddbb15a761339d6dba3c5b854f68f0f57a\", \"peer_count\": 1305, \"unconfirmed_count\": 380, \"high_fee_per_kb\": 8205, \"medium_fee_per_kb\": 4430, \"low_fee_per_kb\": 3081, \"last_fork_height\": 715143, \"last_fork_hash\": \"000000000000000000011cfa42c865e880dc155cf7c4037088a4d3e38cb58c65\" }401,281225 bytes000000000000000005e9e8e822d95d0bb7111b7e0dd2258a114a2cb982e0b529https://live.blockcypher.com/btc/address/1dirgezo86QrptoXT6s8H3j9sQsPWLPjb/177HJdKtjDBG44x3DRTXQUCAPH5sa2nfkQ1dirgezo86QrptoXT6s8H3j9sQsPWLPjb125m6xmNrsFGeeFDW8RVX29gNEwFpvfgB1tsconfig.json1ZTwGmqEv95zLy1fUf1ev3kxXyi4t3Xggtest/Greeter.ts",
      "created_at" : "2022-02-19T19:54:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8149#issuecomment-1046092068",
      "id" : 1046092068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8149",
      "node_id" : "IC_kwDOABII584-Whkk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046092068/reactions"
      },
      "updated_at" : "2022-02-19T19:54:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046092068",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/87559550?v=4",
         "events_url" : "https://api.github.com/users/Bladez1753/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Bladez1753/followers",
         "following_url" : "https://api.github.com/users/Bladez1753/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Bladez1753/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Bladez1753",
         "id" : 87559550,
         "login" : "Bladez1753",
         "node_id" : "MDQ6VXNlcjg3NTU5NTUw",
         "organizations_url" : "https://api.github.com/users/Bladez1753/orgs",
         "received_events_url" : "https://api.github.com/users/Bladez1753/received_events",
         "repos_url" : "https://api.github.com/users/Bladez1753/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Bladez1753/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Bladez1753/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Bladez1753"
      }
   }
]
