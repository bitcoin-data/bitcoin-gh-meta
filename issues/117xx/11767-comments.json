[
   {
      "author_association" : "MEMBER",
      "body" : "Do you see this assertion hit on main net?\n\nOn Nov 25, 2017 05:24, \"Varunram Ganesh\" <notifications@github.com> wrote:\n\n> OS version: macOS 10.13.0\n> Core built on commit a933cb1\n> <https://github.com/bitcoin/bitcoin/commit/a933cb14c75b9c79a02f8de8397a8eae405a264f>\n> Steps to Reproduce:\n>\n>    1. Standard steps to build on OSX\n>    2. ./bitcoind does not work and spawns the following error:\n>\n> Assertion failed: ((pindexFirstNeverProcessed != nullptr) == (pindex->nChainTx == 0)), function CheckBlockIndex, file validation.cpp, line 4203.\n> Abort trap: 6\n>\n> bitcoin-cli works though, so that's weird.\n>\n> Didn't observe this earlier, think it may have occurred recently (or I may\n> have done something which causes this). Any help is greatly appreciated.\n> Thanks!\n>\n> Ã¢ÂÂ\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/11767>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGmv8XEmX9nWqPveIID2DYsTUFUyqNjks5s5-rdgaJpZM4QqYTO>\n> .\n>\n",
      "created_at" : "2017-11-25T12:58:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346939110",
      "id" : 346939110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T12:58:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346939110",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yep, same with testnet and regtest too.",
      "created_at" : "2017-11-25T13:25:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346940470",
      "id" : 346940470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T13:25:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346940470",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/18598959?v=4",
         "events_url" : "https://api.github.com/users/Varunram/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Varunram/followers",
         "following_url" : "https://api.github.com/users/Varunram/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Varunram/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Varunram",
         "id" : 18598959,
         "login" : "Varunram",
         "organizations_url" : "https://api.github.com/users/Varunram/orgs",
         "received_events_url" : "https://api.github.com/users/Varunram/received_events",
         "repos_url" : "https://api.github.com/users/Varunram/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Varunram/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Varunram/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Varunram"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Well you obviously shouldn't be seeing an assertion failure either way, but CheckBlockIndex shouldn't be called in normal runtime - it's gated by the -checkblockindex option which defaults to false on mainnet.\n\nOn November 25, 2017 2:24:10 AM PST, Varunram Ganesh <notifications@github.com> wrote:\n>OS version: macOS 10.13.0\n>Core built on commit a933cb14c75b9c79a02f8de8397a8eae405a264f\n>Steps to Reproduce:\n>1. Standard steps to build on OSX\n>2. `./bitcoind` does not work and spawns the following error:\n>```\n>Assertion failed: ((pindexFirstNeverProcessed != nullptr) ==\n>(pindex->nChainTx == 0)), function CheckBlockIndex, file\n>validation.cpp, line 4203.\n>Abort trap: 6\n>```\n>`bitcoin-cli` works though, so that's weird.\n>\n>Didn't observe this earlier, think it may have occurred recently (or I\n>may have done something which causes this). Any help is greatly\n>appreciated. Thanks!\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/11767\n",
      "created_at" : "2017-11-25T13:34:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346940909",
      "id" : 346940909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T13:34:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346940909",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Mind to provide some further details?\n\n* The most recent date without this issue (commit or rough time).\n* The bitcoin.conf or command line args or debug.log\n\nOn Nov 25, 2017 08:25, \"Varunram Ganesh\" <notifications@github.com> wrote:\n\n> Yep, same with testnet and regtest too.\n>\n> Ã¢ÂÂ\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346940470>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGmv1SEFM-i96x_KZ3fuTVo-pHpkVkXks5s6BVYgaJpZM4QqYTO>\n> .\n>\n",
      "created_at" : "2017-11-25T14:02:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346942357",
      "id" : 346942357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T14:02:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346942357",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think I got the solution. I had another instance of Core, figured out\nthat would interfere and changed the data dir and boom, it worked. So I\nguess, this ain't a bug, but maybe a more helpful error message would've\nbeen great. Thanks for responding!\n",
      "created_at" : "2017-11-25T14:45:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346944646",
      "id" : 346944646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T14:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346944646",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/18598959?v=4",
         "events_url" : "https://api.github.com/users/Varunram/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Varunram/followers",
         "following_url" : "https://api.github.com/users/Varunram/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Varunram/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Varunram",
         "id" : 18598959,
         "login" : "Varunram",
         "organizations_url" : "https://api.github.com/users/Varunram/orgs",
         "received_events_url" : "https://api.github.com/users/Varunram/received_events",
         "repos_url" : "https://api.github.com/users/Varunram/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Varunram/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Varunram/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Varunram"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think we can provide helpful error messages when the datadir ends\nup in a consensus incompatible state. (Assuming that this is what happened\nhere)\n\nOn Nov 25, 2017 09:45, \"Varunram Ganesh\" <notifications@github.com> wrote:\n\n> I think I got the solution. I had another instance of Core, figured out\n> that would interfere and changed the data dir and boom, it worked. So I\n> guess, this ain't a bug, but maybe a more helpful error message would've\n> been great. Thanks for responding!\n>\n> Ã¢ÂÂ\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346944646>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGmvy0nVe0IcZ682d-bzLklVLzdwZxnks5s6CgEgaJpZM4QqYTO>\n> .\n>\n",
      "created_at" : "2017-11-25T15:01:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346945632",
      "id" : 346945632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T15:01:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346945632",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "What is \"another instance of Core\"? I'm not aware of any cases that could trigger this, except possibly if you ran some other Software that wrote garbage to your chain state (eg a BCH fullnode, btc1, etc)\n\nOn November 25, 2017 6:45:11 AM PST, Varunram Ganesh <notifications@github.com> wrote:\n>I think I got the solution. I had another instance of Core, figured out\n>that would interfere and changed the data dir and boom, it worked. So I\n>guess, this ain't a bug, but maybe a more helpful error message\n>would've\n>been great. Thanks for responding!\n>\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346944646\n",
      "created_at" : "2017-11-25T15:03:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346945746",
      "id" : 346945746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T15:03:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346945746",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Nah, I'm not attracted to trash, so no problems there. Here's what I did:\n\n1. I currently have two clones - one on\ncommit 6157e8ce3937af3f46d3e7dd922d19d6dc272145 running at ~/bitcoin and\nanother on ~/temp/bitcoin (used to test #11731 with master in this case)\n\n2. I use the one at ~/bitcoin with the default home directory\n(~/Library/Application\\ Support/Bitcoin/) to run a regtest node. I did not\nsync any block on mainnet.\n\n3. I tried to start mainnet (and others consequently) at ~/temp/bitcoin and\nit didn't work.\n\nThis led me to the conclusion that it might be the data directory which may\nbe causing problems.\n\nOn 25 November 2017 at 20:34, Matt Corallo <notifications@github.com> wrote:\n\n> What is \"another instance of Core\"? I'm not aware of any cases that could\n> trigger this, except possibly if you ran some other Software that wrote\n> garbage to your chain state (eg a BCH fullnode, btc1, etc)\n>\n> On November 25, 2017 6:45:11 AM PST, Varunram Ganesh <\n> notifications@github.com> wrote:\n> >I think I got the solution. I had another instance of Core, figured out\n> >that would interfere and changed the data dir and boom, it worked. So I\n> >guess, this ain't a bug, but maybe a more helpful error message\n> >would've\n> >been great. Thanks for responding!\n> >\n> >\n> >--\n> >You are receiving this because you commented.\n> >Reply to this email directly or view it on GitHub:\n> >https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346944646\n>\n> Ã¢ÂÂ\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346945746>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ARvML7dA7dv7eeEPeJNkdsfs-eIj2NaVks5s6CxsgaJpZM4QqYTO>\n> .\n>\n",
      "created_at" : "2017-11-25T15:21:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346946841",
      "id" : 346946841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T15:21:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346946841",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/18598959?v=4",
         "events_url" : "https://api.github.com/users/Varunram/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Varunram/followers",
         "following_url" : "https://api.github.com/users/Varunram/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Varunram/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Varunram",
         "id" : 18598959,
         "login" : "Varunram",
         "organizations_url" : "https://api.github.com/users/Varunram/orgs",
         "received_events_url" : "https://api.github.com/users/Varunram/received_events",
         "repos_url" : "https://api.github.com/users/Varunram/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Varunram/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Varunram/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Varunram"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I am still surprised that you see that on main and test net. Would you mind double checking and sharing the corresponding `debug.log` or `-printtoconsole`?",
      "created_at" : "2017-11-25T20:41:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346964856",
      "id" : 346964856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-25T20:41:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346964856",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I just checked `debug.log` and it seems that I synced till block 115000 (must've been running in the background, my bad). Still dunno about testnet, but I shall assume that something similar would've happened since cleaning the directories, recloning and building seems to work just fine. Thanks for the inputs and sorry to have taken up your time.",
      "created_at" : "2017-11-26T05:08:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11767#issuecomment-346984907",
      "id" : 346984907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11767",
      "updated_at" : "2017-11-26T05:08:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346984907",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/18598959?v=4",
         "events_url" : "https://api.github.com/users/Varunram/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Varunram/followers",
         "following_url" : "https://api.github.com/users/Varunram/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Varunram/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Varunram",
         "id" : 18598959,
         "login" : "Varunram",
         "organizations_url" : "https://api.github.com/users/Varunram/orgs",
         "received_events_url" : "https://api.github.com/users/Varunram/received_events",
         "repos_url" : "https://api.github.com/users/Varunram/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Varunram/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Varunram/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Varunram"
      }
   }
]
