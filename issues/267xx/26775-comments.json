[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/26775#pullrequestreview-1232962697) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2022-12-30T08:52:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1367799441",
      "id" : 1367799441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585RhvaR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367799441/reactions"
      },
      "updated_at" : "2022-12-30T09:10:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367799441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can we revert just #26759? Is there an issue with using Clang-15 with the suppression back in place?\r\n\r\nGoing forward, we should probably have better rationale for removing (already marked intermittent) suppresions, than \"it works on my machine\" and/or assuming it was magically fixed by some toolchain backport ([which couldn't have been the case here anyway](https://github.com/bitcoin/bitcoin/pull/26759#issuecomment-1367217851)).\r\n\r\nWe should also figure out what is different about the Cirrus env; as the suppressed issue re-appeared immediately after the merge of #26759.",
      "created_at" : "2022-12-30T09:50:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1367825557",
      "id" : 1367825557,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585Rh1yV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367825557/reactions"
      },
      "updated_at" : "2022-12-30T09:50:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367825557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There are two unrelated issues:\r\n\r\n* The issue with clang-14/15 is an *internal* crash in tsan.\r\n* The tsan false positive.\r\n\r\nIt doesn't help that both are intermittent and the false positive is not reproducible so far. (I tried with a `4.15.0-173-generic` kernel and another on `6.0.15`)",
      "created_at" : "2022-12-30T10:00:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1367830139",
      "id" : 1367830139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585Rh257",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367830139/reactions"
      },
      "updated_at" : "2022-12-30T10:00:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367830139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> We should also figure out what is different about the Cirrus env\r\n\r\nAs the issues are intermittent, my best guess would be they are easier to reproduce on cloud providers with 3rd-party load on neighbouring CPUs or neighbouring threads on the same CPU.",
      "created_at" : "2022-12-30T11:11:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1367863106",
      "id" : 1367863106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585Rh-9C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367863106/reactions"
      },
      "updated_at" : "2022-12-30T11:11:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367863106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is also a third (unrelated?) issue:\r\n\r\n\r\n```\r\nRemaining jobs: [interface_bitcoin_cli.py --legacy-wallet]\r\n............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\r\nTimed out!\r\n```",
      "created_at" : "2023-01-01T09:10:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1368395036",
      "id" : 1368395036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585RkA0c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1368395036/reactions"
      },
      "updated_at" : "2023-01-01T09:10:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1368395036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I made some progress reproducing on a fresh install of Ubuntu Jammy:\r\n\r\n\r\n* Install packages and clone repos\r\n\r\n```\r\napt update && apt install -y git vim htop ccache build-essential libtool autotools-dev automake pkg-config bsdmainutils python3 libevent-dev libboost-dev clang llvm libsqlite3-dev cmake ninja-build lld && ( git clone https://github.com/bitcoin/bitcoin  ./bitcoin-core && cd bitcoin-core/ && ./autogen.sh ) && git clone https://github.com/llvm/llvm-project && cd ./llvm-project/\r\n```\r\n\r\n* Start bisect\r\n\r\n```\r\ngit bisect start e0efedd2c33 88e66f\r\n```\r\n\r\n* Run tests\r\n\r\n```\r\n( rm -rf build/ && ccache --zero-stats && mkdir build && cd build/ && cmake -G Ninja -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DLLVM_USE_LINKER=lld -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++  -DLLVM_INCLUDE_EXAMPLES=OFF -DLLVM_INCLUDE_BENCHMARKS=OFF -DLLVM_INCLUDE_TESTS=OFF -DLLVM_PARALLEL_LINK_JOBS=1 -DCMAKE_BUILD_TYPE=Release -DLLVM_ENABLE_PROJECTS='clang;compiler-rt' ../llvm/ && ninja && ccache --show-stats && git log -1 && ./bin/clang --version ) && ( cd ../bitcoin-core/ && ./configure --disable-tests --disable-bench --disable-fuzz-binary --without-bdb --with-gui=no  --with-sanitizers=thread CC=/root/llvm-project/build/bin/clang CXX=/root/llvm-project/build/bin/clang++ && rm -f /tmp/runs && make clean && make -j $(nproc)  && ( strings /root/bitcoin-core/src/bitcoind |grep llvm/llvm-proje ) && while ( TSAN_OPTIONS=\"suppressions=$(pwd)/test/sanitizer_suppressions/tsan:halt_on_error=1\" ./test/functional/test_runner.py -j30   $(for i in $(seq 1 481); do echo 'interface_bitcoin_cli.py' ; done)    --failfast --timeout-factor=1 ) ; do echo 1 >> /tmp/runs ; done )\r\n```\r\n\r\n(Then figure out whether to `git bisect good` or `bad`, based on the number of successful runs or a timeout/crash of bitcoind)",
      "created_at" : "2023-01-12T13:06:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1380316949",
      "id" : 1380316949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585SRfcV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1380316949/reactions"
      },
      "updated_at" : "2023-01-12T20:39:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1380316949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\nllvm-project# git bisect bad\r\n9fb8058a8079b3a9a8af0aff0f4b6898960d331f is the first bad commit\r\ncommit 9fb8058a8079b3a9a8af0aff0f4b6898960d331f\r\nAuthor: Dmitry Vyukov <dvyukov@google.com>\r\nDate:   Mon Dec 13 12:45:53 2021 +0100\r\n\r\n    tsan: enable the new runtime\r\n    \r\n    This enables the new runtime (D112603) by default.\r\n    \r\n    Depends on D112603.\r\n    \r\n    Differential Revision: https://reviews.llvm.org/D115624\r\n\r\n compiler-rt/lib/tsan/CMakeLists.txt | 2 +-\r\n 1 file changed, 1 insertion(+), 1 deletion(-)\r\n```\r\n\r\nSee https://github.com/llvm/llvm-project/commit/9fb8058a8079b3a9a8af0aff0f4b6898960d331f and the previous commit https://github.com/llvm/llvm-project/commit/b332134921b42796c6b46453eaf2affdc09e3154",
      "created_at" : "2023-01-12T15:46:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1380590669",
      "id" : 1380590669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585SSiRN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1380590669/reactions"
      },
      "updated_at" : "2023-01-12T15:46:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1380590669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fix in https://github.com/llvm/llvm-project-release-prs/commit/56839a4c4292bbb4ce53b0452409d8c2ac514025",
      "created_at" : "2023-01-12T21:31:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26775#issuecomment-1381016275",
      "id" : 1381016275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26775",
      "node_id" : "IC_kwDOABII585SUKLT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1381016275/reactions"
      },
      "updated_at" : "2023-01-12T21:31:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1381016275",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
