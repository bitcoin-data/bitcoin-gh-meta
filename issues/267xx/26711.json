{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Draft because builds on #26646.\r\n\r\nThe hope here is to end up with the incentive-compatible transactions in our mempool. Prior to this commit, if parents within the package relied on each other, we could end up (1) accepting a low-feerate child or (2) rejecting high-feerate parents. See the \"triangle test case\" for a specific example.\r\n\r\nInstead of validating each transaction *individually* in turn, validate each one with their *in-package ancestor set* (excluding the ones that already made it into the mempool). This means parents with inter-dependencies are validated correctly, while we continue using aggregate totals for package feerate.\r\n\r\nNote on the approach: `AncestorPackage` class may seem like overkill for detecting dependencies between parents. However, since it can handle unsorted lists of transactions and is meant to work for any ancestor package, we can potentially use this to loosen our rules to allow any ancestor package rather than just child-with-parents.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26711/comments",
   "created_at" : "2022-12-16T11:27:00Z",
   "draft" : true,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26711/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/26711",
   "id" : 1500046485,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26711/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585FocrT",
   "number" : 26711,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/26711.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26711",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/26711.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26711"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26711/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26711/timeline",
   "title" : "[WIP] validate package transactions with their in-package ancestor sets",
   "updated_at" : "2023-01-11T16:26:13Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26711",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
      "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
      "followers_url" : "https://api.github.com/users/glozow/followers",
      "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/glozow",
      "id" : 25183001,
      "login" : "glozow",
      "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
      "organizations_url" : "https://api.github.com/users/glozow/orgs",
      "received_events_url" : "https://api.github.com/users/glozow/received_events",
      "repos_url" : "https://api.github.com/users/glozow/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/glozow"
   }
}
