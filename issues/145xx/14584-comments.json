[
   {
      "author_association" : "MEMBER",
      "body" : "I think that pulling the entire set (even in chunks) periodically is bad design. Maybe it could be possible to have an \"utxo set log\" to ease building the set externally.",
      "created_at" : "2018-10-26T13:35:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-433409830",
      "id" : 433409830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQwOTgzMA==",
      "updated_at" : "2018-10-26T13:35:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433409830",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think RPC is a very good fit for that purpose, given the large amount of overhead.\n\n@laanwj has worked on streaming the UTXO set over the REST interface before I think, but AFAIK had to wait for some libevent features to allow sending in multiple chunks.",
      "created_at" : "2018-10-26T14:34:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-433428815",
      "id" : 433428815,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQyODgxNQ==",
      "updated_at" : "2018-10-26T14:34:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433428815",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag:  The applications I have in mind are not based on continuously keeping an external version of the UTXO set up to date, but rather processing it infrequently.  For instance, an external script that is run just once to produce a \"rich list\" of addresses.  In that case, a \"UTXO update event\" won't help (although it might be useful to have for other purposes).\r\n\r\n@sipa:  Why would the overhead be larger than with the REST interface?  I agree that it is a lot of data and thus at least splitting it into chunks is necessary (as per my suggestion).  And of course, this is not something that most users will call - but it can be useful for some specific applications.  But for someone who knows what they are doing, shouldn't it be fine to fetch the UTXO set over RPC?  That said, if it is possible to read it through REST (or that would be a better approach), then that would be equally useful for the purposes I have in mind.",
      "created_at" : "2018-10-26T14:49:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-433434172",
      "id" : 433434172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQzNDE3Mg==",
      "updated_at" : "2018-10-26T14:49:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433434172",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@domob1812 By REST interface I mostly meant in binary form rather than the JSON encoding that RPC necessarily uses.\n\nBut fair enough; no reason why it shouldn't be possible - but the need for chunking makes it nontrivial to implement.",
      "created_at" : "2018-10-26T15:01:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-433438227",
      "id" : 433438227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQzODIyNw==",
      "updated_at" : "2018-10-26T15:01:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433438227",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "+1 for using REST for this; it's a stateless request-only interface, after all\r\n\r\nsee #7759 for my PR, feel free to pick it up, it might be that the libevent issue is no longer an issue\r\n\r\n> By REST interface I mostly meant in binary form rather than the JSON encoding that RPC necessarily uses.\r\n\r\nMany of the REST calls have a `format` parameter, so you could make it stream in JSON format as well. The *advantage* of REST, using plain http, is that you can just send JSON records for each UTXO, it doesn't have to be wrapped in a valid JSON-RPC envelope.\r\n\r\n",
      "created_at" : "2018-10-26T16:11:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-433461113",
      "id" : 433461113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQ2MTExMw==",
      "updated_at" : "2018-10-26T16:13:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433461113",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa:  I don't think that a chunking implementation for `scantxoutset` would be too hard to do; keeping around the \"currently active\" scan between calls is not much different from the current state data that is already kept while a scan is in progress.  (The data itself would be different, but not the general architecture.)\r\n\r\n@laanwj:  Indeed, REST looks like a good interface for that - thanks for the pointer to your PR.  This is not high priority for me (I mainly wanted to check this as a general idea with the community), but I may pick up your PR at some point in the future if I find time for it.\r\n\r\nHowever, by the same argument (\"REST is a stateless request-only interface\"), all of `scantxoutset` and many other RPC calls should be done through REST as well.  RPC and REST are just two complementary interfaces that can both be convenient.  (But I do agree that streaming the entire result through HTTP, if it can be made to work, is an elegant solution that avoids explicit chunking.)",
      "created_at" : "2018-10-26T17:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-433478437",
      "id" : 433478437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQ3ODQzNw==",
      "updated_at" : "2018-10-26T17:10:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433478437",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`dumptxoutset` was added in #16899",
      "created_at" : "2022-10-26T19:48:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14584#issuecomment-1292572233",
      "id" : 1292572233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14584",
      "node_id" : "IC_kwDOABII585NCxZJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292572233/reactions"
      },
      "updated_at" : "2022-10-26T19:48:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1292572233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
