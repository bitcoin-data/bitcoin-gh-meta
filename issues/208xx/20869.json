{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "I'm trying to set up the Bitcoin Core v20.1.\r\nI'm using VM Workstation 16 with Ubuntu. I succeeded to configure en compile (make), but when I run \"make check\", I get an error regarding qt.\r\n\r\nAnybody any idea on the cause of this. Could it be because I'm working on a virtual machine?\r\n\r\n\r\nI started from a 'clean' Ubuntu install and used following commands:\r\n\r\nsudo apt update\r\nsudo apt upgrade\r\nsudo apt install build-essential libtool autotools-dev automake pkg-config bsdmainutils curl git\r\n\r\ngit clone https://github.com/bitcoin/bitoin.git\r\ncd bitcoin\r\ngit tag\r\ngit checkout v0.20.1\r\ngit status\r\nsudo apt-get install build-essential libtool autotools-dev automake pkg-config bsdmainutils python3\r\nsudo apt-get install libevent-dev libboost-system-dev libboost-filesystem-dev libboost-test-dev libboost-thread-dev\r\nsudo apt-get install libzmq3-dev\r\nsudo apt-get install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools\r\nsudo apt-get install libqrencode-dev\r\nsudo apt-get install libdb++-dev\r\n./contrib/install_db4.sh `pwd`\r\nsudo apt-get install libminiupnpc-dev\r\n./autogen.sh\r\nexport BDB_PREFIX='/home/piet/bitcoin/db4'\r\n./configure BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" BDB_CFLAGS=\"-I${BDB_PREFIX}/include\"\r\n\r\nmake\r\n\r\nmake check\r\n\r\n\r\n\r\n\r\nThis is the log-file:\r\n=============================================\r\n   Bitcoin Core 0.20.1: src/test-suite.log\r\n=============================================\r\n\r\n# TOTAL: 1\r\n# PASS:  0\r\n# SKIP:  0\r\n# XFAIL: 0\r\n# FAIL:  1\r\n# XPASS: 0\r\n# ERROR: 0\r\n\r\n.. contents:: :depth: 2\r\n\r\nFAIL: qt/test/test_bitcoin-qt\r\n=============================\r\n\r\n********* Start testing of AppTests *********\r\nConfig: Using QtTest library 5.12.8, Qt 5.12.8 (x86_64-little_endian-lp64 shared (dynamic) release build; by GCC 9.3.0)\r\nPASS   : AppTests::initTestCase()\r\nQINFO  : AppTests::appTests() Backing up GUI settings to \"/tmp/test_common_Bitcoin Core/6b5c2d36bbca46789414818445a899d44fd0055650b15350609fab539033a540/regtest/guisettings.ini.bak\"\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQWARN  : AppTests::appTests() QFont::setPointSizeF: Point size <= 0 (-1.000000), must be greater than 0\r\nQDEBUG : AppTests::appTests() requestInitialize : Requesting initialize\r\nQDEBUG : AppTests::appTests() initialize : Running initialization in thread\r\n\r\n=== Received signal at function time: 333ms, total time: 334ms, dumping stack ===\r\nGNU gdb (Ubuntu 9.2-0ubuntu1~20.04) 9.2\r\nCopyright (C) 2020 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.\r\nType \"show copying\" and \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n    <http://www.gnu.org/software/gdb/documentation/>.\r\n\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\".\r\nAttaching to process 30936\r\n(gdb) === End of stack trace ===\r\nQFATAL : AppTests::appTests() Received signal 11\r\n         Function time: 333ms Total time: 334ms\r\nFAIL!  : AppTests::appTests() Received a fatal error.\r\n   Loc: [Unknown file(0)]\r\nTotals: 1 passed, 1 failed, 0 skipped, 0 blacklisted, 511ms",
   "closed_at" : "2021-01-10T13:53:38Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20869/comments",
   "created_at" : "2021-01-06T20:50:48Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20869/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/20869",
   "id" : 780838664,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20869/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU3ODA4Mzg2NjQ=",
   "number" : 20869,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "make check failure",
   "updated_at" : "2021-01-10T13:53:38Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20869",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/77077137?v=4",
      "events_url" : "https://api.github.com/users/pietdm/events{/privacy}",
      "followers_url" : "https://api.github.com/users/pietdm/followers",
      "following_url" : "https://api.github.com/users/pietdm/following{/other_user}",
      "gists_url" : "https://api.github.com/users/pietdm/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/pietdm",
      "id" : 77077137,
      "login" : "pietdm",
      "node_id" : "MDQ6VXNlcjc3MDc3MTM3",
      "organizations_url" : "https://api.github.com/users/pietdm/orgs",
      "received_events_url" : "https://api.github.com/users/pietdm/received_events",
      "repos_url" : "https://api.github.com/users/pietdm/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/pietdm/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/pietdm/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/pietdm"
   }
}
