[
   {
      "author_association" : "MEMBER",
      "body" : "I think the unsigned integer overflow check is questionable in the first place. After all, unsigned integer overflow isn't UB and completely normal in cryptography and other bit manipulation code.\r\n\r\nAnyhow ACK fa6c114ae604571435e8c4d25906a8b6d5b9984c\r\n",
      "created_at" : "2021-01-06T07:33:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20844#issuecomment-755136848",
      "id" : 755136848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20844",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTEzNjg0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T07:33:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755136848",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Post-merge ACK fa6c114ae604571435e8c4d25906a8b6d5b9984c: a general `crypto/*` suppression for `unsigned-integer-overflow` makes perfect sense!\r\n\r\nThanks for fixing this @MarcoFalke!\r\n\r\n---\r\n\r\n@laanwj \r\n\r\n> I think the unsigned integer overflow check is questionable in the first place. After all, unsigned integer overflow isn't UB and completely normal in cryptography and other bit manipulation code.\r\n\r\nIn fairness it is probably worth mentioning that the goal of the UBSan's `unsigned-integer-overflow` is not to catch UB: as you correctly point out there is no UB to catch when it comes to unsigned integers :)\r\n\r\nThe idea is instead to make reliance on wraparound semantics explicit by documenting in which areas of our code code we expect unsigned integer wraparounds to occur (such as in `crypto/*`).\r\n\r\nUBSan can then flag all wraparounds outside of the expected areas: such cases are are likely unintentional (bugs).\r\n\r\nAlso, it should be noted that the list of `unsigned-integer-overflow` suppressions in `test/sanitizer_suppressions/ubsan` has remained largely static over time which suggests that this UBSan check is a very cheap way to kill this bug class (unintended unsigned integer wraparounds).",
      "created_at" : "2021-01-10T18:30:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20844#issuecomment-757521828",
      "id" : 757521828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20844",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NzUyMTgyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-10T18:36:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/757521828",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
