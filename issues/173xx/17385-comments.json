[
   {
      "author_association" : "MEMBER",
      "body" : "Wow! That was quick! :)\r\n\r\nStrong Concept ACK\r\n\r\nThanks for taking the time to get rid of those once and for all :)",
      "created_at" : "2019-11-05T20:58:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550016801",
      "id" : 550016801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDAxNjgwMQ==",
      "updated_at" : "2019-11-05T20:58:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550016801",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Test failure in `util_tests/util_ChainMerge` explained:\r\n- This test passes `-notestnet=1` and `-noregtest=1` to the argument parser.\r\n- Somehow, this ends up as `InterpretBool(\"1testnet=1\")`\r\n- `atoi` returns `1` in this case (evaluating to `true`) because it stops parsing at the first non-digit, our `ParseInt64` fails however and returns `false`.\r\nThis causes the test to exit with a different hash.\r\n\r\n**Do we really support `-notestnet=1` and `-noregtest=1`?** I've never seen this syntax.\r\n",
      "created_at" : "2019-11-05T21:39:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550033222",
      "id" : 550033222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDAzMzIyMg==",
      "updated_at" : "2019-11-05T21:46:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550033222",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> **Do we really support `-notestnet=1` and `-noregtest=1`?** I've never seen this syntax.\r\n\r\nI'll take a look at this. We could make `-notestnet` and `testnet=0` style options into errors, though this PR is probably not the best place to do it, and maybe there is some use case if you have a configuration file that normally sets testnet, but you want to override it on the command line and use the settings on regtest instead or something.\r\n\r\nAny case, will first debug and see what causes reported `1testnet=1`",
      "created_at" : "2019-11-05T21:51:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550037985",
      "id" : 550037985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDAzNzk4NQ==",
      "updated_at" : "2019-11-05T21:51:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550037985",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We ideally need a way to signal parse errors from `GetArg` functions, there's a similar situation in `ArgsManager::GetArg(int64)`. Maybe they could return Optional. Out of scope for this PR anyhow, it only needs to do the sane thing here.\r\n\r\n> some use case if you have a configuration file that normally sets testnet, but you want to override it on the command line and use the settings on regtest instead or something.\r\n\r\nIn that case couldn't you simply do `-testnet=0` or `-regtest=0`? I don't see the point of `-noX` with a value.\r\n\r\n> though this PR is probably not the best place to do it\r\n\r\nI agree, I'm tempted to just drop that commit, though it means `atoi(string)` sticks around.",
      "created_at" : "2019-11-05T21:54:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550039255",
      "id" : 550039255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDAzOTI1NQ==",
      "updated_at" : "2019-11-05T21:57:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550039255",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK https://github.com/bitcoin/bitcoin/pull/17385/commits/88e83075406493304c3e33c9c1b6a451322ce634",
      "created_at" : "2019-11-05T22:35:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550054169",
      "id" : 550054169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDA1NDE2OQ==",
      "updated_at" : "2019-11-06T01:26:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550054169",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Discussion seems somewhat offtopic here, maybe discuss argument parsing behavior more in #16545.\r\n\r\n> We ideally need a way to signal parse errors from `GetArg` functions, there's a similar situation in `ArgsManager::GetArg(int64)`. Maybe they could return Optional. Out of scope for this PR anyhow, it only needs to do the sane thing here.\r\n\r\nI could be wrong but I think it would actually be less work, and friendlier to both users and developers to validate settings on initialization rather than use. #16545 is intended to move in this direction.\r\n\r\n> > some use case if you have a configuration file that normally sets testnet, but you want to override it on the command line and use the settings on regtest instead or something.\r\n> \r\n> In that case couldn't you simply do `-testnet=0` or `-regtest=0`? I don't see the point of `-noX` with a value.\r\n\r\nFor int and bool arguments, I think it's generally reasonable to treat `-noarg` and `-noarg=1` the same as `-arg=0`.\r\n\r\n> I agree, I'm tempted to just drop that commit, though it means `atoi(string)` sticks around.\r\n\r\nI think it would be best to save both d78e7be42300c4a313ad94aae998b04c25881cba and afb58090ba4f834aa40730512f2485c09f33f32e for another PR and not include them here. These are user facing changes which could use release notes and better test coverage.",
      "created_at" : "2019-11-05T22:44:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550057323",
      "id" : 550057323,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDA1NzMyMw==",
      "updated_at" : "2019-11-05T22:44:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550057323",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think it would be best to save both d78e7be and afb5809 for another PR and not include them here. \r\n\r\nI'm fine with adding a release not if you think this is a significant user-facing change, and add a test for these two little functions, but I'd really prefer not to keep either the current behavior or code.",
      "created_at" : "2019-11-05T22:56:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550060888",
      "id" : 550060888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDA2MDg4OA==",
      "updated_at" : "2019-11-05T23:05:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550060888",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17050](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17050.html) (tests: Add fuzzing harnesses for functions parsing scripts, numbers, JSON and HD keypaths (bip32) by practicalswift)\n* [#15934](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15934.html) (Merge settings one place instead of five places by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-11-05T23:19:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550067918",
      "id" : 550067918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDA2NzkxOA==",
      "updated_at" : "2019-11-05T23:19:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550067918",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm fine with adding a release not if you think this is a significant user-facing change, but I'd really prefer not to keep either the current behavior or code.\r\n\r\nMy thinking is that there probably shouldn't be user-facing changes in a PR that's supposed to be a refactor, and that this PR is substantial enough with 17 commits, that pulling out 2 of them to a dedicated PR wouldn't make it worse off.\r\n\r\nBut the user-facing changes are maybe more minor than I would have thought. With your two commits arguments such as `\"5 \"` or `\" 5\"` or `\"5.\"` which are currently parsed as `5`/`true` will now be parsed as `0`/`false`. This applies to numeric arguments with leading whitespace or trailing characters.",
      "created_at" : "2019-11-06T00:22:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550084451",
      "id" : 550084451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDA4NDQ1MQ==",
      "updated_at" : "2019-11-06T00:22:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550084451",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> My thinking is that there probably shouldn't be user-facing changes in a PR that's supposed to be a refactor, and that this PR is substantial enough with 17 commits, that pulling out 2 of them to a dedicated PR wouldn't make it worse off.\r\n\r\nMany of the changes in this PR make a subtle difference in the case of invalid input, due to adding strict parse error checking (I mention this in the OP). Maybe I shouldn't call it a refactor. But it's not really a bugfix or feature either.\r\n\r\n> and that this PR is substantial enough with 17 commits, that pulling out 2 of them to a dedicated PR wouldn't make it worse off.\r\n\r\nSure. But remove any and the cleanup in `util.cpp`/`util.h` isn't possible. Which was one of my motivations to do this in the first place.",
      "created_at" : "2019-11-06T00:33:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550087031",
      "id" : 550087031,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDA4NzAzMQ==",
      "updated_at" : "2019-11-06T00:33:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550087031",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll review this tomorrow. I think all the commits here that remove uses of C functions to parse strings which are supposed to have a rigid format (numbers in filenames, test strings, descriptors, database properties) are great, and it's great to clean up this code and avoid misusing these C functions.\r\n\r\nBut while I'll need to review the PR more carefully to be sure, I think the few changes here that can actually affect users should probably be done more carefully. For example, instead of taking a strangely formatted boolean value that was previously interpreted as `true` and now silently interpreting it as `false`, actually add proper error handling and make it an error to specify a badly formatted value. Or if this is too much work, at least log a warning about badly formatted values. And if there has to be a visible change in behavior, document what the change is in release notes. And if the change is too niche to document in release notes, at least say what the change of behavior is in the commit message.\r\n\r\nAlternately, it it's possible to drop a few commits in this PR to make it a boring plain refactoring, that would be great, because we'd still be eliminating the majority of misused C function calls, and just adding one or two items to your \"known violations\" list that could be addressed in followups.",
      "created_at" : "2019-11-06T04:41:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550140652",
      "id" : 550140652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDE0MDY1Mg==",
      "updated_at" : "2019-11-06T04:41:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550140652",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing this until the arguments manager has a way to report errors to the user. I agree that needs to be done. It'd be fairly easy to add error return value to the ArgParse functions for bool and int, however there are so many call sitesâ¦ and they all assume fast and loose error handling (ie none).\r\n\r\n> I could be wrong but I think it would actually be less work, and friendlier to both users and developers to validate settings on initialization rather than use. #16545 is intended to move in this direction.\r\n\r\nThis would definitely be better. If you do this, please change the parsing function as well.",
      "created_at" : "2019-11-06T09:06:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550215193",
      "id" : 550215193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDIxNTE5Mw==",
      "updated_at" : "2019-11-06T09:12:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550215193",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343229928"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343229928"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of stoul in dbwrapper.cpp\" (df211cb3f02e1eb05eb6289af1688afd96660ca7)\r\n\r\nShould probably add log print here similar to above:\r\n\r\n```c++\r\nLogPrint(BCLog::LEVELDB, \"Failed to parse approximate-memory-usage property\\n\");\r\n```\r\n\r\nThere is also some risk here that this change could make `DynamicMemoryUsage` now return 0 in cases where it returned nonzero before (if property string has leading or trailing whitespace or other trailing characters), but logging should make it obvious if this is ever the case.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T17:32:04Z",
      "diff_hunk" : "@@ -203,7 +203,12 @@ size_t CDBWrapper::DynamicMemoryUsage() const {\n         LogPrint(BCLog::LEVELDB, \"Failed to get approximate-memory-usage property\\n\");\n         return 0;\n     }\n-    return stoul(memory);\n+    uint64_t ret;\n+    if (ParseUInt64(memory, &ret)) {\n+        return ret;\n+    } else {\n+        return 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343229928",
      "id" : 343229928,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzIyOTkyOA==",
      "original_commit_id" : "df211cb3f02e1eb05eb6289af1688afd96660ca7",
      "original_position" : 9,
      "path" : "src/dbwrapper.cpp",
      "position" : 9,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343229928",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343234969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343234969"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi in CleanupBlockRevFiles\" (f47450e1dcbd4e88efd8e69924da9d20930b399c)\r\n\r\nNote: The behavior change here makes this code slightly more robust than before. Now if there are extra files like `blkABC` they will just be deleted and not throw off the count of expected block files that are supposed to be kept. Throwing off the count would cause files we actually want to keep to be deleted.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T17:42:55Z",
      "diff_hunk" : "@@ -644,9 +644,10 @@ static void CleanupBlockRevFiles()\n     // zero by walking the ordered map (keys are block file indices) by\n     // keeping a separate counter.  Once we hit a gap (or if 0 doesn't exist)\n     // start removing block files.\n-    int nContigCounter = 0;\n+    uint32_t nContigCounter = 0;\n     for (const std::pair<const std::string, fs::path>& item : mapBlockFiles) {\n-        if (atoi(item.first) == nContigCounter) {\n+        uint32_t value;\n+        if (ParseUInt32(item.first, &value) && value == nContigCounter) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343234969",
      "id" : 343234969,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzIzNDk2OQ==",
      "original_commit_id" : "f47450e1dcbd4e88efd8e69924da9d20930b399c",
      "original_position" : 9,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343234969",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343237060"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343237060"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace ad-hoc validity check and atoi in rpcconsole\" (5cdaf4ad65b578c86ee21f9b7a7a48473a2ca735)\r\n\r\nSlight change of behavior here with looser parsing since this now accepts `+` or `-` signed values. But this seems fine and doesn't need additional documentation (though it could be mentioned in the commit message) since there is immediate feedback in case of an error.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T17:47:13Z",
      "diff_hunk" : "@@ -222,10 +222,12 @@ bool RPCConsole::RPCParseCommandLine(interfaces::Node* node, std::string &strRes\n                                 UniValue subelement;\n                                 if (lastResult.isArray())\n                                 {\n-                                    for(char argch: curarg)\n-                                        if (!IsDigit(argch))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343237060",
      "id" : 343237060,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzIzNzA2MA==",
      "original_commit_id" : "5cdaf4ad65b578c86ee21f9b7a7a48473a2ca735",
      "original_position" : 5,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : 5,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343237060",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343237708"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343237708"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"util: Add error handling to sequence id in bitcoin-tx\" (f7f2472d16be78bf9c2a7c85e5d40b3b78ef214a)\r\n\r\nSlight change of behavior here with stricter parsing. But this seems fine and doesn't need additional documentation (though it could be mentioned in the commit message) since there is immediate feedback in case of an error.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T17:48:34Z",
      "diff_hunk" : "@@ -255,8 +255,11 @@ static void MutateTxAddInput(CMutableTransaction& tx, const std::string& strInpu\n \n     // extract the optional sequence number\n     uint32_t nSequenceIn = CTxIn::SEQUENCE_FINAL;\n-    if (vStrInputParts.size() > 2)\n-        nSequenceIn = std::stoul(vStrInputParts[2]);\n+    if (vStrInputParts.size() > 2) {\n+        if (!ParseUInt32(vStrInputParts[2], &nSequenceIn)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343237708",
      "id" : 343237708,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzIzNzcwOA==",
      "original_commit_id" : "f7f2472d16be78bf9c2a7c85e5d40b3b78ef214a",
      "original_position" : 7,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 7,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343237708",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343239688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343239688"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of strtol in rest.cpp\" (a8f7502d21d8bbe0934c0c8674cb262d2e913c33)\r\n\r\nSlight change of behavior here with stricter parsing: trailing characters no longer allowed for example. But this seems fine and doesn't need additional documentation (though it could be mentioned in the commit message) since there is immediate feedback in case of an error.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T17:52:50Z",
      "diff_hunk" : "@@ -127,8 +127,8 @@ static bool rest_headers(HTTPRequest* req,\n     if (path.size() != 2)\n         return RESTERR(req, HTTP_BAD_REQUEST, \"No header count specified. Use /rest/headers/<count>/<hash>.<ext>.\");\n \n-    long count = strtol(path[0].c_str(), nullptr, 10);\n-    if (count < 1 || count > 2000)\n+    uint32_t count;\n+    if (!ParseUInt32(path[0], &count) || count < 1 || count > 2000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343239688",
      "id" : 343239688,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzIzOTY4OA==",
      "original_commit_id" : "a8f7502d21d8bbe0934c0c8674cb262d2e913c33",
      "original_position" : 7,
      "path" : "src/rest.cpp",
      "position" : 7,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343239688",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343242913"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343242913"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi in torcontrol\" (a8ded10262c16778aaa87db0d8ba407e55ea0100)\r\n\r\nNote: this change looks like an improvement assuming 3 character torcontrol status code is not allowed to contain whitespace or non-digit characters, which seems reasonable but I haven't verified this. Error handling seems consistent with other handling done this function of just ignoring lines with unexpected formatting.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T17:59:26Z",
      "diff_hunk" : "@@ -146,7 +146,10 @@ void TorControlConnection::readcb(struct bufferevent *bev, void *ctx)\n         if (s.size() < 4) // Short line\n             continue;\n         // <status>(-|+| )<data><CRLF>\n-        self->message.code = atoi(s.substr(0,3));\n+        if (!ParseUInt32(s.substr(0,3), &self->message.code)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343242913",
      "id" : 343242913,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI0MjkxMw==",
      "original_commit_id" : "a8ded10262c16778aaa87db0d8ba407e55ea0100",
      "original_position" : 14,
      "path" : "src/torcontrol.cpp",
      "position" : 14,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343242913",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343245427"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343245427"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi64 in core_read\" (e4aa1f77b16c248488cc88b661bed69168c0f9e5)\r\n\r\nParsing here seems a little looser than before, because `ParseScript` will now accept signed numbers beginning with `+`, while it previously only accepted numbers beginning with `-`. I'm assuming this is reasonable behavior. `ParseScript` appears to only actually be called in tests and by `bitcoin-tx`.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T18:04:51Z",
      "diff_hunk" : "@@ -50,15 +50,14 @@ CScript ParseScript(const std::string& s)\n \n     for (std::vector<std::string>::const_iterator w = words.begin(); w != words.end(); ++w)\n     {\n+        int64_t n;\n         if (w->empty())\n         {\n             // Empty string, ignore. (boost::split given '' will return one word)\n         }\n-        else if (std::all_of(w->begin(), w->end(), ::IsDigit) ||\n-            (w->front() == '-' && w->size() > 1 && std::all_of(w->begin()+1, w->end(), ::IsDigit)))\n+        else if (ParseInt64(*w, &n))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343245427",
      "id" : 343245427,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI0NTQyNw==",
      "original_commit_id" : "e4aa1f77b16c248488cc88b661bed69168c0f9e5",
      "original_position" : 11,
      "path" : "src/core_read.cpp",
      "position" : 11,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343245427",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343246724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343246724"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi64 in rpc/mining.cpp\" (b7315cb5114477ede6ebb4e4c2303537dcb647b4)\r\n\r\nSlight change of behavior here with stricter parsing. For example no whitespace or trailing characters allowed anymore. But this seems fine and doesn't need additional documentation (though it could be mentioned in the commit message) since there is immediate feedback in case of an error.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T18:07:44Z",
      "diff_hunk" : "@@ -492,7 +492,11 @@ static UniValue getblocktemplate(const JSONRPCRequest& request)\n             std::string lpstr = lpval.get_str();\n \n             hashWatchedChain = ParseHashV(lpstr.substr(0, 64), \"longpollid\");\n-            nTransactionsUpdatedLastLP = atoi64(lpstr.substr(64));\n+            uint32_t temp;\n+            if (!ParseUInt32(lpstr.substr(64), &temp)) {\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, \"could not parse lpval\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343246724",
      "id" : 343246724,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI0NjcyNA==",
      "original_commit_id" : "b7315cb5114477ede6ebb4e4c2303537dcb647b4",
      "original_position" : 7,
      "path" : "src/rpc/mining.cpp",
      "position" : 7,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343246724",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343248984"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343248984"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi64 in moneystr.cpp\" (2fcdd169cfcb1c0fcfb9d8a31fd9459d39a2dfa8)\r\n\r\nI might be missing something looking at this code, but it seems like a possible bug if empty string would have been parse successfully as `0` before but now it will fail to parse. Otherwise behavior seems unchanged since `strWhole` can only contain digit characters.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T18:12:48Z",
      "diff_hunk" : "@@ -68,7 +68,10 @@ bool ParseMoney(const char* pszIn, CAmount& nRet)\n         return false;\n     if (nUnits < 0 || nUnits > COIN)\n         return false;\n-    int64_t nWhole = atoi64(strWhole);\n+    int64_t nWhole;\n+    if (!ParseInt64(strWhole, &nWhole)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343248984",
      "id" : 343248984,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI0ODk4NA==",
      "original_commit_id" : "2fcdd169cfcb1c0fcfb9d8a31fd9459d39a2dfa8",
      "original_position" : 6,
      "path" : "src/util/moneystr.cpp",
      "position" : 6,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343248984",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343251172"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343251172"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi64 in wallet ReadOrderPos\" (87a3f13dfeff735aadb1091183f5269c9ab1a118)\r\n\r\nNote: Slightly stricter parsing is done here (no whitespace or trailing characters allowed) but this should be fine since string just comes from calling `i64tostr`. Could potentially log or return an error though if parsing fails, since it would be an indication of corruption.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T18:17:59Z",
      "diff_hunk" : "@@ -200,12 +200,10 @@ typedef std::map<std::string, std::string> mapValue_t;\n \n static inline void ReadOrderPos(int64_t& nOrderPos, mapValue_t& mapValue)\n {\n-    if (!mapValue.count(\"n\"))\n+    if (!mapValue.count(\"n\") || !ParseInt64(mapValue[\"n\"], &nOrderPos))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343251172",
      "id" : 343251172,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI1MTE3Mg==",
      "original_commit_id" : "87a3f13dfeff735aadb1091183f5269c9ab1a118",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : 5,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343251172",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343252598"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343252598"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Replace use of atoi64 in timesmart unserialize\" (f4218c26bbbcfc74ae23db9f9a9294447a8e9a6a)\r\n\r\nNote: Slightly stricter parsing is done here (no whitespace or trailing characters allowed) but this should be fine since string just comes from calling `strprintf(\"%u\")`. Could potentially log or return an error though if parsing fails, since it would be an indication of corruption.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T18:20:48Z",
      "diff_hunk" : "@@ -414,7 +414,12 @@ class CWalletTx\n         }\n \n         ReadOrderPos(nOrderPos, mapValue);\n-        nTimeSmart = mapValue.count(\"timesmart\") ? (unsigned int)atoi64(mapValue[\"timesmart\"]) : 0;\n+        uint64_t temp;\n+        if (mapValue.count(\"timesmart\") && ParseUInt64(mapValue[\"timesmart\"], &temp)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343252598",
      "id" : 343252598,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI1MjU5OA==",
      "original_commit_id" : "f4218c26bbbcfc74ae23db9f9a9294447a8e9a6a",
      "original_position" : 6,
      "path" : "src/wallet/wallet.h",
      "position" : 20,
      "pull_request_review_id" : 312615067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T18:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343252598",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review, have reopened and will address your comments.",
      "created_at" : "2019-11-06T18:55:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-550450877",
      "id" : 550450877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MDQ1MDg3Nw==",
      "updated_at" : "2019-11-06T18:55:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/550450877",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343276495"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343276495"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`ParseIntXX` accepts signed numbers beginning with `+`? whoops, I don't think this was intentional. Thanks for catching this, I think that needs to be documented.\r\n\r\nAgree it's not really problematic in this specific case, but will re-add the \"starts with digit or -\" check just in case.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T19:12:17Z",
      "diff_hunk" : "@@ -50,15 +50,14 @@ CScript ParseScript(const std::string& s)\n \n     for (std::vector<std::string>::const_iterator w = words.begin(); w != words.end(); ++w)\n     {\n+        int64_t n;\n         if (w->empty())\n         {\n             // Empty string, ignore. (boost::split given '' will return one word)\n         }\n-        else if (std::all_of(w->begin(), w->end(), ::IsDigit) ||\n-            (w->front() == '-' && w->size() > 1 && std::all_of(w->begin()+1, w->end(), ::IsDigit)))\n+        else if (ParseInt64(*w, &n))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343276495",
      "id" : 343276495,
      "in_reply_to_id" : 343245427,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI3NjQ5NQ==",
      "original_commit_id" : "e4aa1f77b16c248488cc88b661bed69168c0f9e5",
      "original_position" : 11,
      "path" : "src/core_read.cpp",
      "position" : 11,
      "pull_request_review_id" : 312676064,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T19:19:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343276495",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343277660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343277660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems we need a test for ParseMoney that exercises that!",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T19:14:46Z",
      "diff_hunk" : "@@ -68,7 +68,10 @@ bool ParseMoney(const char* pszIn, CAmount& nRet)\n         return false;\n     if (nUnits < 0 || nUnits > COIN)\n         return false;\n-    int64_t nWhole = atoi64(strWhole);\n+    int64_t nWhole;\n+    if (!ParseInt64(strWhole, &nWhole)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343277660",
      "id" : 343277660,
      "in_reply_to_id" : 343248984,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI3NzY2MA==",
      "original_commit_id" : "2fcdd169cfcb1c0fcfb9d8a31fd9459d39a2dfa8",
      "original_position" : 6,
      "path" : "src/util/moneystr.cpp",
      "position" : 6,
      "pull_request_review_id" : 312677585,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T19:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343277660",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343278522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343278522"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I thought about `assert(0)` here, but then reconsidered, because it's not important enough to crash the program. Will add a one-time log message.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T19:16:33Z",
      "diff_hunk" : "@@ -203,7 +203,12 @@ size_t CDBWrapper::DynamicMemoryUsage() const {\n         LogPrint(BCLog::LEVELDB, \"Failed to get approximate-memory-usage property\\n\");\n         return 0;\n     }\n-    return stoul(memory);\n+    uint64_t ret;\n+    if (ParseUInt64(memory, &ret)) {\n+        return ret;\n+    } else {\n+        return 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343278522",
      "id" : 343278522,
      "in_reply_to_id" : 343229928,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI3ODUyMg==",
      "original_commit_id" : "df211cb3f02e1eb05eb6289af1688afd96660ca7",
      "original_position" : 9,
      "path" : "src/dbwrapper.cpp",
      "position" : 9,
      "pull_request_review_id" : 312678717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T19:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343278522",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343278864"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343278864"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Silently ignoring the issue isn't nice (it makes things hard to debug). I'll add a log message here.",
      "commit_id" : "55ba3887d00eec0eb27eee7e0499c6df9133d160",
      "created_at" : "2019-11-06T19:17:14Z",
      "diff_hunk" : "@@ -146,7 +146,10 @@ void TorControlConnection::readcb(struct bufferevent *bev, void *ctx)\n         if (s.size() < 4) // Short line\n             continue;\n         // <status>(-|+| )<data><CRLF>\n-        self->message.code = atoi(s.substr(0,3));\n+        if (!ParseUInt32(s.substr(0,3), &self->message.code)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#discussion_r343278864",
      "id" : 343278864,
      "in_reply_to_id" : 343242913,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzI3ODg2NA==",
      "original_commit_id" : "a8ded10262c16778aaa87db0d8ba407e55ea0100",
      "original_position" : 14,
      "path" : "src/torcontrol.cpp",
      "position" : 14,
      "pull_request_review_id" : 312679167,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17385",
      "updated_at" : "2019-11-06T19:17:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343278864",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry for messing around with this again, but I realized something. Before doing this it is important to have our own, controlled, implementation of `Parse[U]Int(32|64)` that does not call out to libc's locale-dependent functions `strtol`/`strtoll` (these might still accept other kinds of numbers according to locale, for example). Starting here is like building a house on a foundation of jelly.\r\n\r\nAdding WIP tag (it's not possible to change a PR to draft, unfortunately).",
      "created_at" : "2019-11-07T10:32:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-551020697",
      "id" : 551020697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MTAyMDY5Nw==",
      "updated_at" : "2019-11-07T10:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551020697",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Before doing this it is important to have our own, controlled, implementation of `Parse[U]Int(32|64)` that does not call out to libc's locale-dependent functions `strtol`/`strtoll` (these might still accept other kinds of numbers according to locale, for example).\r\n\r\nAgree this would make the change safer and easier to reason about. I don't think strictly speaking most of the commits actually need this to be correct, either because looser parsings won't cause harm or because current code is already using the locale anyway. But if we can remove locale from these places, it would be a good thing.",
      "created_at" : "2019-11-07T16:18:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-551151064",
      "id" : 551151064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MTE1MTA2NA==",
      "updated_at" : "2019-11-07T16:22:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551151064",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-11-08T23:28:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17385#issuecomment-552030672",
      "id" : 552030672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17385",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjAzMDY3Mg==",
      "updated_at" : "2019-11-08T23:28:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552030672",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
