[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "concept ACK - though it's a bit disappointing to add this checksumming only for one type of record as a special case\n",
      "created_at" : "2015-11-04T22:22:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-153887980",
      "id" : 153887980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1Mzg4Nzk4MA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153887980/reactions"
      },
      "updated_at" : "2015-11-04T22:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153887980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The lack of such a checksum is very deliberate as it significantly increases the cost of brute forcing. Not necessarily disagreeing with such a change, just pointing out historical context.\n\nOn November 4, 2015 1:46:56 PM PST, Patrick Strateman notifications@github.com wrote:\n\n> Currently when encrypted wallets are unlocked the encrypted private\n> keys are checked against the public key by deriving the public key.\n> \n> The existing process is robust but very expensive and cannot detect\n> wallet corruption on wallet load.\n> \n> Adding H(pubkey, cryptedprivkey) to the wallet entry allows for rapid\n> verification and corruption detection on wallet load.\n> You can view, comment on, or merge this pull request online at:\n> \n>  https://github.com/bitcoin/bitcoin/pull/6943\n> \n> -- Commit Summary --\n> - Move CryptedKeyMap to boost::tuple from std::pair\n> - Add vchHash field to CryptedKeyMap\n> - Require vchHash for ckey wallet entries\n> \n> -- File Changes --\n> \n>    M src/keystore.h (3)\n>    M src/wallet/crypter.cpp (23)\n>    M src/wallet/crypter.h (11)\n>    M src/wallet/wallet.cpp (15)\n>    M src/wallet/wallet.h (4)\n>    M src/wallet/walletdb.cpp (18)\n>    M src/wallet/walletdb.h (2)\n> \n> -- Patch Links --\n> \n> https://github.com/bitcoin/bitcoin/pull/6943.patch\n> https://github.com/bitcoin/bitcoin/pull/6943.diff\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/bitcoin/bitcoin/pull/6943\n",
      "created_at" : "2015-11-04T22:25:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-153888647",
      "id" : 153888647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1Mzg4ODY0Nw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153888647/reactions"
      },
      "updated_at" : "2015-11-04T22:25:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153888647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt the hash is over the encrypted private key, not the decrypted private key\n",
      "created_at" : "2015-11-04T23:38:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-153905335",
      "id" : 153905335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1MzkwNTMzNQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153905335/reactions"
      },
      "updated_at" : "2015-11-04T23:38:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153905335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jgarzik i'd like to add this for all the entries, but i dont see any reasonable way to do that\n",
      "created_at" : "2015-11-04T23:39:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-153905523",
      "id" : 153905523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1MzkwNTUyMw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153905523/reactions"
      },
      "updated_at" : "2015-11-04T23:39:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153905523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt also that original rational doesn't actually work, due to the AES padding scheme used.\n\n(The john the ripper bitcoin core wallet support doesn't even bother checking anything beyond the AES padding. :( )\n",
      "created_at" : "2015-11-04T23:50:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-153907613",
      "id" : 153907613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1MzkwNzYxMw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153907613/reactions"
      },
      "updated_at" : "2015-11-04T23:50:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/153907613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @TheBlueMatt also that original rational doesn't actually work, due to the AES padding scheme used.\n\nLuckily we perform quite a lot of rounds of key stretching, so it should be quite expensive to bruteforce.\n",
      "created_at" : "2015-11-05T09:55:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154011197",
      "id" : 154011197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDAxMTE5Nw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154011197/reactions"
      },
      "updated_at" : "2015-11-05T09:55:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154011197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6943#discussion_r43995137"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6943"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/43995137"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is there a reason why you preferred `const std::vector<unsigned char> &vchHash` over our `uint256` type?\n",
      "commit_id" : "3142c320145bdab969ceee3ebe5f2df07a5dac8f",
      "created_at" : "2015-11-05T10:12:07Z",
      "diff_hunk" : "@@ -159,9 +162,13 @@ bool CWallet::LoadKeyMetadata(const CPubKey &pubkey, const CKeyMetadata &meta)\n     return true;\n }\n \n-bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret)\n+bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, const std::vector<unsigned char> &vchHash)\n {\n-    return CCryptoKeyStore::AddCryptedKey(vchPubKey, vchCryptedSecret);\n+    std::vector<unsigned char> vchCheckHash;\n+    CCryptoKeyStore::CalculateCryptedHash(vchPubKey, vchCryptedSecret, vchCheckHash);\n+    if (!std::equal(vchHash.begin(), vchHash.end(), vchCheckHash.begin()))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#discussion_r43995137",
      "id" : 43995137,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk1MTM3",
      "original_commit_id" : "c8a3f8778a21a5dc972bfedb14fae77e38151a05",
      "original_line" : null,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6943",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/43995137/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2015-11-07T01:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/43995137",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "concept ACK.\n- There is an vector index issue somewhere (could't trace it down so far): https://travis-ci.org/bitcoin/bitcoin/jobs/89320045#L3784\n- I think this would require to bump the `nWalletVersion` (even if this is backward compatible, we need a way to identify wallet versions in case of later migrations, etc.).\n",
      "created_at" : "2015-11-05T10:18:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154018352",
      "id" : 154018352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDAxODM1Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154018352/reactions"
      },
      "updated_at" : "2015-11-05T10:18:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154018352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gmaxwell Indeed :( (though I thought at some point we fixed that...guess not)\n",
      "created_at" : "2015-11-05T19:31:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154164936",
      "id" : 154164936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDE2NDkzNg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154164936/reactions"
      },
      "updated_at" : "2015-11-05T19:31:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154164936",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6943#discussion_r44059911"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6943"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44059911"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "not a strong one, i used uint256 for the hash over unencrypted keys\n\ni'll switch to uint256\n",
      "commit_id" : "3142c320145bdab969ceee3ebe5f2df07a5dac8f",
      "created_at" : "2015-11-05T19:49:10Z",
      "diff_hunk" : "@@ -159,9 +162,13 @@ bool CWallet::LoadKeyMetadata(const CPubKey &pubkey, const CKeyMetadata &meta)\n     return true;\n }\n \n-bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret)\n+bool CWallet::LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, const std::vector<unsigned char> &vchHash)\n {\n-    return CCryptoKeyStore::AddCryptedKey(vchPubKey, vchCryptedSecret);\n+    std::vector<unsigned char> vchCheckHash;\n+    CCryptoKeyStore::CalculateCryptedHash(vchPubKey, vchCryptedSecret, vchCheckHash);\n+    if (!std::equal(vchHash.begin(), vchHash.end(), vchCheckHash.begin()))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#discussion_r44059911",
      "id" : 44059911,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5OTEx",
      "original_commit_id" : "c8a3f8778a21a5dc972bfedb14fae77e38151a05",
      "original_line" : null,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6943",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44059911/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2015-11-07T01:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/44059911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "With patch 0.270 seconds wall clock time to unlock 160116 encrypted keys.\nWithout patch 1m29.203s wall clock time to unlock 160116 encrypted keys.\n",
      "created_at" : "2015-11-06T01:47:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154259859",
      "id" : 154259859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDI1OTg1OQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154259859/reactions"
      },
      "updated_at" : "2015-11-06T01:50:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154259859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli We do not need to bump the wallet version, the change is entirely backwards compatible.\n",
      "created_at" : "2015-11-07T01:33:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154595709",
      "id" : 154595709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDU5NTcwOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154595709/reactions"
      },
      "updated_at" : "2015-11-07T01:33:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154595709",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@pstratem: Recently I encountered the same problem with backward compatibility and wallet_version (https://github.com/bitcoin/bitcoin/pull/5916). Someone (I think @luke-jr) convinced me that even if it's backward compatibility and version bump is required (or very useful) for future migration handling, etc. Lets say we once switch to a different wallet database. Then it would be helpful to know what type of scheme (determined by the wallet version) the local wallet.dat follows.\n",
      "created_at" : "2015-11-07T19:08:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154740438",
      "id" : 154740438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDc0MDQzOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154740438/reactions"
      },
      "updated_at" : "2015-11-07T19:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154740438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "We can bump the version without failing to use the checksum in older versions, which is useful to signal if all the keys in your wallet would have been encoded this this way. Potentially in the newer wallet version presence of the checksum can be mandated.  Check on decrypt could still be used in the old version, etc.\n\nI don't, however, think we want to decline to use this protection for newly written keys just because the wallet version is old.\n",
      "created_at" : "2015-11-07T19:25:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6943#issuecomment-154741268",
      "id" : 154741268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6943",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NDc0MTI2OA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154741268/reactions"
      },
      "updated_at" : "2015-11-07T19:25:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154741268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
