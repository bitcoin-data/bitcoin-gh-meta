{
   "active_lock_reason" : "resolved",
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "- add AllocateFileRangeWin(), which is used to pre-allocate block/undo files\n  as a single contignous chunk on disk, so these files are not fragmented\n  (current master has 95 - 409 fragments for such files, this patch\n  reduces all those to 1 fragment)\n- add GetBlockFile() and GetUndoFile() helper functions, which are a\n  wrapper for GetDiskFile(), which caches the last used file (separate\n  cache for the last block and undo file)\n\nI guess the helper functions could be used in other places of the code as well. I have another pull in the pipe, which makes CAutoFile based on an std::fstream and I use these helper functions there, too.\n\nTodo:\n- perhaps there is no need for another function name even, so AllocateFileRangeWin() could be changed to AllocateFileRange()\n- as I didn't know how big undo files can grow (no MAX_UNDOFILE_SIZE from @sipa ^^), I used the same size for them, as for the block files (MAX_BLOCKFILE_SIZE)\n",
   "closed_at" : "2012-12-12T20:38:42Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=4",
      "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gavinandresen/followers",
      "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gavinandresen",
      "id" : 331997,
      "login" : "gavinandresen",
      "node_id" : "MDQ6VXNlcjMzMTk5Nw==",
      "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
      "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
      "repos_url" : "https://api.github.com/users/gavinandresen/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gavinandresen"
   },
   "comments" : 6,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2098/comments",
   "created_at" : "2012-12-12T19:01:25Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2098/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/2098",
   "id" : 9227687,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2098/labels{/name}",
   "locked" : true,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzM0Mjg5MQ==",
   "number" : 2098,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/2098.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2098",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/2098.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2098"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2098/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2098/timeline",
   "title" : "add Windows specific optimization to pre-alloc block/undo files",
   "updated_at" : "2021-09-08T10:18:11Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2098",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
      "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Diapolo/followers",
      "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Diapolo",
      "id" : 1419649,
      "login" : "Diapolo",
      "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
      "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
      "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
      "repos_url" : "https://api.github.com/users/Diapolo/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Diapolo"
   }
}
