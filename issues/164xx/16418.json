{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Currently, we have no protections in place if our outbound peers are running in `-blocksonly` mode.  In practice, we rely on our outbound peers to be our best source of announced transactions, but if all our outbound peers were `-blocksonly`, we would make no effort to disconnect any to find an alternative peer to receive transactions from.\r\n\r\nWe discover at connection time (in the VERSION message) whether our peer will relay transactions on our link.  Perhaps we should tolerate some number of `-blocksonly` peers as outbounds, and once we hit that threshold we should disconnect new blocksonly outbounds?\r\n\r\nI suppose another issue could be if it's worth having logic that tries to determine whether a peer is silently withholding transactions from us...  We have logic for blocks, where we try to find a new outbound peer if we haven't received a new block in a while, but I don't know if there's a reasonable way to do this for transactions.  My guess is that this is not a very pressing concern, but perhaps we could do something that just tried making new outbound connections if we aren't receiving any transactions at all?",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16418/comments",
   "created_at" : "2019-07-18T20:06:48Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16418/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/16418",
   "id" : 469965789,
   "labels" : [
      {
         "color" : "ebd775",
         "default" : false,
         "id" : 64584,
         "name" : "Brainstorming",
         "node_id" : "MDU6TGFiZWw2NDU4NA==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming"
      },
      {
         "color" : "006b75",
         "default" : false,
         "id" : 98298007,
         "name" : "P2P",
         "node_id" : "MDU6TGFiZWw5ODI5ODAwNw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16418/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 64,
      "created_at" : "2018-05-31T19:40:07Z",
      "creator" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      },
      "description" : null,
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/37",
      "id" : 3391434,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/37/labels",
      "node_id" : "MDk6TWlsZXN0b25lMzM5MTQzNA==",
      "number" : 37,
      "open_issues" : 23,
      "state" : "open",
      "title" : "0.19.0",
      "updated_at" : "2019-07-29T13:46:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/37"
   },
   "node_id" : "MDU6SXNzdWU0Njk5NjU3ODk=",
   "number" : 16418,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Ensure we have sufficient transaction-relay peers",
   "updated_at" : "2019-07-23T18:26:47Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16418",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
      "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sdaftuar/followers",
      "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sdaftuar",
      "id" : 7463573,
      "login" : "sdaftuar",
      "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
      "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
      "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
      "repos_url" : "https://api.github.com/users/sdaftuar/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sdaftuar"
   }
}
