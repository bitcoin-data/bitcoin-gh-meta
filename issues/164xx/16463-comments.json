[
   {
      "author_association" : "MEMBER",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17034 (Bip174 extensions by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-07-25T20:27:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#issuecomment-515201618",
      "id" : 515201618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16463",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNTIwMTYxOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515201618/reactions"
      },
      "updated_at" : "2020-05-21T01:48:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/515201618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r397351731"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397351731"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggested change to reference instead of copy in range loops:\r\n```diff\r\n-        for (const auto xpub_pair : xpubs) {\r\n-            for (const auto xpub : xpub_pair.second) {\r\n+        for (const auto& xpub_pair : xpubs) {\r\n+            for (const auto& xpub : xpub_pair.second) {\r\n```",
      "commit_id" : "9926a387eab52c5421c9340380152862ff010ef2",
      "created_at" : "2020-03-24T17:54:28Z",
      "diff_hunk" : "@@ -424,6 +516,18 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // Write xpubs\n+        for (const auto xpub_pair : xpubs) {\n+            for (const auto xpub : xpub_pair.second) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r397351731",
      "id" : 397351731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM1MTczMQ==",
      "original_commit_id" : "63f705bb9d2780e38bff0495d130e60a8d92ff1e",
      "original_line" : 521,
      "original_position" : 119,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 380561185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397351731/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2021-01-12T20:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397351731",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r397355106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397355106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(this also fixes warnings if you build with -Wrange-loop-analysis)",
      "commit_id" : "9926a387eab52c5421c9340380152862ff010ef2",
      "created_at" : "2020-03-24T17:59:38Z",
      "diff_hunk" : "@@ -424,6 +516,18 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // Write xpubs\n+        for (const auto xpub_pair : xpubs) {\n+            for (const auto xpub : xpub_pair.second) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r397355106",
      "id" : 397355106,
      "in_reply_to_id" : 397351731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM1NTEwNg==",
      "original_commit_id" : "63f705bb9d2780e38bff0495d130e60a8d92ff1e",
      "original_line" : 521,
      "original_position" : 119,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 380565313,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397355106/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2021-01-12T20:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/397355106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r398817636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398817636"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done, also in a few other places.",
      "commit_id" : "9926a387eab52c5421c9340380152862ff010ef2",
      "created_at" : "2020-03-26T18:57:06Z",
      "diff_hunk" : "@@ -424,6 +516,18 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // Write xpubs\n+        for (const auto xpub_pair : xpubs) {\n+            for (const auto xpub : xpub_pair.second) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r398817636",
      "id" : 398817636,
      "in_reply_to_id" : 397351731,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgxNzYzNg==",
      "original_commit_id" : "63f705bb9d2780e38bff0495d130e60a8d92ff1e",
      "original_line" : 521,
      "original_position" : 119,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 382322291,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398817636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2021-01-12T20:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/398817636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r555926057"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555926057"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This move appears to be messing with the fuzzer in `/fuzz/script.cpp` which is looking for these functions.",
      "commit_id" : "9926a387eab52c5421c9340380152862ff010ef2",
      "created_at" : "2021-01-12T16:56:31Z",
      "diff_hunk" : "@@ -76,80 +76,6 @@ struct SignatureData {\n     void MergeSignatureData(SignatureData sigdata);\n };\n \n-// Takes a stream and multiple arguments and serializes them as if first serialized into a vector and then into the stream\n-// The resulting output into the stream has the total serialized length of all of the objects followed by all objects concatenated with each other.\n-template<typename Stream, typename... X>\n-void SerializeToVector(Stream& s, const X&... args)\n-{\n-    WriteCompactSize(s, GetSerializeSizeMany(s.GetVersion(), args...));\n-    SerializeMany(s, args...);\n-}\n-\n-// Takes a stream and multiple arguments and unserializes them first as a vector then each object individually in the order provided in the arguments\n-template<typename Stream, typename... X>\n-void UnserializeFromVector(Stream& s, X&... args)\n-{\n-    size_t expected_size = ReadCompactSize(s);\n-    size_t remaining_before = s.size();\n-    UnserializeMany(s, args...);\n-    size_t remaining_after = s.size();\n-    if (remaining_after + expected_size != remaining_before) {\n-        throw std::ios_base::failure(\"Size of value was not the stated size\");\n-    }\n-}\n-\n-// Deserialize HD keypaths into a map\n-template<typename Stream>\n-void DeserializeHDKeypaths(Stream& s, const std::vector<unsigned char>& key, std::map<CPubKey, KeyOriginInfo>& hd_keypaths)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r555926057",
      "id" : 555926057,
      "line" : 103,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTkyNjA1Nw==",
      "original_commit_id" : "10e209e7785f7636e3fd8fd9a164867a4595e9ab",
      "original_line" : 103,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/script/sign.h",
      "position" : 28,
      "pull_request_review_id" : 566476558,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555926057/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2021-01-12T20:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555926057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r556076285"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556076285"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed I think",
      "commit_id" : "9926a387eab52c5421c9340380152862ff010ef2",
      "created_at" : "2021-01-12T20:41:33Z",
      "diff_hunk" : "@@ -76,80 +76,6 @@ struct SignatureData {\n     void MergeSignatureData(SignatureData sigdata);\n };\n \n-// Takes a stream and multiple arguments and serializes them as if first serialized into a vector and then into the stream\n-// The resulting output into the stream has the total serialized length of all of the objects followed by all objects concatenated with each other.\n-template<typename Stream, typename... X>\n-void SerializeToVector(Stream& s, const X&... args)\n-{\n-    WriteCompactSize(s, GetSerializeSizeMany(s.GetVersion(), args...));\n-    SerializeMany(s, args...);\n-}\n-\n-// Takes a stream and multiple arguments and unserializes them first as a vector then each object individually in the order provided in the arguments\n-template<typename Stream, typename... X>\n-void UnserializeFromVector(Stream& s, X&... args)\n-{\n-    size_t expected_size = ReadCompactSize(s);\n-    size_t remaining_before = s.size();\n-    UnserializeMany(s, args...);\n-    size_t remaining_after = s.size();\n-    if (remaining_after + expected_size != remaining_before) {\n-        throw std::ios_base::failure(\"Size of value was not the stated size\");\n-    }\n-}\n-\n-// Deserialize HD keypaths into a map\n-template<typename Stream>\n-void DeserializeHDKeypaths(Stream& s, const std::vector<unsigned char>& key, std::map<CPubKey, KeyOriginInfo>& hd_keypaths)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#discussion_r556076285",
      "id" : 556076285,
      "in_reply_to_id" : 555926057,
      "line" : 103,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjA3NjI4NQ==",
      "original_commit_id" : "10e209e7785f7636e3fd8fd9a164867a4595e9ab",
      "original_line" : 103,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/script/sign.h",
      "position" : 28,
      "pull_request_review_id" : 566680388,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16463",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556076285/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2021-01-12T20:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556076285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Combining this PR with #17034",
      "created_at" : "2021-01-25T22:07:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16463#issuecomment-767145028",
      "id" : 767145028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16463",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NzE0NTAyOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767145028/reactions"
      },
      "updated_at" : "2021-01-25T22:07:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767145028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
