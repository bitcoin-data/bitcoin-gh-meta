{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "The non-reproducibility observed in binaries built on different architectures appears to come from guix store paths being present in the debug info. These guix store paths appear to differ depending on the architecture. These paths can be mapped to `/usr` using the GCC option `-ffile-prefix-map`. As the paths will change as the package versions change, we use `find` to search for all guix store paths to build a `CFLAGS` that has all guix store paths mapped to `/usr`.\r\n\r\nSome glibc code ends up in our binaries as well and these also contain debug info with guix store paths. So glibc is also patched to map guix store paths to `/usr`\r\n\r\nGuix build on x86_64:\r\n\r\n```\r\n```\r\n\r\nGuix build on arm64:\r\n\r\n```\r\n```\r\n\r\nAlternative to #24569",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24615/comments",
   "created_at" : "2022-03-18T19:43:41Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24615/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/24615",
   "id" : 1173964686,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24615/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII5840rPRa",
   "number" : 24615,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/24615.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24615",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/24615.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24615"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24615/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24615/timeline",
   "title" : "guix: Map guix store prefixes to /usr for cross-architecture reproducibility",
   "updated_at" : "2022-03-18T19:45:37Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24615",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
      "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
      "followers_url" : "https://api.github.com/users/achow101/followers",
      "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/achow101",
      "id" : 3782274,
      "login" : "achow101",
      "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
      "organizations_url" : "https://api.github.com/users/achow101/orgs",
      "received_events_url" : "https://api.github.com/users/achow101/received_events",
      "repos_url" : "https://api.github.com/users/achow101/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/achow101"
   }
}
