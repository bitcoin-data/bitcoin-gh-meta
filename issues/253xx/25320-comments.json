[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, thanks for filling this in.",
      "created_at" : "2022-06-09T15:10:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1151249384",
      "id" : 1151249384,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585Enqvo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151249384/reactions"
      },
      "updated_at" : "2022-06-09T15:10:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151249384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The maximum number of pages that a process can lock is equal to the number of pages in its minimum working set minus a small overhead.\r\n> \\- https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtuallock\r\n\r\nDoesn't this mean we should return `min`, not `max`?",
      "created_at" : "2022-06-09T15:17:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1151257685",
      "id" : 1151257685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585EnsxV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151257685/reactions"
      },
      "updated_at" : "2022-06-09T15:17:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151257685",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@laanwj \r\n> > The maximum number of pages that a process can lock is equal to the number of pages in its minimum working set minus a small overhead.\r\n> > - https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtuallock\r\n> \r\n> Doesn't this mean we should return min, not max?\r\n\r\nThis may be my mistake, but I understood the function GetLimit to get the upper resource limit based on this comment:\r\nhttps://github.com/bitcoin/bitcoin/blob/a6cdc82313cc7cb2a8de8b99221719a5c8f52881/src/support/lockedpool.cpp#L345\r\n\r\nI will change it along with the coding conventions.\r\n\r\nThere was a fuzzing step that the ci failed in, is this something I have to patch as well? ",
      "created_at" : "2022-06-09T16:06:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1151327532",
      "id" : 1151327532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585En90s",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151327532/reactions"
      },
      "updated_at" : "2022-06-09T16:09:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151327532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16289144?v=4",
         "events_url" : "https://api.github.com/users/brokenprogrammer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brokenprogrammer/followers",
         "following_url" : "https://api.github.com/users/brokenprogrammer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brokenprogrammer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brokenprogrammer",
         "id" : 16289144,
         "login" : "brokenprogrammer",
         "node_id" : "MDQ6VXNlcjE2Mjg5MTQ0",
         "organizations_url" : "https://api.github.com/users/brokenprogrammer/orgs",
         "received_events_url" : "https://api.github.com/users/brokenprogrammer/received_events",
         "repos_url" : "https://api.github.com/users/brokenprogrammer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brokenprogrammer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brokenprogrammer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brokenprogrammer"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks!\r\n\r\n>  This may be my mistake, but I understood the function GetLimit to get the upper resource limit based on this comment:\r\n\r\nThe thing is that `GetProcessWorkingSetSize` returns the process working set size. From what i understand, this is the range from much program memory will be mapped into physical memory at minimum, to how many at maximum. According to that quote, the upper limit of what can be locked is the minimum working set size.\r\n\r\n> There was a fuzzing step that the ci failed in, is this something I have to patch as well?\r\n\r\nI would guess it is unrelated.",
      "created_at" : "2022-06-09T16:24:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1151344863",
      "id" : 1151344863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585EoCDf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151344863/reactions"
      },
      "updated_at" : "2022-06-09T16:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151344863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> The thing is that `GetProcessWorkingSetSize` returns the process working set size. From what i understand, this is the range from much program memory will be mapped into physical memory at minimum, to how many at maximum. According to that quote, the upper limit of what can be locked is the minimum working set size.\r\n\r\nThat makes sense, sorry for the confusion!\r\n\r\n> I would guess it is unrelated.\r\n\r\nOh great! Thanks for prompt replies.",
      "created_at" : "2022-06-09T16:29:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1151349614",
      "id" : 1151349614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585EoDNu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151349614/reactions"
      },
      "updated_at" : "2022-06-09T16:29:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1151349614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16289144?v=4",
         "events_url" : "https://api.github.com/users/brokenprogrammer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brokenprogrammer/followers",
         "following_url" : "https://api.github.com/users/brokenprogrammer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brokenprogrammer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brokenprogrammer",
         "id" : 16289144,
         "login" : "brokenprogrammer",
         "node_id" : "MDQ6VXNlcjE2Mjg5MTQ0",
         "organizations_url" : "https://api.github.com/users/brokenprogrammer/orgs",
         "received_events_url" : "https://api.github.com/users/brokenprogrammer/received_events",
         "repos_url" : "https://api.github.com/users/brokenprogrammer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brokenprogrammer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brokenprogrammer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brokenprogrammer"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks good to me now (but i can't test it)\r\n\r\nmaybe ping @sipsorcery ",
      "created_at" : "2022-06-10T17:26:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1152582362",
      "id" : 1152582362,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585EswLa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1152582362/reactions"
      },
      "updated_at" : "2022-06-10T17:26:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1152582362",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "tACK 1cb42aeda37f4979923cd7e1c85febe994480de6.\r\n\r\nCompletely unrelated to this PR but someone obviously wasn't happy about one particular OS...\r\n\r\n```\r\n#ifndef WIN32\r\n/** LockedPageAllocator specialized for OSes that don't try to be\r\n * special snowflakes.\r\n */\r\n```",
      "created_at" : "2022-06-12T20:23:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1153284309",
      "id" : 1153284309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585EvbjV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1153284309/reactions"
      },
      "updated_at" : "2022-06-12T20:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1153284309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you @sipsorcery for taking the time to test it!",
      "created_at" : "2022-06-13T04:43:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1153464587",
      "id" : 1153464587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585EwHkL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1153464587/reactions"
      },
      "updated_at" : "2022-06-13T04:43:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1153464587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16289144?v=4",
         "events_url" : "https://api.github.com/users/brokenprogrammer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brokenprogrammer/followers",
         "following_url" : "https://api.github.com/users/brokenprogrammer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brokenprogrammer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brokenprogrammer",
         "id" : 16289144,
         "login" : "brokenprogrammer",
         "node_id" : "MDQ6VXNlcjE2Mjg5MTQ0",
         "organizations_url" : "https://api.github.com/users/brokenprogrammer/orgs",
         "received_events_url" : "https://api.github.com/users/brokenprogrammer/received_events",
         "repos_url" : "https://api.github.com/users/brokenprogrammer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brokenprogrammer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brokenprogrammer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brokenprogrammer"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Completely unrelated to this PR but someone obviously wasn't happy about one particular OS...\r\n\r\nLOL, i'm guilty of writing that. I was annoyed about all the special WIN32 exceptions. Mind that this was before MacOS became just as much, if not more, of a pain to support.",
      "created_at" : "2022-06-14T07:05:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25320#issuecomment-1154798175",
      "id" : 1154798175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25320",
      "node_id" : "IC_kwDOABII585E1NJf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1154798175/reactions"
      },
      "updated_at" : "2022-06-14T07:05:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1154798175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
