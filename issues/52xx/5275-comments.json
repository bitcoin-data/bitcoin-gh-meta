[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5275#discussion_r20361671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5275"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20361671"
         }
      },
      "body" : "Unused:\r\n```\r\nrpcmining.cpp: In function Ã¢ÂÂjson_spirit::Value setgenerate(const Array&, bool)Ã¢ÂÂ:\r\nrpcmining.cpp:167:13: warning: unused variable Ã¢ÂÂnHeightLastÃ¢ÂÂ [-Wunused-variable]\r\n         int nHeightLast = -1;\r\n             ^\r\n```",
      "commit_id" : "18379875bf7dd91637e4a206db58cd0968b5d47f",
      "created_at" : "2014-11-14T14:40:54Z",
      "diff_hunk" : "@@ -161,19 +165,30 @@ Value setgenerate(const Array& params, bool fHelp)\n             nHeightEnd = nHeightStart+nGenerate;\n         }\n         int nHeightLast = -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#discussion_r20361671",
      "id" : 20361671,
      "original_commit_id" : "1bba5f4ac45caee7c1f3ad8b3fabb629437bcd7b",
      "original_position" : 21,
      "path" : "src/rpcmining.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5275",
      "updated_at" : "2014-11-14T18:43:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20361671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK, works for me",
      "created_at" : "2014-11-14T14:42:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-63073101",
      "id" : 63073101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-14T14:42:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63073101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK, though I would prefer just moving that regtest-specific block to a separate RPC...",
      "created_at" : "2014-11-14T17:04:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-63095864",
      "id" : 63095864,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-14T17:04:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63095864",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Agree that would be cleaner, but there's no reason to do it in this pull.",
      "created_at" : "2014-11-14T17:46:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-63102004",
      "id" : 63102004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-14T17:46:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63102004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This is changing the RPC interface anyway (by adding a return value). Reverting that later is imho not cleaner :)\r\n(but I'm still fine with merging it)",
      "created_at" : "2014-11-14T17:48:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-63102339",
      "id" : 63102339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-14T17:49:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63102339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Fixed the unused variable nit, will merge as soon as Travis has a chance to do it's thing.\r\n\r\n@sipa : a -regtest-only 'generateblocks' RPC that replaces the hacky setgenerate is a good idea. But not right now, please, I'm working on a couple of branches with tests that I want to get done and don't want to spend time porting all the existing RPC tests away from setgenerate.",
      "created_at" : "2014-11-14T18:46:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-63110316",
      "id" : 63110316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-14T18:46:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63110316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2014-11-14T22:28:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-63139427",
      "id" : 63139427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-14T22:28:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63139427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I am not opposed to optimizing regtest block generation. Heavy users of regtest, apparently Gavin included, might find a use case or two. After all, testing has been declared the bottleneck for development in general, so we need more of it, and I view this commit as a step in support of it.\r\n\r\nWhat seems out of place in the context of regtest here are error messages coming out of CheckProofOfWork, while the right nonce is searched for, misleadingly clogging the logs.\r\n",
      "created_at" : "2014-11-28T05:00:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-64855109",
      "id" : 64855109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-28T05:00:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64855109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8286077?v=3",
         "events_url" : "https://api.github.com/users/21E14/events{/privacy}",
         "followers_url" : "https://api.github.com/users/21E14/followers",
         "following_url" : "https://api.github.com/users/21E14/following{/other_user}",
         "gists_url" : "https://api.github.com/users/21E14/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/21E14",
         "id" : 8286077,
         "login" : "21E14",
         "organizations_url" : "https://api.github.com/users/21E14/orgs",
         "received_events_url" : "https://api.github.com/users/21E14/received_events",
         "repos_url" : "https://api.github.com/users/21E14/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/21E14/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/21E14/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/21E14"
      }
   },
   {
      "body" : "> Heavy users of regtest, apparently Gavin included, might find a use case or two\r\n\r\nWe're all heavy users of regtest when waiting for Travis to finish. Optimizing here is indeed an overall win.\r\n\r\n> The logical conclusion is that the miner optimization doesn't make sense. Let's remove it to simplify that part of the code. Less code to maintain and no drawbacks.\r\n\r\nThat has been discussed before. Another feature that complicates the internal miner code, and doesn't have much of a point for testing, is support for multiple threads. I'd not be opposed to removing those things. But anything related to the (non-regtest) internal miner has extremely low priority in my eyes. It works ...\r\n",
      "created_at" : "2014-11-28T08:36:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-64868228",
      "id" : 64868228,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2014-11-28T08:36:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64868228",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I guess my point is that the only real use of the of the miner is in regtest mode.\r\nTherefore everything that is good for regtest mining is good mining in general as far as bitcoin core is concerned. As long as non-regtest mining keeps working, we don't care about its performance.\r\n#4423 was rejected because the performance measured was hashrate in non-regtest mode, but the only mining performance measure that we should care about is regtest.\r\nTo be clear, I'm not complaining about this change, it makes a lot of sense and it's great that it's merged.\r\nBut I think we can make the ```if (Params().MineBlocksOnDemand())``` part smaller and the whole mining code simpler if we're willing to sacrifice non-regtest performance.\r\nThere's also another way to make regtest mining more similar to the others: by removing mining code that regtest doesn't use like in #5599 (or @laanwj 's proposal to remove multiple thread support for non-regtest mining). \r\nTo reiterate and summarize: non-regtest mining performance is meaningless, and non-regtest mining code should be more like regtest mining (instead of the other way around).\r\n",
      "created_at" : "2015-01-04T21:56:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-68651123",
      "id" : 68651123,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2015-01-04T21:58:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68651123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@21E14 #4793 should produce less \"error messages coming out of CheckProofOfWork\" and I also believe it should improve regtest mining performance a little bit, but as I say in that PR I haven't tested.",
      "created_at" : "2015-01-24T18:33:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-71331150",
      "id" : 71331150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2015-01-24T18:33:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/71331150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@jtimon Looks great!",
      "created_at" : "2015-01-26T06:37:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5275#issuecomment-71419713",
      "id" : 71419713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5275",
      "updated_at" : "2015-01-26T06:37:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/71419713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8286077?v=3",
         "events_url" : "https://api.github.com/users/21E14/events{/privacy}",
         "followers_url" : "https://api.github.com/users/21E14/followers",
         "following_url" : "https://api.github.com/users/21E14/following{/other_user}",
         "gists_url" : "https://api.github.com/users/21E14/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/21E14",
         "id" : 8286077,
         "login" : "21E14",
         "organizations_url" : "https://api.github.com/users/21E14/orgs",
         "received_events_url" : "https://api.github.com/users/21E14/received_events",
         "repos_url" : "https://api.github.com/users/21E14/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/21E14/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/21E14/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/21E14"
      }
   }
]
