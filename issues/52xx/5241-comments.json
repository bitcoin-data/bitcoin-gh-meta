[
   {
      "author_association" : "MEMBER",
      "body" : "Added wallet tip updating and block/undo file flushing to the FlushStateToDisk() method. Very preliminary testing on my VPS (with very slow I/O) shows a ~100ms decrease in block processing time.\n",
      "created_at" : "2014-11-12T14:37:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-62726468",
      "id" : 62726468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNzI2NDY4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62726468/reactions"
      },
      "updated_at" : "2014-11-12T14:37:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62726468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5241#discussion_r20280114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5241"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20280114"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Parametrization on multiple bool parameters leads to hard-to-read code; I'd prefer to pass an enum, or bit field\n",
      "commit_id" : "a20695001604a8aa9b7baaf52db8642b0b82b0d9",
      "created_at" : "2014-11-13T09:35:42Z",
      "diff_hunk" : "@@ -1759,10 +1757,15 @@ bool ConnectBlock(CBlock& block, CValidationState& state, CBlockIndex* pindex, C\n     return true;\n }\n \n-// Update the on-disk chain state.\n-bool static WriteChainState(CValidationState &state, bool forceWrite=false) {\n+/**\n+ * Update the on-disk chain state.\n+ * The caches and indexes are flushed if either they're too large, forceWrite is set, or\n+ * fast is not set and it's been a while since the last write.\n+ */\n+bool static FlushStateToDisk(CValidationState &state, bool fast = false, bool forceWrite = false) {\n     static int64_t nLastWrite = 0;\n-    if (forceWrite || pcoinsTip->GetCacheSize() > nCoinCacheSize || (!IsInitialBlockDownload() && GetTimeMicros() > nLastWrite + 600*1000000)) {\n+    if (forceWrite || pcoinsTip->GetCacheSize() > nCoinCacheSize ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#discussion_r20280114",
      "id" : 20280114,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMjgwMTE0",
      "original_commit_id" : "56e830897c7b42b3667ad936bf4faf3ebdd8a33b",
      "original_line" : null,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5241",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20280114/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-24T14:17:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20280114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will test\n",
      "created_at" : "2014-11-13T09:36:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-62864587",
      "id" : 62864587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyODY0NTg3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62864587/reactions"
      },
      "updated_at" : "2014-11-13T09:36:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62864587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5241#discussion_r20371848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5241"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20371848"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree, I'll add a commit for changing it.\n",
      "commit_id" : "a20695001604a8aa9b7baaf52db8642b0b82b0d9",
      "created_at" : "2014-11-14T17:12:10Z",
      "diff_hunk" : "@@ -1759,10 +1757,15 @@ bool ConnectBlock(CBlock& block, CValidationState& state, CBlockIndex* pindex, C\n     return true;\n }\n \n-// Update the on-disk chain state.\n-bool static WriteChainState(CValidationState &state, bool forceWrite=false) {\n+/**\n+ * Update the on-disk chain state.\n+ * The caches and indexes are flushed if either they're too large, forceWrite is set, or\n+ * fast is not set and it's been a while since the last write.\n+ */\n+bool static FlushStateToDisk(CValidationState &state, bool fast = false, bool forceWrite = false) {\n     static int64_t nLastWrite = 0;\n-    if (forceWrite || pcoinsTip->GetCacheSize() > nCoinCacheSize || (!IsInitialBlockDownload() && GetTimeMicros() > nLastWrite + 600*1000000)) {\n+    if (forceWrite || pcoinsTip->GetCacheSize() > nCoinCacheSize ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#discussion_r20371848",
      "id" : 20371848,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMzcxODQ4",
      "original_commit_id" : "56e830897c7b42b3667ad936bf4faf3ebdd8a33b",
      "original_line" : null,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5241",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20371848/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-24T14:17:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20371848",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Found a small issue. When AppInit2 exits prematurely, bitcoind will crash in shutdown with the following:\n\n```\n#0  CCoinsViewCache::GetCacheSize (this=0x0) at coins.cpp:196\n#1  0x54afe528 in FlushStateToDisk (state=..., fast=fast@entry=false, forceWrite=forceWrite@entry=true) at main.cpp:1774\n#2  0x54afe906 in FlushStateToDisk () at main.cpp:1811\n#3  0x54ad5c16 in Shutdown () at init.cpp:153\n#4  0x54aca9d6 in AppInit (argc=6, argv=<optimized out>) at bitcoind.cpp:170\n#5  0x54acad20 in main (argc=6, argv=0x7efff714) at bitcoind.cpp:182\n```\n\nYou need a check `pcoinsTip!=0` in Shutdown() before calling FlushStateToDisk.\n",
      "created_at" : "2014-11-16T14:50:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-63221467",
      "id" : 63221467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMjIxNDY3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63221467/reactions"
      },
      "updated_at" : "2014-11-16T14:50:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63221467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed.\n",
      "created_at" : "2014-11-16T15:04:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-63222013",
      "id" : 63222013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMjIyMDEz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63222013/reactions"
      },
      "updated_at" : "2014-11-16T15:04:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63222013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What about the `pcoinstip->Flush()` in gettxoutsetinfo https://github.com/bitcoin/bitcoin/blob/master/src/rpcblockchain.cpp#L322 - does this need to be some form of `FlushStateToDisk`?\n",
      "created_at" : "2014-11-17T14:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-63315244",
      "id" : 63315244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzE1MjQ0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63315244/reactions"
      },
      "updated_at" : "2014-11-17T14:52:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63315244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj Ah right, it does. That's sort of inconvienient but inevitable until there's a way to iterate the UTXO entries in a CCoinsView. Writing pcoinsTip to disk means a reference to the tip block hash in the index, so that needs to be written, which on itself refers to disk positions, so blocks need to be written too...\n",
      "created_at" : "2014-11-17T14:56:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-63315942",
      "id" : 63315942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzE1OTQy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63315942/reactions"
      },
      "updated_at" : "2014-11-17T14:56:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63315942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed.\n",
      "created_at" : "2014-11-17T14:58:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-63316294",
      "id" : 63316294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzE2Mjk0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63316294/reactions"
      },
      "updated_at" : "2014-11-17T14:58:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63316294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested by kill -KILL'ing a node while it was flushing. No problems.\n",
      "created_at" : "2014-11-20T14:02:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-63811774",
      "id" : 63811774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzODExNzc0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63811774/reactions"
      },
      "updated_at" : "2014-11-20T14:02:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63811774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This seems to greatly improves our handling of unclean shutdowns during the IBD. Previously we'd reliably corrupt the database, requring the user to manually delete things. I've tested this with a bunch of killing while syncing and not been able to break it.\n",
      "created_at" : "2014-11-23T07:19:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-64109312",
      "id" : 64109312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTA5MzEy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64109312/reactions"
      },
      "updated_at" : "2014-11-23T19:51:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64109312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I performed a thorough synchronization of a testnet node from scratch using this patch, sending term or kill signals randomly every 180-640 seconds. It worked like a charm. Such test easily triggers #5156 without it.\n",
      "created_at" : "2014-11-23T15:40:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-64121944",
      "id" : 64121944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTIxOTQ0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64121944/reactions"
      },
      "updated_at" : "2014-11-23T15:40:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64121944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=4",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "node_id" : "MDQ6VXNlcjExOTI0ODM=",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think we should seriously consider this for 0.10. It's a big reliablity improvement during the initial sync, beyond its performance implications.\n",
      "created_at" : "2014-11-23T19:51:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-64131660",
      "id" : 64131660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTMxNjYw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64131660/reactions"
      },
      "updated_at" : "2014-11-23T19:51:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64131660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've subjected this to some horrible crashes, and a full sync w/ DEBUG_LOCKORDER. ACK commithash 9dd92a12fe92b4a81e612acf1c6245b85fa12a73 for 0.10.\nhttps://dev.visucore.com/bitcoin/acks/5241\n",
      "created_at" : "2014-11-24T09:25:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-64168565",
      "id" : 64168565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTY4NTY1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64168565/reactions"
      },
      "updated_at" : "2014-11-24T09:25:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64168565",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry, needed to rebase after BIP23 block proposals.\n",
      "created_at" : "2014-11-24T14:17:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-64199144",
      "id" : 64199144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTk5MTQ0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64199144/reactions"
      },
      "updated_at" : "2014-11-24T14:17:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64199144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK.\n",
      "created_at" : "2014-11-24T22:42:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5241#issuecomment-64278861",
      "id" : 64278861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5241",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Mjc4ODYx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64278861/reactions"
      },
      "updated_at" : "2014-11-24T22:42:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64278861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
