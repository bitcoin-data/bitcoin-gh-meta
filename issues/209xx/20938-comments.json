[
   {
      "author_association" : "MEMBER",
      "body" : "Testing this. Doing a compile on the SiFive Unleashed is a bit slow, so give it some time.\r\n\r\nMaster without this PR:\r\n```\r\nconfigure:5619: checking whether std::atomic can be used without link library\r\nconfigure:5637: g++ -std=c++17 -o conftest -g -O2   conftest.cpp  >&5\r\nconfigure:5637: $? = 0\r\nconfigure:5639: result: yes\r\n```\r\nNow trying a build of master to see if it fails. Will then try with this PR.\r\n\r\nEdit: this clang issue seems related: https://reviews.llvm.org/D69869 . The conclusion is the sameâRISC-V **GCC** needs libatomic for some atomic operations, but not others.\r\n\r\nEdit2: i got some awful, unrelated DWARF error during linking, i think my build toolchain is messed up\r\n\r\nEdit3: reproduced\r\n```\r\n/usr/bin/ld: bitcoin_util-bitcoin-util.o: in function `.L0 ':\r\n/data/src/bitcoin/src/bitcoin-util.cpp:102: undefined reference to `__atomic_exchange_1'\r\ncollect2: error: ld returned 1 exit status\r\ngmake[2]: *** [Makefile:5562: bitcoin-util] Error 1\r\ngmake[2]: *** Waiting for unfinished jobs....\r\n```",
      "created_at" : "2021-01-18T11:40:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20938#issuecomment-762194386",
      "id" : 762194386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MjE5NDM4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-18T16:07:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/762194386",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 54ce4fac80689621dcbcc76169b2b00b179ee743",
      "created_at" : "2021-01-18T17:32:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20938#issuecomment-762386200",
      "id" : 762386200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MjM4NjIwMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-18T17:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/762386200",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
