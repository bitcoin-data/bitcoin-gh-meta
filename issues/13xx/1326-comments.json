[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r838976"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838976"
         }
      },
      "author_association" : "NONE",
      "body" : "That should not be here I guess.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:25:09Z",
      "diff_hunk" : "@@ -20,3 +20,4 @@ qrc_*.cpp\n *.pro.user\n #mac specific\n .DS_Store\n+build/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r838976",
      "id" : 838976,
      "line" : 23,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzODk3Ng==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : ".gitignore",
      "position" : 4,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838976/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838976",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839004"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839004"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If i don't add this line, git complains. How do you manage without git wanting this directory added or ignored?\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:28:13Z",
      "diff_hunk" : "@@ -20,3 +20,4 @@ qrc_*.cpp\n *.pro.user\n #mac specific\n .DS_Store\n+build/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839004",
      "id" : 839004,
      "line" : 23,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTAwNA==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : ".gitignore",
      "position" : 4,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839004/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839013"
         }
      },
      "author_association" : "NONE",
      "body" : "You could use just: <pre>return (nBestHeight >= GetNumBlocksOfPeers());</pre> or even just use <pre>(nBestHeight >= GetNumBlocksOfPeers())</pre> directly, as you currently use CaughtUp() only once.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:29:06Z",
      "diff_hunk" : "@@ -925,6 +927,12 @@ int GetNumBlocksOfPeers()\n     return std::max(cPeerBlockCounts.median(), Checkpoints::GetTotalBlocksEstimate());\n }\n \n+bool CaughtUp()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839013",
      "id" : 839013,
      "line" : 930,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTAxMw==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 13,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839013/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839027"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839027"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "True, this is done because CaughtUp is used extensively in other branches/pull requests and doing this at this stage i think helps things to merge easier.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:31:35Z",
      "diff_hunk" : "@@ -925,6 +927,12 @@ int GetNumBlocksOfPeers()\n     return std::max(cPeerBlockCounts.median(), Checkpoints::GetTotalBlocksEstimate());\n }\n \n+bool CaughtUp()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839027",
      "id" : 839027,
      "line" : 930,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTAyNw==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 13,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839027/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839048"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839048"
         }
      },
      "author_association" : "NONE",
      "body" : "What use has this line?\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:36:20Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839048",
      "id" : 839048,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA0OA==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839048/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839048",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839055"
         }
      },
      "author_association" : "NONE",
      "body" : "OK, but you could at least remove the variable I guess.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:37:43Z",
      "diff_hunk" : "@@ -925,6 +927,12 @@ int GetNumBlocksOfPeers()\n     return std::max(cPeerBlockCounts.median(), Checkpoints::GetTotalBlocksEstimate());\n }\n \n+bool CaughtUp()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839055",
      "id" : 839055,
      "line" : 930,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA1NQ==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 13,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839055/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839063"
         }
      },
      "author_association" : "NONE",
      "body" : "Sorry, I'm no GIT master :-/. But I never had a pull or commit, where I needed to include .gitignore.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:38:45Z",
      "diff_hunk" : "@@ -20,3 +20,4 @@ qrc_*.cpp\n *.pro.user\n #mac specific\n .DS_Store\n+build/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839063",
      "id" : 839063,
      "line" : 23,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA2Mw==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : ".gitignore",
      "position" : 4,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839063/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839068"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839068"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's needed since the AskForBlocks code is now outside the code for the version message. It runs immediatelly after it, so for all the elses to work this line is needed, otherwise the unknown command section is executed.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:39:23Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839068",
      "id" : 839068,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA2OA==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839068/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839068",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839081"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Strangely, i can't add .gitignore to .gitignore. It ignores that line! \n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:40:55Z",
      "diff_hunk" : "@@ -20,3 +20,4 @@ qrc_*.cpp\n *.pro.user\n #mac specific\n .DS_Store\n+build/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839081",
      "id" : 839081,
      "line" : 23,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA4MQ==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : ".gitignore",
      "position" : 4,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839081/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839082"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839082"
         }
      },
      "author_association" : "NONE",
      "body" : "But in the end this pull is not mergable like it is?\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:41:00Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839082",
      "id" : 839082,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA4Mg==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839082/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839091"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839091"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It'r rebased to upstream master, so it should be. Why do you think it isn't?\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:42:51Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839091",
      "id" : 839091,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTA5MQ==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839091/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839091",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839100"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd say it's not ready to pull until i add the code to check for stuck block downloads. I wasn't sure if a pull request was the correct way to go about soliciting comments or if there was a better way. Stuck code has been written and tested for about a month but not combined with this code yet.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:44:47Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839100",
      "id" : 839100,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTEwMA==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839100/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839100",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839107"
         }
      },
      "author_association" : "NONE",
      "body" : "I missread this file and had the impression the code for == \"version\" was moved or removed ... I was wrong, sorry :).\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:47:09Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839107",
      "id" : 839107,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTEwNw==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839107/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839115"
         }
      },
      "author_association" : "NONE",
      "body" : "May I suggest when answering from a mobile don't quote the inital message :D. This makes things unreadable here.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T15:48:29Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839115",
      "id" : 839115,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTExNQ==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839115/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=4",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "node_id" : "MDQ6VXNlcjE0MTk2NDk=",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839314"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839314"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ah... I didn't realise it was doing that!  Thanks for pointing that out :)\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T16:20:13Z",
      "diff_hunk" : "@@ -2396,6 +2393,21 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    // Ask a connected node for block updates\n+    if (!pfrom->fClient && !pfrom->fOneShot &&\n+        //(pfrom->nVersion < NOBLKS_VERSION_START ||\n+        // pfrom->nVersion >= NOBLKS_VERSION_END) &&\n+         nAskedForBlocks < 8 && !pfrom->fAskedForBlocks && !CaughtUp()) // TODO - tune\n+    {\n+        nAskedForBlocks++;\n+        pfrom->fAskedForBlocks = true;\n+        printf(\"initial getblocks to %s\\n\", pfrom->addr.ToString().c_str());\n+        pfrom->PushGetBlocks(pindexBest, uint256(0));\n+        NodeSummary();\n+    }\n+\n+\n+    if (strCommand == \"version\") ;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839314",
      "id" : 839314,
      "line" : 2409,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTMxNA==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 57,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839314/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839388"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839388"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ah. I see what you mean now. fixed. thanks.\n",
      "commit_id" : "ea3271b7dd0173e004eba8e39240f10d2b2e1d70",
      "created_at" : "2012-05-17T16:30:02Z",
      "diff_hunk" : "@@ -925,6 +927,12 @@ int GetNumBlocksOfPeers()\n     return std::max(cPeerBlockCounts.median(), Checkpoints::GetTotalBlocksEstimate());\n }\n \n+bool CaughtUp()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#discussion_r839388",
      "id" : 839388,
      "line" : 930,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDgzOTM4OA==",
      "original_commit_id" : "cf79c8a9e8fef1413cfe74e5b13c4bf5125571f7",
      "original_line" : null,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 13,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1326",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839388/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2012-05-17T16:30:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839388",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I haven't had a chance to review this yet  though I see you are using GetNumBlocksOfPeers()...\n\nIt's perfectly possible for nodes to send insane values for the heights and some have done so. It should be treated as untrustworthy.  This function is currently only used in the GUI... and I think it should probably stay there.  At the very least every caller needs to give consideration to the possibility that a majority of your peers may be malicious and may give values chosen to make your day maximally bad.\n",
      "created_at" : "2012-05-17T23:10:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#issuecomment-5776458",
      "id" : 5776458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NzY0NTg=",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5776458/reactions"
      },
      "updated_at" : "2012-05-17T23:10:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5776458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I've closed this pull for now, as it was opened for comments, but it's not ready to pull. It still needs: 1) stuck management, and 2a) either a separate AskFor function for txs and blocks, as as it's currently written, it'll getdata the same tx from many nodes at the same time, or 2b) the same treatment of txs, i.e. don't download the same tx from another peer.\n\n2b isn't so ideal as it will produce more getdatas as with the way it's written, it'll only have 1 inv per every getdata. This is ok for blocks (IMHO), but perhaps not so suitable for txs, so I'd be inclined to go with 2a rather than 2b.\n\nFeedback much appreciated.\n\n@gmaxwell, re your last comment, no worries, it's not finished anyway, so perhaps it's better to wait until I've completed bits 1 and 2a first - although your comments on whether 2a or 2b or 3c (something else) are suitable would be welcome.\n\nRe CaughtUp() not being reliable. Well, true, but if one is connected to misbehaving peers such as this, then one'd (!) probably not want to be downloading from them anyway. The reason I created CaughtUp() is so that it can be refined to be more reliable. It serves a different purpose to IsInitialDownload() from what I've been told by others that that function is for. I do think CaughtUp(), based on your comments above, does need refining given the risk you mention. Perhaps it can factor in the timestamp of the last block received also as a sanity check.\n",
      "created_at" : "2012-05-18T08:18:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#issuecomment-5781630",
      "id" : 5781630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3ODE2MzA=",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5781630/reactions"
      },
      "updated_at" : "2012-05-18T08:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5781630",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/rebroad/bitcoin/commit/f11b01d6c3f0c8eeeca06ba210af08a51887acbc is an update of this pull request, and for some reason has \"detached\" from this pull request, so I'll have to raise another for this commit once I've done enough testing....\n",
      "created_at" : "2012-05-29T13:41:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1326#issuecomment-5983705",
      "id" : 5983705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1326",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5ODM3MDU=",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5983705/reactions"
      },
      "updated_at" : "2012-05-29T13:41:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5983705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
