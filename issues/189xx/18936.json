{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This PR adds a way to persist the coins cache on shutdown to a file named `coinscache.dat`, similar to what is done for the mempool. On startup this file is used to warm the cache so it doesn't get cold between restarts.\r\n\r\nThis introduces a new config arg, `-persistcoinscache`, that is defaulted to true unless `-dbcache` is set to a higher value than default.\r\n\r\nWith a higher cache value the amount of disk space used for the file could be very large and the warm up could take an excessively long time, so it defaults to off to prevent any footguns. With a max dbcache after a reindex or IBD it will dump the entire utxo set and load it into memory on startup. Testing this today I had a file size of 2.4GB and it took ~22 minutes to warm the cache with an SSD.\r\n\r\nAfter #17487 we can add a change to not wipe the cache on periodic flushes. We could then run the node continuously with the entire utxo set in memory. This could be useful for users who want to connect blocks quickly.\r\n\r\nI'm not sure how I should write tests for this.",
   "closed_at" : "2020-05-11T02:14:34Z",
   "closed_by" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/237213?v=4",
      "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
      "followers_url" : "https://api.github.com/users/andrewtoth/followers",
      "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
      "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/andrewtoth",
      "id" : 237213,
      "login" : "andrewtoth",
      "node_id" : "MDQ6VXNlcjIzNzIxMw==",
      "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
      "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
      "repos_url" : "https://api.github.com/users/andrewtoth/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/andrewtoth"
   },
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18936/comments",
   "created_at" : "2020-05-10T17:06:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18936/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18936",
   "id" : 615433995,
   "labels" : [
      {
         "color" : "fbca04",
         "default" : false,
         "description" : null,
         "id" : 97470796,
         "name" : "UTXO Db and Indexes",
         "node_id" : "MDU6TGFiZWw5NzQ3MDc5Ng==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes"
      },
      {
         "color" : "6060aa",
         "default" : false,
         "description" : null,
         "id" : 118379652,
         "name" : "Validation",
         "node_id" : "MDU6TGFiZWwxMTgzNzk2NTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18936/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDE1NzUwNDUy",
   "number" : 18936,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18936.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18936",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18936.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18936"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "validation: Persist coins cache to disk and load on startup",
   "updated_at" : "2020-05-11T02:14:34Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18936",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/237213?v=4",
      "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
      "followers_url" : "https://api.github.com/users/andrewtoth/followers",
      "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
      "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/andrewtoth",
      "id" : 237213,
      "login" : "andrewtoth",
      "node_id" : "MDQ6VXNlcjIzNzIxMw==",
      "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
      "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
      "repos_url" : "https://api.github.com/users/andrewtoth/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/andrewtoth"
   }
}
