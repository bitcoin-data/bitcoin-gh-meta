[
   {
      "author_association" : "MEMBER",
      "body" : "Where have you encoded this transaction?\r\nCould it be that the encoding is invalid ð?",
      "created_at" : "2020-12-07T08:46:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-739770162",
      "id" : 739770162,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTc3MDE2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T08:46:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739770162",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Lol possible except this and many more transactions where extracted from the blockchain. I decoded the entire chain and there were a few thousand similar transactions.\nAlso note in my post I said that the precompiled Bitcoin-tx decided it properly\n",
      "created_at" : "2020-12-07T09:20:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-739788950",
      "id" : 739788950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTc4ODk1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T09:21:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739788950",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hey, i just want to open the same issue.\r\nI use `Bitcoin Core version v0.20.1` and can not decode my raw transaction:\r\n```\r\n0200000000010176da57a8c5e8ea391d0454991aff153f2250e8b27040f20f122d07370bcac876000000006a47304402204ade4923b31e6d42c1b703a4c0fb44cb6de058abcda03e580864da3bfd14449c02205e038e3125091547f59e158067837df6e48bd958be8ce5b463ec9daca90f91440121037da65957101c17ca267052f9b7c8ddda088d37ee5b70a3ee3d2ea70b3554ce35ffffffff02e80300000000000017a914dfe89617d47489acf2fd3b024b232122f3fbc72a87281c0000000000001976a914118c67c7bf1596fa67c2571ea7595ed8021308cc88ac0000000000\r\n```\r\n\r\n**The bug is that when the segwit array length indicator is zero then the decoder throws error.**\r\n\r\nWhen i remove the segwit mark and the data then works:\r\n```\r\n020000000176da57a8c5e8ea391d0454991aff153f2250e8b27040f20f122d07370bcac876000000006a47304402204ade4923b31e6d42c1b703a4c0fb44cb6de058abcda03e580864da3bfd14449c02205e038e3125091547f59e158067837df6e48bd958be8ce5b463ec9daca90f91440121037da65957101c17ca267052f9b7c8ddda088d37ee5b70a3ee3d2ea70b3554ce35ffffffff02e80300000000000017a914dfe89617d47489acf2fd3b024b232122f3fbc72a87281c0000000000001976a914118c67c7bf1596fa67c2571ea7595ed8021308cc88ac00000000\r\n```\r\n",
      "created_at" : "2020-12-07T14:41:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-739960128",
      "id" : 739960128,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTk2MDEyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T15:21:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739960128",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/18205395?v=4",
         "events_url" : "https://api.github.com/users/iFA88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iFA88/followers",
         "following_url" : "https://api.github.com/users/iFA88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iFA88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iFA88",
         "id" : 18205395,
         "login" : "iFA88",
         "node_id" : "MDQ6VXNlcjE4MjA1Mzk1",
         "organizations_url" : "https://api.github.com/users/iFA88/orgs",
         "received_events_url" : "https://api.github.com/users/iFA88/received_events",
         "repos_url" : "https://api.github.com/users/iFA88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iFA88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iFA88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iFA88"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Probably another regression of #17775 ",
      "created_at" : "2020-12-07T16:08:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740014499",
      "id" : 740014499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDAxNDQ5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T16:08:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740014499",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "On master: I can decode @widdoh's transaction but see the same thing as what @iFA88 reports.",
      "created_at" : "2020-12-07T21:30:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740191426",
      "id" : 740191426,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDE5MTQyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T21:30:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740191426",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "After decoding the blockchain data files I came across 8656 transactions similar to the one I posted!",
      "created_at" : "2020-12-07T21:50:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740200795",
      "id" : 740200795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIwMDc5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T21:50:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740200795",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> It's possible that there is a regression here that we should look into, but inevitably the result will always be wrong for some (possibly exceptional) cases.\r\n\r\nThat's wrong, it is very easy to decode any transaction even signed or empty.",
      "created_at" : "2020-12-07T22:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740222676",
      "id" : 740222676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIyMjY3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T22:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740222676",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/18205395?v=4",
         "events_url" : "https://api.github.com/users/iFA88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iFA88/followers",
         "following_url" : "https://api.github.com/users/iFA88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iFA88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iFA88",
         "id" : 18205395,
         "login" : "iFA88",
         "node_id" : "MDQ6VXNlcjE4MjA1Mzk1",
         "organizations_url" : "https://api.github.com/users/iFA88/orgs",
         "received_events_url" : "https://api.github.com/users/iFA88/received_events",
         "repos_url" : "https://api.github.com/users/iFA88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iFA88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iFA88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iFA88"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I am using Bitcoin-tx to do the decoding. In the source code the error is generated by :\r\nif (!DecodeHexTx(tx, line, true)) {\r\n                 throw std::runtime_error(\"invalid transaction encoding\");\r\n",
      "created_at" : "2020-12-07T22:40:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740224603",
      "id" : 740224603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIyNDYwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T22:40:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740224603",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@widdoh You've indeed stumbled upon (yet another) inadequacy in the heuristic hex decoder. It incorrectly decides to not return the extended serialization if it doesn't pass a heurstic, even if the legacy decoder fails. See #20595 for a fix.\r\n\r\n@iFA88 Your hex encoding is actually invalid. It has the extended serialization marker (\"0001\") for a transaction with no witnesses. That is invalid according to BIP144.",
      "created_at" : "2020-12-07T22:42:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740225948",
      "id" : 740225948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIyNTk0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T22:42:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740225948",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@widdoh Your issue seems like it may be a regression caused by #17775.",
      "created_at" : "2020-12-07T22:54:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740230306",
      "id" : 740230306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIzMDMwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T22:54:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740230306",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> iFA88 Your hex encoding is actually invalid. It has the extended serialization marker (\"0001\") for a transaction with no witnesses. That is invalid according to BIP144.\r\n\r\nI dont see that in https://en.bitcoin.it/wiki/BIP_0141 can you please highlight for me?",
      "created_at" : "2020-12-07T23:11:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740236816",
      "id" : 740236816,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIzNjgxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T23:11:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740236816",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/18205395?v=4",
         "events_url" : "https://api.github.com/users/iFA88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iFA88/followers",
         "following_url" : "https://api.github.com/users/iFA88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iFA88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iFA88",
         "id" : 18205395,
         "login" : "iFA88",
         "node_id" : "MDQ6VXNlcjE4MjA1Mzk1",
         "organizations_url" : "https://api.github.com/users/iFA88/orgs",
         "received_events_url" : "https://api.github.com/users/iFA88/received_events",
         "repos_url" : "https://api.github.com/users/iFA88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iFA88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iFA88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iFA88"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "BIP144 specifies the P2P serialization, not BIP141.\r\n\r\n> If the witness is empty, the old serialization format must be used. ",
      "created_at" : "2020-12-07T23:12:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740237330",
      "id" : 740237330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDIzNzMzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T23:12:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740237330",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "You have right, sorry i linked bad page.",
      "created_at" : "2020-12-07T23:26:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740243233",
      "id" : 740243233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI0MzIzMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T23:26:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740243233",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/18205395?v=4",
         "events_url" : "https://api.github.com/users/iFA88/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iFA88/followers",
         "following_url" : "https://api.github.com/users/iFA88/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iFA88/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iFA88",
         "id" : 18205395,
         "login" : "iFA88",
         "node_id" : "MDQ6VXNlcjE4MjA1Mzk1",
         "organizations_url" : "https://api.github.com/users/iFA88/orgs",
         "received_events_url" : "https://api.github.com/users/iFA88/received_events",
         "repos_url" : "https://api.github.com/users/iFA88/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iFA88/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iFA88/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iFA88"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa thanks i will try the fix and decode the entire blockchain again and report any issues",
      "created_at" : "2020-12-08T00:11:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740259519",
      "id" : 740259519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI1OTUxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T00:11:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740259519",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@widdoh Cool. I believe it will succeed on all blockchain transaction with that patch, though in theory it's still possible that some decode incorrectly as 0-input transactions instead.",
      "created_at" : "2020-12-08T00:13:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740260373",
      "id" : 740260373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI2MDM3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T00:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740260373",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa sorry no cigar but an improvement.\r\nFile blk01499.dat (just a file i tested before) had 56 such transactions. After your fix they are down to 28!\r\nLucky i did not decode the whole chain to check :)\r\nBelow is a sample tx that failed!\r\n020000000001010000000000000000000000000000000000000000000000000000000000000000FFFFFFFF4B03C68708046FF8415C622F4254432E434F4D2FFABE6D6DE1965D02C68F928E5B244AB1965115A36F56EB997633C7F690124BBF43644E23080000000CA3D3AF6D005A65FF0200FD00000000FFFFFFFF03F4C1FB4B0000000016001497CFC76442FE717F2A3F0CC9C175F7561B6619970000000000000000266A24AA21A9ED957D1036A80343E0D1B659497E1B48A38EBE876A056D45965FAC4A85CDA84E1900000000000000002952534B424C4F434B3A8E092581AB01986CBADC84F4B43F4FA4BB9E7A2E2A0CAF9B7CF64D939028E22C0120000000000000000000000000000000000000000000000000000000000000000000000000\r\n",
      "created_at" : "2020-12-08T00:25:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740265252",
      "id" : 740265252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI2NTI1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T00:25:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740265252",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@widdoh That one works for me?\r\n\r\n```\r\n$ ./src/bitcoin-tx -json 020000000001010000000000000000000000000000000000000000000000000000000000000000FFFFFFFF4B03C68708046FF8415C622F4254432E434F4D2FFABE6D6DE1965D02C68F928E5B244AB1965115A36F56EB997633C7F690124BBF43644E23080000000CA3D3AF6D005A65FF0200FD00000000FFFFFFFF03F4C1FB4B0000000016001497CFC76442FE717F2A3F0CC9C175F7561B6619970000000000000000266A24AA21A9ED957D1036A80343E0D1B659497E1B48A38EBE876A056D45965FAC4A85CDA84E1900000000000000002952534B424C4F434B3A8E092581AB01986CBADC84F4B43F4FA4BB9E7A2E2A0CAF9B7CF64D939028E22C0120000000000000000000000000000000000000000000000000000000000000000000000000\r\n{\r\n    \"txid\": \"c61adde6f1c09ef4c9864e5c5aa7d92e0c6e76e4413710cf989bae9145ef141e\",\r\n    \"hash\": \"ed87639c4c575798908a307e4f4938b52ab1335208fdbd461d67fdab64134fb3\",\r\n    \"version\": 2,\r\n...\r\n```\r\n",
      "created_at" : "2020-12-08T00:29:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740266563",
      "id" : 740266563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI2NjU2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T00:29:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740266563",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa could you please post the source code for the decodr function just in case I copied the wrong one. Although I copied it from your post\n",
      "created_at" : "2020-12-08T00:36:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740269141",
      "id" : 740269141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI2OTE0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T00:36:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740269141",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```c++\r\nstatic bool DecodeTx(CMutableTransaction& tx, const std::vector<unsigned char>& tx_data, bool try_no_witness, bool try_witness)\r\n{\r\n    CMutableTransaction tx_extended, tx_legacy;\r\n    bool ok_extended = false, ok_legacy = false;\r\n\r\n    // Try decoding with extended serialization support, and remember if the result successfully consumes the entire input.\r\n    // Note that this will generally also work correctly on transactions in legacy format (without witness). This version\r\n    // however will interpret the 0001 marker as a marker rather than as a no-input transaction.\r\n    if (try_witness) {\r\n        CDataStream ssData(tx_data, SER_NETWORK, PROTOCOL_VERSION);\r\n        try {\r\n            ssData >> tx_extended;\r\n            if (ssData.empty()) ok_extended = true;\r\n        } catch (const std::exception&) {\r\n            // Fall through.\r\n        }\r\n    }\r\n\r\n    // Try decoding with legacy serialization, and remember if the result successfully consumes the entire input.\r\n    if (try_no_witness) {\r\n        CDataStream ssData(tx_data, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\r\n        try {\r\n            ssData >> tx_legacy;\r\n            if (ssData.empty()) ok_legacy = true;\r\n        } catch (const std::exception&) {\r\n            // Fall through.\r\n        }\r\n    }\r\n\r\n    // If both deserializations succeeded, prefer the one for which CheckTxScriptsSanity returns true.\r\n    // If that's the case for both, prefer the extended one.\r\n    if (ok_extended && CheckTxScriptsSanity(tx_extended)) {\r\n        tx = std::move(tx_extended);\r\n        return true;\r\n    }\r\n    if (ok_legacy && CheckTxScriptsSanity(tx_legacy)) {\r\n        tx = std::move(tx_legacy);\r\n        return true;\r\n    }\r\n\r\n    // If only one deserialization succeeded, use that one.\r\n    if (ok_extended) {\r\n        tx = std::move(tx_extended);\r\n        return true;\r\n    }\r\n    if (ok_legacy) {\r\n        tx = std::move(tx_legacy);\r\n        return true;\r\n    }\r\n\r\n    // If none succeeded, we failed.\r\n    return false;\r\n}\r\n```\r\n",
      "created_at" : "2020-12-08T00:38:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740270054",
      "id" : 740270054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDI3MDA1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T00:38:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740270054",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa my bad. The code i copied is the same you posted but apparently forgot to delete the error file from a previous cancelled run and though it was generated by your code :)\r\nI will run it now on the rest of the chain.\r\nThanks",
      "created_at" : "2020-12-08T10:10:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-740523674",
      "id" : 740523674,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDUyMzY3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T10:10:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740523674",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa well done. Entire blockchain decoded and no errors! Thank you",
      "created_at" : "2020-12-09T12:23:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20579#issuecomment-741737503",
      "id" : 741737503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20579",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MTczNzUwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-09T12:23:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/741737503",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36212704?v=4",
         "events_url" : "https://api.github.com/users/widdoh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/widdoh/followers",
         "following_url" : "https://api.github.com/users/widdoh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/widdoh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/widdoh",
         "id" : 36212704,
         "login" : "widdoh",
         "node_id" : "MDQ6VXNlcjM2MjEyNzA0",
         "organizations_url" : "https://api.github.com/users/widdoh/orgs",
         "received_events_url" : "https://api.github.com/users/widdoh/received_events",
         "repos_url" : "https://api.github.com/users/widdoh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/widdoh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/widdoh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/widdoh"
      }
   }
]
