[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21426 (rpc: remove scantxoutset EXPERIMENTAL warning by jonatack)\n* #21401 (Refactor versionbits deployments to avoid potential uninitialized variables by achow101)\n* #21399 (Genericide BIP9 in variable/type names and comments by luke-jr)\n* #21393 (BIP 341: Add Speedy Trial activation parameters by achow101)\n* #21392 (Implement BIP 8 based Speedy Trial activation by achow101)\n* #20286 (rpc: deprecate `addresses` and `reqSigs` from rpc outputs by mjdietzx)\n* #16795 (rpc: have raw transaction decoding infer output descriptors by instagibbs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-12-03T13:30:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-737995050",
      "id" : 737995050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNzk5NTA1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-13T07:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737995050",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This can be discussed in #18476 further. The goal of this pull is to simply document the return values as they are and always have been.",
      "created_at" : "2020-12-04T16:39:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-738885258",
      "id" : 738885258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODg4NTI1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T16:39:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738885258",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks good.\r\nWhat is the rational in renaming STR_AMOUNT to NUM_AMOUNT? It creates a fairly large diff and IMO it still is represented as a string on the JSON layer.",
      "created_at" : "2020-12-07T08:09:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-739748924",
      "id" : 739748924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTc0ODkyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T08:09:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739748924",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The (scripted) diff is only 50 lines. If there are any conflicts, it should be trivial to resolve. That the internal representation is a string could be a coincidence. The type is really VNUM (numeric) and not VSTR (string).\r\n\r\nI checked that the only conflict due to this scripted diff is #19002.",
      "created_at" : "2020-12-07T08:18:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-739754327",
      "id" : 739754327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTc1NDMyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T08:18:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739754327",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Just an aside: there used to be talk of, at some point, of making `ValueFromAmount` return a decimal string instead of a number, or at least having an option to do so, because it's easier to parse exactly in some languages that interpret javascript numbers as floating point number (which are unwise to use for monetary amounts). See e.g. #3759.\r\n\r\nThis bled out but seeing them as separate types an abstraction level above JSON string/value distinction makes sense.",
      "created_at" : "2020-12-18T13:06:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-748074208",
      "id" : 748074208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0ODA3NDIwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-18T13:06:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/748074208",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, dropped the scripted diff because it seemed controversial",
      "created_at" : "2020-12-21T14:11:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-748993196",
      "id" : 748993196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0ODk5MzE5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-21T14:11:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/748993196",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2021-01-29T09:12:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-769679933",
      "id" : 769679933,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2OTY3OTkzMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-29T09:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769679933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r582334726"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582334726"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd find it clearer to say: \r\n\r\n```suggestion\r\n            RPCResult{\"If the UTXO was not found\", RPCResult::Type::NONE, \"\", \"\"},\r\n```",
      "commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "created_at" : "2021-02-24T21:58:26Z",
      "diff_hunk" : "@@ -1104,30 +1104,29 @@ static RPCHelpMan gettxoutsetinfo()\n static RPCHelpMan gettxout()\n {\n     return RPCHelpMan{\"gettxout\",\n-                \"\\nReturns details about an unspent transaction output.\\n\",\n-                {\n-                    {\"txid\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The transaction id\"},\n-                    {\"n\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"vout number\"},\n-                    {\"include_mempool\", RPCArg::Type::BOOL, /* default */ \"true\", \"Whether to include the mempool. Note that an unspent output that is spent in the mempool won't appear.\"},\n-                },\n-                RPCResult{\n-                    RPCResult::Type::OBJ, \"\", \"\",\n-                    {\n-                        {RPCResult::Type::STR_HEX, \"bestblock\", \"The hash of the block at the tip of the chain\"},\n-                        {RPCResult::Type::NUM, \"confirmations\", \"The number of confirmations\"},\n-                        {RPCResult::Type::STR_AMOUNT, \"value\", \"The transaction value in \" + CURRENCY_UNIT},\n-                        {RPCResult::Type::OBJ, \"scriptPubKey\", \"\",\n-                            {\n-                                {RPCResult::Type::STR_HEX, \"asm\", \"\"},\n-                                {RPCResult::Type::STR_HEX, \"hex\", \"\"},\n-                                {RPCResult::Type::NUM, \"reqSigs\", \"Number of required signatures\"},\n-                                {RPCResult::Type::STR_HEX, \"type\", \"The type, eg pubkeyhash\"},\n-                                {RPCResult::Type::ARR, \"addresses\", \"array of bitcoin addresses\",\n-                                    {{RPCResult::Type::STR, \"address\", \"bitcoin address\"}}},\n-                            }},\n-                        {RPCResult::Type::BOOL, \"coinbase\", \"Coinbase or not\"},\n-                    }},\n-                RPCExamples{\n+        \"\\nReturns details about an unspent transaction output.\\n\",\n+        {\n+            {\"txid\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The transaction id\"},\n+            {\"n\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"vout number\"},\n+            {\"include_mempool\", RPCArg::Type::BOOL, /* default */ \"true\", \"Whether to include the mempool. Note that an unspent output that is spent in the mempool won't appear.\"},\n+        },\n+        {\n+            RPCResult{\"When the UTXO couldn't be found\", RPCResult::Type::NONE, \"\", \"\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r582334726",
      "id" : 582334726,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjMzNDcyNg==",
      "original_commit_id" : "fa84858cc0742d86bc5b1ea207d019cfd9794dc0",
      "original_line" : 1114,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 597973008,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-25T07:21:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582334726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r582342097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582342097"
         }
      },
      "author_association" : "MEMBER",
      "body" : "as an RPC user, I'm confused about how to interpret this output.. when the mode is `proposal`, there might be a string returned (of what?) or a json null object? what conditions lead to one or the other? \r\n\r\ndon't need to go into detail, but since the goal here is to document return types & help usability, I think this is worth clarifying.",
      "commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "created_at" : "2021-02-24T22:11:59Z",
      "diff_hunk" : "@@ -505,83 +505,84 @@ static std::string gbt_vb_name(const Consensus::DeploymentPos pos) {\n static RPCHelpMan getblocktemplate()\n {\n     return RPCHelpMan{\"getblocktemplate\",\n-                \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n-                \"It returns data needed to construct a block to work on.\\n\"\n-                \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n+        \"It returns data needed to construct a block to work on.\\n\"\n+        \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        {\n+            {\"template_request\", RPCArg::Type::OBJ, \"{}\", \"Format of the template\",\n+            {\n+                {\"mode\", RPCArg::Type::STR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"This must be set to \\\"template\\\", \\\"proposal\\\" (see BIP 23), or omitted\"},\n+                {\"capabilities\", RPCArg::Type::ARR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"A list of strings\",\n                 {\n-                    {\"template_request\", RPCArg::Type::OBJ, \"{}\", \"Format of the template\",\n-                        {\n-                            {\"mode\", RPCArg::Type::STR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"This must be set to \\\"template\\\", \\\"proposal\\\" (see BIP 23), or omitted\"},\n-                            {\"capabilities\", RPCArg::Type::ARR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"A list of strings\",\n-                                {\n-                                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"client side supported feature, 'longpoll', 'coinbasevalue', 'proposal', 'serverlist', 'workid'\"},\n-                                },\n-                                },\n-                            {\"rules\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"A list of strings\",\n-                                {\n-                                    {\"segwit\", RPCArg::Type::STR, RPCArg::Optional::NO, \"(literal) indicates client side segwit support\"},\n-                                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"other client side supported softfork deployment\"},\n-                                },\n-                                },\n-                        },\n+                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"client side supported feature, 'longpoll', 'coinbasevalue', 'proposal', 'serverlist', 'workid'\"},\n+                }},\n+                {\"rules\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"A list of strings\",\n+                {\n+                    {\"segwit\", RPCArg::Type::STR, RPCArg::Optional::NO, \"(literal) indicates client side segwit support\"},\n+                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"other client side supported softfork deployment\"},\n+                }},\n+            },\n                         \"\\\"template_request\\\"\"},\n-                },\n-                RPCResult{\n-                    RPCResult::Type::OBJ, \"\", \"\",\n+        },\n+        {\n+            RPCResult{\"When mode=='proposal'\", RPCResult::Type::STR, \"\", \"\"},\n+            RPCResult{\"When mode=='proposal'\", RPCResult::Type::NONE, \"\", \"\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r582342097",
      "id" : 582342097,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjM0MjA5Nw==",
      "original_commit_id" : "fa84858cc0742d86bc5b1ea207d019cfd9794dc0",
      "original_line" : 533,
      "original_position" : 54,
      "original_start_line" : 532,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 597973008,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-02-25T07:21:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582342097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r582596426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582596426"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, fixed",
      "commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "created_at" : "2021-02-25T07:21:09Z",
      "diff_hunk" : "@@ -505,83 +505,84 @@ static std::string gbt_vb_name(const Consensus::DeploymentPos pos) {\n static RPCHelpMan getblocktemplate()\n {\n     return RPCHelpMan{\"getblocktemplate\",\n-                \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n-                \"It returns data needed to construct a block to work on.\\n\"\n-                \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n+        \"It returns data needed to construct a block to work on.\\n\"\n+        \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        {\n+            {\"template_request\", RPCArg::Type::OBJ, \"{}\", \"Format of the template\",\n+            {\n+                {\"mode\", RPCArg::Type::STR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"This must be set to \\\"template\\\", \\\"proposal\\\" (see BIP 23), or omitted\"},\n+                {\"capabilities\", RPCArg::Type::ARR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"A list of strings\",\n                 {\n-                    {\"template_request\", RPCArg::Type::OBJ, \"{}\", \"Format of the template\",\n-                        {\n-                            {\"mode\", RPCArg::Type::STR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"This must be set to \\\"template\\\", \\\"proposal\\\" (see BIP 23), or omitted\"},\n-                            {\"capabilities\", RPCArg::Type::ARR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"A list of strings\",\n-                                {\n-                                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"client side supported feature, 'longpoll', 'coinbasevalue', 'proposal', 'serverlist', 'workid'\"},\n-                                },\n-                                },\n-                            {\"rules\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"A list of strings\",\n-                                {\n-                                    {\"segwit\", RPCArg::Type::STR, RPCArg::Optional::NO, \"(literal) indicates client side segwit support\"},\n-                                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"other client side supported softfork deployment\"},\n-                                },\n-                                },\n-                        },\n+                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"client side supported feature, 'longpoll', 'coinbasevalue', 'proposal', 'serverlist', 'workid'\"},\n+                }},\n+                {\"rules\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"A list of strings\",\n+                {\n+                    {\"segwit\", RPCArg::Type::STR, RPCArg::Optional::NO, \"(literal) indicates client side segwit support\"},\n+                    {\"str\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"other client side supported softfork deployment\"},\n+                }},\n+            },\n                         \"\\\"template_request\\\"\"},\n-                },\n-                RPCResult{\n-                    RPCResult::Type::OBJ, \"\", \"\",\n+        },\n+        {\n+            RPCResult{\"When mode=='proposal'\", RPCResult::Type::STR, \"\", \"\"},\n+            RPCResult{\"When mode=='proposal'\", RPCResult::Type::NONE, \"\", \"\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r582596426",
      "id" : 582596426,
      "in_reply_to_id" : 582342097,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjU5NjQyNg==",
      "original_commit_id" : "fa84858cc0742d86bc5b1ea207d019cfd9794dc0",
      "original_line" : 533,
      "original_position" : 54,
      "original_start_line" : 532,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 598258502,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-02-25T07:21:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582596426",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Force pushed to address feedback. Should be easy to re-ACK with git range-diff",
      "created_at" : "2021-02-25T07:22:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-785678406",
      "id" : 785678406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NTY3ODQwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-25T07:22:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785678406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r583124915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583124915"
         }
      },
      "author_association" : "MEMBER",
      "body" : "tangential since this PR just aims to document return types, but I think a `data` param is missing from these help docs? ",
      "commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "created_at" : "2021-02-25T19:57:52Z",
      "diff_hunk" : "@@ -505,83 +505,84 @@ static std::string gbt_vb_name(const Consensus::DeploymentPos pos) {\n static RPCHelpMan getblocktemplate()\n {\n     return RPCHelpMan{\"getblocktemplate\",\n-                \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n-                \"It returns data needed to construct a block to work on.\\n\"\n-                \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n+        \"It returns data needed to construct a block to work on.\\n\"\n+        \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        {\n+            {\"template_request\", RPCArg::Type::OBJ, \"{}\", \"Format of the template\",\n+            {\n+                {\"mode\", RPCArg::Type::STR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"This must be set to \\\"template\\\", \\\"proposal\\\" (see BIP 23), or omitted\"},\n+                {\"capabilities\", RPCArg::Type::ARR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"A list of strings\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r583124915",
      "id" : 583124915,
      "line" : 519,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzEyNDkxNQ==",
      "original_commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "original_line" : 519,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/rpc/mining.cpp",
      "position" : 22,
      "pull_request_review_id" : 598948785,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-25T22:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583124915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r583485809"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583485809"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this is intentionally omitted (via template_request, which is described in the BIPs)",
      "commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "created_at" : "2021-02-26T09:04:51Z",
      "diff_hunk" : "@@ -505,83 +505,84 @@ static std::string gbt_vb_name(const Consensus::DeploymentPos pos) {\n static RPCHelpMan getblocktemplate()\n {\n     return RPCHelpMan{\"getblocktemplate\",\n-                \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n-                \"It returns data needed to construct a block to work on.\\n\"\n-                \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n-                \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        \"\\nIf the request parameters include a 'mode' key, that is used to explicitly select between the default 'template' request or a 'proposal'.\\n\"\n+        \"It returns data needed to construct a block to work on.\\n\"\n+        \"For full specification, see BIPs 22, 23, 9, and 145:\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#getblocktemplate_changes\\n\"\n+        \"    https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki\\n\",\n+        {\n+            {\"template_request\", RPCArg::Type::OBJ, \"{}\", \"Format of the template\",\n+            {\n+                {\"mode\", RPCArg::Type::STR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"This must be set to \\\"template\\\", \\\"proposal\\\" (see BIP 23), or omitted\"},\n+                {\"capabilities\", RPCArg::Type::ARR, /* treat as named arg */ RPCArg::Optional::OMITTED_NAMED_ARG, \"A list of strings\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#discussion_r583485809",
      "id" : 583485809,
      "in_reply_to_id" : 583124915,
      "line" : 519,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzQ4NTgwOQ==",
      "original_commit_id" : "fa7ff0790ec21d187f1a32310918b0c8d66e5266",
      "original_line" : 519,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/rpc/mining.cpp",
      "position" : 22,
      "pull_request_review_id" : 599376383,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-26T09:04:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/583485809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK fa7ff0790ec21d187f1a32310918b0c8d66e5266\r\n\r\nReviewed changes ignoring whitespace.",
      "created_at" : "2021-03-14T20:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20556#issuecomment-798978156",
      "id" : 798978156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5ODk3ODE1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-14T20:55:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/798978156",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
