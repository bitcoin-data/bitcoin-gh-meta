[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK - thanks",
      "created_at" : "2020-11-30T08:54:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-735648686",
      "id" : 735648686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNTY0ODY4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-30T08:54:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/735648686",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533273897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533273897"
         }
      },
      "author_association" : "MEMBER",
      "body" : "even if its move only, I suggest adding brackets to confirm with the code style.",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2020-12-01T10:13:33Z",
      "diff_hunk" : "@@ -227,50 +228,42 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[32+1+8];\n+    for (unsigned int i = 0; i < 32; i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533273897",
      "id" : 533273897,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzI3Mzg5Nw==",
      "original_commit_id" : "5a249c789690fa83d5996a35ab5ec8e879760c1a",
      "original_line" : 236,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 541746400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533273897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533275963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533275963"
         }
      },
      "author_association" : "MEMBER",
      "body" : "is there a reason you have dropped the `sizeof(uint256)` (I think plain constant numbers are hard to read)?",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2020-12-01T10:15:17Z",
      "diff_hunk" : "@@ -227,50 +228,42 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[32+1+8];\n+    for (unsigned int i = 0; i < 32; i++)\n+        data[31 - i] = hash.begin()[i];\n+    data[32] = label;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533275963",
      "id" : 533275963,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzI3NTk2Mw==",
      "original_commit_id" : "5a249c789690fa83d5996a35ab5ec8e879760c1a",
      "original_line" : 238,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 541747826,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533275963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK - see my comments above.",
      "created_at" : "2020-12-01T10:15:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-736377810",
      "id" : 736377810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNjM3NzgxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-01T10:15:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/736377810",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533315145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533315145"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/i++/++i/",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2020-12-01T10:49:52Z",
      "diff_hunk" : "@@ -227,50 +228,42 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[32+1+8];\n+    for (unsigned int i = 0; i < 32; i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533315145",
      "id" : 533315145,
      "in_reply_to_id" : 533273897,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzMxNTE0NQ==",
      "original_commit_id" : "5a249c789690fa83d5996a35ab5ec8e879760c1a",
      "original_line" : 236,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 541775965,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533315145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed with suggested changes:\r\n* put brackets around loop body to confirm with the code style\r\n* s/`i++`/`++i`/\r\n* replaced all magic numbers by `sizeof(varname)` (I don't see much advantage of using `sizeof(type)` over a number if `type` also includes a number (e.g. `sizeof(uint256)` vs. `32`); by using `sizeof` on a variable though, a hypothetical change of the type would not need to change any code in the function body)",
      "created_at" : "2020-12-01T13:53:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-736565528",
      "id" : 736565528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNjU2NTUyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-01T13:53:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/736565528",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533422908"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533422908"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, done (both suggested changes).",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2020-12-01T13:53:46Z",
      "diff_hunk" : "@@ -227,50 +228,42 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[32+1+8];\n+    for (unsigned int i = 0; i < 32; i++)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533422908",
      "id" : 533422908,
      "in_reply_to_id" : 533273897,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQyMjkwOA==",
      "original_commit_id" : "5a249c789690fa83d5996a35ab5ec8e879760c1a",
      "original_line" : 236,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 541913918,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533422908",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533425334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533425334"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The reasoning was that if a `sizeof` is done on a type with a fixed bit-length then one could as well use directly the byte-length. Changed that to use the variable names instead of magic numbers now, see https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-736565528",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2020-12-01T13:57:10Z",
      "diff_hunk" : "@@ -227,50 +228,42 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[32+1+8];\n+    for (unsigned int i = 0; i < 32; i++)\n+        data[31 - i] = hash.begin()[i];\n+    data[32] = label;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r533425334",
      "id" : 533425334,
      "in_reply_to_id" : 533275963,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQyNTMzNA==",
      "original_commit_id" : "5a249c789690fa83d5996a35ab5ec8e879760c1a",
      "original_line" : 238,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 541916940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533425334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r544508038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544508038"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry but I tend to agree with @theStack here, the sizes are hardcoded offsets part of the protocol (clients rely on this)  and don't depend on the size of the types used in the implemenation (which could change).",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2020-12-16T18:00:11Z",
      "diff_hunk" : "@@ -227,50 +228,42 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[32+1+8];\n+    for (unsigned int i = 0; i < 32; i++)\n+        data[31 - i] = hash.begin()[i];\n+    data[32] = label;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r544508038",
      "id" : 544508038,
      "in_reply_to_id" : 533275963,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDUwODAzOA==",
      "original_commit_id" : "5a249c789690fa83d5996a35ab5ec8e879760c1a",
      "original_line" : 238,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 553946424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544508038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Closing this PR, as there hasn't been any activity for more than 6 weeks.",
      "created_at" : "2021-01-17T18:55:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-761861469",
      "id" : 761861469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MTg2MTQ2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-17T18:55:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761861469",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ping @instagibbs",
      "created_at" : "2021-01-21T08:39:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-764474764",
      "id" : 764474764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDQ3NDc2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T08:39:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764474764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "review ACK f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "created_at" : "2021-01-21T10:20:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-764532954",
      "id" : 764532954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDUzMjk1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T10:20:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764532954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561828045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561828045"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, clang format\r\n```suggestion\r\n    unsigned char data[sizeof(hash) + sizeof(label) + sizeof(uint64_t)];\r\n```",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-21T12:04:54Z",
      "diff_hunk" : "@@ -227,50 +228,43 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[sizeof(hash)+sizeof(label)+sizeof(uint64_t)];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561828045",
      "id" : 561828045,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTgyODA0NQ==",
      "original_commit_id" : "f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "original_line" : 235,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 573260877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561828045",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561828383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561828383"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, clang format\r\n```diff\r\n-    if (sequence) WriteLE64(data+sizeof(hash)+sizeof(label), *sequence);\r\n-    return notifier.SendZmqMessage(MSG_SEQUENCE, data, sequence ? sizeof(data) : sizeof(hash)+sizeof(label));\r\n+    if (sequence) WriteLE64(data + sizeof(hash) + sizeof(label), *sequence);\r\n+    return notifier.SendZmqMessage(MSG_SEQUENCE, data, sequence ? sizeof(data) : sizeof(hash) + sizeof(label));\r\n```\r\n",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-21T12:05:31Z",
      "diff_hunk" : "@@ -227,50 +228,43 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[sizeof(hash)+sizeof(label)+sizeof(uint64_t)];\n+    for (unsigned int i = 0; i < sizeof(hash); ++i) {\n+        data[sizeof(hash) - 1 - i] = hash.begin()[i];\n+    }\n+    data[sizeof(hash)] = label;\n+    if (sequence) WriteLE64(data+sizeof(hash)+sizeof(label), *sequence);\n+    return notifier.SendZmqMessage(MSG_SEQUENCE, data, sequence ? sizeof(data) : sizeof(hash)+sizeof(label));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561828383",
      "id" : 561828383,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTgyODM4Mw==",
      "original_commit_id" : "f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "original_line" : 241,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 573260877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561828383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561828567"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561828567"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit extra space\r\n```suggestion\r\n// Helper function to send a 'sequence' topic message with the following structure:\r\n```",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-21T12:05:46Z",
      "diff_hunk" : "@@ -227,50 +228,43 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561828567",
      "id" : 561828567,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTgyODU2Nw==",
      "original_commit_id" : "f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "original_line" : 231,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 573260877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561828567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561885689"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561885689"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good eye! :) Done.",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-21T13:37:52Z",
      "diff_hunk" : "@@ -227,50 +228,43 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561885689",
      "id" : 561885689,
      "in_reply_to_id" : 561828567,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTg4NTY4OQ==",
      "original_commit_id" : "f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "original_line" : 231,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 573334102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:37:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561885689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for your reviews!\r\nForce-pushed with the suggestions of @jonatack.",
      "created_at" : "2021-01-21T13:38:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-764647904",
      "id" : 764647904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDY0NzkwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T13:38:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764647904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561885969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561885969"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-21T13:38:14Z",
      "diff_hunk" : "@@ -227,50 +228,43 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[sizeof(hash)+sizeof(label)+sizeof(uint64_t)];\n+    for (unsigned int i = 0; i < sizeof(hash); ++i) {\n+        data[sizeof(hash) - 1 - i] = hash.begin()[i];\n+    }\n+    data[sizeof(hash)] = label;\n+    if (sequence) WriteLE64(data+sizeof(hash)+sizeof(label), *sequence);\n+    return notifier.SendZmqMessage(MSG_SEQUENCE, data, sequence ? sizeof(data) : sizeof(hash)+sizeof(label));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561885969",
      "id" : 561885969,
      "in_reply_to_id" : 561828383,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTg4NTk2OQ==",
      "original_commit_id" : "f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "original_line" : 241,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 573334457,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:38:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561885969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561886062"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561886062"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-21T13:38:23Z",
      "diff_hunk" : "@@ -227,50 +228,43 @@ bool CZMQPublishRawTransactionNotifier::NotifyTransaction(const CTransaction &tr\n     return SendZmqMessage(MSG_RAWTX, &(*ss.begin()), ss.size());\n }\n \n+// Helper function to send a 'sequence' topic message  with the following structure:\n+//    <32-byte hash> | <1-byte label> | <8-byte LE sequence> (optional)\n+static bool SendSequenceMsg(CZMQAbstractPublishNotifier& notifier, uint256 hash, char label, std::optional<uint64_t> sequence = {})\n+{\n+    unsigned char data[sizeof(hash)+sizeof(label)+sizeof(uint64_t)];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#discussion_r561886062",
      "id" : 561886062,
      "in_reply_to_id" : 561828045,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTg4NjA2Mg==",
      "original_commit_id" : "f231ffde04cbd20ba3ec3dc897f6484783ed9e76",
      "original_line" : 235,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/zmq/zmqpublishnotifier.cpp",
      "position" : null,
      "pull_request_review_id" : 573334601,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20523",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T13:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561886062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review re-ACK 962444295d92744e6f671dac2462037f9f3d79d7 per `git diff f231ffd 9624442`\r\n",
      "created_at" : "2021-01-21T19:56:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-764899091",
      "id" : 764899091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDg5OTA5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T19:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764899091",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/20523/commits/962444295d92744e6f671dac2462037f9f3d79d7",
      "created_at" : "2021-01-22T04:53:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20523#issuecomment-765121537",
      "id" : 765121537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20523",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NTEyMTUzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-22T04:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/765121537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
