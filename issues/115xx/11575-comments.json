[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It sounds like your wallet is actually corrupted (this can happen if a file just sits on a drive for some years). I'd recommend a) make sure to work on a copy of the file instead of the original and b) ask on Stackexhange for advice on how to get the private keys out of a corrupted wallet.\n\nOn October 29, 2017 2:00:01 PM EDT, qubit1729 <notifications@github.com> wrote:\n><!--- Remove sections that do not apply -->\n>\n>This issue tracker is only for technical issues related to\n>bitcoin-core.\n>\n>General bitcoin questions and/or support requests and are best directed\n>to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com).\n>\n>For reporting security issues, please read instructions at\n>[https://bitcoincore.org/en/contact/](https://bitcoincore.org/en/contact/).\n>\n>### Describe the issue\n>My original wallet is from 2012. I have not done any updates for some\n>time.\n>My problem appears on two different computers. Sync is working but at\n>the end there comes an error\n>flashing-db (see screenshot). I tried -rescan and -upgradewallet. \n>I resynced from scratch on my original computer. needed more than one\n>week...\n>At the end it showed a balance of zero. after rescan and upgrade wallet\n>I got my balance but it always crashes at the end answering the error\n>(see screenshot).\n>The wallet.dat is updated so there is no write problem.\n>\n>### Can you reliably reproduce the issue?\n>#### If so, please list the steps to reproduce below:\n>1. Tried several versions - always the same\n>2. Tried two computers - same error\n>3.\n>\n>### Expected behaviour\n>Tell us what should happen\n>No error at end of sync\n>\n>### Actual behaviour\n>Tell us what happens instead\n>flashing-db error and exit of program at end of sync\n>\n>### Screenshots.\n>If the issue is related to the GUI, screenshots can be added to this\n>issue via drag & drop.\n>\n>### What version of bitcoin-core are you using?\n>List the version number/commit ID, and if it is an official binary,\n>self compiled or a distribution package such as PPA.\n>Distributed binary v0.15.0.1\n>\n>### Machine specs:\n>-> see CPU-Z file\n>[JIDONG.txt](https://github.com/bitcoin/bitcoin/files/1425366/JIDONG.txt)\n>\n>- OS: Windows 10 64bit\n>- CPU: Intel Core 2 Duo -> other computer hexacore AMD\n>- RAM: Tried computer with 8GB other computer  32GB\n>- Disk size: 1TB\n>- Disk Type (HD/SDD): HD, other computer SDD\n>\n>### Any extra information that might be useful in the debugging\n>process.\n>This is normally the contents of a `debug.log` or `config.log` file.\n>Raw text or a link to a pastebin type site are preferred.\n>\n>If you need the whole Logfile please tell me a secure way for transfer.\n>The essential Part at the end looks like this:\n>\n>2017-10-27 14:07:34 CDBEnv::EnvShutdown: Error -30974 shutting down\n>database environment: DB_RUNRECOVERY: Fatal error, run database\n>recovery\n>2017-10-27 14:07:34 Shutdown: done\n>![err-flashing-db](https://user-images.githubusercontent.com/7703590/32146282-1d6aa62e-bcd5-11e7-9437-ecfb43c8891e.jpg)\n>\n>\n>\n>\n>-- \n>You are receiving this because you are subscribed to this thread.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/11575\n",
      "created_at" : "2017-10-30T18:08:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11575#issuecomment-340534262",
      "id" : 340534262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11575",
      "updated_at" : "2017-10-30T18:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/340534262",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Dear BlueMatt,\r\nThank you for your repsonse. Are you developer? Is there now way to find out the consistency of the wallet?\r\nIt could be checked without the blockchain. I waited more than 10 days to sync the whole blockchain.\r\nAlso the errormessage could be more specific. I tried it with several copies of my wallet.dat (different age).\r\nIf the wallet is currupt it has been corrupted by the software.\r\nHow can I do a database recovery as told by the error message?\r\nLeopold",
      "created_at" : "2017-10-30T20:54:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11575#issuecomment-340581260",
      "id" : 340581260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11575",
      "updated_at" : "2017-10-30T20:54:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/340581260",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7703590?v=4",
         "events_url" : "https://api.github.com/users/qubit1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/qubit1729/followers",
         "following_url" : "https://api.github.com/users/qubit1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/qubit1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/qubit1729",
         "id" : 7703590,
         "login" : "qubit1729",
         "organizations_url" : "https://api.github.com/users/qubit1729/orgs",
         "received_events_url" : "https://api.github.com/users/qubit1729/received_events",
         "repos_url" : "https://api.github.com/users/qubit1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/qubit1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/qubit1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/qubit1729"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Dear BlueMatt,\r\nI made a JSON dump with pywallet which worked fine. So the wallet.dat should not be corrupted.\r\nAm I right?",
      "created_at" : "2017-11-02T06:23:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11575#issuecomment-341328720",
      "id" : 341328720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11575",
      "updated_at" : "2017-11-02T06:23:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341328720",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7703590?v=4",
         "events_url" : "https://api.github.com/users/qubit1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/qubit1729/followers",
         "following_url" : "https://api.github.com/users/qubit1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/qubit1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/qubit1729",
         "id" : 7703590,
         "login" : "qubit1729",
         "organizations_url" : "https://api.github.com/users/qubit1729/orgs",
         "received_events_url" : "https://api.github.com/users/qubit1729/received_events",
         "repos_url" : "https://api.github.com/users/qubit1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/qubit1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/qubit1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/qubit1729"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "BDB does not provide more granular error details as far as I know, and it may be encourtering an error when it tries to write, or at any point, not just reading the wallet in the same way pywallet does. Most likely you should just dump the wallet and create a new one using the dump, but unless you believe this to be a Bitcoin Core issue, you should seek support at StackExchange, where folks will likely know more about pywallet/be more helpful than here.",
      "created_at" : "2017-11-02T19:52:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11575#issuecomment-341538567",
      "id" : 341538567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11575",
      "updated_at" : "2017-11-02T19:52:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341538567",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
