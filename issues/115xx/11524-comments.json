[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. Nice cleanup!",
      "created_at" : "2017-10-19T10:08:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-337862596",
      "id" : 337862596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-10-19T10:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337862596",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK; I prefer @ryanofsky's suggestion as well.",
      "created_at" : "2017-10-21T14:16:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-338403160",
      "id" : 338403160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-10-21T14:16:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338403160",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, nice cleanup.\r\nI too prefer @ryanofsky's version plus your comments :)",
      "created_at" : "2017-10-22T10:07:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-338466024",
      "id" : 338466024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-10-22T10:07:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/338466024",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky - I was unaware of std::partial_sort, and while it seems perfectly suited to this use case, all the benchmarks I found comparing it to std::sort seemed to indicate it was slower.  I'll leave it using std::sort for now.\r\n\r\nAlso since `removeLastKElements` is a no-op on an empty vector, I left it as a void return type and skipped the chained conditional return checks.  I think this makes the code more readable.",
      "created_at" : "2017-10-25T00:56:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-339180312",
      "id" : 339180312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-10-25T00:56:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339180312",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7519582?v=4",
         "events_url" : "https://api.github.com/users/tjps/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tjps/followers",
         "following_url" : "https://api.github.com/users/tjps/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tjps/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tjps",
         "id" : 7519582,
         "login" : "tjps",
         "organizations_url" : "https://api.github.com/users/tjps/orgs",
         "received_events_url" : "https://api.github.com/users/tjps/received_events",
         "repos_url" : "https://api.github.com/users/tjps/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tjps/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tjps/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tjps"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated diff to include a little DRY/readability improvement at the end of the same function.",
      "created_at" : "2017-10-26T18:47:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-339762398",
      "id" : 339762398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-10-26T18:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/339762398",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7519582?v=4",
         "events_url" : "https://api.github.com/users/tjps/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tjps/followers",
         "following_url" : "https://api.github.com/users/tjps/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tjps/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tjps",
         "id" : 7519582,
         "login" : "tjps",
         "organizations_url" : "https://api.github.com/users/tjps/orgs",
         "received_events_url" : "https://api.github.com/users/tjps/received_events",
         "repos_url" : "https://api.github.com/users/tjps/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tjps/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tjps/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tjps"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148086314"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148086314"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe don't require comparator to be function pointer. It'd be nice to allow comparator to be a lambda or function class:\r\n\r\n```c++\r\ntemplate<typename T, typename Compare>\r\nstatic void removeLastKElements(std::vector<T> &elements, Compare comp, size_t k)\r\n{\r\n    std::sort(elements.begin(), elements.end(), comp);\r\n    ...\r\n}\r\n```",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-10-31T18:26:33Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then remove the last K elements.\n+template<typename T>\n+static void removeLastKElements(std::vector<T> &elements, bool(*comparator)(const T&, const T&), size_t k)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148086314",
      "id" : 148086314,
      "original_commit_id" : "0bd38149bde46779b5d0823344c1187372062d13",
      "original_position" : 7,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 73276732,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-01T21:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148086314",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148087414"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148087414"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Naming convention in new code would call this `cut_size`. I would probably just inline this variable, though. Also I think it's a little weird how the code is using \"remove\" \"cut\" and \"erase\" interchangeably. I don't see why you wouldn't want to be consistent and just say \"erase\" everywhere.",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-10-31T18:30:16Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then remove the last K elements.\n+template<typename T>\n+static void removeLastKElements(std::vector<T> &elements, bool(*comparator)(const T&, const T&), size_t k)\n+{\n+    std::sort(elements.begin(), elements.end(), comparator);\n+    size_t cutSize = std::min(k, elements.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148087414",
      "id" : 148087414,
      "original_commit_id" : "0bd38149bde46779b5d0823344c1187372062d13",
      "original_position" : 10,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 73276732,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-01T21:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148087414",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148374223"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148374223"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That's a good point, should have pulled that from your example.  Old habits die hard.",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-11-01T20:25:30Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then remove the last K elements.\n+template<typename T>\n+static void removeLastKElements(std::vector<T> &elements, bool(*comparator)(const T&, const T&), size_t k)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148374223",
      "id" : 148374223,
      "in_reply_to_id" : 148086314,
      "original_commit_id" : "0bd38149bde46779b5d0823344c1187372062d13",
      "original_position" : 7,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 73607024,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-01T21:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148374223",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7519582?v=4",
         "events_url" : "https://api.github.com/users/tjps/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tjps/followers",
         "following_url" : "https://api.github.com/users/tjps/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tjps/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tjps",
         "id" : 7519582,
         "login" : "tjps",
         "organizations_url" : "https://api.github.com/users/tjps/orgs",
         "received_events_url" : "https://api.github.com/users/tjps/received_events",
         "repos_url" : "https://api.github.com/users/tjps/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tjps/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tjps/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tjps"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148377382"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148377382"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I like `k` to refer to the K in the function name. I agree that the naming should be more consistent, switching to 'erase' across the board.",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-11-01T20:38:13Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then remove the last K elements.\n+template<typename T>\n+static void removeLastKElements(std::vector<T> &elements, bool(*comparator)(const T&, const T&), size_t k)\n+{\n+    std::sort(elements.begin(), elements.end(), comparator);\n+    size_t cutSize = std::min(k, elements.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r148377382",
      "id" : 148377382,
      "in_reply_to_id" : 148087414,
      "original_commit_id" : "0bd38149bde46779b5d0823344c1187372062d13",
      "original_position" : 10,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 73610820,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-01T21:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148377382",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7519582?v=4",
         "events_url" : "https://api.github.com/users/tjps/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tjps/followers",
         "following_url" : "https://api.github.com/users/tjps/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tjps/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tjps",
         "id" : 7519582,
         "login" : "tjps",
         "organizations_url" : "https://api.github.com/users/tjps/orgs",
         "received_events_url" : "https://api.github.com/users/tjps/received_events",
         "repos_url" : "https://api.github.com/users/tjps/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tjps/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tjps/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tjps"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r149133606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149133606"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Technically this introduces undefined behavior - we no longer return early if we're gonna call erase(end()), which is undefined.",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-11-06T16:43:03Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then erase the last K elements.\n+template<typename T, typename Comparator>\n+static void eraseLastKElements(std::vector<T> &elements, Comparator comparator, size_t k)\n+{\n+    std::sort(elements.begin(), elements.end(), comparator);\n+    size_t eraseSize = std::min(k, elements.size());\n+    elements.erase(elements.end() - eraseSize, elements.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r149133606",
      "id" : 149133606,
      "original_commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "original_position" : 11,
      "path" : "src/net.cpp",
      "position" : 11,
      "pull_request_review_id" : 74480418,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-06T16:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149133606",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r149137496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149137496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Technically this introduces undefined behavior - we no longer return early if we're gonna call erase(end()), which is undefined.\r\n\r\nThis seems to be fine according to http://en.cppreference.com/w/cpp/container/vector/erase: \"The iterator first does not need to be dereferenceable if first==last: erasing an empty range is a no-op.\"\r\n",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-11-06T16:55:47Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then erase the last K elements.\n+template<typename T, typename Comparator>\n+static void eraseLastKElements(std::vector<T> &elements, Comparator comparator, size_t k)\n+{\n+    std::sort(elements.begin(), elements.end(), comparator);\n+    size_t eraseSize = std::min(k, elements.size());\n+    elements.erase(elements.end() - eraseSize, elements.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r149137496",
      "id" : 149137496,
      "in_reply_to_id" : 149133606,
      "original_commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "original_position" : 11,
      "path" : "src/net.cpp",
      "position" : 11,
      "pull_request_review_id" : 74484973,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-06T16:55:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149137496",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r149147003"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149147003"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oops, indeed, somehow I missed that line.",
      "commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-11-06T17:29:20Z",
      "diff_hunk" : "@@ -962,6 +962,16 @@ static bool CompareNodeTXTime(const NodeEvictionCandidate &a, const NodeEviction\n     return a.nTimeConnected > b.nTimeConnected;\n }\n \n+\n+//! Sort an array by the specified comparator, then erase the last K elements.\n+template<typename T, typename Comparator>\n+static void eraseLastKElements(std::vector<T> &elements, Comparator comparator, size_t k)\n+{\n+    std::sort(elements.begin(), elements.end(), comparator);\n+    size_t eraseSize = std::min(k, elements.size());\n+    elements.erase(elements.end() - eraseSize, elements.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#discussion_r149147003",
      "id" : 149147003,
      "in_reply_to_id" : 149133606,
      "original_commit_id" : "efa57568236cd7b3a80419e09e9babd546cbbda3",
      "original_position" : 11,
      "path" : "src/net.cpp",
      "position" : 11,
      "pull_request_review_id" : 74496159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11524",
      "updated_at" : "2017-11-06T17:29:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149147003",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK efa57568236cd7b3a80419e09e9babd546cbbda3",
      "created_at" : "2017-11-06T17:29:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-342223391",
      "id" : 342223391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-11-06T17:29:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342223391",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK efa57568236cd7b3a80419e09e9babd546cbbda3, but can you follow the function naming convention (`EraseLastKElements`)?",
      "created_at" : "2017-11-07T18:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-342581199",
      "id" : 342581199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-11-07T18:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342581199",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa whoops, of course. Updated the function name.",
      "created_at" : "2017-11-07T23:34:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-342659928",
      "id" : 342659928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-11-07T23:34:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342659928",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7519582?v=4",
         "events_url" : "https://api.github.com/users/tjps/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tjps/followers",
         "following_url" : "https://api.github.com/users/tjps/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tjps/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tjps",
         "id" : 7519582,
         "login" : "tjps",
         "organizations_url" : "https://api.github.com/users/tjps/orgs",
         "received_events_url" : "https://api.github.com/users/tjps/received_events",
         "repos_url" : "https://api.github.com/users/tjps/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tjps/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tjps/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tjps"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "re-utACK 5ce7cb95180b7d8873dae91d8370bc7ea69cd2a7, only change is the function name.",
      "created_at" : "2017-11-07T23:36:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-342660316",
      "id" : 342660316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-11-07T23:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342660316",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "utACK 5ce7cb9",
      "created_at" : "2017-11-08T07:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-342736778",
      "id" : 342736778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-11-08T07:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342736778",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "post merge utACK 5ce7cb95180b7d8873dae91d8370bc7ea69cd2a7",
      "created_at" : "2017-11-08T20:07:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11524#issuecomment-342943289",
      "id" : 342943289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11524",
      "updated_at" : "2017-11-08T20:07:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342943289",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
