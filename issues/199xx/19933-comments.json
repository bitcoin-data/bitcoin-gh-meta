[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Liked the first version better...\r\n\r\nme 2 , but failed with some standard cases, i guess there are better way's to do this?\r\nWhat we need is a patch without trailing'/' siggh... \r\n",
      "created_at" : "2020-09-10T18:16:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-690596101",
      "id" : 690596101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDU5NjEwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-10T18:16:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690596101",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486547248"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486547248"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would it be safer to use `.at()` for bounds checks/no UB?\r\n\r\nnit, clang-formatting\r\n```diff\r\n-    while(wallet_dir.string()[offset-1] == '\\\\' || wallet_dir.string()[offset-1] == '/')\r\n-    {\r\n+    while (wallet_dir.string()[offset - 1] == '\\\\' || wallet_dir.string()[offset - 1] == '/') {\r\n```",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-09-10T18:23:51Z",
      "diff_hunk" : "@@ -57,10 +57,16 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n+    size_t offset = wallet_dir.string().size();\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we have boost below 1,60\n+    while(wallet_dir.string()[offset-1] == '\\\\' || wallet_dir.string()[offset-1] == '/')\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486547248",
      "id" : 486547248,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU0NzI0OA==",
      "original_commit_id" : "966907b529b4c782da2fb1ee915d86c674ddde5f",
      "original_line" : 66,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : null,
      "pull_request_review_id" : 486201877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-11T09:21:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486547248",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486549932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486549932"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yup,  draft ugly and no checks, maybe i close it, that PR is now like POC.\r\nWhat we need is an elegant way with just boost 1.47   to do this. \r\nIdeas?\r\nedit:\r\nwhat would be nice to have />\r\n const fs::path path = fs::relative(it->path(), wallet_dir)",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-09-10T18:27:27Z",
      "diff_hunk" : "@@ -57,10 +57,16 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n+    size_t offset = wallet_dir.string().size();\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we have boost below 1,60\n+    while(wallet_dir.string()[offset-1] == '\\\\' || wallet_dir.string()[offset-1] == '/')\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486549932",
      "id" : 486549932,
      "in_reply_to_id" : 486547248,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU0OTkzMg==",
      "original_commit_id" : "966907b529b4c782da2fb1ee915d86c674ddde5f",
      "original_line" : 66,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : null,
      "pull_request_review_id" : 486204411,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-11T09:21:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486549932",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486560730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486560730"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe try `(wallet_dir / \"dummy\").remove_filename().string().size()`",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-09-10T18:44:44Z",
      "diff_hunk" : "@@ -57,10 +57,16 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n+    size_t offset = wallet_dir.string().size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486560730",
      "id" : 486560730,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU2MDczMA==",
      "original_commit_id" : "966907b529b4c782da2fb1ee915d86c674ddde5f",
      "original_line" : 60,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : null,
      "pull_request_review_id" : 486216244,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-11T09:21:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486560730",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486561426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486561426"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Suggest we assert substr(0, offset) == what we used for calculating offset above",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-09-10T18:46:00Z",
      "diff_hunk" : "@@ -69,7 +75,7 @@ std::vector<fs::path> ListWalletDir()\n \n         // Get wallet path relative to walletdir by removing walletdir from the wallet path.\n         // This can be replaced by boost::filesystem::lexically_relative once boost is bumped to 1.60.\n-        const fs::path path = it->path().string().substr(offset);\n+        const fs::path path = it->path().string().substr(offset + 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r486561426",
      "id" : 486561426,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU2MTQyNg==",
      "original_commit_id" : "966907b529b4c782da2fb1ee915d86c674ddde5f",
      "original_line" : 77,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : null,
      "pull_request_review_id" : 486217077,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-11T09:21:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486561426",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could `GetWalletDir()` return a \"clean\" path?\r\n\r\nThat would be nice to have.\r\nIt defaults in the error case we tackle here to `GetDataDir()`  we would need then in `GetWalletDir()` to strip all trailing chars off type fs::path::preferred_separator. there.\r\nBut that could also tangle deep into other parts where we need `GetWalletDir.`\r\n    \r\nTested that a bit, but then I found that path could be also like  \"/tmp////...\\\\.////test...///\\\\/////\" a hell\r\nto strip correctly,without boost > 1.47 siggh.\r\nTo go for size was so far what worked with all sorts of path and syminks. \r\nAnd here we only build somewhat symlinks to the real wallet names an path .\r\n\r\nAt least it will return at minimum a single  \".\" so it will not empty for the back() string call.\r\n\r\nedit@saibato\r\n\r\n@promag  this alternative patch just in `GetWalletDir()` would also work to mitigate the  error. like suggest.\r\nNot sure whats better and if there no side effects to other parts?\r\nSo far i counted 7 references.\r\n \r\nAt least some fewer lines so less error?\r\n   \r\n ``` Diff\r\ndiff --git a/src/wallet/walletutil.cpp b/src/wallet/walletutil.cpp\r\nindex e4c72aed9..afd915f82 100644\r\n--- a/src/wallet/walletutil.cpp\r\n+++ b/src/wallet/walletutil.cpp\r\n@@ -20,6 +20,9 @@ fs::path GetWalletDir()\r\n         }\r\n     } else {\r\n         path = GetDataDir();\r\n+        if (path.string().back() == fs::path::preferred_separator) {\r\n+            path = path.parent_path().string();\r\n+        }\r\n         // If a wallets directory exists, use that, otherwise default to GetDataDir\r\n         if (fs::is_directory(path / \"wallets\")) {\r\n             path /= \"wallets\";\r\n\r\n```\r\n",
      "created_at" : "2020-09-11T11:36:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-691042398",
      "id" : 691042398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MTA0MjM5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T12:14:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/691042398",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. Prefer the patch above rather than the active PR. Logic is easier on the eyes and we need it everytime we call `GetWalletDir()`. As promag mentioned, it would be nice to know why the underlying function differs between systems, rather than adding this logic on. If it's necessary, I think this is a good solution, but if other path functions need this logic, would prefer something like a GetCleanPath static function.",
      "created_at" : "2020-09-16T05:25:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-693178711",
      "id" : 693178711,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MzE3ODcxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-16T05:38:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693178711",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8435003?v=4",
         "events_url" : "https://api.github.com/users/tryphe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tryphe/followers",
         "following_url" : "https://api.github.com/users/tryphe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tryphe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tryphe",
         "id" : 8435003,
         "login" : "tryphe",
         "node_id" : "MDQ6VXNlcjg0MzUwMDM=",
         "organizations_url" : "https://api.github.com/users/tryphe/orgs",
         "received_events_url" : "https://api.github.com/users/tryphe/received_events",
         "repos_url" : "https://api.github.com/users/tryphe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tryphe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tryphe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tryphe"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My \"obsolete\" comments above remain unaddressed. Would like a test to reproduce it if possible - I have been unable to do so.",
      "created_at" : "2020-09-16T12:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-693367244",
      "id" : 693367244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MzM2NzI0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-16T12:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693367244",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@tryphe\r\n> GetCleanPath static function.\r\n\r\nhmm,,,, good idea, seams reasonable.\r\n\r\nBtw; where u also able to reproduce the bug with current master i.e.\r\nwith\r\ncc @luke-jr  \r\n\r\n> Would like a test to reproduce it if possible \r\n\r\n``` Bash\r\nmkdir /tmp/wallet_test\r\nbitcoind -daemon -datadir=/tmp/wallet_test -connect=127.0.0.1\r\nsleep 2\r\nbitcoin-cli -datadir=/tmp/wallet_test createwallet bitcoin1 \r\nsleep 2\r\nbitcoin-cli  -datadir=/tmp/wallet_test createwallet bitcoin2 \r\nsleep 2\r\nbitcoin-cli  -datadir=/tmp/wallet_test stop \r\nsleep 2\r\nbitcoind -daemon -datadir=/tmp/wallet_test/ -connect=127.0.0.1 \r\nsleep 2\r\nbitcoin-cli  -datadir=/tmp/wallet_test listwalletdir\r\nsleep 2\r\nbitcoin-cli  -datadir=/tmp/wallet_test stop\r\n\r\n```\r\nOutput should look like\r\n\r\n``` Text\r\n{\r\n  \"wallets\": [\r\n    {\r\n      \"name\": \"itcoin2\"\r\n    },\r\n    {\r\n      \"name\": \"itcoin1\"\r\n    },\r\n    {\r\n      \"name\": \"\"\r\n    }\r\n  ]\r\n}\r\n\r\n\r\n```\r\n\r\nif u open it the next time with i.e. `bitcoind -daemon -datadir=/tmp/wallet_test///` even more chars are missing.",
      "created_at" : "2020-09-16T19:22:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-693610281",
      "id" : 693610281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MzYxMDI4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-16T19:49:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/693610281",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18095 (Fix crashes and infinite loop in ListWalletDir() by uhliksk)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-09-19T13:41:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-695214953",
      "id" : 695214953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NTIxNDk1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T17:10:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695214953",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "TYI: This behavior is AFAICS only with mainnet nodes, what makes it even more annoying since u can not test it easy before it hits u in cli or qt gui with real coins.\r\n\r\nMight be not the right place here, but when I see 450Mil inflow in something like this with bold speech;\r\ni ask myself are they serious not to fund before that 1000 devs that feel a duty to lock at shit like this ( this is core not a an alt)?\r\n\r\nNot that this here is at first glance a big deal ( but who knows what might be else there?)\r\n\r\nI ask myself have they any clue or time to test and are there really no devs and users out there that can just confirm this easy test bash and clickbait this PR or do anything else but let it not happen that this kind of untested footguns are out there and not get backported fast.\r\n\r\nThis kind of shit can in my view really scare ppl away from core.\r\n\r\nIf i would see my precious wallets get fancy names behind my back in the reference implementation only if I just do one typo, that btw is not even wrong but an allowed way to type dir names. I would freak out.\r\n\r\nKnowing that some of the reference code is probably copy pasted to a ton of of alts and other app's .\r\nRant stop here. but hey this PR sits 11 days here,\r\n\r\nI know TAPROOT and Wall Street happiness and doxing Tor shit has prio, but hey if boldness top vetted super reviewed best coin talk and reality differ that much, i wonder wonder wonder.  \r\n\r\nTYI: I do this in my spare time ( ok, i have lot ) and not with a 100 devs team but since i locked in this some month ago i already had found 7 mayor things that where utterly wrong.\r\n\r\nSo pls give me a hint that this is work in progess and not only  https://github.com/bitcoin/bitcoin/milestone/45",
      "created_at" : "2020-09-21T16:57:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-696241991",
      "id" : 696241991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjI0MTk5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-21T16:57:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696241991",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This kind of shit can in my view really scare ppl away from core.\r\n\r\nThe bug only exists in the `master` branch, which is known to have bugs and should not be used in production. It is good that this issue was found. There won't be a 0.21 release without this bug fixed, which is why I assigned that milestone. You can find the schedule for the release here: #18947 ",
      "created_at" : "2020-09-22T19:14:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-696925491",
      "id" : 696925491,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjkyNTQ5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-22T19:14:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696925491",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thx @MarcoFalke  but tyi, the bug exits in every **release** and some in alt projects that followed core since we have multiple wallets 18,x,19.x,,20.x,  I build for test from source to compare. ",
      "created_at" : "2020-09-23T18:54:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-697884209",
      "id" : 697884209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5Nzg4NDIwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-23T18:54:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697884209",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499233142"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499233142"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Now we have boost 1.58 (#19667).",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-10-04T10:55:41Z",
      "diff_hunk" : "@@ -57,10 +57,12 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we might have only boost 1.47 we could not use fs::relative",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499233142",
      "id" : 499233142,
      "line" : 63,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIzMzE0Mg==",
      "original_commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "original_line" : 63,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 8,
      "pull_request_review_id" : 501612160,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-04T10:56:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499233142",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499258247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499258247"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not in supported stable versions.",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-10-04T15:25:49Z",
      "diff_hunk" : "@@ -57,10 +57,12 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we might have only boost 1.47 we could not use fs::relative",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499258247",
      "id" : 499258247,
      "in_reply_to_id" : 499233142,
      "line" : 63,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI1ODI0Nw==",
      "original_commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "original_line" : 63,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 8,
      "pull_request_review_id" : 501633640,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-04T15:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499258247",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499259905"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499259905"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I guessed it might be backported at least to 0.19 and in 0.18 the bug is only int qt gui so 1.47 might be ok \r\n \r\nBut In hindsight and since u both look at this, the comment at line 73  is not changed by the PR and looks to me like a lingering DÃ©jÃ  vu with the GCC bug? \r\nShould we change or remove that, so that later no one grabs that trap when we change to std fs::?\r\nline 73:\r\n// This can be replaced by **boost::filesystem::lexically_relative** once boost is bumped to 1.60.",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-10-04T15:42:51Z",
      "diff_hunk" : "@@ -57,10 +57,12 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we might have only boost 1.47 we could not use fs::relative",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499259905",
      "id" : 499259905,
      "in_reply_to_id" : 499233142,
      "line" : 63,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI1OTkwNQ==",
      "original_commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "original_line" : 63,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 8,
      "pull_request_review_id" : 501634993,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-04T15:56:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499259905",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499260437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499260437"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think backporting pulls should consider boost 1.47, not this one.",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-10-04T15:48:49Z",
      "diff_hunk" : "@@ -57,10 +57,12 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we might have only boost 1.47 we could not use fs::relative",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499260437",
      "id" : 499260437,
      "in_reply_to_id" : 499233142,
      "line" : 63,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2MDQzNw==",
      "original_commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "original_line" : 63,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 8,
      "pull_request_review_id" : 501635454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-04T15:48:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499260437",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499260671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499260671"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It might be better if the comment said what version is requried, as opposed to the version that we have right now",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-10-04T15:50:36Z",
      "diff_hunk" : "@@ -57,10 +57,12 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we might have only boost 1.47 we could not use fs::relative",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499260671",
      "id" : 499260671,
      "in_reply_to_id" : 499233142,
      "line" : 63,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2MDY3MQ==",
      "original_commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "original_line" : 63,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 8,
      "pull_request_review_id" : 501635619,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-04T15:50:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499260671",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499263494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499263494"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    // account for possible trailing backslash,  if we would have bumped to boost 1.60 we could use a simple  fs::relative call\r\n```",
      "commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "created_at" : "2020-10-04T16:22:03Z",
      "diff_hunk" : "@@ -57,10 +57,12 @@ bool IsBerkeleyBtree(const fs::path& path)\n std::vector<fs::path> ListWalletDir()\n {\n     const fs::path wallet_dir = GetWalletDir();\n-    const size_t offset = wallet_dir.string().size() + 1;\n     std::vector<fs::path> paths;\n     boost::system::error_code ec;\n \n+    // account for possible trailing backslash, since we might have only boost 1.47 we could not use fs::relative",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#discussion_r499263494",
      "id" : 499263494,
      "in_reply_to_id" : 499233142,
      "line" : 63,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2MzQ5NA==",
      "original_commit_id" : "7be117c58537d97db19a5f6f9ea268ac6c8ec49f",
      "original_line" : 63,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletutil.cpp",
      "position" : 8,
      "pull_request_review_id" : 501638194,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19933",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-04T16:22:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499263494",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Mind looking into alternative #20080?",
      "created_at" : "2020-10-04T18:04:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-703292876",
      "id" : 703292876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzI5Mjg3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T18:04:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703292876",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Mind looking into alternativ\r\n\r\n@hebasto tested  #20080 and does pass my simple test bash and in the gui . not sure that fs::canonical is correct for all other instances and all imaginable path and symlinks i can think of where we use getdatadir.so for now i leave this here open as it is boost and make and backwards compatible,\r\n\r\nBut i also think that stripping in general the '/' is probably the better way but a great mess to test all implications of that.\r\nSo might it then be not better to not start the server at all if one try's to use such paths with trailing '/'. \r\n\r\nAlso if u take charge at this i am fine with this since its probably by its implications more a thing for current core devs than for me.  \r\n\r\nedit@saibato \r\ntyi; this here strips also any number of '/'",
      "created_at" : "2020-10-04T19:46:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-703306225",
      "id" : 703306225,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzMwNjIyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-05T08:21:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703306225",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Saibato, really appreciate you following through with this PR and contributing a fix! I'm sorry to say though that it appears the consensus is in favour of the approach in #20080 over this one, so I'm going to have to close this. But I appreciate your effort :tada: ",
      "created_at" : "2020-10-15T19:16:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-709537918",
      "id" : 709537918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTUzNzkxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T19:16:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709537918",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@meshcollider @Saibato https://github.com/bitcoin/bitcoin/pull/20080#issuecomment-709931469",
      "created_at" : "2020-10-16T09:21:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19933#issuecomment-709932760",
      "id" : 709932760,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19933",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTkzMjc2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-16T09:21:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709932760",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
