{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "I'm probably missing something here but `CNetAddr::scopeId` seems unused. It isn't covered by tests. It was added in eda3d9248971a1c3df6e6c4b23ba89be30508b51 and potentially caused an uninitialized read fixed in b7b36decaf878a8c1dcfdb4a27196c730043474b. Am running master on mainnet with the following asserts as a sanity check.\r\n```diff\r\n--- a/src/netaddress.cpp\r\n+++ b/src/netaddress.cpp\r\n@@ -132,6 +132,7 @@ CNetAddr::CNetAddr(const struct in_addr& ipv4Addr)\r\n CNetAddr::CNetAddr(const struct in6_addr& ipv6Addr, const uint32_t scope)\r\n {\r\n     SetLegacyIPv6(Span<const uint8_t>(reinterpret_cast<const uint8_t*>(&ipv6Addr), sizeof(ipv6Addr)));\r\n+    assert(scope == 0);\r\n     scopeId = scope;\r\n }\r\n \r\n@@ -716,6 +717,7 @@ bool CService::GetSockAddr(struct sockaddr* paddr, socklen_t *addrlen) const\r\n+        assert(scopeId == 0);\r\n         paddrin6->sin6_scope_id = scopeId;\r\n--- a/src/netbase.cpp\r\n+++ b/src/netbase.cpp\r\n@@ -120,6 +120,7 @@ bool static LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\r\n             struct sockaddr_in6* s6 = (struct sockaddr_in6*) aiTrav->ai_addr;\r\n+            assert(s6->sin6_scope_id == 0);\r\n             resolved = CNetAddr(s6->sin6_addr, s6->sin6_scope_id);\r\n         }\r\n```",
   "closed_at" : "2020-09-12T14:51:02Z",
   "closed_by" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
      "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonatack/followers",
      "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonatack",
      "id" : 2415484,
      "login" : "jonatack",
      "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
      "organizations_url" : "https://api.github.com/users/jonatack/orgs",
      "received_events_url" : "https://api.github.com/users/jonatack/received_events",
      "repos_url" : "https://api.github.com/users/jonatack/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonatack"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19946/comments",
   "created_at" : "2020-09-12T10:07:37Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19946/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/19946",
   "id" : 700176912,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "description" : null,
         "id" : 98298007,
         "name" : "P2P",
         "node_id" : "MDU6TGFiZWw5ODI5ODAwNw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19946/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDg1ODUyODU3",
   "number" : 19946,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/19946.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19946",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/19946.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19946"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "net: remove unused CNetAddr scopeId member",
   "updated_at" : "2020-09-12T14:51:02Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19946",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
      "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonatack/followers",
      "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonatack",
      "id" : 2415484,
      "login" : "jonatack",
      "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
      "organizations_url" : "https://api.github.com/users/jonatack/orgs",
      "received_events_url" : "https://api.github.com/users/jonatack/received_events",
      "repos_url" : "https://api.github.com/users/jonatack/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonatack"
   }
}
