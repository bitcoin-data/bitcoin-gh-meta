{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Pointed out by @ryanofsky in [#19685](https://github.com/bitcoin/bitcoin/pull/19685#issuecomment-692861142):\r\n\r\n> Still confirming but it seems like this PR might be causing an error on travis: \"/home/travis/build/bitcoin/bitcoin/depends/x86_64-pc-linux-gnu/share/../native/bin/mpgen: error while loading shared libraries: libcapnpc-0.7.0.so: cannot open shared object file: No such file or directory\" error in https://travis-ci.org/github/bitcoin/bitcoin/jobs/726983595#L2545\r\n\r\n> Running CI scripts locally, I'm able to reproduce the error. But if I revert the changes in this PR the error goes away. The difference seems to be caused by cmake no longer setting RUNPATH after this PR. With this PR, RUNPATH is empty, but if this PR is reverted, readelf shows:\r\n\r\n```bash\r\n$ readelf -d depends/x86_64-pc-linux-gnu/native/bin/mpgen | grep RUNPATH\r\n 0x000000000000001d (RUNPATH)            Library runpath: [/home/russ/src/bitcoin/depends/x86_64-pc-linux-gnu/native/lib]\r\n```\r\n\r\n> I need to dig in more but two questions I have are:\r\n\r\n> 1. Why did travis not catch this problem when this PR was being worked on or after this PR was merged. Is there a cache that we failed to clear? Is there a cache we should be clearing when we update depends scripts in the future? (The travis error above started happening after I pushed a PR update that bumped the `depends/packages/native_libmultiprocess.mk` package, so I think that accounts for why a cache might have been avoided in the failing run above).\r\n\r\n> 2. What change in this PR might be clobbering the cmake RUNPATH? If I had to guess it might be happening because the LDFLAGS environment variable was unset previously, but now it is set",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19981/comments",
   "created_at" : "2020-09-20T04:58:01Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19981/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/19981",
   "id" : 705045634,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19981/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU3MDUwNDU2MzQ=",
   "number" : 19981,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Issue with mpgen and RUNPATH",
   "updated_at" : "2020-09-20T04:58:01Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19981",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
