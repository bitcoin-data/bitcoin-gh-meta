[
   {
      "body" : "The verbose flag seems needlessly redundant with getblocktemplate...",
      "created_at" : "2013-11-12T02:04:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28261928",
      "id" : 28261928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T02:04:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28261928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr getblocktemplate always produces a subset of mempool\r\n",
      "created_at" : "2013-11-12T02:05:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28261988",
      "id" : 28261988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T02:05:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28261988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Not always...? Wouldn't the goal of a good mempool be to only keep transactions you'd be putting in templates?",
      "created_at" : "2013-11-12T02:11:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28262223",
      "id" : 28262223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T02:11:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28262223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr Yes, always.  Sometimes subset == set, but usually not.  The mempool will always store more than **one** block's worth of transactions.  getblocktemplate only returns up to 1MB, etc.",
      "created_at" : "2013-11-12T02:27:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28262901",
      "id" : 28262901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T02:27:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28262901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Could just add some non-standard extensions to bitcoind getblocktemplate to request more, but meh.",
      "created_at" : "2013-11-12T02:58:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28264035",
      "id" : 28264035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T02:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28264035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Nit: CTxMemPoolEntrys should be CTxMemPoolEntries",
      "created_at" : "2013-11-12T07:21:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28273393",
      "id" : 28273393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T07:21:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28273393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Remove EraseTransaction() while we're at it; only tx replacement uses that code. I don't see any way it could have gotten much if any testing in the past.",
      "created_at" : "2013-11-12T15:05:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28300218",
      "id" : 28300218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T15:05:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28300218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "It'd be better if ComputePriority() was not a part of CTransaction - priority calculations are node policy rather than consensus critical and we'd be better off if such code was kept out of the core data structures to make code review easier in the future.",
      "created_at" : "2013-11-12T15:11:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28300759",
      "id" : 28300759,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-12T15:11:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28300759",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Rebased, extended the help, and tweaked to rename verbose output 'dependson' to 'depends' to be more consistent with getblocktemplate, and to always output a 'depends' key (will be an empty array if no dependencies).\r\n\r\nRE: getblocktemplate: I seem to remember having the same argument when getrawmempool was pulled, and the decision remains getrawmempool is valuable.\r\n\r\nRE: removing EraseTransaction/moving ComputePriority:  another clean-up pull request would be fine, I'm busy working on higher priorities.\r\n\r\nRE: CTxMemPoolEntries:  please read the code, and ideally compile and test it, before commenting.",
      "created_at" : "2013-11-14T02:58:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28455681",
      "id" : 28455681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-14T02:58:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28455681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3239#discussion_r7690661"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3239"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7690661"
         }
      },
      "body" : "Any specific reason to specify the fee in satoshis here instead of using ValueFromAmount?",
      "commit_id" : "4d707d512070ed88c888fdf625c0ae0f85f68d9b",
      "created_at" : "2013-11-15T14:23:16Z",
      "diff_hunk" : "@@ -155,28 +155,78 @@ Value settxfee(const Array& params, bool fHelp)\n \n Value getrawmempool(const Array& params, bool fHelp)\n {\n-    if (fHelp || params.size() != 0)\n+    if (fHelp || params.size() > 1)\n         throw runtime_error(\n-            \"getrawmempool\\n\"\n+            \"getrawmempool ( verbose )\\n\"\n             \"\\nReturns all transaction ids in memory pool as a json array of string transaction ids.\\n\"\n-            \"\\nResult:\\n\"\n-            \"[                       (json array of string)\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. verbose           (boolean, optional, default=false) true for a json object, false for array of transaction ids\\n\"\n+            \"\\nResult: (for verbose = false):\\n\"\n+            \"[                     (json array of string)\\n\"\n             \"  \\\"transactionid\\\"     (string) The transaction id\\n\"\n             \"  ,...\\n\"\n             \"]\\n\"\n+            \"\\nResult: (for verbose = true):\\n\"\n+            \"{                           (json object)\\n\"\n+            \"  \\\"transactionid\\\" : {       (json object)\\n\"\n+            \"    \\\"size\\\" : n,             (numeric) transaction size in bytes\\n\"\n+            \"    \\\"fee\\\" : n,              (numeric) transaction fee in satoshis\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#discussion_r7690661",
      "id" : 7690661,
      "original_commit_id" : "767cf3f9a0280786c2d20a92beb164281200222f",
      "original_position" : 23,
      "path" : "src/rpcblockchain.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3239",
      "updated_at" : "2013-11-30T05:42:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7690661",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK apart from that, appears to work as expected, and code changes look good",
      "created_at" : "2013-11-15T15:18:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28576085",
      "id" : 28576085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-16T08:41:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28576085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj: good catch, using ValueFromAmount to report fees now.",
      "created_at" : "2013-11-20T05:19:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28864476",
      "id" : 28864476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-20T05:19:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28864476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Testing on my smartfee branch (which save/restores the mempool), I noticed transactions with repeated txids in the depends array because they depends on multiple outputs from previous transactions.\r\n\r\nI decided to fix that by unique-ifying the depends array. The alternative would be to report \"txid:vout\" or something more complicated/verbose like  [ { \"txid: \" .... \", \"vout\" : 11 }, { ... } ]\r\n\r\nBut I think just pointing to the unconfirmed parent txids is the right thing to do. You can use getrawtransaction for the child to work out exactly which txins are unconfirmed.",
      "created_at" : "2013-11-20T05:50:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-28865423",
      "id" : 28865423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-20T05:50:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28865423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/702bb264d98874e1dc4dafa2aa17c60ba416ce19 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-11-29T06:02:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#issuecomment-29498153",
      "id" : 29498153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3239",
      "updated_at" : "2013-11-29T06:02:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29498153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3239#discussion_r703891028"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3239"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703891028"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do we need GetTime() and height()? Just thinking to save memory, it would be better if one could be derived quickly from the other.",
      "commit_id" : "4d707d512070ed88c888fdf625c0ae0f85f68d9b",
      "created_at" : "2021-09-07T22:18:21Z",
      "diff_hunk" : "@@ -734,8 +702,13 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         // you should add code here to check that the transaction does a\n         // reasonable number of ECDSA signature verifications.\n \n-        int64_t nFees = view.GetValueIn(tx)-GetValueOut(tx);\n-        unsigned int nSize = ::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION);\n+        int64_t nValueIn = view.GetValueIn(tx);\n+        int64_t nValueOut = tx.GetValueOut();\n+        int64_t nFees = nValueIn-nValueOut;\n+        double dPriority = view.GetPriority(tx, chainActive.Height());\n+\n+        CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#discussion_r703891028",
      "id" : 703891028,
      "line" : 710,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMzg5MTAyOA==",
      "original_commit_id" : "4d707d512070ed88c888fdf625c0ae0f85f68d9b",
      "original_line" : 710,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 64,
      "pull_request_review_id" : 748474356,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3239",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-07T22:18:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703891028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3239#discussion_r703944492"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3239"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703944492"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Stop commenting on 10 year old PRs. The code here likely doesn't even reflect the current codebase.",
      "commit_id" : "4d707d512070ed88c888fdf625c0ae0f85f68d9b",
      "created_at" : "2021-09-08T00:48:52Z",
      "diff_hunk" : "@@ -734,8 +702,13 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         // you should add code here to check that the transaction does a\n         // reasonable number of ECDSA signature verifications.\n \n-        int64_t nFees = view.GetValueIn(tx)-GetValueOut(tx);\n-        unsigned int nSize = ::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION);\n+        int64_t nValueIn = view.GetValueIn(tx);\n+        int64_t nValueOut = tx.GetValueOut();\n+        int64_t nFees = nValueIn-nValueOut;\n+        double dPriority = view.GetPriority(tx, chainActive.Height());\n+\n+        CTxMemPoolEntry entry(tx, nFees, GetTime(), dPriority, chainActive.Height());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3239#discussion_r703944492",
      "id" : 703944492,
      "in_reply_to_id" : 703891028,
      "line" : 710,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwMzk0NDQ5Mg==",
      "original_commit_id" : "4d707d512070ed88c888fdf625c0ae0f85f68d9b",
      "original_line" : 710,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 64,
      "pull_request_review_id" : 748535605,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3239",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-08T00:48:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/703944492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
