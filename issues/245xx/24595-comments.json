[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK!\r\n\r\nAlso wanted to note that in one of my branches for `libbitcoinkernel` I give `ChainstateManager` a `CChainParams` as well, so it definitely makes sense!",
      "created_at" : "2022-03-17T02:53:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1069997314",
      "id" : 1069997314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII584_xt0C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1069997314/reactions"
      },
      "updated_at" : "2022-03-17T02:53:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1069997314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-17T07:37:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1070450458",
      "id" : 1070450458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII584_zcca",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1070450458/reactions"
      },
      "updated_at" : "2022-03-17T07:37:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1070450458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25073](https://github.com/bitcoin/bitcoin/pull/25073) (test: Cleanup miner_tests by MarcoFalke)\n* [#25064](https://github.com/bitcoin/bitcoin/pull/25064) ([kernel 2b/n] Add `ChainstateManager::m_adjusted_time_callback` by dongcarl)\n* [#24737](https://github.com/bitcoin/bitcoin/pull/24737) (Remove taproot chain param by MarcoFalke)\n* [#24571](https://github.com/bitcoin/bitcoin/pull/24571) (p2p: Prevent block index fingerprinting by sending additional getheaders messages by dergoegge)\n* [#24565](https://github.com/bitcoin/bitcoin/pull/24565) (Remove LOCKTIME_MEDIAN_TIME_PAST constant by MarcoFalke)\n* [#24232](https://github.com/bitcoin/bitcoin/pull/24232) (assumeutxo: add init and completion logic by jamesob)\n* [#24008](https://github.com/bitcoin/bitcoin/pull/24008) (assumeutxo: net_processing changes by jamesob)\n* [#20799](https://github.com/bitcoin/bitcoin/pull/20799) (net processing: Only support version 2 compact blocks by jnewbery)\n* [#18933](https://github.com/bitcoin/bitcoin/pull/18933) (rpc: Add submit option to generateblock by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-03-19T13:20:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1073009251",
      "id" : 1073009251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII584_9NJj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1073009251/reactions"
      },
      "updated_at" : "2022-05-11T06:55:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1073009251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Should be ready for review now",
      "created_at" : "2022-03-25T14:59:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1079113639",
      "id" : 1079113639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585AUfen",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1079113639/reactions"
      },
      "updated_at" : "2022-03-25T14:59:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1079113639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-04T09:37:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1087333715",
      "id" : 1087333715,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585Az2VT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1087333715/reactions"
      },
      "updated_at" : "2022-04-04T09:37:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1087333715",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased on top of #22564 also no longer introduce a circular dependency between deploymentstatus and validation.",
      "created_at" : "2022-04-14T21:00:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1099617352",
      "id" : 1099617352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585BitRI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099617352/reactions"
      },
      "updated_at" : "2022-04-14T21:00:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099617352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852317135"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852317135"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could you explain a bit why `m_versionbitscache` is marked `mutable`?",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T18:29:26Z",
      "diff_hunk" : "@@ -935,6 +936,11 @@ class ChainstateManager\n         return m_blockman.m_block_index;\n     }\n \n+    /**\n+     * Track versionbit status\n+     */\n+    mutable VersionBitsCache m_versionbitscache;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852317135",
      "id" : 852317135,
      "line" : 942,
      "node_id" : "PRRC_kwDOABII584yzVPP",
      "original_commit_id" : "555eb9344ca83f772fa810570e1aa07881d33a41",
      "original_line" : 942,
      "original_position" : 15,
      "original_start_line" : 939,
      "path" : "src/validation.h",
      "position" : 113,
      "pull_request_review_id" : 944688437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852317135/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 939,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-18T18:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852317135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852322280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852322280"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Perhaps these additions could be made in the previous commit where we introduce the private `m_chainparams` member",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T18:37:43Z",
      "diff_hunk" : "@@ -849,13 +850,15 @@ class ChainstateManager\n     bool AcceptBlockHeader(\n         const CBlockHeader& block,\n         BlockValidationState& state,\n-        const CChainParams& chainparams,\n         CBlockIndex** ppindex) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n     friend CChainState;\n \n public:\n     explicit ChainstateManager(const CChainParams& chainparams) : m_chainparams{chainparams} { }\n \n+    const CChainParams& GetParams() const { return m_chainparams; }\n+    const Consensus::Params& GetConsensus() const { return m_chainparams.GetConsensus(); }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852322280",
      "id" : 852322280,
      "line" : 858,
      "node_id" : "PRRC_kwDOABII584yzWfo",
      "original_commit_id" : "16f51f5cc2cd18f4f6274823b3e87507a683df4c",
      "original_line" : 858,
      "original_position" : 31,
      "original_start_line" : 859,
      "path" : "src/validation.h",
      "position" : 92,
      "pull_request_review_id" : 944688437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852322280/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 856,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-18T18:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852322280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852323975"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852323975"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "By this, do you mean all references to `(CChainState::)m_params` by `CChainState` member functions should instead be references to `m_chainman.GetParams()`?",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T18:39:42Z",
      "diff_hunk" : "@@ -495,6 +495,7 @@ class CChainState\n     node::BlockManager& m_blockman;\n \n     /** Chain parameters for this chainstate */\n+    /* TODO: replace with m_chainman.GetParams() */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852323975",
      "id" : 852323975,
      "line" : 494,
      "node_id" : "PRRC_kwDOABII584yzW6H",
      "original_commit_id" : "9fccb380e1af2e46cd5b41fdcf62b5da8b8729df",
      "original_line" : 494,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 59,
      "pull_request_review_id" : 944688437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852323975/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-18T18:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852323975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852327064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852327064"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I'm not sure that this change is 100% necessary. The change seems to trade one reference for another, and since `ChainstateManager` is much larger in scope, it is harder to see after the change that this is a function that is limited in scope.\r\n\r\nHowever, this is not at all a bit deal and up to subjective taste so feel free to ignore!",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T18:44:31Z",
      "diff_hunk" : "@@ -3361,19 +3361,19 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n     return true;\n }\n \n-void UpdateUncommittedBlockStructures(CBlock& block, const CBlockIndex* pindexPrev, const Consensus::Params& consensusParams)\n+void ChainstateManager::UpdateUncommittedBlockStructures(CBlock& block, const CBlockIndex* pindexPrev) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852327064",
      "id" : 852327064,
      "line" : 3365,
      "node_id" : "PRRC_kwDOABII584yzXqY",
      "original_commit_id" : "e49e7cca6e72e3f224230dc164b177bd6e78cb08",
      "original_line" : 3365,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 232,
      "pull_request_review_id" : 944688437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852327064/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-18T18:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852327064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852330493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852330493"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Perhaps we can use a `const VersionBitsCache&` here?",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T18:49:50Z",
      "diff_hunk" : "@@ -1894,10 +1894,11 @@ void StopScriptCheckWorkerThreads()\n class WarningBitsConditionChecker : public AbstractThresholdConditionChecker\n {\n private:\n-    int bit;\n+    const ChainstateManager& m_chainman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852330493",
      "id" : 852330493,
      "line" : 1897,
      "node_id" : "PRRC_kwDOABII584yzYf9",
      "original_commit_id" : "555eb9344ca83f772fa810570e1aa07881d33a41",
      "original_line" : 1897,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 93,
      "pull_request_review_id" : 944688437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852330493/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-18T18:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852330493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852462180"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852462180"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's a cache, so its existence doesn't impact the logical API of the class -- if we didn't use a cache, you could have a `const ChainstateManager` and get answers as to whether a deployment is active/enabled and what version to use for new blocks; so adding a cache shouldn't mean that you can only do that with a non-const `ChainstateManager`.\r\n\r\nie, I'm treating `const ChainstateManager` as being \"logically\" constant, not bitwise constant.",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T22:40:06Z",
      "diff_hunk" : "@@ -935,6 +936,11 @@ class ChainstateManager\n         return m_blockman.m_block_index;\n     }\n \n+    /**\n+     * Track versionbit status\n+     */\n+    mutable VersionBitsCache m_versionbitscache;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852462180",
      "id" : 852462180,
      "in_reply_to_id" : 852317135,
      "line" : 942,
      "node_id" : "PRRC_kwDOABII584yz4pk",
      "original_commit_id" : "555eb9344ca83f772fa810570e1aa07881d33a41",
      "original_line" : 942,
      "original_position" : 15,
      "original_start_line" : 939,
      "path" : "src/validation.h",
      "position" : 113,
      "pull_request_review_id" : 944890716,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852462180/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 939,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-18T22:40:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852462180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852462616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852462616"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah. Or perhaps add a `GetParams()` and `GetConsensus()` to `CChainState` that just call `m_chainman.GetParams()` or `m_chainman.GetConsensus()`.",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T22:41:06Z",
      "diff_hunk" : "@@ -495,6 +495,7 @@ class CChainState\n     node::BlockManager& m_blockman;\n \n     /** Chain parameters for this chainstate */\n+    /* TODO: replace with m_chainman.GetParams() */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852462616",
      "id" : 852462616,
      "in_reply_to_id" : 852323975,
      "line" : 494,
      "node_id" : "PRRC_kwDOABII584yz4wY",
      "original_commit_id" : "9fccb380e1af2e46cd5b41fdcf62b5da8b8729df",
      "original_line" : 494,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 59,
      "pull_request_review_id" : 944891263,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852462616/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-18T22:41:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852462616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852465556"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852465556"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It needs to call `DeploymentActive(.., SEGWIT)`, and that's something that the `ChainstateManager` is responsible for being able to answer. At least that was my logic.\r\n\r\nNote that it's a `const` member function, so it's not doing anything to change the chain state, if that counts as reducing the scope?",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T22:48:37Z",
      "diff_hunk" : "@@ -3361,19 +3361,19 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n     return true;\n }\n \n-void UpdateUncommittedBlockStructures(CBlock& block, const CBlockIndex* pindexPrev, const Consensus::Params& consensusParams)\n+void ChainstateManager::UpdateUncommittedBlockStructures(CBlock& block, const CBlockIndex* pindexPrev) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852465556",
      "id" : 852465556,
      "in_reply_to_id" : 852327064,
      "line" : 3365,
      "node_id" : "PRRC_kwDOABII584yz5eU",
      "original_commit_id" : "e49e7cca6e72e3f224230dc164b177bd6e78cb08",
      "original_line" : 3365,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 232,
      "pull_request_review_id" : 944894928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852465556/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-18T22:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852465556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852466860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852466860"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could, but it should all get optimised away since `WarningBitsConditionChecker` is only briefly instantiated while it's being checked.",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-18T22:51:52Z",
      "diff_hunk" : "@@ -1894,10 +1894,11 @@ void StopScriptCheckWorkerThreads()\n class WarningBitsConditionChecker : public AbstractThresholdConditionChecker\n {\n private:\n-    int bit;\n+    const ChainstateManager& m_chainman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852466860",
      "id" : 852466860,
      "in_reply_to_id" : 852330493,
      "line" : 1897,
      "node_id" : "PRRC_kwDOABII584yz5ys",
      "original_commit_id" : "555eb9344ca83f772fa810570e1aa07881d33a41",
      "original_line" : 1897,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 93,
      "pull_request_review_id" : 944896591,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852466860/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-18T22:51:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852466860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852619344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852619344"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "(I didn't start on this here since I imagine it would have a bunch of conflicts with other PRs)",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-19T05:53:13Z",
      "diff_hunk" : "@@ -495,6 +495,7 @@ class CChainState\n     node::BlockManager& m_blockman;\n \n     /** Chain parameters for this chainstate */\n+    /* TODO: replace with m_chainman.GetParams() */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852619344",
      "id" : 852619344,
      "in_reply_to_id" : 852323975,
      "line" : 494,
      "node_id" : "PRRC_kwDOABII584y0fBQ",
      "original_commit_id" : "9fccb380e1af2e46cd5b41fdcf62b5da8b8729df",
      "original_line" : 494,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 59,
      "pull_request_review_id" : 945089477,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852619344/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T05:53:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/852619344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853384825"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853384825"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sounds good!",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-19T18:47:31Z",
      "diff_hunk" : "@@ -935,6 +936,11 @@ class ChainstateManager\n         return m_blockman.m_block_index;\n     }\n \n+    /**\n+     * Track versionbit status\n+     */\n+    mutable VersionBitsCache m_versionbitscache;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853384825",
      "id" : 853384825,
      "in_reply_to_id" : 852317135,
      "line" : 942,
      "node_id" : "PRRC_kwDOABII584y3Z55",
      "original_commit_id" : "555eb9344ca83f772fa810570e1aa07881d33a41",
      "original_line" : 942,
      "original_position" : 15,
      "original_start_line" : 939,
      "path" : "src/validation.h",
      "position" : 113,
      "pull_request_review_id" : 946151228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853384825/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 939,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-19T18:47:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853384825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853384871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853384871"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sounds good!",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-19T18:47:35Z",
      "diff_hunk" : "@@ -495,6 +495,7 @@ class CChainState\n     node::BlockManager& m_blockman;\n \n     /** Chain parameters for this chainstate */\n+    /* TODO: replace with m_chainman.GetParams() */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853384871",
      "id" : 853384871,
      "in_reply_to_id" : 852323975,
      "line" : 494,
      "node_id" : "PRRC_kwDOABII584y3Z6n",
      "original_commit_id" : "9fccb380e1af2e46cd5b41fdcf62b5da8b8729df",
      "original_line" : 494,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 59,
      "pull_request_review_id" : 946151302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853384871/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T18:47:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853384871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853385748"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853385748"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sounds good!",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-19T18:48:46Z",
      "diff_hunk" : "@@ -3361,19 +3361,19 @@ bool CheckBlock(const CBlock& block, BlockValidationState& state, const Consensu\n     return true;\n }\n \n-void UpdateUncommittedBlockStructures(CBlock& block, const CBlockIndex* pindexPrev, const Consensus::Params& consensusParams)\n+void ChainstateManager::UpdateUncommittedBlockStructures(CBlock& block, const CBlockIndex* pindexPrev) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853385748",
      "id" : 853385748,
      "in_reply_to_id" : 852327064,
      "line" : 3365,
      "node_id" : "PRRC_kwDOABII584y3aIU",
      "original_commit_id" : "e49e7cca6e72e3f224230dc164b177bd6e78cb08",
      "original_line" : 3365,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 232,
      "pull_request_review_id" : 946152529,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853385748/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T18:48:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853385748",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853386290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853386290"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sure!",
      "commit_id" : "04b39271eec1573cbb2bdad1793ec44322041a96",
      "created_at" : "2022-04-19T18:49:29Z",
      "diff_hunk" : "@@ -1894,10 +1894,11 @@ void StopScriptCheckWorkerThreads()\n class WarningBitsConditionChecker : public AbstractThresholdConditionChecker\n {\n private:\n-    int bit;\n+    const ChainstateManager& m_chainman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r853386290",
      "id" : 853386290,
      "in_reply_to_id" : 852330493,
      "line" : 1897,
      "node_id" : "PRRC_kwDOABII584y3aQy",
      "original_commit_id" : "555eb9344ca83f772fa810570e1aa07881d33a41",
      "original_line" : 1897,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 93,
      "pull_request_review_id" : 946153259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853386290/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T18:49:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853386290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-20T11:23:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1103820472",
      "id" : 1103820472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585Byva4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103820472/reactions"
      },
      "updated_at" : "2022-04-20T11:23:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103820472",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Are you sure this is ready for review? Looks like it is based on #22564 for now, which might change its commits. So maybe leave it in draft until #22564 is merged? (Reviewers can still ACK your commits here, but I don't think it can be merged before #22564).\r\n\r\nAlso, I am wondering what to do with #24917. Should that go before/after #22564 or should it be included there? cc @dongcarl @ajtowns ",
      "created_at" : "2022-04-25T06:48:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1108139845",
      "id" : 1108139845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585CDN9F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108139845/reactions"
      },
      "updated_at" : "2022-04-25T06:48:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108139845",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Are you sure this is ready for review? Looks like it is based on #22564 for now,\r\n\r\nYeah, there's a trivial conflict between #22564 and these patches in that they both change the call to `g_versionbitscache.Clear()`; seemed more sensible to review the changes in #22564 first, so I rebased the changes here on top of that.\r\n\r\n> Also, I am wondering what to do with #24917. Should that go before/after #22564 or should it be included there?\r\n\r\nSeems fine to keep it separate, and 22564 seems higher priority and not blocked on anything; so I'd say 22564 first and keep 24917 separate.",
      "created_at" : "2022-04-25T08:28:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1108245381",
      "id" : 1108245381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585CDnuF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108245381/reactions"
      },
      "updated_at" : "2022-04-25T08:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108245381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-28T19:21:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1112572739",
      "id" : 1112572739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585CUIND",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112572739/reactions"
      },
      "updated_at" : "2022-04-28T19:21:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1112572739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861876396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861876396"
         }
      },
      "author_association" : "MEMBER",
      "body" : "4cbc4e94b764ba2b4a79610fadbb092a7bdd076e: What about a public `m_params` and `m_consensus`? There shouldn't be any risk associated with read-only references. And a public member removes the need for a function wrapper that only returns the member.",
      "commit_id" : "d490648b2591f523a096f926e3f29e34d72da55a",
      "created_at" : "2022-04-29T14:46:23Z",
      "diff_hunk" : "@@ -851,6 +854,11 @@ class ChainstateManager\n     friend CChainState;\n \n public:\n+    explicit ChainstateManager(const CChainParams& chainparams) : m_chainparams{chainparams} { }\n+\n+    const CChainParams& GetParams() const { return m_chainparams; }\n+    const Consensus::Params& GetConsensus() const { return m_chainparams.GetConsensus(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861876396",
      "id" : 861876396,
      "line" : 856,
      "node_id" : "PRRC_kwDOABII584zXzCs",
      "original_commit_id" : "4cbc4e94b764ba2b4a79610fadbb092a7bdd076e",
      "original_line" : 860,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 24,
      "pull_request_review_id" : 957847028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861876396/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T14:56:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861876396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861878242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861878242"
         }
      },
      "author_association" : "MEMBER",
      "body" : "0fc617a406232e21bdc8b39b2f8308f965775825 Any reason to add this include when the existing fwd-decl is enough?",
      "commit_id" : "d490648b2591f523a096f926e3f29e34d72da55a",
      "created_at" : "2022-04-29T14:48:31Z",
      "diff_hunk" : "@@ -15,6 +15,7 @@\n #include <chain.h>\n #include <chainparams.h>\n #include <consensus/amount.h>\n+#include <consensus/params.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861878242",
      "id" : 861878242,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII584zXzfi",
      "original_commit_id" : "0fc617a406232e21bdc8b39b2f8308f965775825",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 4,
      "pull_request_review_id" : 957847028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861878242/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T14:56:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861878242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861952980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861952980"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "6 to one, half a dozen the other? I thought accessors were more common than extra variables, and make it a bit clearer that they can't get out of sync? *shrug*",
      "commit_id" : "d490648b2591f523a096f926e3f29e34d72da55a",
      "created_at" : "2022-04-29T16:13:34Z",
      "diff_hunk" : "@@ -851,6 +854,11 @@ class ChainstateManager\n     friend CChainState;\n \n public:\n+    explicit ChainstateManager(const CChainParams& chainparams) : m_chainparams{chainparams} { }\n+\n+    const CChainParams& GetParams() const { return m_chainparams; }\n+    const Consensus::Params& GetConsensus() const { return m_chainparams.GetConsensus(); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861952980",
      "id" : 861952980,
      "in_reply_to_id" : 861876396,
      "line" : 856,
      "node_id" : "PRRC_kwDOABII584zYFvU",
      "original_commit_id" : "4cbc4e94b764ba2b4a79610fadbb092a7bdd076e",
      "original_line" : 860,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 24,
      "pull_request_review_id" : 957961776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861952980/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T16:13:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861952980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861957720"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861957720"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Adding `#include <chainparams.h>` in the previous commit already brings `consensus/params.h` in so the fwd declaration isn't saving anything. Later, `DeploymentActive*` use info from `consensus/params.h` too.",
      "commit_id" : "d490648b2591f523a096f926e3f29e34d72da55a",
      "created_at" : "2022-04-29T16:20:17Z",
      "diff_hunk" : "@@ -15,6 +15,7 @@\n #include <chain.h>\n #include <chainparams.h>\n #include <consensus/amount.h>\n+#include <consensus/params.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861957720",
      "id" : 861957720,
      "in_reply_to_id" : 861878242,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII584zYG5Y",
      "original_commit_id" : "0fc617a406232e21bdc8b39b2f8308f965775825",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 4,
      "pull_request_review_id" : 957968997,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861957720/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-29T16:20:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/861957720",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK d490648b2591f523a096f926e3f29e34d72da55a\r\n\r\n-----\r\n\r\nSince last review @ 555eb9344ca83f772fa810570e1aa07881d33a41\r\n- Rebased over merge of #22564\r\n- Addressed https://github.com/bitcoin/bitcoin/pull/24595#discussion_r852322280",
      "created_at" : "2022-05-02T19:13:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1115264281",
      "id" : 1115264281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585CeZUZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1115264281/reactions"
      },
      "updated_at" : "2022-05-02T19:13:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1115264281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r863565310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863565310"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think for passing references or pointers, a fwd-decl is enough.\r\n\r\niwyu seems to agree:\r\n\r\n\r\n```\r\nvalidation.h should remove these lines:\r\n- #include <config/bitcoin-config.h>  // lines 10-10\r\n- #include <consensus/params.h>  // lines 18-18\r\n- #include <stdint.h>  // lines 39-39\r\n- #include <util/hasher.h>  // lines 30-30\r\n- class CBlockTreeDB;  // lines 46-46\r\n- class CTxMemPool;  // lines 47-47\r\n- struct AssumeutxoData;  // lines 53-53\r\n- struct ChainTxData;  // lines 49-49\r\n- struct DisconnectedBlockTransactions;  // lines 50-50\r\n- struct LockPoints;  // lines 52-52\r\n```\r\n\r\n(Not saying you should fix all includes in this pull here, but I think not making it worse is a good compromise)",
      "commit_id" : "d490648b2591f523a096f926e3f29e34d72da55a",
      "created_at" : "2022-05-03T08:23:23Z",
      "diff_hunk" : "@@ -15,6 +15,7 @@\n #include <chain.h>\n #include <chainparams.h>\n #include <consensus/amount.h>\n+#include <consensus/params.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r863565310",
      "id" : 863565310,
      "in_reply_to_id" : 861878242,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII584zePX-",
      "original_commit_id" : "0fc617a406232e21bdc8b39b2f8308f965775825",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 4,
      "pull_request_review_id" : 960064177,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863565310/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-03T08:26:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863565310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r863823458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863823458"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, iwyu treats the `DeploymentActive` stuff as recommending that deploymentstatus.h add the `#include <consensus/params.h>` not validation.h. I've got some later commits that move those functions into validation.h which updates iwyu's recommendations to a #include.\r\n\r\nSince it's already included indirectly by chainparams.h I don't really see the include as making it worse, but it's not really better either, so will change it back if there are other fixes to bundle it with.",
      "commit_id" : "d490648b2591f523a096f926e3f29e34d72da55a",
      "created_at" : "2022-05-03T14:11:57Z",
      "diff_hunk" : "@@ -15,6 +15,7 @@\n #include <chain.h>\n #include <chainparams.h>\n #include <consensus/amount.h>\n+#include <consensus/params.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r863823458",
      "id" : 863823458,
      "in_reply_to_id" : 861878242,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII584zfOZi",
      "original_commit_id" : "0fc617a406232e21bdc8b39b2f8308f965775825",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 4,
      "pull_request_review_id" : 960451765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863823458/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-03T14:11:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/863823458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-05-06T10:55:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1119493596",
      "id" : 1119493596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585Cuh3c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1119493596/reactions"
      },
      "updated_at" : "2022-05-06T10:55:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1119493596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased past #24538 \r\n\r\nEDIT: also tweaked validation.h to not directly include consensus/params.h as per https://github.com/bitcoin/bitcoin/pull/24595#discussion_r861878242",
      "created_at" : "2022-05-09T20:42:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1121562267",
      "id" : 1121562267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585C2a6b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121562267/reactions"
      },
      "updated_at" : "2022-05-10T02:13:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1121562267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r868750797"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868750797"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done now",
      "commit_id" : "bb5c24b120a3ac7df367a1c5d9b075ca564efb5f",
      "created_at" : "2022-05-10T02:13:48Z",
      "diff_hunk" : "@@ -15,6 +15,7 @@\n #include <chain.h>\n #include <chainparams.h>\n #include <consensus/amount.h>\n+#include <consensus/params.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r868750797",
      "id" : 868750797,
      "in_reply_to_id" : 861878242,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zyBXN",
      "original_commit_id" : "0fc617a406232e21bdc8b39b2f8308f965775825",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 967088152,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868750797/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-10T02:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/868750797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "reACK bb5c24b120a3ac7df367a1c5d9b075ca564efb5f",
      "created_at" : "2022-05-12T20:11:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#issuecomment-1125381311",
      "id" : 1125381311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24595",
      "node_id" : "IC_kwDOABII585DE_S_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1125381311/reactions"
      },
      "updated_at" : "2022-05-12T20:11:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1125381311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r872058010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/872058010"
         }
      },
      "author_association" : "MEMBER",
      "body" : "5c67e84d37d452e9186a6357e5405fabeff241c7 nit: `.m_chainman.GetParams()`\r\n\r\nSeems odd to add a TODO and violate it in the same commit (     /* TODO: replace with m_chainman.GetParams() */)",
      "commit_id" : "bb5c24b120a3ac7df367a1c5d9b075ca564efb5f",
      "created_at" : "2022-05-13T06:55:31Z",
      "diff_hunk" : "@@ -1457,7 +1457,7 @@ PackageMempoolAcceptResult ProcessNewPackage(CChainState& active_chainstate, CTx\n     assert(std::all_of(package.cbegin(), package.cend(), [](const auto& tx){return tx != nullptr;}));\n \n     std::vector<COutPoint> coins_to_uncache;\n-    const CChainParams& chainparams = Params();\n+    const CChainParams& chainparams = active_chainstate.m_params;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r872058010",
      "id" : 872058010,
      "line" : 1458,
      "node_id" : "PRRC_kwDOABII584z-oya",
      "original_commit_id" : "5c67e84d37d452e9186a6357e5405fabeff241c7",
      "original_line" : 1460,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 5,
      "pull_request_review_id" : 971778946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/872058010/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-13T06:59:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/872058010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r872059969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/872059969"
         }
      },
      "author_association" : "MEMBER",
      "body" : "eca22c726ac48b4216bb68cc0f0bbd655c43ac12 nit: Later diff could be smaller by a few lines if you added a `VersionBitsCache& vbcache{g_versionbitscache};` in this commit already.",
      "commit_id" : "bb5c24b120a3ac7df367a1c5d9b075ca564efb5f",
      "created_at" : "2022-05-13T06:58:27Z",
      "diff_hunk" : "@@ -429,7 +429,7 @@ BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n             const uint32_t dep_mask{g_versionbitscache.Mask(chainParams->GetConsensus(), dep)};\n             BOOST_CHECK(!(chain_all_vbits & dep_mask));\n             chain_all_vbits |= dep_mask;\n-            check_computeblockversion(chainParams->GetConsensus(), dep);\n+            check_computeblockversion(g_versionbitscache, chainParams->GetConsensus(), dep);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r872059969",
      "id" : 872059969,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584z-pRB",
      "original_commit_id" : "eca22c726ac48b4216bb68cc0f0bbd655c43ac12",
      "original_line" : 432,
      "original_position" : 154,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 154,
      "pull_request_review_id" : 971778946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/872059969/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-13T06:59:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/872059969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r873658346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873658346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed chainman completely from this test in https://github.com/bitcoin/bitcoin/pull/25125",
      "commit_id" : "bb5c24b120a3ac7df367a1c5d9b075ca564efb5f",
      "created_at" : "2022-05-16T12:21:09Z",
      "diff_hunk" : "@@ -386,34 +385,36 @@ static void check_computeblockversion(const Consensus::Params& params, Consensus\n     // Mine one period worth of blocks, and check that the bit will be on for the\n     // next period.\n     lastBlock = secondChain.Mine(params.nMinerConfirmationWindow, nTime, VERSIONBITS_LAST_OLD_BLOCK_VERSION).Tip();\n-    BOOST_CHECK((g_versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n+    BOOST_CHECK((versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n \n     // Mine another period worth of blocks, signaling the new bit.\n     lastBlock = secondChain.Mine(params.nMinerConfirmationWindow * 2, nTime, VERSIONBITS_TOP_BITS | (1<<bit)).Tip();\n     // After one period of setting the bit on each block, it should have locked in.\n     // We keep setting the bit for one more period though, until activation.\n-    BOOST_CHECK((g_versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n+    BOOST_CHECK((versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n \n     // Now check that we keep mining the block until the end of this period, and\n     // then stop at the beginning of the next period.\n     lastBlock = secondChain.Mine((params.nMinerConfirmationWindow * 3) - 1, nTime, VERSIONBITS_LAST_OLD_BLOCK_VERSION).Tip();\n-    BOOST_CHECK((g_versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n+    BOOST_CHECK((versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n     lastBlock = secondChain.Mine(params.nMinerConfirmationWindow * 3, nTime, VERSIONBITS_LAST_OLD_BLOCK_VERSION).Tip();\n \n     if (lastBlock->nHeight + 1 < min_activation_height) {\n         // check signalling continues while min_activation_height is not reached\n         lastBlock = secondChain.Mine(min_activation_height - 1, nTime, VERSIONBITS_LAST_OLD_BLOCK_VERSION).Tip();\n-        BOOST_CHECK((g_versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n+        BOOST_CHECK((versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit)) != 0);\n         // then reach min_activation_height, which was already REQUIRE'd to start a new period\n         lastBlock = secondChain.Mine(min_activation_height, nTime, VERSIONBITS_LAST_OLD_BLOCK_VERSION).Tip();\n     }\n \n     // Check that we don't signal after activation\n-    BOOST_CHECK_EQUAL(g_versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit), 0);\n+    BOOST_CHECK_EQUAL(versionbitscache.ComputeBlockVersion(lastBlock, params) & (1 << bit), 0);\n }\n \n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n+    VersionBitsCache vbcache; // don't use chainman versionbitscache since we want custom chain params",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24595#discussion_r873658346",
      "id" : 873658346,
      "line" : 416,
      "node_id" : "PRRC_kwDOABII5840Evfq",
      "original_commit_id" : "bb5c24b120a3ac7df367a1c5d9b075ca564efb5f",
      "original_line" : 416,
      "original_position" : 158,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 158,
      "pull_request_review_id" : 973859180,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24595",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873658346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-16T12:21:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/873658346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
