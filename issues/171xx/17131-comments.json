[
   {
      "author_association" : "NONE",
      "body" : "Sá»­a giup tÃ´i thanks ðð",
      "created_at" : "2019-10-14T05:07:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-541504273",
      "id" : 541504273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTUwNDI3Mw==",
      "updated_at" : "2019-10-14T05:07:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541504273",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/51823093?v=4",
         "events_url" : "https://api.github.com/users/Nguyentiensy99/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Nguyentiensy99/followers",
         "following_url" : "https://api.github.com/users/Nguyentiensy99/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Nguyentiensy99/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Nguyentiensy99",
         "id" : 51823093,
         "login" : "Nguyentiensy99",
         "node_id" : "MDQ6VXNlcjUxODIzMDkz",
         "organizations_url" : "https://api.github.com/users/Nguyentiensy99/orgs",
         "received_events_url" : "https://api.github.com/users/Nguyentiensy99/received_events",
         "repos_url" : "https://api.github.com/users/Nguyentiensy99/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Nguyentiensy99/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Nguyentiensy99/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Nguyentiensy99"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fjahr  Thank you\r\n\r\n> ...  if 0 is given as an argument, the fallback that is being used is the libevent default of 50 seconds...\r\n\r\nIs it documented somewhere?",
      "created_at" : "2019-10-14T07:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-541525141",
      "id" : 541525141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTUyNTE0MQ==",
      "updated_at" : "2019-10-14T07:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541525141",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Actually adding the feature as described in the help string\r\n\r\nIt would be nice if it actually worked. For long operations (such as `getutxosetinfo`) it can be undesirable to have a timeout at all.\r\n\r\nThen again, ACK 6810956191f8dd26e918c6991f95dbc1a05af3e9 on fixing the documentation first.\r\nIt can always be re-added.",
      "created_at" : "2019-10-14T09:49:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-541583879",
      "id" : 541583879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTU4Mzg3OQ==",
      "updated_at" : "2019-10-15T06:36:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541583879",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "According to https://github.com/bitcoin/bitcoin/pull/9903#issuecomment-283937055 it used to work at some point",
      "created_at" : "2019-10-14T12:36:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-541652292",
      "id" : 541652292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTY1MjI5Mg==",
      "updated_at" : "2019-10-14T12:36:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541652292",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Unfortunately, there is nothing on this in the docs and due to this [issue of libevent](https://github.com/libevent/libevent/issues/87) I guess they were not aware of this behavior either. This code is now changed in master but not in any release, [here it is in the code of 2.1.11 which is the latest stable release](https://github.com/libevent/libevent/blob/4c908dde58ef780eeefcc9df4db3063ca62ea862/http.c#L1625). If I understand the code correctly the timeout values are always initialized as 0 and then overridden with the defaults if they are still 0 at the end, so setting them explicitly to 0 does nothing. Since nothing has happened to their issue it seems there is actually no way to set no timeout on libevent right now.\r\n\r\nI don't see a simple way to make long-running connections work so I would suggest merging the fixed help text and then thinking about how we could add it. But maybe we set the timeout to our default (900) if 0 is passed? Also not ideal but makes a little more sense than the 'magic' 50 seconds. \r\n\r\n> According to [#9903 (comment)](https://github.com/bitcoin/bitcoin/pull/9903#issuecomment-283937055) it used to work at some point\r\n\r\nHm, I am really not sure what happened there. [Our code](https://github.com/bitcoin/bitcoin/blob/90a1d9a55d81029deb482888a9ddaa364f4a2c73/src/bitcoin-cli.cpp#L200) hasn't changed and I don't see how libevent could have behaved differently either.",
      "created_at" : "2019-10-14T21:56:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-541945224",
      "id" : 541945224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTk0NTIyNA==",
      "updated_at" : "2019-10-14T22:05:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541945224",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I also have a vague recollection that it used to work at some point. As a workaround I guess we could change it to give libevent an absurd timeout of say, four years if the value `0` is provided.",
      "created_at" : "2019-10-15T07:05:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-542070430",
      "id" : 542070430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjA3MDQzMA==",
      "updated_at" : "2019-10-15T07:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542070430",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is it documented somewhere?\r\n\r\n- https://github.com/libevent/libevent/blob/dda8968c71f684235abb3cf6c26810751bf2c31a/http-internal.h#L19\r\n\r\n```\r\n#define HTTP_READ_TIMEOUT\t50\r\n```\r\n\r\n- https://github.com/libevent/libevent/blob/dda8968c71f684235abb3cf6c26810751bf2c31a/include/event2/http.h#L601-L604\r\n\r\n```\r\n * Connection also has default timeouts for the following events:\r\n * - connect HTTP_CONNECT_TIMEOUT, which is 45 seconds\r\n * - read    HTTP_READ_TIMEOUT which is 50 seconds\r\n * - write   HTTP_WRITE_TIMEOUT, which is 50 seconds\r\n```",
      "created_at" : "2019-10-15T07:22:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-542076334",
      "id" : 542076334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjA3NjMzNA==",
      "updated_at" : "2019-10-15T07:22:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542076334",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed to fix the feature by setting timeout to 5 years when 0 is passed to `-rpcclienttimeout`.",
      "created_at" : "2019-10-15T12:26:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-542186027",
      "id" : 542186027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjE4NjAyNw==",
      "updated_at" : "2019-10-15T12:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542186027",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334920403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334920403"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        constexpr int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar\r\n```",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T12:30:09Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\n+    if (timeout > 0) {\n+        evhttp_connection_set_timeout(evcon.get(), timeout);\n+    } else {\n+        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334920403",
      "id" : 334920403,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNDkyMDQwMw==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 11,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 301866856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334920403",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334920657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334920657"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        evhttp_connection_set_timeout(evcon.get(), 5 * YEAR_IN_SECONDS);\r\n```",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T12:30:40Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\n+    if (timeout > 0) {\n+        evhttp_connection_set_timeout(evcon.get(), timeout);\n+    } else {\n+        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar\n+        evhttp_connection_set_timeout(evcon.get(), 5*YEAR_IN_SECONDS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334920657",
      "id" : 334920657,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNDkyMDY1Nw==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 12,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 301866856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334920657",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334921817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334921817"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    const int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\r\n```",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T12:33:13Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334921817",
      "id" : 334921817,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNDkyMTgxNw==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 7,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 301866856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334921817",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334922100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334922100"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe add a comment that this is a workaround for libevent-http having no way to set an infinite timeout",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T12:33:50Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\n+    if (timeout > 0) {\n+        evhttp_connection_set_timeout(evcon.get(), timeout);\n+    } else {\n+        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r334922100",
      "id" : 334922100,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNDkyMjEwMA==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 11,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 301869080,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334922100",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043058"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T16:02:27Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043058",
      "id" : 335043058,
      "in_reply_to_id" : 334921817,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTA0MzA1OA==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 7,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 302025255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043058",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043132"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043132"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T16:02:35Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\n+    if (timeout > 0) {\n+        evhttp_connection_set_timeout(evcon.get(), timeout);\n+    } else {\n+        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar\n+        evhttp_connection_set_timeout(evcon.get(), 5*YEAR_IN_SECONDS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043132",
      "id" : 335043132,
      "in_reply_to_id" : 334920657,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTA0MzEzMg==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 12,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 302025349,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043132",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043217"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043217"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T16:02:44Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\n+    if (timeout > 0) {\n+        evhttp_connection_set_timeout(evcon.get(), timeout);\n+    } else {\n+        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043217",
      "id" : 335043217,
      "in_reply_to_id" : 334920403,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTA0MzIxNw==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 11,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 302025440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043217",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043306"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T16:02:56Z",
      "diff_hunk" : "@@ -316,7 +316,15 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n \n     // Synchronously look up hostname\n     raii_evhttp_connection evcon = obtain_evhttp_connection_base(base.get(), host, port);\n-    evhttp_connection_set_timeout(evcon.get(), gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT));\n+\n+    // Set connection timeout\n+    int timeout = gArgs.GetArg(\"-rpcclienttimeout\", DEFAULT_HTTP_CLIENT_TIMEOUT);\n+    if (timeout > 0) {\n+        evhttp_connection_set_timeout(evcon.get(), timeout);\n+    } else {\n+        const int YEAR_IN_SECONDS = 31556952; // Average length of year in Gregorian calendar",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#discussion_r335043306",
      "id" : 335043306,
      "in_reply_to_id" : 334922100,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTA0MzMwNg==",
      "original_commit_id" : "dff1648064566821b58b82fd8a5014f11638b5e1",
      "original_position" : 11,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 302025564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17131",
      "updated_at" : "2019-10-15T16:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335043306",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Added comment hint to `libevent` work-around and applied improvement suggestions from @hebasto ",
      "created_at" : "2019-10-15T16:04:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-542287072",
      "id" : 542287072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjI4NzA3Mg==",
      "updated_at" : "2019-10-15T16:04:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542287072",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "unsigned ACK b3b26e149c34fee9c7ae8548c6e547ec6254b441",
      "created_at" : "2019-10-15T16:06:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17131#issuecomment-542287858",
      "id" : 542287858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17131",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjI4Nzg1OA==",
      "updated_at" : "2019-10-15T16:06:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542287858",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
