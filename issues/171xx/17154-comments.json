[
   {
      "author_association" : "MEMBER",
      "body" : "Slightly tend to NACK. What is this needed for?\r\n\r\nEffectively, a gui user will send the transaction twice (spending different coins), losing all their funds.",
      "created_at" : "2019-10-15T19:25:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542366872",
      "id" : 542366872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM2Njg3Mg==",
      "updated_at" : "2019-10-15T19:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542366872",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Slightly tend to NACK. What is this needed for?\r\n\r\nCurrently the function returns a bool, which is always `true`, but the callers have logic that depends on the return value.\r\n\r\n`CommitTransaction()` did previously return `true`/`false` based on success. That was removed in #9302 so that the `send___` RPC methods would return the txid even if the transaction failed to broadcast. That's useful because the transaction will still exist in the wallet, so the RPC user would want to know about it. The fix should have been to have the call sites ignore the return value of `CommitTransaction()`, but instead the PR changed the function itself to not return success/failure, meaning that as a side effect `WalletModel::sendCoins()` is no longer informed if transaction broadcast fails. From reading the PR, it looks to me like that change was unintentional.\r\n\r\nI could change this PR to maintain the current behaviour (not return success to `WalletModel::sendCoins()`). Do you think that's preferable?",
      "created_at" : "2019-10-15T19:47:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542375108",
      "id" : 542375108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM3NTEwOA==",
      "updated_at" : "2019-10-15T19:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542375108",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> From reading the PR, it looks to me like that change was unintentional.\r\n\r\nI am pretty sure it was intentional. At least that was my understanding, see https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-266284389\r\n\r\nTo sum up, the wallet is only allowed to do one of the following:\r\n* Create a tx, sign it and add it to the wallet, so that it can be rebroadcast immediately or later, then `return true`\r\n* Create a tx, sign it and throw it away for some reason, then `return false`\r\n\r\nA wallet is not allowed to create a tx, sign it and add it to the wallet, so that it will be rebroadcast later, but `return false`. <-- This is what you pull request is doing.",
      "created_at" : "2019-10-15T20:45:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542396757",
      "id" : 542396757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM5Njc1Nw==",
      "updated_at" : "2019-10-15T20:45:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542396757",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16966](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16966.html) (ui: make send a wizard by Sjors)\n* [#16411](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16411.html) (Signet support by kallewoof)\n* [#15931](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15931.html) (Remove GetDepthInMainChain dependency on locked chain interface by ariard)\n* [#15921](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15921.html) (validation: Tidy up ValidationState interface by jnewbery)\n* [#14582](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14582.html) (wallet: try -avoidpartialspends mode and use its result if fees do not change by kallewoof)\n* [#9381](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/9381.html) (Remove CWalletTx merging logic from AddToWallet by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-15T20:47:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542397716",
      "id" : 542397716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM5NzcxNg==",
      "updated_at" : "2019-10-24T04:59:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542397716",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In that case, `CommitTransaction` should not return anything, and all the dead code in `if (!CommitTransaction())` blocks should be removed.",
      "created_at" : "2019-10-15T20:59:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542402331",
      "id" : 542402331,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjQwMjMzMQ==",
      "updated_at" : "2019-10-15T20:59:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542402331",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fine with me",
      "created_at" : "2019-10-15T22:04:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542424765",
      "id" : 542424765,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjQyNDc2NQ==",
      "updated_at" : "2019-10-15T22:04:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542424765",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR now just changes `CommitTransaction` to return `void`, and deletes all dead code.\r\n\r\nAlso rebased on master.",
      "created_at" : "2019-10-16T15:19:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542753869",
      "id" : 542753869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mjc1Mzg2OQ==",
      "updated_at" : "2019-10-16T15:19:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542753869",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335553407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335553407"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\r\n```\r\n\r\n:eyes: ",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-16T15:36:53Z",
      "diff_hunk" : "@@ -1147,7 +1147,18 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change\n+     * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n+     */\n+void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335553407",
      "id" : 335553407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTU1MzQwNw==",
      "original_commit_id" : "d3e6e19d58d9d92016382d195d7a2f99e2978ed7",
      "original_position" : 16,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302676727,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335553407",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335567982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335567982"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-16T16:03:09Z",
      "diff_hunk" : "@@ -1147,7 +1147,18 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change\n+     * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n+     */\n+void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335567982",
      "id" : 335567982,
      "in_reply_to_id" : 335553407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTU2Nzk4Mg==",
      "original_commit_id" : "d3e6e19d58d9d92016382d195d7a2f99e2978ed7",
      "original_position" : 16,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302695682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335567982",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335694008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335694008"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`reserveKey` is not an argument for this function.",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-16T20:31:30Z",
      "diff_hunk" : "@@ -1147,6 +1147,17 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335694008",
      "id" : 335694008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTY5NDAwOA==",
      "original_commit_id" : "20200a038cefa8e31013dffabf74226529b65723",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302857496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335694008",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335701059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335701059"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-16T20:47:56Z",
      "diff_hunk" : "@@ -1147,6 +1147,17 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param reserveKey[in,out] keypool key used for change",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r335701059",
      "id" : 335701059,
      "in_reply_to_id" : 335694008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNTcwMTA1OQ==",
      "original_commit_id" : "20200a038cefa8e31013dffabf74226529b65723",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 302866806,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/335701059",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressed @achow101 's review comment (thanks!)",
      "created_at" : "2019-10-16T20:48:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542885044",
      "id" : 542885044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mjg4NTA0NA==",
      "updated_at" : "2019-10-16T20:48:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542885044",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "created_at" : "2019-10-16T21:19:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-542896187",
      "id" : 542896187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mjg5NjE4Nw==",
      "updated_at" : "2019-10-16T21:19:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542896187",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2019-10-17T13:12:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-543168024",
      "id" : 543168024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzE2ODAyNA==",
      "updated_at" : "2019-10-17T13:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543168024",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336172731"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336172731"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in commit c7397e074996086578d9ac3db78d654fdbbf58a5:\r\n\r\nthis is not a return parameter. The tx is consumed (`std::move`)",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-17T18:55:00Z",
      "diff_hunk" : "@@ -1147,6 +1147,16 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336172731",
      "id" : 336172731,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjE3MjczMQ==",
      "original_commit_id" : "c7397e074996086578d9ac3db78d654fdbbf58a5",
      "original_position" : 9,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303474527,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336172731",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336173230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336173230"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this should just be `[out]`?",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-17T18:56:00Z",
      "diff_hunk" : "@@ -1147,6 +1147,16 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param state[in,out] CValidationState object returning information about whether the transaction was accepted",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336173230",
      "id" : 336173230,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjE3MzIzMA==",
      "original_commit_id" : "c7397e074996086578d9ac3db78d654fdbbf58a5",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303475175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336173230",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336175380"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336175380"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in commit 1f490c9a5f8767477f6ffe382b4a0578dbac5e3e you claim that the return value is removed, but you still return `state`, which is used in a single place (`feebumper`). Haven't thought too much about this, but it seems fine to use there because it can't lead to loss of funds?\r\n\r\nAlso, that code path shouldn't be hit unless there is a sudden massive fee spike or a logic error.",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-17T19:01:06Z",
      "diff_hunk" : "@@ -1157,7 +1157,7 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n      * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n      */\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336175380",
      "id" : 336175380,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjE3NTM4MA==",
      "original_commit_id" : "1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303478075,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336175380",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336495286"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336495286"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This actually isn't set any more (since commit 611291c198). I've removed it in a new commit.",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-18T13:39:09Z",
      "diff_hunk" : "@@ -1147,6 +1147,16 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.\n+     * @param mapValue[in] key-values to be set on the transaction.\n+     * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n+     * @param state[in,out] CValidationState object returning information about whether the transaction was accepted",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336495286",
      "id" : 336495286,
      "in_reply_to_id" : 336173230,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjQ5NTI4Ng==",
      "original_commit_id" : "c7397e074996086578d9ac3db78d654fdbbf58a5",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303896051,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336495286",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336495326"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336495326"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks. Fixed.",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-18T13:39:14Z",
      "diff_hunk" : "@@ -1147,6 +1147,16 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      */\n     bool CreateTransaction(interfaces::Chain::Lock& locked_chain, const std::vector<CRecipient>& vecSend, CTransactionRef& tx, CAmount& nFeeRet, int& nChangePosInOut,\n                            std::string& strFailReason, const CCoinControl& coin_control, bool sign = true);\n+    /**\n+     * Submit the transaction to the node's mempool and then relay to peers.\n+     * Should be called after CreateTransaction unless you want to abort\n+     * broadcasting the transaction.\n+     *\n+     * @param tx[in,out] The transaction to be broadcast.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336495326",
      "id" : 336495326,
      "in_reply_to_id" : 336172731,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjQ5NTMyNg==",
      "original_commit_id" : "c7397e074996086578d9ac3db78d654fdbbf58a5",
      "original_position" : 9,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303896098,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336495326",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336495398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336495398"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've removed `state`, since it's never actually set.",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-18T13:39:26Z",
      "diff_hunk" : "@@ -1157,7 +1157,7 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n      * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n      */\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336495398",
      "id" : 336495398,
      "in_reply_to_id" : 336175380,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjQ5NTM5OA==",
      "original_commit_id" : "1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303896214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336495398",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336506374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336506374"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ouch. Good catch :grimacing: ",
      "commit_id" : "9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-18T14:02:04Z",
      "diff_hunk" : "@@ -1157,7 +1157,7 @@ class CWallet final : public FillableSigningProvider, private interfaces::Chain:\n      * @param orderForm[in] BIP 70 / BIP 21 order form details to be set on the transaction.\n      * @param state[in,out] CValidationState object returning information about whether the transaction was accepted\n      */\n-    bool CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);\n+    void CommitTransaction(CTransactionRef tx, mapValue_t mapValue, std::vector<std::pair<std::string, std::string>> orderForm, CValidationState& state);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#discussion_r336506374",
      "id" : 336506374,
      "in_reply_to_id" : 336175380,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjUwNjM3NA==",
      "original_commit_id" : "1f490c9a5f8767477f6ffe382b4a0578dbac5e3e",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 303911227,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17154",
      "updated_at" : "2019-10-18T14:02:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336506374",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-10-18T14:03:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-543762034",
      "id" : 543762034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzc2MjAzNA==",
      "updated_at" : "2019-10-18T14:03:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543762034",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 9e95931865186d7a9a6dc54b64bd96507e9fea4b",
      "created_at" : "2019-10-23T11:37:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-545401758",
      "id" : 545401758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTQwMTc1OA==",
      "updated_at" : "2019-10-23T11:37:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545401758",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmmm -- sorry for a posthumous comment here, but this patch confuses me a little.\r\n\r\nIt seems the better change would be to continue to have CommitTransaction return a success value/reject reason.\r\n\r\nWhat's the recommended pattern following this change for checking the status of a committed transaction? What if a transaction is rejected for consensus reasons, and won't be in the wallet? As a wallet rpc implementer, I want to be able to detect a failed committransaction and then undo some prior steps...",
      "created_at" : "2019-11-24T06:17:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-557861414",
      "id" : 557861414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Nzg2MTQxNA==",
      "updated_at" : "2019-11-24T06:17:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557861414",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR didn't change any behaviour. It removed a return value that was not used by any calling code.\r\n\r\nSee #9302 for why the RPC code was changed.",
      "created_at" : "2019-11-24T15:46:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-557900761",
      "id" : 557900761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzkwMDc2MQ==",
      "updated_at" : "2019-11-24T15:46:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557900761",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "And the TODO that this should, is still in the code:\r\n\r\n```cpp\r\n     // TODO: if we expect the failure to be long term or permanent, instead delete wtx from the wallet and return failure. ",
      "created_at" : "2019-11-24T16:21:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-557903850",
      "id" : 557903850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzkwMzg1MA==",
      "updated_at" : "2019-11-24T16:21:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557903850",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah I read those; my point is that it seems that the patched behavior of the function is buggy since #9302, and then in #17154 we just enforce the buggy behavior rather than addressing the TODO and returning an error code, which users of the function may prefer to have...",
      "created_at" : "2019-11-24T19:58:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-557922266",
      "id" : 557922266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzkyMjI2Ng==",
      "updated_at" : "2019-11-24T19:58:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557922266",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Contributions are welcome. If you want to suggest a PR to return failure information from `CommitTransaction()`, please go ahead.",
      "created_at" : "2019-11-24T21:49:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-557931575",
      "id" : 557931575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzkzMTU3NQ==",
      "updated_at" : "2019-11-24T21:49:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557931575",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Instead of creating a transaction that is consensus-invalid and then returning a failure and removing the tx again, I'd prefer if the consensus-invalid transaction was not created by the wallet in the first place. Or if that is not possible, the wallet should have checked consensus-validity before storing it in the wallet.dat",
      "created_at" : "2019-11-24T23:17:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-557939244",
      "id" : 557939244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzkzOTI0NA==",
      "updated_at" : "2019-11-24T23:17:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557939244",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke well I don't disagree it's better to never be wrong in the first place! But the committransaction also seems to be able to fail for mere policy reasons too, right?\r\n\r\n\r\n@jnewbery My original question was, in light of this patch, if there is actually a recommended handling for transactions which may err, what's the \"proper handling\" to recover the relevant information here?\r\n\r\nI'd be happy to make a PR which makes the changes but I don't really fully understand what we want functionality wise from CommitTransaction.",
      "created_at" : "2019-11-25T06:01:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-558003863",
      "id" : 558003863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODAwMzg2Mw==",
      "updated_at" : "2019-11-25T06:01:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558003863",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> also seems to be able to fail for mere policy reasons too, right\r\n\r\nYes.\r\nIf the policy fail is expected to be short term, the wallet should continue as usual and commit the tx to the `wallet.dat`. If the policy fail is expected to be long term or permanent, the wallet shouldn't commit the tx in the first place.\r\n\r\nI think you are arguing that the functionality to check the tx should happen in `CommitTransaction` and that this pull request made it harder to do so. I think we can only know best where to put this check after someone has implemented it. It might be better as a standalone function `PreCheckCommitTransaction` or similar, idk.\r\n\r\n> a recommended handling for transactions which may err\r\n\r\nI think we don't have a recommendation to recover from such errors. The best we can do right now is manual fixups: `abandontransaction` (maybe in combination with disabled wallet rebroadcast).",
      "created_at" : "2019-11-25T18:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-558272027",
      "id" : 558272027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODI3MjAyNw==",
      "updated_at" : "2019-11-25T18:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558272027",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the most critical thing in `CommitTransaction()` is that the transaction is added to the wallet and old coins are marked spent _before_ the transaction is broadcast. It would be a problem if the transaction was broadcast and then failed to be added to the wallet.\r\n\r\nI think adding a call to ATMP with `test_accept` before calling `AddToWallet()` and then returning any error could be an improvement.",
      "created_at" : "2019-11-25T18:47:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17154#issuecomment-558289075",
      "id" : 558289075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17154",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODI4OTA3NQ==",
      "updated_at" : "2019-11-25T18:47:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558289075",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
