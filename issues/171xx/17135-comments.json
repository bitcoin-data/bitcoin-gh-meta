[
   {
      "author_association" : "MEMBER",
      "body" : "Elegant Solution.\r\nConcept ACK.\r\nIn the long run, we should probably also improve the 250ms polling on `WalletModel::pollBalanceChanged()`\r\n\r\nWill test.",
      "created_at" : "2019-10-15T13:29:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-542212060",
      "id" : 542212060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjIxMjA2MA==",
      "updated_at" : "2019-10-15T13:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542212060",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> also improve the 250ms polling\r\n\r\nYou mean remove polling? :trollface: ",
      "created_at" : "2019-10-15T13:34:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-542214157",
      "id" : 542214157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjIxNDE1Nw==",
      "updated_at" : "2019-10-15T13:34:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542214157",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r334993465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334993465"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    QThread* const m_thread;\r\n```\r\n\r\n:eyes: ?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-15T14:39:34Z",
      "diff_hunk" : "@@ -90,7 +90,9 @@ class ClientModel : public QObject\n     PeerTableModel *peerTableModel;\n     BanTableModel *banTableModel;\n \n-    QTimer *pollTimer;\n+    //! A thread to interact with m_node asynchronously\n+    QThread* const thread;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r334993465",
      "id" : 334993465,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNDk5MzQ2NQ==",
      "original_commit_id" : "d3dd119fc14361aae1b79d435641991863615fa4",
      "original_position" : 6,
      "path" : "src/qt/clientmodel.h",
      "position" : null,
      "pull_request_review_id" : 301962373,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334993465",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r334999714"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334999714"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry, done.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-15T14:49:28Z",
      "diff_hunk" : "@@ -90,7 +90,9 @@ class ClientModel : public QObject\n     PeerTableModel *peerTableModel;\n     BanTableModel *banTableModel;\n \n-    QTimer *pollTimer;\n+    //! A thread to interact with m_node asynchronously\n+    QThread* const thread;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r334999714",
      "id" : 334999714,
      "in_reply_to_id" : 334993465,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNDk5OTcxNA==",
      "original_commit_id" : "d3dd119fc14361aae1b79d435641991863615fa4",
      "original_position" : 6,
      "path" : "src/qt/clientmodel.h",
      "position" : null,
      "pull_request_review_id" : 301970366,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/334999714",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit c7875564033895173119347016293fca05d6f1f1 (master):\n * `11d52e8ad2bd2d61dfeb76360b8cebb5...` [bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz)\n * `e83119cc944714b702fba4059bd49612...` [bitcoin-0.19.99-aarch64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-aarch64-linux-gnu.tar.gz)\n * `d07d0d12c0027f69f9c7bae3c28b4613...` [bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz)\n * `882f62cfcce6fd910c3ace6421894d40...` [bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz)\n * `29ddba5a224cbb68b02db6c214b15b8c...` [bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz)\n * `c06938eecb57d97a2164bfd029256d9b...` [bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz)\n * `adc6e86fd760dcf668cd22bca183dca5...` [bitcoin-0.19.99-osx-unsigned.dmg](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-osx-unsigned.dmg)\n * `f44689efb474581aec293540402055e7...` [bitcoin-0.19.99-osx64.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-osx64.tar.gz)\n * `6f86e585efe055f1bf74f778ceca8fe8...` [bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz)\n * `e6bb41fce73e7ce3d3473f017a87e342...` [bitcoin-0.19.99-riscv64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-riscv64-linux-gnu.tar.gz)\n * `a5bd860b3b8347815c63ee33dc9e1a46...` [bitcoin-0.19.99-win64-debug.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-win64-debug.zip)\n * `6683006830fcc9b2b90d6ac4d747a325...` [bitcoin-0.19.99-win64-setup-unsigned.exe](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-win64-setup-unsigned.exe)\n * `a30d4ba5f8d9b11c079477d171029996...` [bitcoin-0.19.99-win64.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-win64.zip)\n * `750bd5d219e2dfcb8fb55d792b49be23...` [bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz)\n * `c151b395e02e17970f9e2b32724b1c48...` [bitcoin-0.19.99-x86_64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99-x86_64-linux-gnu.tar.gz)\n * `f90317cda9eb86fb1c38a93f120a7929...` [bitcoin-0.19.99.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-0.19.99.tar.gz)\n * `392488c35b834501b45234a2bac1960d...` [bitcoin-core-linux-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-core-linux-0.20-res.yml)\n * `15ca5eaa79997bd37404bda925854b0d...` [bitcoin-core-osx-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-core-osx-0.20-res.yml)\n * `66b146cb563014e02515ab9244d1e3fd...` [bitcoin-core-win-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/bitcoin-core-win-0.20-res.yml)\n * `7cd8c67fefcf1dc9ac4ec4295a30578a...` [linux-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/linux-build.log)\n * `c88f1f995638975f7d35b78e1d0f0ead...` [osx-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/osx-build.log)\n * `56ead2a35017cdb011c824c1ed3c6bf0...` [win-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/c7875564033895173119347016293fca05d6f1f1/win-build.log)\n\n\nGitian builds for commit becd15234f07b6adbe660e05c69013d18dc92b1d (master and this pull):\n * `75fd44914d0c61fb055059c8a9388fdd...` [bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz)\n * `3c17dbd0cb8b676880116831dc77a5fa...` [bitcoin-0.19.99-aarch64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-aarch64-linux-gnu.tar.gz)\n * `9ff32433e0933cce325743d9a9f9e96d...` [bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz)\n * `afdf935bbc6ed77ea8247d5407c2b5fd...` [bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz)\n * `277aaa642e71517094fe6c786970ae94...` [bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz)\n * `89529f18d285b0022d3f7644f234a7e3...` [bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz)\n * `6632a9c4f3969aa2579d8bb7ec5285c4...` [bitcoin-0.19.99-osx-unsigned.dmg](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-osx-unsigned.dmg)\n * `e02ae3cc7e83ae18a01d77d8e5aabfcb...` [bitcoin-0.19.99-osx64.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-osx64.tar.gz)\n * `303f219ac37346c3abf17c211005658d...` [bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz)\n * `f17219286aaf3a9c88b6fc6f63dc087b...` [bitcoin-0.19.99-riscv64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-riscv64-linux-gnu.tar.gz)\n * `6b420a75e6d0f14536717624c3890745...` [bitcoin-0.19.99-win64-debug.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-win64-debug.zip)\n * `1c3d18362113c15e7b8a4d808f950ff2...` [bitcoin-0.19.99-win64-setup-unsigned.exe](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-win64-setup-unsigned.exe)\n * `aa79ffaff31576d99ab798f0c167d4a9...` [bitcoin-0.19.99-win64.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-win64.zip)\n * `1f4ccad86fb7abc4356b63081b98c2bb...` [bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz)\n * `1d529e1e979ac9779dbe13d0f7226121...` [bitcoin-0.19.99-x86_64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99-x86_64-linux-gnu.tar.gz)\n * `acdc19433affa59fcb5aa6a805d32311...` [bitcoin-0.19.99.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-0.19.99.tar.gz)\n * `02ed29c14fea847dfd12a13708bfac69...` [bitcoin-core-linux-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-core-linux-0.20-res.yml)\n * `bf5b8c327290c9ecf1c8764d77d27cfe...` [bitcoin-core-linux-0.20-res.yml.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-core-linux-0.20-res.yml.diff)\n * `8f338782201e541310ae50e6b7d1277d...` [bitcoin-core-osx-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-core-osx-0.20-res.yml)\n * `ad50a3881ba5208a05f84434e133a31c...` [bitcoin-core-osx-0.20-res.yml.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-core-osx-0.20-res.yml.diff)\n * `e18030c69ca376e5595e66bcc0f1498b...` [bitcoin-core-win-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-core-win-0.20-res.yml)\n * `83e34db7fb54fe7dcd8770829f57a5f7...` [bitcoin-core-win-0.20-res.yml.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/bitcoin-core-win-0.20-res.yml.diff)\n * `56739e0f42682016bd8bcace014fc98b...` [linux-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/linux-build.log)\n * `734f4c75de47673ed7d59a2ed79899de...` [linux-build.log.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/linux-build.log.diff)\n * `0f317e9ac156ede05560ba89f21ac2e8...` [osx-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/osx-build.log)\n * `61bf06114ebeb1403f1ceff0905a8d43...` [osx-build.log.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/osx-build.log.diff)\n * `45b9932500709cf9c5a124d2e253feca...` [win-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/win-build.log)\n * `920027e60afa44afc3ddb49ea10cf504...` [win-build.log.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/becd15234f07b6adbe660e05c69013d18dc92b1d/win-build.log.diff)\n",
      "created_at" : "2019-10-16T06:15:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-542537302",
      "id" : 542537302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjUzNzMwMg==",
      "updated_at" : "2019-10-16T06:15:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542537302",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-10-17T19:35:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-543328389",
      "id" : 543328389,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzMyODM4OQ==",
      "updated_at" : "2019-10-17T19:35:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543328389",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Put in a gitian build, but I no longer have a windows box for testing",
      "created_at" : "2019-10-17T19:49:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-543333789",
      "id" : 543333789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzMzMzc4OQ==",
      "updated_at" : "2019-10-17T19:49:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543333789",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r336510466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336510466"
         }
      },
      "author_association" : "MEMBER",
      "body" : "moving this code into a lambda is stylistic only, right?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-18T14:10:39Z",
      "diff_hunk" : "@@ -90,14 +104,6 @@ int64_t ClientModel::getHeaderTipTime() const\n     return cachedBestHeaderTime;\n }\n \n-void ClientModel::updateTimer()\n-{\n-    // no locking required at this point\n-    // the following calls will acquire the required lock\n-    Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n-    Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n-}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r336510466",
      "id" : 336510466,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjUxMDQ2Ng==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 56,
      "path" : "src/qt/clientmodel.cpp",
      "position" : 59,
      "pull_request_review_id" : 303916878,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336510466",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r336513778"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336513778"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I could keep this here but the connection from the timer needs to be direct (not auto) so that this would run in the timer's thread.\r\n\r\nAlso, this is now unreachable, and it's a small step towards removing polling.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-18T14:17:33Z",
      "diff_hunk" : "@@ -90,14 +104,6 @@ int64_t ClientModel::getHeaderTipTime() const\n     return cachedBestHeaderTime;\n }\n \n-void ClientModel::updateTimer()\n-{\n-    // no locking required at this point\n-    // the following calls will acquire the required lock\n-    Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n-    Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n-}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r336513778",
      "id" : 336513778,
      "in_reply_to_id" : 336510466,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNjUxMzc3OA==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 56,
      "path" : "src/qt/clientmodel.cpp",
      "position" : 59,
      "pull_request_review_id" : 303921412,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/336513778",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--a722867cd34abeea1fadc8d60700f111-->\nGitian builds for commit ec3ed5a4487886f1c2a35fda0a3289be7b280248 (master):\n * `f64e5b9561bbfd24763ca216dfb72e6c...` [bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz)\n * `3450cd39da524d4259d8971fa07f7cd3...` [bitcoin-0.19.99-aarch64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-aarch64-linux-gnu.tar.gz)\n * `f9c08aecb54c510abc1c49a0f615cc47...` [bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz)\n * `48858aa869f72b05f6fd77a174cec72d...` [bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz)\n * `2f3d551fa3a0744ced807e575f1e4643...` [bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz)\n * `61eef7a7416e41bd49f11481339df776...` [bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz)\n * `befb99d795c38a2f320e99e677e437fb...` [bitcoin-0.19.99-osx-unsigned.dmg](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-osx-unsigned.dmg)\n * `aadf3d3811d300b416a2e3a36e5d9636...` [bitcoin-0.19.99-osx64.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-osx64.tar.gz)\n * `75ad9c5b79ef283885def690f4210e28...` [bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz)\n * `0bdc56205b7a686505b49d9694dfbb7d...` [bitcoin-0.19.99-riscv64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-riscv64-linux-gnu.tar.gz)\n * `0ed997185c1a65c6ab29882306a5c4ed...` [bitcoin-0.19.99-win64-debug.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-win64-debug.zip)\n * `e642bb08c080af778aad7ab1bc889769...` [bitcoin-0.19.99-win64-setup-unsigned.exe](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-win64-setup-unsigned.exe)\n * `471525f13e4ee98129b3e140175776a5...` [bitcoin-0.19.99-win64.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-win64.zip)\n * `a2d38074e8a186c6251fbb30948caf6f...` [bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz)\n * `544d75a68b31657850b22296599a3d3f...` [bitcoin-0.19.99-x86_64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99-x86_64-linux-gnu.tar.gz)\n * `c780c4b108f18250dfaa13a06d7ded80...` [bitcoin-0.19.99.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-0.19.99.tar.gz)\n * `42923b2fe3a4f72ea620650c3be0a040...` [bitcoin-core-linux-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-core-linux-0.20-res.yml)\n * `15e9a3c42739179b937c4bb927c02731...` [bitcoin-core-osx-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-core-osx-0.20-res.yml)\n * `4f45465e66f847f97cfd6af3c2bd3514...` [bitcoin-core-win-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/bitcoin-core-win-0.20-res.yml)\n * `a34a94c2dee07af19dfd80a405f39c1d...` [linux-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/linux-build.log)\n * `e0a214ba922d8febd8566d7102414cc0...` [osx-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/osx-build.log)\n * `bfb37291238fa4be8727e7c882d422e0...` [win-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/ec3ed5a4487886f1c2a35fda0a3289be7b280248/win-build.log)\n\n\nGitian builds for commit 6661358a0c082fd50378fe6fc88dddbd0566ebf0 (master and this pull):\n * `bd75e5285ba3454089eea66851951a3e...` [bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz)\n * `847ad3dbf8e9f1c9b9d3826d534258a6...` [bitcoin-0.19.99-aarch64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-aarch64-linux-gnu.tar.gz)\n * `abc3a5164207550aeaf56721f32edd2c...` [bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-arm-linux-gnueabihf-debug.tar.gz)\n * `45bb13636a019270312cba6197ffd32c...` [bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-arm-linux-gnueabihf.tar.gz)\n * `fb0a6b56c92ac730da300429a600b9db...` [bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-i686-pc-linux-gnu-debug.tar.gz)\n * `0bd7258f275d4d34ad07d4ec905b1b3f...` [bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-i686-pc-linux-gnu.tar.gz)\n * `4d9ca8b60fc979544cb99ffc4e232484...` [bitcoin-0.19.99-osx-unsigned.dmg](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-osx-unsigned.dmg)\n * `bdfe572383c66989ca8a463ed1ee48af...` [bitcoin-0.19.99-osx64.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-osx64.tar.gz)\n * `7b986c3b3cf8a6b3c7cbbe5d442a27dc...` [bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-riscv64-linux-gnu-debug.tar.gz)\n * `f5bb3c29e722f8e092d4660dc168d777...` [bitcoin-0.19.99-riscv64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-riscv64-linux-gnu.tar.gz)\n * `fd1b3e6297f2e86cd2df663c3f6d6f92...` [bitcoin-0.19.99-win64-debug.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-win64-debug.zip)\n * `773470fe260bc71e17da117b37c5e9ff...` [bitcoin-0.19.99-win64-setup-unsigned.exe](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-win64-setup-unsigned.exe)\n * `7945027d5a1e6ffb14e07cb2b5816dab...` [bitcoin-0.19.99-win64.zip](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-win64.zip)\n * `00c4bc060177f9a8969740538cb9c9b2...` [bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-x86_64-linux-gnu-debug.tar.gz)\n * `3945984613ad6cdd1d229cc1e63af38f...` [bitcoin-0.19.99-x86_64-linux-gnu.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99-x86_64-linux-gnu.tar.gz)\n * `8cc01845714d8ad70ff969ca8d518d02...` [bitcoin-0.19.99.tar.gz](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-0.19.99.tar.gz)\n * `ffee7001f20c1c3ff9c3502c2e00f692...` [bitcoin-core-linux-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-core-linux-0.20-res.yml)\n * `37d12c597b73b9f31a3aa1ff1c9b4c4f...` [bitcoin-core-linux-0.20-res.yml.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-core-linux-0.20-res.yml.diff)\n * `f0a73b15111d52d814864e7dbb376e9a...` [bitcoin-core-osx-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-core-osx-0.20-res.yml)\n * `3381d609d590467fa206e35d2cf70081...` [bitcoin-core-osx-0.20-res.yml.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-core-osx-0.20-res.yml.diff)\n * `eb691454dfca0bc139a483c4a51bd49a...` [bitcoin-core-win-0.20-res.yml](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-core-win-0.20-res.yml)\n * `e56f284e2044226f0d5e96a2c2ac2f3b...` [bitcoin-core-win-0.20-res.yml.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/bitcoin-core-win-0.20-res.yml.diff)\n * `b9636440f209ed05e6cc33613d049c82...` [linux-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/linux-build.log)\n * `3de26d2981536c352e0e25d6a7d6a066...` [linux-build.log.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/linux-build.log.diff)\n * `4c64ce4e05da72a2d5c6bf6a737d76b5...` [osx-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/osx-build.log)\n * `f761b312fafeaa275c9c53073d68cce3...` [osx-build.log.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/osx-build.log.diff)\n * `695226feb3f04e98b30265d3f29f1dc9...` [win-build.log](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/win-build.log)\n * `41ce19eae944a02dac666d0c41f5d6e3...` [win-build.log.diff](https://drahtbot.space/gitian/bitcoin/bitcoin/6661358a0c082fd50378fe6fc88dddbd0566ebf0/win-build.log.diff)\n",
      "created_at" : "2019-10-18T19:20:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-543897681",
      "id" : 543897681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Mzg5NzY4MQ==",
      "updated_at" : "2019-10-18T19:20:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543897681",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337105307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337105307"
         }
      },
      "author_association" : "NONE",
      "body" : "why is the timer deleted before the thread stops and not the other way around?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T16:06:27Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337105307",
      "id" : 337105307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzEwNTMwNw==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 40,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304676943,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337105307",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/284023?v=4",
         "events_url" : "https://api.github.com/users/ysangkok/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ysangkok/followers",
         "following_url" : "https://api.github.com/users/ysangkok/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ysangkok/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ysangkok",
         "id" : 284023,
         "login" : "ysangkok",
         "node_id" : "MDQ6VXNlcjI4NDAyMw==",
         "organizations_url" : "https://api.github.com/users/ysangkok/orgs",
         "received_events_url" : "https://api.github.com/users/ysangkok/received_events",
         "repos_url" : "https://api.github.com/users/ysangkok/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ysangkok/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ysangkok/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ysangkok"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337115197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337115197"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What is the issue?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T16:27:06Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337115197",
      "id" : 337115197,
      "in_reply_to_id" : 337105307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzExNTE5Nw==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 40,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304689629,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337115197",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337122853"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337122853"
         }
      },
      "author_association" : "NONE",
      "body" : "I don't know if there is an issue or not, I am just wondering if there is any specific reason for this ordering. Mostly because I saw [this comment](https://stackoverflow.com/questions/10492480/starting-qtimer-in-a-qthread#comment73988017_10493492).",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T16:43:19Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337122853",
      "id" : 337122853,
      "in_reply_to_id" : 337105307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzEyMjg1Mw==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 40,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304699332,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337122853",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/284023?v=4",
         "events_url" : "https://api.github.com/users/ysangkok/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ysangkok/followers",
         "following_url" : "https://api.github.com/users/ysangkok/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ysangkok/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ysangkok",
         "id" : 284023,
         "login" : "ysangkok",
         "node_id" : "MDQ6VXNlcjI4NDAyMw==",
         "organizations_url" : "https://api.github.com/users/ysangkok/orgs",
         "received_events_url" : "https://api.github.com/users/ysangkok/received_events",
         "repos_url" : "https://api.github.com/users/ysangkok/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ysangkok/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ysangkok/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ysangkok"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I can confirm that 8f0d8bd makes the unresponsive behavior go away on macOS 10.15 Catalina (e.g. the file menu now works at launch).",
      "created_at" : "2019-10-21T16:45:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-544603327",
      "id" : 544603327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NDYwMzMyNw==",
      "updated_at" : "2019-10-21T16:45:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544603327",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337134040"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337134040"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for pointing it, there's indeed an issue here - must be deleteLater of move after joining the other thread.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T17:07:31Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337134040",
      "id" : 337134040,
      "in_reply_to_id" : 337105307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzEzNDA0MA==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 40,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304713441,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337134040",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337142566"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337142566"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T17:26:08Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337142566",
      "id" : 337142566,
      "in_reply_to_id" : 337105307,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE0MjU2Ng==",
      "original_commit_id" : "8f0d8bd17a575a4235296d82cda80ba268a01dba",
      "original_position" : 40,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304724340,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337142566",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke @Sjors force push with\r\n```diff\r\n--- a/src/qt/clientmodel.cpp\r\n+++ b/src/qt/clientmodel.cpp\r\n@@ -57,9 +57,9 @@ ClientModel::~ClientModel()\r\n {\r\n     unsubscribeFromCoreSignals();\r\n\r\n-    delete pollTimer;\r\n     m_thread->quit();\r\n     m_thread->wait();\r\n+    delete pollTimer;\r\n }\r\n\r\n int ClientModel::getNumConnections(unsigned int flags) const\r\n```",
      "created_at" : "2019-10-21T17:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-544620615",
      "id" : 544620615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NDYyMDYxNQ==",
      "updated_at" : "2019-10-21T17:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544620615",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "\"Moved to another thread\" isn't really \"asynchronous\", but Concept ACK",
      "created_at" : "2019-10-21T17:51:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-544630618",
      "id" : 544630618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NDYzMDYxOA==",
      "updated_at" : "2019-10-21T17:51:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544630618",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337155139"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337155139"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can't you leave `ClientModel::updateTimer` as-is for now? Or at least move the code movement to another commit?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T17:53:27Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;\n+    // move timer to thread so that polling doesn't disturb event loop\n+    pollTimer->moveToThread(m_thread);\n+    m_thread->start();\n+    connect(pollTimer, &QTimer::timeout, [this] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337155139",
      "id" : 337155139,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE1NTEzOQ==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 26,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304740723,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337155139",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337156035"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337156035"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why can't this use `QTimer(m_thread)`?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T17:55:10Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337156035",
      "id" : 337156035,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE1NjAzNQ==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 22,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304741869,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337156035",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337162675"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337162675"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes but I'd have to connect with Qt::DirectConnection, otherwise the slot would be called in the GUI event loop.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:09:14Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;\n+    // move timer to thread so that polling doesn't disturb event loop\n+    pollTimer->moveToThread(m_thread);\n+    m_thread->start();\n+    connect(pollTimer, &QTimer::timeout, [this] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337162675",
      "id" : 337162675,
      "in_reply_to_id" : 337155139,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE2MjY3NQ==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 26,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304750324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337162675",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr right, conceptually asynchronous from the GUI thread.",
      "created_at" : "2019-10-21T18:12:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-544638889",
      "id" : 544638889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NDYzODg4OQ==",
      "updated_at" : "2019-10-21T18:12:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/544638889",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337165572"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337165572"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Because Qt threading model :trollface:\r\n\r\nBeing a child of QThread does nothing other than be owned by it. To have it's events processed in the thread then moveToThread must be used. This also works only if the object being moved has no parent.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:15:22Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337165572",
      "id" : 337165572,
      "in_reply_to_id" : 337156035,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE2NTU3Mg==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 22,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304754119,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337165572",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337171800"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337171800"
         }
      },
      "author_association" : "NONE",
      "body" : "why can't this be a unique_ptr?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:28:40Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337171800",
      "id" : 337171800,
      "in_reply_to_id" : 337156035,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE3MTgwMA==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 22,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304762237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337171800",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/284023?v=4",
         "events_url" : "https://api.github.com/users/ysangkok/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ysangkok/followers",
         "following_url" : "https://api.github.com/users/ysangkok/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ysangkok/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ysangkok",
         "id" : 284023,
         "login" : "ysangkok",
         "node_id" : "MDQ6VXNlcjI4NDAyMw==",
         "organizations_url" : "https://api.github.com/users/ysangkok/orgs",
         "received_events_url" : "https://api.github.com/users/ysangkok/received_events",
         "repos_url" : "https://api.github.com/users/ysangkok/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ysangkok/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ysangkok/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ysangkok"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337173074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337173074"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I thought it deleted children when being deleted itself?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:31:26Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337173074",
      "id" : 337173074,
      "in_reply_to_id" : 337156035,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE3MzA3NA==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 22,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304763909,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337173074",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337173366"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337173366"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Even after `moveToThread`? Because of the slot being on a GUI object?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:32:06Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;\n+    // move timer to thread so that polling doesn't disturb event loop\n+    pollTimer->moveToThread(m_thread);\n+    m_thread->start();\n+    connect(pollTimer, &QTimer::timeout, [this] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337173366",
      "id" : 337173366,
      "in_reply_to_id" : 337155139,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE3MzM2Ng==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 26,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304764260,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337173366",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337182137"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337182137"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, with auto connection (the default) the signal checks if the target's thread is the same as the sender or not, if not then it's the same as queued connection.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:50:57Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;\n+    // move timer to thread so that polling doesn't disturb event loop\n+    pollTimer->moveToThread(m_thread);\n+    m_thread->start();\n+    connect(pollTimer, &QTimer::timeout, [this] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337182137",
      "id" : 337182137,
      "in_reply_to_id" : 337155139,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE4MjEzNw==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 26,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304775402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337182137",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337182584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337182584"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You can't have a tree of objects with different thread affinity.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:51:57Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337182584",
      "id" : 337182584,
      "in_reply_to_id" : 337156035,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE4MjU4NA==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 22,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304776007,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337182584",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337183952"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337183952"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> why can't this be a unique_ptr?\r\n\r\nIt can, but it requires more changes, which are unnecessary in the scope of this PR.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-21T18:54:43Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r337183952",
      "id" : 337183952,
      "in_reply_to_id" : 337156035,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzE4Mzk1Mg==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 22,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 304777781,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337183952",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "tested ACK 8f0d8bd \r\n\r\nBuilt, ran tests, some manual testing while running for 24h on macOS.\r\n\r\nPlease add a description. I got the context from the [core dev logs](http://www.erisian.com.au/bitcoin-core-dev/log-2019-10-17.html) but there should be some information here as well.",
      "created_at" : "2019-10-24T17:08:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-546013613",
      "id" : 546013613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjAxMzYxMw==",
      "updated_at" : "2019-10-24T17:08:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546013613",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338761575"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338761575"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As discussed on IRC: I don't think deleting the timer in the main thread, after having moved it to another thread is safe. Qt objects need to be deleted in the thread that owns them. I think that that thread doesn't exist anymore here doesn't change that. You're not even supposed to hold on to the pointer.\r\n\r\nI think you can do this before moving it to the thread to make sure it's cleaned up:\r\n```\r\nconnect(&thread, &QThread::finished, pollTimer, &QTimer::deleteLater);\r\n```\r\n(like in `RPCConsole::startExecutor()`)",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-24T19:52:38Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    m_thread->quit();\n+    m_thread->wait();\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338761575",
      "id" : 338761575,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODc2MTU3NQ==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 42,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 306824252,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338761575",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338762168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338762168"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you should do this connect before moving the timer to the thread?\r\n(or maybe not, I'm not sure hereâ¦)",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-24T19:54:03Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;\n+    // move timer to thread so that polling doesn't disturb event loop\n+    pollTimer->moveToThread(m_thread);\n+    m_thread->start();\n+    connect(pollTimer, &QTimer::timeout, [this] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338762168",
      "id" : 338762168,
      "in_reply_to_id" : 337155139,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODc2MjE2OA==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 26,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 306825039,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338762168",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338936921"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338936921"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`QObject::connect` is thread safe.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T08:20:34Z",
      "diff_hunk" : "@@ -30,14 +31,23 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n+\n+    pollTimer = new QTimer;\n+    // move timer to thread so that polling doesn't disturb event loop\n+    pollTimer->moveToThread(m_thread);\n+    m_thread->start();\n+    connect(pollTimer, &QTimer::timeout, [this] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338936921",
      "id" : 338936921,
      "in_reply_to_id" : 337155139,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODkzNjkyMQ==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 26,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307049170,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338936921",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338936979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338936979"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T08:20:45Z",
      "diff_hunk" : "@@ -46,6 +56,10 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n ClientModel::~ClientModel()\n {\n     unsubscribeFromCoreSignals();\n+\n+    m_thread->quit();\n+    m_thread->wait();\n+    delete pollTimer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338936979",
      "id" : 338936979,
      "in_reply_to_id" : 338761575,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODkzNjk3OQ==",
      "original_commit_id" : "8cf1c67717bf28b9f3bb787ef75648dfe9da946b",
      "original_position" : 42,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307049170,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338936979",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338942232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338942232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The cast is needed because `QTimer::start` is overloaded.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T08:33:56Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);\n+    connect(m_thread, &QThread::started, timer, static_cast<void (QTimer::*)()>(&QTimer::start));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338942232",
      "id" : 338942232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODk0MjIzMg==",
      "original_commit_id" : "092d91f6196af497b9618418f84527f552ef1154",
      "original_position" : 32,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307055957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338942232",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338964232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338964232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "^ can you put that in a source code comment?",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T09:27:47Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);\n+    connect(m_thread, &QThread::started, timer, static_cast<void (QTimer::*)()>(&QTimer::start));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r338964232",
      "id" : 338964232,
      "in_reply_to_id" : 338942232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODk2NDIzMg==",
      "original_commit_id" : "092d91f6196af497b9618418f84527f552ef1154",
      "original_position" : 32,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307085500,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338964232",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Would it make sense to create a NodePoller object, which handles the timer life cycle? Or is that overkill if the plan is to get rid of polling asap anyway?\r\n\r\nI think that as long as polling is necessary (and I don't believe we will completely get rid of it any time soon) it would make sense to have one thread to do all polling, and not, say, create a thread per WalletModel too.\r\n\r\nBut it's out of scope for this PR.",
      "created_at" : "2019-10-25T11:10:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-546311414",
      "id" : 546311414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjMxMTQxNA==",
      "updated_at" : "2019-10-25T11:10:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546311414",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339002303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339002303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "could this work instead of the scary cast ?\r\n```c++\r\nconnect(m_thread, &QThread::started, timer, [timer] {\r\n    timer->start();\r\n});\r\n```",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T11:15:15Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);\n+    connect(m_thread, &QThread::started, timer, static_cast<void (QTimer::*)()>(&QTimer::start));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339002303",
      "id" : 339002303,
      "in_reply_to_id" : 338942232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTAwMjMwMw==",
      "original_commit_id" : "092d91f6196af497b9618418f84527f552ef1154",
      "original_position" : 32,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307136705,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339002303",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339004314"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339004314"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes that works, and the following also works:\r\n```cpp\r\nconnect(m_thread, &QThread::started, [timer] {\r\n    timer->start();\r\n});\r\n```\r\nbecause `started` is emitted from the associated thread.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T11:21:33Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);\n+    connect(m_thread, &QThread::started, timer, static_cast<void (QTimer::*)()>(&QTimer::start));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339004314",
      "id" : 339004314,
      "in_reply_to_id" : 338942232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTAwNDMxNA==",
      "original_commit_id" : "092d91f6196af497b9618418f84527f552ef1154",
      "original_position" : 32,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307139371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339004314",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339009116"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339009116"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Much better!",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T11:37:17Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);\n+    connect(m_thread, &QThread::started, timer, static_cast<void (QTimer::*)()>(&QTimer::start));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339009116",
      "id" : 339009116,
      "in_reply_to_id" : 338942232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTAwOTExNg==",
      "original_commit_id" : "092d91f6196af497b9618418f84527f552ef1154",
      "original_position" : 32,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 307145754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T13:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339009116",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339068388"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339068388"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ops, I think this is wrong - `deleteLater` isn't called because the thread's event loop is not running. I'll check this.",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T14:02:28Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339068388",
      "id" : 339068388,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTA2ODM4OA==",
      "original_commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "original_position" : 31,
      "path" : "src/qt/clientmodel.cpp",
      "position" : 31,
      "pull_request_review_id" : 307225472,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T14:02:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339068388",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339069059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339069059"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nope, all good! From https://doc.qt.io/qt-5/qthread.html#finished:\r\n> When this signal is emitted, the event loop has already stopped running. No more events will be processed in the thread, except for deferred deletion events. This signal can be connected to QObject::deleteLater(), to free objects in that thread.\r\n\r\n",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T14:03:47Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339069059",
      "id" : 339069059,
      "in_reply_to_id" : 339068388,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTA2OTA1OQ==",
      "original_commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "original_position" : 31,
      "path" : "src/qt/clientmodel.cpp",
      "position" : 31,
      "pull_request_review_id" : 307226341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T14:03:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339069059",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339136601"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339136601"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Phew, good to know (I've read that once but forgot)",
      "commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T16:26:50Z",
      "diff_hunk" : "@@ -30,22 +31,36 @@ ClientModel::ClientModel(interfaces::Node& node, OptionsModel *_optionsModel, QO\n     optionsModel(_optionsModel),\n     peerTableModel(nullptr),\n     banTableModel(nullptr),\n-    pollTimer(nullptr)\n+    m_thread(new QThread(this))\n {\n     cachedBestHeaderHeight = -1;\n     cachedBestHeaderTime = -1;\n     peerTableModel = new PeerTableModel(m_node, this);\n     banTableModel = new BanTableModel(m_node, this);\n-    pollTimer = new QTimer(this);\n-    connect(pollTimer, &QTimer::timeout, this, &ClientModel::updateTimer);\n-    pollTimer->start(MODEL_UPDATE_DELAY);\n+\n+    QTimer* timer = new QTimer;\n+    timer->setInterval(MODEL_UPDATE_DELAY);\n+    connect(timer, &QTimer::timeout, [this] {\n+        // no locking required at this point\n+        // the following calls will acquire the required lock\n+        Q_EMIT mempoolSizeChanged(m_node.getMempoolSize(), m_node.getMempoolDynamicUsage());\n+        Q_EMIT bytesChanged(m_node.getTotalBytesRecv(), m_node.getTotalBytesSent());\n+    });\n+    connect(m_thread, &QThread::finished, timer, &QObject::deleteLater);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#discussion_r339136601",
      "id" : 339136601,
      "in_reply_to_id" : 339068388,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzOTEzNjYwMQ==",
      "original_commit_id" : "6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "original_position" : 31,
      "path" : "src/qt/clientmodel.cpp",
      "position" : 31,
      "pull_request_review_id" : 307316679,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17135",
      "updated_at" : "2019-10-25T16:41:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/339136601",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 6b6be41c36e4fe9a74bed50e7f0a06532ab1260b",
      "created_at" : "2019-10-25T16:43:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-546426693",
      "id" : 546426693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjQyNjY5Mw==",
      "updated_at" : "2019-10-25T16:43:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546426693",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review re-ACK 6b6be41; only replaced the scary cast with `{ timer->start(); }`",
      "created_at" : "2019-10-25T18:21:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17135#issuecomment-546459818",
      "id" : 546459818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17135",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjQ1OTgxOA==",
      "updated_at" : "2019-10-25T18:21:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546459818",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
