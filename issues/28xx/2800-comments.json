[
   {
      "author_association" : "MEMBER",
      "body" : "Looks like the same error as #2674 and #2405\n\nAs suggested, running with -reindex should fix the problem.\n\nedit: Also #2426\n",
      "created_at" : "2013-06-27T15:22:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-20127733",
      "id" : 20127733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIwMTI3NzMz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20127733/reactions"
      },
      "updated_at" : "2013-06-27T15:26:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20127733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "./Bitcoin-Qt -reindex fix the issue. I think that something should check\nfor it and propose to reindex.\nThank you for helping me.\n\nL.\n\n2013/6/27 Michael Ford notifications@github.com\n\n> Looks like the same error as #2674https://github.com/bitcoin/bitcoin/issues/2674and\n> #2405 https://github.com/bitcoin/bitcoin/issues/2405\n> \n> â\n> Reply to this email directly or view it on GitHubhttps://github.com/bitcoin/bitcoin/issues/2800#issuecomment-20127733\n> .\n\n## \n\nBest Regards - Cordialement\n\n [image: Outscale, le Cloud Francais] https://www.outscale.com\n Laurent Seror, President\nTel : 0826.206.307 (poste 101)\nFax : +33.1.83.62.92.89\n\n [image: Facebook] https://www.facebook.com/outscale\n[image: Twitter] https://www.twitter.com/outscale\n[image: Google+] https://plus.google.com/b/100656673964345909019/\n IMPORTANT: The information contained in this message may be privileged and\nconfidential and protected from disclosure. If the reader of this message\nis not the intended recipient, or an employee or agent responsible for\ndelivering this message to the intended recipient, you are hereby notified\nthat any dissemination, distribution or copying of this communication is\nstrictly prohibited. If you have received this communication in error,\nplease notify us immediately by replying to the message and deleting it\nfrom your computer.\n",
      "created_at" : "2013-06-27T16:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-20132660",
      "id" : 20132660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIwMTMyNjYw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20132660/reactions"
      },
      "updated_at" : "2013-06-27T16:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20132660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4852368?v=4",
         "events_url" : "https://api.github.com/users/lseror/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lseror/followers",
         "following_url" : "https://api.github.com/users/lseror/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lseror/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lseror",
         "id" : 4852368,
         "login" : "lseror",
         "node_id" : "MDQ6VXNlcjQ4NTIzNjg=",
         "organizations_url" : "https://api.github.com/users/lseror/orgs",
         "received_events_url" : "https://api.github.com/users/lseror/received_events",
         "repos_url" : "https://api.github.com/users/lseror/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lseror/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lseror/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lseror"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I had the same issue. Running reindex solved it.\n\n``` bash\n/Applications/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -reindex\n```\n",
      "created_at" : "2013-07-04T07:03:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-20462026",
      "id" : 20462026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIwNDYyMDI2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20462026/reactions"
      },
      "updated_at" : "2013-07-04T07:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20462026",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10639?v=4",
         "events_url" : "https://api.github.com/users/andruby/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andruby/followers",
         "following_url" : "https://api.github.com/users/andruby/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andruby/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andruby",
         "id" : 10639,
         "login" : "andruby",
         "node_id" : "MDQ6VXNlcjEwNjM5",
         "organizations_url" : "https://api.github.com/users/andruby/orgs",
         "received_events_url" : "https://api.github.com/users/andruby/received_events",
         "repos_url" : "https://api.github.com/users/andruby/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andruby/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andruby/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andruby"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Somebody reported this occuring on windows xp also with 0.8.3\n\nhttp://bitcoin.stackexchange.com/questions/12997/assertion-failed-when-i-try-to-open-bitcoin-wallet\n\nHe added that he's trying to open it from multiple user accounts, so I'm wondering what the expected behavior for that is?\n",
      "created_at" : "2013-08-29T20:01:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-23519014",
      "id" : 23519014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIzNTE5MDE0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23519014/reactions"
      },
      "updated_at" : "2013-08-29T20:01:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23519014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4961683?v=4",
         "events_url" : "https://api.github.com/users/neilneyman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/neilneyman/followers",
         "following_url" : "https://api.github.com/users/neilneyman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/neilneyman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/neilneyman",
         "id" : 4961683,
         "login" : "neilneyman",
         "node_id" : "MDQ6VXNlcjQ5NjE2ODM=",
         "organizations_url" : "https://api.github.com/users/neilneyman/orgs",
         "received_events_url" : "https://api.github.com/users/neilneyman/received_events",
         "repos_url" : "https://api.github.com/users/neilneyman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/neilneyman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/neilneyman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/neilneyman"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I can reproduce the same issue consistently too.\n",
      "created_at" : "2013-11-25T11:04:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29193239",
      "id" : 29193239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MTkzMjM5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29193239/reactions"
      },
      "updated_at" : "2013-11-25T11:04:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29193239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/692459?v=4",
         "events_url" : "https://api.github.com/users/mmalecki/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmalecki/followers",
         "following_url" : "https://api.github.com/users/mmalecki/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmalecki/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmalecki",
         "id" : 692459,
         "login" : "mmalecki",
         "node_id" : "MDQ6VXNlcjY5MjQ1OQ==",
         "organizations_url" : "https://api.github.com/users/mmalecki/orgs",
         "received_events_url" : "https://api.github.com/users/mmalecki/received_events",
         "repos_url" : "https://api.github.com/users/mmalecki/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmalecki/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmalecki/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmalecki"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mmalecki Can you post steps to reproduce. \n",
      "created_at" : "2013-11-25T11:20:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29194138",
      "id" : 29194138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MTk0MTM4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29194138/reactions"
      },
      "updated_at" : "2013-11-25T11:20:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29194138",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@fanquake I can reproduce by just running `Bitcoin-Qt` or `bitcoind`.\n\nSo today I compiled a fresh `bitcoind` from `master` to try and debug. This is what I've got:\n\n```\n[maciej@pc09 bitcoin (master)]$ lldb src/bitcoind\nCurrent executable set to 'src/bitcoind' (x86_64).\n(lldb) run\nProcess 45503 launched: '/Users/maciej/dev/src/bitcoin/src/bitcoind' (x86_64)\nAssertion failed: (pfork != NULL), function SetBestChain, file main.cpp, line 1727.\nProcess 45503 stopped\n* thread #1: tid = 0x1951f6, 0x00007fff94048866 libsystem_kernel.dylib`__pthread_kill + 10, queue = 'com.apple.main-thread, stop reason = signal SIGABRT\n    frame #0: 0x00007fff94048866 libsystem_kernel.dylib`__pthread_kill + 10\nlibsystem_kernel.dylib`__pthread_kill + 10:\n-> 0x7fff94048866:  jae    0x7fff94048870            ; __pthread_kill + 20\n   0x7fff94048868:  movq   %rax, %rdi\n   0x7fff9404886b:  jmpq   0x7fff94045175            ; cerror_nocancel\n   0x7fff94048870:  ret\n(lldb) bt\n* thread #1: tid = 0x1951f6, 0x00007fff94048866 libsystem_kernel.dylib`__pthread_kill + 10, queue = 'com.apple.main-thread, stop reason = signal SIGABRT\n    frame #0: 0x00007fff94048866 libsystem_kernel.dylib`__pthread_kill + 10\n    frame #1: 0x00007fff8bc5e35c libsystem_pthread.dylib`pthread_kill + 92\n    frame #2: 0x00007fff90c5bbba libsystem_c.dylib`abort + 125\n    frame #3: 0x00007fff90c25a5f libsystem_c.dylib`__assert_rtn + 321\n    frame #4: 0x000000010023354f bitcoind`SetBestChain(state=0x00007fff5fbfa210, pindexNew=0x0000000108295ed0) + 1167 at main.cpp:1727\n    frame #5: 0x0000000100232550 bitcoind`ConnectBestBlock(state=0x00007fff5fbfa210) + 3568 at main.cpp:1277\n    frame #6: 0x000000010019c2ab bitcoind`AppInit2(threadGroup=0x00007fff5fbff400, fForceServer=true) + 62795 at init.cpp:1001\n    frame #7: 0x00000001000032c8 bitcoind`AppInit(argc=1, argv=0x00007fff5fbff8e8) + 6280 at bitcoind.cpp:130\n    frame #8: 0x0000000100003589 bitcoind`main(argc=1, argv=0x00007fff5fbff8e8) + 57 at bitcoind.cpp:167\n    frame #9: 0x00007fff8b7fb5fd libdyld.dylib`start + 1\n    frame #10: 0x00007fff8b7fb5fd libdyld.dylib`start + 1\n(lldb) f 4\nframe #4: 0x000000010023354f bitcoind`SetBestChain(state=0x00007fff5fbfa210, pindexNew=0x0000000108295ed0) + 1167 at main.cpp:1727\n   1724         if (pfork == plonger)\n   1725             break;\n   1726         pfork = pfork->pprev;\n-> 1727         assert(pfork != NULL);\n   1728     }\n   1729\n   1730     // List of what to disconnect (typically nothing)\n(lldb) fr v -a\n(CCoinsViewCache) view = {\n  CCoinsViewBacked = {\n    base = 0x0000000101906220\n  }\n  hashBlock = {\n    base_uint256 = {\n      pn = {\n        [0] = 3631699570\n        [1] = 1759897205\n        [2] = 930675821\n        [3] = 1750758114\n        [4] = 4184406982\n        [5] = 2312720437\n        [6] = 20\n        [7] = 0\n      }\n    }\n  }\n  cacheCoins = size=0 {}\n}\n(std::__1::map<uint256, CBlockIndex *, std::__1::less<uint256>, std::__1::allocator<std::__1::pair<const uint256, CBlockIndex *> > >::iterator) it = {\n  first = {\n    base_uint256 = {\n      pn = {\n        [0] = 3631699570\n        [1] = 1759897205\n        [2] = 930675821\n        [3] = 1750758114\n        [4] = 4184406982\n        [5] = 2312720437\n        [6] = 20\n        [7] = 0\n      }\n    }\n  }\n  second = 0x00000001090f3e60\n}\n(CBlockIndex *) ptip = 0x00000001090f3e60\n(CBlockIndex *) pfork = 0x0000000000000000\n(CBlockIndex *) plonger = 0x00000001081641c0\n(std::__1::vector<CBlockIndex *, std::__1::allocator<CBlockIndex *> >) vDisconnect = size=0 {}\n(std::__1::vector<CBlockIndex *, std::__1::allocator<CBlockIndex *> >) vConnect = size=0 {}\n(std::__1::list<CTransaction, std::__1::allocator<CTransaction> >) vResurrect = size=0 {}\n(bool) _foreach_is_rvalue1748 = false\n(boost::foreach_detail_::auto_any_t) _foreach_col1748 = 0x0000000107fc3e58: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_cur1748 = 0x000000010c48dcd0: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_end1748 = 0x000000010c48dcd0: {\n}\n(std::__1::vector<CTransaction, std::__1::allocator<CTransaction> >) vDelete = size=0 {}\n(bool) _foreach_is_rvalue1768 = true\n(boost::foreach_detail_::auto_any_t) _foreach_col1768 = 0x00007fff5fbf7508: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_cur1768 = 0x0000000101a1af78: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_end1768 = 0xffffffffffffffff: {\n}\n(int64_t) nStart = 140734799767944\n(int) nModified = 0\n(int64_t) nTime = 0\n(bool) fIsInitialDownload = false\n(bool) _foreach_is_rvalue1819 = false\n(boost::foreach_detail_::auto_any_t) _foreach_col1819 = 0x00007fff5fbf6988: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_cur1819 = 0x00007fff5fbf6988: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_end1819 = 0x00007fff5fbf6988: {\n}\n(bool) _foreach_is_rvalue1827 = false\n(boost::foreach_detail_::auto_any_t) _foreach_col1827 = 0x00007fff5fbf75c0: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_cur1827 = 0x0000000000000001: {\n}\n(boost::foreach_detail_::auto_any_t) _foreach_end1827 = 0x00007fff5fbf75c0: {\n}\n(std::__1::string) strCmd = \"\"\n(lldb)\n```\n\nSo it looks like it hits a case where eventually `pfork->pprev` is `NULL`? I'm gonna try and dig in a bit more (also, wow, Boost brings in lots of cruft).\n",
      "created_at" : "2013-11-25T12:24:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29197552",
      "id" : 29197552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MTk3NTUy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29197552/reactions"
      },
      "updated_at" : "2013-11-25T12:24:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29197552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/692459?v=4",
         "events_url" : "https://api.github.com/users/mmalecki/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmalecki/followers",
         "following_url" : "https://api.github.com/users/mmalecki/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmalecki/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmalecki",
         "id" : 692459,
         "login" : "mmalecki",
         "node_id" : "MDQ6VXNlcjY5MjQ1OQ==",
         "organizations_url" : "https://api.github.com/users/mmalecki/orgs",
         "received_events_url" : "https://api.github.com/users/mmalecki/received_events",
         "repos_url" : "https://api.github.com/users/mmalecki/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmalecki/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmalecki/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmalecki"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mmalecki Have a look @ #3290\n\nAre you running 10.8.x or Mavericks?\n",
      "created_at" : "2013-11-25T12:33:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29198016",
      "id" : 29198016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MTk4MDE2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29198016/reactions"
      },
      "updated_at" : "2013-11-25T12:33:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29198016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "#3290 might indeed be relevent - I'll try patching `SetBestChain` in a similar fashion and report back.\n\nI'm running Mavericks.\n",
      "created_at" : "2013-11-25T12:38:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29198275",
      "id" : 29198275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MTk4Mjc1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29198275/reactions"
      },
      "updated_at" : "2013-11-25T12:38:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29198275",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/692459?v=4",
         "events_url" : "https://api.github.com/users/mmalecki/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmalecki/followers",
         "following_url" : "https://api.github.com/users/mmalecki/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmalecki/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmalecki",
         "id" : 692459,
         "login" : "mmalecki",
         "node_id" : "MDQ6VXNlcjY5MjQ1OQ==",
         "organizations_url" : "https://api.github.com/users/mmalecki/orgs",
         "received_events_url" : "https://api.github.com/users/mmalecki/received_events",
         "repos_url" : "https://api.github.com/users/mmalecki/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmalecki/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmalecki/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmalecki"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@fanquake so I tried applying the following:\n\n``` diff\ndiff --git a/src/main.cpp b/src/main.cpp\nindex 705e94f..ff2c9b4 100644\n--- a/src/main.cpp\n+++ b/src/main.cpp\n@@ -1721,11 +1721,11 @@ bool SetBestChain(CValidationState &state, CBlockIndex* pindexNew)\n             plonger = plonger->pprev;\n             assert(plonger != NULL);\n         }\n-        if (pfork == plonger)\n+        if (pfork == plonger || pfork->pprev == NULL)\n             break;\n         pfork = pfork->pprev;\n-        assert(pfork != NULL);\n     }\n+    assert(pfork != NULL);\n\n     // List of what to disconnect (typically nothing)\n     vector<CBlockIndex*> vDisconnect;\n```\n\nBut I'm getting a segfault.\n",
      "created_at" : "2013-11-25T15:14:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29209083",
      "id" : 29209083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MjA5MDgz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29209083/reactions"
      },
      "updated_at" : "2013-11-25T15:14:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29209083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/692459?v=4",
         "events_url" : "https://api.github.com/users/mmalecki/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmalecki/followers",
         "following_url" : "https://api.github.com/users/mmalecki/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmalecki/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmalecki",
         "id" : 692459,
         "login" : "mmalecki",
         "node_id" : "MDQ6VXNlcjY5MjQ1OQ==",
         "organizations_url" : "https://api.github.com/users/mmalecki/orgs",
         "received_events_url" : "https://api.github.com/users/mmalecki/received_events",
         "repos_url" : "https://api.github.com/users/mmalecki/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmalecki/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmalecki/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmalecki"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@mmalecki That seems off on the code.  Could you try just modifying line 1728 from:\n\n```\nwhile (pfork && pfork != plonger)\n```\n\nto:\n\n```\nwhile (pfork->pprev && pfork != plonger)\n```\n",
      "created_at" : "2013-11-25T15:43:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29211757",
      "id" : 29211757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MjExNzU3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29211757/reactions"
      },
      "updated_at" : "2013-11-25T15:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29211757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4031607?v=4",
         "events_url" : "https://api.github.com/users/csound/events{/privacy}",
         "followers_url" : "https://api.github.com/users/csound/followers",
         "following_url" : "https://api.github.com/users/csound/following{/other_user}",
         "gists_url" : "https://api.github.com/users/csound/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/csound",
         "id" : 4031607,
         "login" : "csound",
         "node_id" : "MDEyOk9yZ2FuaXphdGlvbjQwMzE2MDc=",
         "organizations_url" : "https://api.github.com/users/csound/orgs",
         "received_events_url" : "https://api.github.com/users/csound/received_events",
         "repos_url" : "https://api.github.com/users/csound/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/csound/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/csound/subscriptions",
         "type" : "Organization",
         "url" : "https://api.github.com/users/csound"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@mmalecki  Ooops, I had commented but had not realized a different user was logged in on this computer for Github.  Last comment was from me, not csound.\n",
      "created_at" : "2013-11-25T15:45:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29211966",
      "id" : 29211966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MjExOTY2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29211966/reactions"
      },
      "updated_at" : "2013-11-25T15:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29211966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1622139?v=4",
         "events_url" : "https://api.github.com/users/kunstmusik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kunstmusik/followers",
         "following_url" : "https://api.github.com/users/kunstmusik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kunstmusik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kunstmusik",
         "id" : 1622139,
         "login" : "kunstmusik",
         "node_id" : "MDQ6VXNlcjE2MjIxMzk=",
         "organizations_url" : "https://api.github.com/users/kunstmusik/orgs",
         "received_events_url" : "https://api.github.com/users/kunstmusik/received_events",
         "repos_url" : "https://api.github.com/users/kunstmusik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kunstmusik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kunstmusik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kunstmusik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If you're getting that error, your database is corrupted and you should rebuild it. Admittedly, this shouldn't cause an assertion error, but that's not what we're looking for here. The question is how it corrupts.\n\nCan you start with -reindex to rebuild the database (will take a while!), and see whether it gets corrupted again over time?\n",
      "created_at" : "2013-11-25T17:16:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29220892",
      "id" : 29220892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MjIwODky",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29220892/reactions"
      },
      "updated_at" : "2013-11-25T17:16:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29220892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa I know that this is caused by the database corruption, I'm just concerned about this assertion error and I want to help while I can reproduce it.\nCan we just reindex if `pfork == NULL` (or in case of any other database corruption which would normally cause an assertion failure)?\n",
      "created_at" : "2013-11-26T13:55:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-29293586",
      "id" : 29293586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MjkzNTg2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29293586/reactions"
      },
      "updated_at" : "2013-11-26T13:55:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29293586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/692459?v=4",
         "events_url" : "https://api.github.com/users/mmalecki/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmalecki/followers",
         "following_url" : "https://api.github.com/users/mmalecki/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmalecki/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmalecki",
         "id" : 692459,
         "login" : "mmalecki",
         "node_id" : "MDQ6VXNlcjY5MjQ1OQ==",
         "organizations_url" : "https://api.github.com/users/mmalecki/orgs",
         "received_events_url" : "https://api.github.com/users/mmalecki/received_events",
         "repos_url" : "https://api.github.com/users/mmalecki/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmalecki/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmalecki/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmalecki"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is likely the well-known MacOSX corruption issue. If this still happens after a reindex with 0.8.6, please open a new issue.\n",
      "created_at" : "2014-01-17T12:27:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2800#issuecomment-32601696",
      "id" : 32601696,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDMyNjAxNjk2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32601696/reactions"
      },
      "updated_at" : "2014-01-17T12:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32601696",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
