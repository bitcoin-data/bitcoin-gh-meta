[
   {
      "author_association" : "MEMBER",
      "body" : "Interesting; we should definitely do that. Can you move the logic for pruning setBlockIndexCandidates to a separate function (as the same code appears in ActivateBestChainStep)>\n",
      "created_at" : "2014-11-02T07:20:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-61396872",
      "id" : 61396872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzk2ODcy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61396872/reactions"
      },
      "updated_at" : "2014-11-02T07:20:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61396872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Updated as requested.\n",
      "created_at" : "2014-11-02T14:48:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-61409449",
      "id" : 61409449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNDA5NDQ5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61409449/reactions"
      },
      "updated_at" : "2014-11-02T14:48:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61409449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=4",
         "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ghost/followers",
         "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ghost",
         "id" : 10137,
         "login" : "ghost",
         "node_id" : "MDQ6VXNlcjEwMTM3",
         "organizations_url" : "https://api.github.com/users/ghost/orgs",
         "received_events_url" : "https://api.github.com/users/ghost/received_events",
         "repos_url" : "https://api.github.com/users/ghost/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ghost"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Untested ACK\n",
      "created_at" : "2014-11-02T14:53:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-61409631",
      "id" : 61409631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNDA5NjMx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61409631/reactions"
      },
      "updated_at" : "2014-11-02T14:53:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61409631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Aside from whitespace bugs, tested ACK only commithash ba5bf8f6ae344bf2e69ff551490b4262e3e9d129: http://bitcoin.ninja/TheBlueMatt-5194.txt\n",
      "created_at" : "2014-11-08T19:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-62273629",
      "id" : 62273629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjczNjI5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62273629/reactions"
      },
      "updated_at" : "2014-11-08T19:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62273629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20053796"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20053796"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Please remove the trailing whitespace here and on 2869\n",
      "commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "created_at" : "2014-11-08T19:29:52Z",
      "diff_hunk" : "@@ -2860,6 +2864,9 @@ bool static LoadBlockIndexDB()\n     if (it == mapBlockIndex.end())\n         return true;\n     chainActive.SetTip(it->second);\n+    ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20053796",
      "id" : 20053796,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDUzNzk2",
      "original_commit_id" : "ba5bf8f6ae344bf2e69ff551490b4262e3e9d129",
      "original_line" : null,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20053796/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-12T05:52:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20053796",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Removed the trailing whitespace on 2867 and 2869, as suggested.\n",
      "created_at" : "2014-11-12T06:13:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-62675095",
      "id" : 62675095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNjc1MDk1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62675095/reactions"
      },
      "updated_at" : "2014-11-12T06:13:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62675095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=4",
         "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ghost/followers",
         "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ghost",
         "id" : 10137,
         "login" : "ghost",
         "node_id" : "MDQ6VXNlcjEwMTM3",
         "organizations_url" : "https://api.github.com/users/ghost/orgs",
         "received_events_url" : "https://api.github.com/users/ghost/received_events",
         "repos_url" : "https://api.github.com/users/ghost/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ghost"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "untested ACK still\n",
      "created_at" : "2014-11-18T14:02:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-63474625",
      "id" : 63474625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNDc0NjI1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63474625/reactions"
      },
      "updated_at" : "2014-11-18T14:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63474625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638493"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please check for end before dereferencing *it:\n\n```\n    while (it != setBlockIndexCandidates.end() && setBlockIndexCandidates.value_comp()(*it, chainActive.Tip())) {\n```\n",
      "commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "created_at" : "2014-11-20T10:55:27Z",
      "diff_hunk" : "@@ -1949,6 +1949,16 @@ static CBlockIndex* FindMostWorkChain() {\n     } while(true);\n }\n \n+// Delete all entries in setBlockIndexCandidates that are worse than the current tip.\n+static void PruneBlockIndexCandidates() {\n+    // Note that we can't delete the current block itself, as we may need to return to it later in case a\n+    // reorganization to a better block fails.\n+    std::set<CBlockIndex*, CBlockIndexWorkComparator>::iterator it = setBlockIndexCandidates.begin();\n+    while (setBlockIndexCandidates.value_comp()(*it, chainActive.Tip())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638493",
      "id" : 20638493,
      "line" : 1957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjM4NDkz",
      "original_commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "original_line" : null,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 9,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638493/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-20T10:55:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638653"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638653"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's just moved code, and shouldn't be necessary (see the assert that used to follow...). But this shouldn't hurt.\n",
      "commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "created_at" : "2014-11-20T10:59:30Z",
      "diff_hunk" : "@@ -1949,6 +1949,16 @@ static CBlockIndex* FindMostWorkChain() {\n     } while(true);\n }\n \n+// Delete all entries in setBlockIndexCandidates that are worse than the current tip.\n+static void PruneBlockIndexCandidates() {\n+    // Note that we can't delete the current block itself, as we may need to return to it later in case a\n+    // reorganization to a better block fails.\n+    std::set<CBlockIndex*, CBlockIndexWorkComparator>::iterator it = setBlockIndexCandidates.begin();\n+    while (setBlockIndexCandidates.value_comp()(*it, chainActive.Tip())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638653",
      "id" : 20638653,
      "line" : 1957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjM4NjUz",
      "original_commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "original_line" : null,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 9,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638653/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-20T10:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Well I prefer to be of the safe side. Wouldn't want to walk out of the set in case of a bug. But an assertion is fine with me too.\n",
      "commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "created_at" : "2014-11-20T11:01:34Z",
      "diff_hunk" : "@@ -1949,6 +1949,16 @@ static CBlockIndex* FindMostWorkChain() {\n     } while(true);\n }\n \n+// Delete all entries in setBlockIndexCandidates that are worse than the current tip.\n+static void PruneBlockIndexCandidates() {\n+    // Note that we can't delete the current block itself, as we may need to return to it later in case a\n+    // reorganization to a better block fails.\n+    std::set<CBlockIndex*, CBlockIndexWorkComparator>::iterator it = setBlockIndexCandidates.begin();\n+    while (setBlockIndexCandidates.value_comp()(*it, chainActive.Tip())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638740",
      "id" : 20638740,
      "line" : 1957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjM4NzQw",
      "original_commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "original_line" : null,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 9,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638740/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-20T11:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638827"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, I agree it feels safer to have the condition. Without it, we wouldn't even reach the assertion before executing code with undefined behaviour (assuming the assertion wouldn't hold).\n",
      "commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "created_at" : "2014-11-20T11:03:46Z",
      "diff_hunk" : "@@ -1949,6 +1949,16 @@ static CBlockIndex* FindMostWorkChain() {\n     } while(true);\n }\n \n+// Delete all entries in setBlockIndexCandidates that are worse than the current tip.\n+static void PruneBlockIndexCandidates() {\n+    // Note that we can't delete the current block itself, as we may need to return to it later in case a\n+    // reorganization to a better block fails.\n+    std::set<CBlockIndex*, CBlockIndexWorkComparator>::iterator it = setBlockIndexCandidates.begin();\n+    while (setBlockIndexCandidates.value_comp()(*it, chainActive.Tip())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#discussion_r20638827",
      "id" : 20638827,
      "line" : 1957,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNjM4ODI3",
      "original_commit_id" : "cca48f69b04462c5c9bfefd34443e0b8401dbd6c",
      "original_line" : null,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/main.cpp",
      "position" : 9,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5194",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638827/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2014-11-20T11:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20638827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Continued in #5321\n",
      "created_at" : "2014-11-26T12:23:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5194#issuecomment-64596898",
      "id" : 64596898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5194",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTk2ODk4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64596898/reactions"
      },
      "updated_at" : "2014-11-26T12:23:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64596898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
