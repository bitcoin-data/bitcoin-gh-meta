{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "<!-- Describe the issue -->\r\nFor transaction **f4dedd64c9841d53bbda8beeda52235ec986f1400606812d9c033ac34105532c**, the call of [getrawtransaction(verbose)] and [getrawtransaction(hex) + decoderawtransaction] has totally different result,including txid.\r\n\r\nStep of reproducing the issue:\r\n\r\n* Use **getrawtransaction(hex) + decoderawtransaction**\r\n\r\n``` \r\ncurl --user yourAuth --data-binary '{\"jsonrpc\": \"1.0\",\"id\":\"curltest\",\"method\":\"getrawtransaction\", \"params\": [\"f4dedd64c9841d53bbda8beeda52235ec986f1400606812d9c033ac34105532c\"] }' -H 'content-type: text/plain;' http://yourEndPoint\r\n```\r\n\r\nReturns:\r\n\r\n```\r\n{\r\n\t\"result\": \"0100000000010115a16270d3ee7ccc58a0757c1d8e1763790f223d4e4c3823948fb3dfdf9865180100000000ffffffff023f3256000000000017a9142915a7db6c6df171fd0436c7cec0042195dad01c8738ee4647000000001600140aad95e932ba045c2daf31a04c36683d39efe91002473044022002537539ac9586fdd8b5947fa0a47dc002ebe57502608433e103efe2740f93d4022023b1ade7bdf0f002a8fdc4ec6d534588d2132ab88850ac426ea413b4adb465260121031ef964af6923a2111e4916afcc87c73a8980322cc761dd3648714dfda99e72c400000000\",\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\n**Decode with decoderawtransaction**:\r\n```\r\ncurl --user yourAuth  --data-binary '{\"jsonrpc\": \"1.0\", \"id\":\"curltest\", \"method\": \"decoderawtransaction\", \"params\": [\"0100000000010115a16270d3ee7ccc58a0757c1d8e1763790f223d4e4c3823948fb3dfdf9865180100000000ffffffff023f3256000000000017a9142915a7db6c6df171fd0436c7cec0042195dad01c8738ee4647000000001600140aad95e932ba045c2daf31a04c36683d39efe91002473044022002537539ac9586fdd8b5947fa0a47dc002ebe57502608433e103efe2740f93d4022023b1ade7bdf0f002a8fdc4ec6d534588d2132ab88850ac426ea413b4adb465260121031ef964af6923a2111e4916afcc87c73a8980322cc761dd3648714dfda99e72c400000000\"] }' -H 'content-type: text/plain;' http://yourEndPoint\r\n\r\n```\r\n\r\nReturns:\r\n```\r\n{\r\n\t\"result\": {\r\n\t\t\"txid\": \"0b637b18840d8fc978a657a3422df3c246c86e4c4046d90e63bf0f86b179b403\",\r\n\t\t\"hash\": \"0b637b18840d8fc978a657a3422df3c246c86e4c4046d90e63bf0f86b179b403\",\r\n\t\t\"version\": 1,\r\n\t\t\"size\": 223,\r\n\t\t\"vsize\": 223,\r\n\t\t\"locktime\": 0,\r\n\t\t\"vin\": [\r\n\r\n\t\t],\r\n\t\t\"vout\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": 90023651848.04721921,\r\n\t\t\t\t\"n\": 0,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"8 OP_GREATERTHAN OP_DROP OP_SWAP 8e1763790f223d4e4c3823948fb3dfdf9865180100000000ffffffff02 3256000000000017a9142915a7db6c6df171fd0436c7cec0042195dad01c8738ee4647000000001600140aad95e932ba045c2daf31a04c36683d39efe91002 3044022002537539ac9586fdd8b5947fa0a47dc002ebe57502608433e103efe2740f93d4022023b1ade7bdf0f002a8fdc4ec6d534588d2132ab88850ac426ea413b4adb4652601 031ef964af6923a2111e4916afcc87c73a8980322cc761dd3648714dfda99e72c4\",\r\n\t\t\t\t\t\"hex\": \"58a0757c1d8e1763790f223d4e4c3823948fb3dfdf9865180100000000ffffffff023f3256000000000017a9142915a7db6c6df171fd0436c7cec0042195dad01c8738ee4647000000001600140aad95e932ba045c2daf31a04c36683d39efe91002473044022002537539ac9586fdd8b5947fa0a47dc002ebe57502608433e103efe2740f93d4022023b1ade7bdf0f002a8fdc4ec6d534588d2132ab88850ac426ea413b4adb465260121031ef964af6923a2111e4916afcc87c73a8980322cc761dd3648714dfda99e72c4\",\r\n\t\t\t\t\t\"type\": \"nonstandard\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\nNone of the \"txid\" or \"hash\" equals the hash I gave it at first(**f4dedd64c9841d53bbda8beeda52235ec986f1400606812d9c033ac34105532c**) .\r\n\r\n* Use **getrawtransaction**(verbose):\r\n```\r\ncurl --user yourAuth --data-binary '{\"jsonrpc\": \"1.0\",\"id\":\"curltest\",\"method\":\"getrawtransaction\", \"params\": [\"f4dedd64c9841d53bbda8beeda52235ec986f1400606812d9c033ac34105532c\",true] }' -H 'content-type: text/plain;' http://yourEndPoint\r\n```\r\n\r\nThis returns :\r\n\r\n```\r\n{\r\n\t\"result\": {\r\n\t\t\"txid\": \"f4dedd64c9841d53bbda8beeda52235ec986f1400606812d9c033ac34105532c\",\r\n\t\t\"hash\": \"0b637b18840d8fc978a657a3422df3c246c86e4c4046d90e63bf0f86b179b403\",\r\n\t\t\"version\": 1,\r\n\t\t\"size\": 223,\r\n\t\t\"vsize\": 142,\r\n\t\t\"locktime\": 0,\r\n\t\t\"vin\": [\r\n\t\t\t{\r\n\t\t\t\t\"txid\": \"186598dfdfb38f9423384c4e3d220f7963178e1d7c75a058cc7ceed37062a115\",\r\n\t\t\t\t\"vout\": 1,\r\n\t\t\t\t\"scriptSig\": {\r\n\t\t\t\t\t\"asm\": \"\",\r\n\t\t\t\t\t\"hex\": \"\"\r\n\t\t\t\t},\r\n\t\t\t\t\"txinwitness\": [\r\n\t\t\t\t\t\"3044022002537539ac9586fdd8b5947fa0a47dc002ebe57502608433e103efe2740f93d4022023b1ade7bdf0f002a8fdc4ec6d534588d2132ab88850ac426ea413b4adb4652601\",\r\n\t\t\t\t\t\"031ef964af6923a2111e4916afcc87c73a8980322cc761dd3648714dfda99e72c4\"\r\n\t\t\t\t],\r\n\t\t\t\t\"sequence\": 4294967295\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"vout\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": 0.05648959,\r\n\t\t\t\t\"n\": 0,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_HASH160 2915a7db6c6df171fd0436c7cec0042195dad01c OP_EQUAL\",\r\n\t\t\t\t\t\"hex\": \"a9142915a7db6c6df171fd0436c7cec0042195dad01c87\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"scripthash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"35SFa5Aev3bjP7gfvfY959GSdWUrSdzoJn\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"value\": 11.95830840,\r\n\t\t\t\t\"n\": 1,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"0 0aad95e932ba045c2daf31a04c36683d39efe910\",\r\n\t\t\t\t\t\"hex\": \"00140aad95e932ba045c2daf31a04c36683d39efe910\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"witness_v0_keyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"bc1qp2ket6fjhgz9ctd0xxsycdng85u7l6gs2x4dgh\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"hex\": \"0100000000010115a16270d3ee7ccc58a0757c1d8e1763790f223d4e4c3823948fb3dfdf9865180100000000ffffffff023f3256000000000017a9142915a7db6c6df171fd0436c7cec0042195dad01c8738ee4647000000001600140aad95e932ba045c2daf31a04c36683d39efe91002473044022002537539ac9586fdd8b5947fa0a47dc002ebe57502608433e103efe2740f93d4022023b1ade7bdf0f002a8fdc4ec6d534588d2132ab88850ac426ea413b4adb465260121031ef964af6923a2111e4916afcc87c73a8980322cc761dd3648714dfda99e72c400000000\",\r\n\t\t\"blockhash\": \"00000000000000000011ca3164ee629216de2e5dae09ffb099815319f6e35a71\",\r\n\t\t\"confirmations\": 1459,\r\n\t\t\"time\": 1555100160,\r\n\t\t\"blocktime\": 1555100160\r\n\t},\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\nwhich has the right transaction Id(txid).\r\n\r\n**They were supposed to return the same transaction,at least returns the same txid. Which result is more correct?**\r\n\r\nMy node info:\r\n```\r\n{\r\n  \"result\": {\r\n    \"version\": 170100,\r\n    \"subversion\": \"/Satoshi:0.17.1/\",\r\n    \"protocolversion\": 70015,\r\n    \"localservices\": \"000000000000040d\",\r\n    \"localrelay\": true,\r\n    \"timeoffset\": 10,\r\n    \"networkactive\": true,\r\n    \"connections\": 8,\r\n    \"networks\": [\r\n      {\r\n        \"name\": \"ipv4\",\r\n        \"limited\": false,\r\n        \"reachable\": true,\r\n        \"proxy\": \"\",\r\n        \"proxy_randomize_credentials\": false\r\n      },\r\n      {\r\n        \"name\": \"ipv6\",\r\n        \"limited\": false,\r\n        \"reachable\": true,\r\n        \"proxy\": \"\",\r\n        \"proxy_randomize_credentials\": false\r\n      },\r\n      {\r\n        \"name\": \"onion\",\r\n        \"limited\": true,\r\n        \"reachable\": false,\r\n        \"proxy\": \"\",\r\n        \"proxy_randomize_credentials\": false\r\n      }\r\n    ],\r\n    \"relayfee\": 0.00001000,\r\n    \"incrementalfee\": 0.00001000,\r\n    \"localaddresses\": [\r\n      \r\n    ],\r\n    \"warnings\": \"\"\r\n  },\r\n  \"error\": null,\r\n  \"id\": \"curltest\"\r\n}\r\n```",
   "closed_at" : "2019-04-23T05:51:35Z",
   "closed_by" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15872/comments",
   "created_at" : "2019-04-23T04:09:36Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15872/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/15872",
   "id" : 435989837,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15872/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0MzU5ODk4Mzc=",
   "number" : 15872,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "getrawtransaction(verbose) and decoderawtransaction of a same transaction returns different txid ",
   "updated_at" : "2019-04-24T03:03:26Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15872",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/13743018?v=4",
      "events_url" : "https://api.github.com/users/ChefJ/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ChefJ/followers",
      "following_url" : "https://api.github.com/users/ChefJ/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ChefJ/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ChefJ",
      "id" : 13743018,
      "login" : "ChefJ",
      "node_id" : "MDQ6VXNlcjEzNzQzMDE4",
      "organizations_url" : "https://api.github.com/users/ChefJ/orgs",
      "received_events_url" : "https://api.github.com/users/ChefJ/received_events",
      "repos_url" : "https://api.github.com/users/ChefJ/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ChefJ/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ChefJ/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ChefJ"
   }
}
