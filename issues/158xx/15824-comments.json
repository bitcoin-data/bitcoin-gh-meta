[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nVery nice!",
      "created_at" : "2019-04-16T07:04:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-483537388",
      "id" : 483537388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzUzNzM4OA==",
      "updated_at" : "2019-04-16T07:04:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483537388",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\nping @theuni ",
      "created_at" : "2019-04-16T07:37:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-483546894",
      "id" : 483546894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzU0Njg5NA==",
      "updated_at" : "2019-04-16T07:37:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483546894",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK!",
      "created_at" : "2019-04-16T17:13:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-483764008",
      "id" : 483764008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4Mzc2NDAwOA==",
      "updated_at" : "2019-04-16T17:13:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483764008",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276680669"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276680669"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maybe align name params and description comments to ease readability, at least some functions in others parts of code are doing it ",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-04-18T14:10:33Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276680669",
      "id" : 276680669,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4MDY2OQ==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 73,
      "path" : "src/netbase.cpp",
      "position" : 81,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276680669",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276681943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276681943"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "maybe add a TODO to refactored out LookupNumeric by first-corresponding-service Lookup it seems feasible?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-04-18T14:13:16Z",
      "diff_hunk" : "@@ -165,6 +220,16 @@ bool Lookup(const char *pszName, CService& addr, int portDefault, bool fAllowLoo\n     return true;\n }\n \n+/**\n+ * Resolve a service string with a numeric IP to its first corresponding",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276681943",
      "id" : 276681943,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4MTk0Mw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 111,
      "path" : "src/netbase.cpp",
      "position" : 119,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276681943",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276683158"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276683158"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "redundancy between param hSocket and the note, maybe in param description stress on with \"has to be in non-blocking mode\"",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-04-18T14:15:52Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276683158",
      "id" : 276683158,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4MzE1OA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 146,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276683158",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276684265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276684265"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: SetSocketNonBlocking(const SOCKET&, true), bool doesn't imply socket is blocking/non-blocking (and maybe add a TODO to refactor SetSocketNonBlocking without fNonBlocking flag, which seems useless given function name expected semantic)",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-04-18T14:18:20Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276684265",
      "id" : 276684265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4NDI2NQ==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 151,
      "path" : "src/netbase.cpp",
      "position" : 157,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276684265",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276685084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276685084"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maximum to wait for \"readyness\" of any I/O operation?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-04-18T14:20:09Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).\n  */\n static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const SOCKET& hSocket)\n {\n     int64_t curTime = GetTimeMillis();\n     int64_t endTime = curTime + timeout;\n-    // Maximum time to wait in one select call. It will take up until this time (in millis)\n+    // Maximum time to wait for I/O. It will take up until this time (in millis)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276685084",
      "id" : 276685084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4NTA4NA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 158,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276685084",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276687892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276687892"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "^ above, nit: maybe ParseNetwork could get also a little comment on which networks are currently supported due to addr v1, notably diff between tor and onion",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-04-18T14:26:33Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276687892",
      "id" : 276687892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4Nzg5Mg==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276687892",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice, concept ACK.",
      "created_at" : "2019-04-22T10:03:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-485382048",
      "id" : 485382048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTM4MjA0OA==",
      "updated_at" : "2019-04-22T10:03:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485382048",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r280125977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280125977"
         }
      },
      "author_association" : "MEMBER",
      "body" : "please don't add TODOs to the comments, especially not for refactors",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-01T16:24:35Z",
      "diff_hunk" : "@@ -165,6 +220,16 @@ bool Lookup(const char *pszName, CService& addr, int portDefault, bool fAllowLoo\n     return true;\n }\n \n+/**\n+ * Resolve a service string with a numeric IP to its first corresponding",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r280125977",
      "id" : 280125977,
      "in_reply_to_id" : 276681943,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDEyNTk3Nw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 111,
      "path" : "src/netbase.cpp",
      "position" : 119,
      "pull_request_review_id" : 232641829,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280125977",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2019-05-08T13:44:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-490490963",
      "id" : 490490963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MDQ5MDk2Mw==",
      "updated_at" : "2019-06-05T11:16:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/490490963",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284311744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284311744"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I wrote `SetSocketNonBlocking(const SOCKET&, bool)` so that Doxygen would render it and auto-link to the correct function if we ever made this function public. The name for `SetSocketNonBlocking` is a little confusing but I think one look at the function declaration/comment is probably enough to clear that up.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-15T15:18:47Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284311744",
      "id" : 284311744,
      "in_reply_to_id" : 276684265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMxMTc0NA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 151,
      "path" : "src/netbase.cpp",
      "position" : 157,
      "pull_request_review_id" : 237894495,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284311744",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284328949"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284328949"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure what exact alignment you mean, but my `netaddress` comments have been aligned like this as well. Lmk!",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-15T15:53:55Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284328949",
      "id" : 284328949,
      "in_reply_to_id" : 276680669,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMyODk0OQ==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 73,
      "path" : "src/netbase.cpp",
      "position" : 81,
      "pull_request_review_id" : 237916548,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284328949",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284331856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284331856"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed in https://github.com/bitcoin/bitcoin/pull/16029",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-15T15:59:57Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284331856",
      "id" : 284331856,
      "in_reply_to_id" : 276687892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzMTg1Ng==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 237920288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284331856",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks!",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-15T16:01:39Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).\n  */\n static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const SOCKET& hSocket)\n {\n     int64_t curTime = GetTimeMillis();\n     int64_t endTime = curTime + timeout;\n-    // Maximum time to wait in one select call. It will take up until this time (in millis)\n+    // Maximum time to wait for I/O. It will take up until this time (in millis)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332657",
      "id" : 284332657,
      "in_reply_to_id" : 276685084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzMjY1Nw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 158,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 237921301,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332657",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332703"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks!",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-15T16:01:46Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332703",
      "id" : 284332703,
      "in_reply_to_id" : 276683158,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzMjcwMw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 146,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 237921369,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332703",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed comments",
      "created_at" : "2019-05-15T17:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-492738880",
      "id" : 492738880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjczODg4MA==",
      "updated_at" : "2019-05-15T17:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492738880",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284504838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284504838"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Was thinking something likely to `BroadcastTransaction` in `transaction.h`, but that's a nit, doesn't matter!",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-16T00:53:22Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284504838",
      "id" : 284504838,
      "in_reply_to_id" : 276680669,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDUwNDgzOA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 73,
      "path" : "src/netbase.cpp",
      "position" : 81,
      "pull_request_review_id" : 238136182,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284504838",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284505400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284505400"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah okay, need to unset non-blocking socket was removed long time ago in #4869, but maybe there could be an usage of it for future new types of socket..",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-16T00:57:09Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284505400",
      "id" : 284505400,
      "in_reply_to_id" : 276684265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDUwNTQwMA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 151,
      "path" : "src/netbase.cpp",
      "position" : 157,
      "pull_request_review_id" : 238136839,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284505400",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 375d9c8",
      "created_at" : "2019-05-16T00:57:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-492876230",
      "id" : 492876230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5Mjg3NjIzMA==",
      "updated_at" : "2019-05-16T00:57:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492876230",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Will review.",
      "created_at" : "2019-05-16T16:42:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-493143897",
      "id" : 493143897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MzE0Mzg5Nw==",
      "updated_at" : "2019-05-16T16:42:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493143897",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285698786"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285698786"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: eliminate \"lengthy\" here, as it misrepresents the primary reason for disabling lookups (privacy, not performance).",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T17:39:20Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285698786",
      "id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTY5ODc4Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285698786",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285704247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285704247"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It occurs to me (because of this helpful new comment) that the addresses that we return for AF_UNSPEC lookups are hugely biased based on the order in which the OS returns them. For example, if the OS always returns ipv4 addresses before ipv6 addresses rather than interleaving, we may hit nMaxSolutions before adding a single ipv6 result.\r\n\r\nSimilarly, it could mean that different OSs are biased differently towards ipv4 or ipv6. That's an opportunity for fingerprinting, though the complexities of ipv6 deployments probably immunize us against that.\r\n\r\nWithout researching I'm not sure what to do, but we definitely should make sure that we understand and document the current behavior.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T17:54:32Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285704247",
      "id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcwNDI0Nw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285704247",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285707613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285707613"
         }
      },
      "author_association" : "MEMBER",
      "body" : "See above comment about \"lengthy\".\r\n\r\nEdit: Aha! You got it from the manpages ;)\r\n```\r\nThe AI_NUMERICHOST flag suppresses any potentially lengthy network host address lookups.\r\n```\r\nWe're more interested in the \"suppresses\" part than the \"lengthy\" part.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T18:04:23Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a\n+ *                numerical IP address (IPv6 addresses should be in their\n+ *                disambiguated bracketed form), optionally followed by a port\n+ *                number. (e.g. example.com:8333 or\n+ *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n+ * @param[out] vAddr The resulting services to which the specified service string\n+ *                   resolved.\n+ * @param portDefault The default port for resulting services if not specified\n+ *                    by the service string.\n+ * @param fAllowLookup Whether or not we allow lengthy lookups by hostnames, or",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285707613",
      "id" : 285707613,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcwNzYxMw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 82,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285707613",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285712343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285712343"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it would be clearer to point out that we treat \".onion\" addresses the same way as we treat IPv4 a.b.c.d or IPv6 hex addresses, with the exception that the standard library resolving function don't support them.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T18:17:26Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285712343",
      "id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMjM0Mw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239651925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285712343",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713045"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What note?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T18:19:22Z",
      "diff_hunk" : "@@ -234,22 +299,29 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713045",
      "id" : 285713045,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMzA0NQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 130,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239651925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713045",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713584"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"only allow parsing\" is dangerous here, because it strongly implies that only string parsing will be done. Additionally, onion addresses are \"resolved\" and getaddrinfo may still be called with AI_NUMERICHOST.\r\n\r\nHow about something more elegant than: \"fAllowLookup Whether or not hostname lookups are permitted. If yes, external queries may be performed.\"",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T18:20:51Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a\n+ *                numerical IP address (IPv6 addresses should be in their\n+ *                disambiguated bracketed form), optionally followed by a port\n+ *                number. (e.g. example.com:8333 or\n+ *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n+ * @param[out] vAddr The resulting services to which the specified service string\n+ *                   resolved.\n+ * @param portDefault The default port for resulting services if not specified\n+ *                    by the service string.\n+ * @param fAllowLookup Whether or not we allow lengthy lookups by hostnames, or\n+ *                     only allow parsing of numerical IPs.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713584",
      "id" : 285713584,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMzU4NA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 83,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713584",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285719598"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285719598"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it a socket or a file descriptor? :)",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T18:37:47Z",
      "diff_hunk" : "@@ -464,17 +566,18 @@ SOCKET CreateSocket(const CService &addrConnect)\n \n #ifdef SO_NOSIGPIPE\n     int set = 1;\n-    // Different way of disabling SIGPIPE on BSD\n+    // Set the no-sigpipe option on the socket for BSD systems, other UNIXes\n+    // should use the MSG_NOSIGNAL flag for every send.\n     setsockopt(hSocket, SOL_SOCKET, SO_NOSIGPIPE, (void*)&set, sizeof(int));\n #endif\n \n-    //Disable Nagle's algorithm\n+    // Set the no-delay option (disable Nagle's algorithm) on the TCP socket.\n     SetSocketNoDelay(hSocket);\n \n-    // Set to non-blocking\n+    // Set the non-blocking option on the file descriptor.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285719598",
      "id" : 285719598,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxOTU5OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 263,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285719598",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285728451"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285728451"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: \"async I/O api (select/poll) synchronously\". Just so nobody goes looking for the missing magic to make this happen in the background.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T19:03:19Z",
      "diff_hunk" : "@@ -501,12 +617,17 @@ bool ConnectSocketDirectly(const CService &addrConnect, const SOCKET& hSocket, i\n         LogPrintf(\"Cannot connect to %s: unsupported network\\n\", addrConnect.ToString());\n         return false;\n     }\n+\n+    // Connect to the addrConnect service on the hSocket socket.\n     if (connect(hSocket, (struct sockaddr*)&sockaddr, len) == SOCKET_ERROR)\n     {\n         int nErr = WSAGetLastError();\n         // WSAEINVAL is here because some legacy version of winsock uses it\n         if (nErr == WSAEINPROGRESS || nErr == WSAEWOULDBLOCK || nErr == WSAEINVAL)\n         {\n+            // Connection didn't actually fail, but is being established\n+            // asynchronously. Thus, use async I/O api (select/poll) to check",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285728451",
      "id" : 285728451,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcyODQ1MQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 306,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285728451",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285737545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285737545"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe most of this comment is incorrect, or at least very misleading :(.\r\n\r\nSetNameProxy makes sure that all resolves are routed through a proxy rather than being done ourselves. No need to bring the higher-level 'getaddr' into it.\r\n\r\nMaybe you grepped for HasNameProxy and missed the use of GetNameProxy in ConnectNode()? If so, looking at that may change your understanding somewhat.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T19:31:14Z",
      "diff_hunk" : "@@ -572,6 +702,20 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the proxy to use for populating our peer list using a one-shot `getaddr`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285737545",
      "id" : 285737545,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTczNzU0NQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 339,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285737545",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285739868"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285739868"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think it would be clearer to point out that we treat \".onion\" addresses the same way as we treat IPv4 a.b.c.d or IPv6 hex addresses\r\n\r\nNot 100% sure what you mean here, specifically, what is your specific meaning of \"treat the same way\"?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T19:38:48Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285739868",
      "id" : 285739868,
      "in_reply_to_id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTczOTg2OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239686410,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285739868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285740786"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285740786"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe @EthanHeilman has some experience with this?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T19:41:49Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285740786",
      "id" : 285740786,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc0MDc4Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 239687601,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285740786",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285745810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285745810"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For example \"1.2.3.4\" is a name, but it's one that directly encodes an IP address; no resolving is done when you turn it into a CNetAddr, it's just converted. The same is true for onion addresses; from our perspective, those are not hostnames - they're direct encodings of CNetAddr for onion addresses.\n\nIn contrast, \"sipa.be\" is a hostname that needs network activity to resolve to a CNetAddr.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T19:57:26Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285745810",
      "id" : 285745810,
      "in_reply_to_id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc0NTgxMA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 239694191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285745810",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285764866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285764866"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I would have assumed just reading this code that the OS would not impose an order on the addresses returned. However after @theuni's comment I see no reason why that assumption is justified. It seems entirely plausible that the OS or some upstream source would impose an order. Randomizing the order of the linked list would negate all of this.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T20:55:49Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285764866",
      "id" : 285764866,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc2NDg2Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 239718797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285764866",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285766861"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285766861"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@EthanHeilman Because AF_UNSPEC actually results in two separate/parallel resolves internally, I would assume that for performance reasons the final list would simply be those two lists concatenated.\r\n\r\nEdit: Unless libc's randomize internally to harden against this type of thing.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-20T21:01:21Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285766861",
      "id" : 285766861,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc2Njg2MQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 239721273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285766861",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286160778"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286160778"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@theuni Even if it turns out the OS randomizes the list, that make not hold in the future and/or across OSes. If we expect the lists to be randomized in this code and it seems like we do, we should randomize the lists ourselves. Seems like a neat starter project.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-21T18:18:21Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286160778",
      "id" : 286160778,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjE2MDc3OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 240218991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286160778",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286173176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286173176"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Having talked to TheBlueMatt about this, the only place we would care would be when loading addresses from seeds. @theuni @EthanHeilman are there specific call-sites you guys are talking about?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-21T18:49:04Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286173176",
      "id" : 286173176,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjE3MzE3Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 240234900,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286173176",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286596721"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286596721"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What privacy concerns are there? What call-sites are you talking about?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:12:05Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286596721",
      "id" : 286596721,
      "in_reply_to_id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjU5NjcyMQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240767104,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286596721",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286599634"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286599634"
         }
      },
      "author_association" : "MEMBER",
      "body" : "DNS lookups leak your query to your DNS server (or when done over tor, to the exit node that does the resolving).",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:19:53Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286599634",
      "id" : 286599634,
      "in_reply_to_id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjU5OTYzNA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240770703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286599634",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286604468"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286604468"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa If I'm understanding correctly, one such instance is the \"Resolve\" stage of `ConnectNode` where, if we have a name proxy, `Lookup` won't do external queries?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:32:03Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286604468",
      "id" : 286604468,
      "in_reply_to_id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYwNDQ2OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240776655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286604468",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286605924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286605924"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you set AI_NUMERICHOST then all `getaddrinfo` does is parse the IP address, and return the result immediately without network interaction.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:35:48Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286605924",
      "id" : 286605924,
      "in_reply_to_id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYwNTkyNA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240778402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286605924",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286606229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286606229"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Okay this might also inform my documentation on `net.cpp` proper. I see that in the \"Resolve\" stage of `ConnectNode`, when we call `Lookup` we are guaranteed a non-external query lookup if we have a name proxy. However, if `pszDest` was a hostname, aforementioned `Lookup` would fail, and we would end up in the `else if (pszDest && GetNameProxy(proxy))` case in the \"Connect\" stage, where we connect to the host through the proxy without doing any resolution ourselves (and delegate the resolution to the proxy). Is that a correct understanding?",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:36:38Z",
      "diff_hunk" : "@@ -572,6 +702,20 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the proxy to use for populating our peer list using a one-shot `getaddr`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286606229",
      "id" : 286606229,
      "in_reply_to_id" : 285737545,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYwNjIyOQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 339,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240778808,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286606229",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286607496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286607496"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That matches what I remember about this logic. The reason is that if we're using Tor, we don't want to perform DNS lookups ourselves (as those would leak to DNS servers, instead of over the proxy). Instead, we do a name-based connection where we give the name directly as host to connect to the proxy (which in the case of Tor will cause the exit node to do the resolving locally and establish a connection with the result).",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:39:57Z",
      "diff_hunk" : "@@ -572,6 +702,20 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the proxy to use for populating our peer list using a one-shot `getaddr`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286607496",
      "id" : 286607496,
      "in_reply_to_id" : 285737545,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYwNzQ5Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 339,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240780396,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286607496",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286608401"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286608401"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, I thought that was obvious and wanted to explain why we needed `AI_ADDRCONFIG` for the case where `fAllowLookup` was true instead of just giving no flags. I should probably talk about both though.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:42:15Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286608401",
      "id" : 286608401,
      "in_reply_to_id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYwODQwMQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240781562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286608401",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286613952"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286613952"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "~~Perhaps instead of \"external queries\", it's more accurate to say \"hostname lookup\"? I'm thinking about the case where it's an entry in the `/etc/hosts` file and that's not external.~~ After a closer reading of your statement, it is accurate :smile: ",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T17:56:04Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a\n+ *                numerical IP address (IPv6 addresses should be in their\n+ *                disambiguated bracketed form), optionally followed by a port\n+ *                number. (e.g. example.com:8333 or\n+ *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n+ * @param[out] vAddr The resulting services to which the specified service string\n+ *                   resolved.\n+ * @param portDefault The default port for resulting services if not specified\n+ *                    by the service string.\n+ * @param fAllowLookup Whether or not we allow lengthy lookups by hostnames, or\n+ *                     only allow parsing of numerical IPs.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286613952",
      "id" : 286613952,
      "in_reply_to_id" : 285713584,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYxMzk1Mg==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 83,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240788357,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286613952",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286636862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286636862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated: https://github.com/bitcoin/bitcoin/pull/15824/files#diff-4942713bcd2752bb531bf76c9a0ba38eR71",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:54:22Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286636862",
      "id" : 286636862,
      "in_reply_to_id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzNjg2Mg==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240816159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286636862",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286636990"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286636990"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Removed!",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:54:39Z",
      "diff_hunk" : "@@ -234,22 +299,29 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286636990",
      "id" : 286636990,
      "in_reply_to_id" : 285713045,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzNjk5MA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 130,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240816319,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286636990",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637127"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated: https://github.com/bitcoin/bitcoin/pull/15824/files#diff-4942713bcd2752bb531bf76c9a0ba38eR91",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:55:02Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637127",
      "id" : 286637127,
      "in_reply_to_id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzNzEyNw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240816507,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637127",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637564"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637564"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated: https://github.com/bitcoin/bitcoin/pull/15824/files#diff-4942713bcd2752bb531bf76c9a0ba38eR189",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:55:55Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a\n+ *                numerical IP address (IPv6 addresses should be in their\n+ *                disambiguated bracketed form), optionally followed by a port\n+ *                number. (e.g. example.com:8333 or\n+ *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n+ * @param[out] vAddr The resulting services to which the specified service string\n+ *                   resolved.\n+ * @param portDefault The default port for resulting services if not specified\n+ *                    by the service string.\n+ * @param fAllowLookup Whether or not we allow lengthy lookups by hostnames, or\n+ *                     only allow parsing of numerical IPs.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637564",
      "id" : 286637564,
      "in_reply_to_id" : 285713584,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzNzU2NA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 83,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240816981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637564",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:56:45Z",
      "diff_hunk" : "@@ -464,17 +566,18 @@ SOCKET CreateSocket(const CService &addrConnect)\n \n #ifdef SO_NOSIGPIPE\n     int set = 1;\n-    // Different way of disabling SIGPIPE on BSD\n+    // Set the no-sigpipe option on the socket for BSD systems, other UNIXes\n+    // should use the MSG_NOSIGNAL flag for every send.\n     setsockopt(hSocket, SOL_SOCKET, SO_NOSIGPIPE, (void*)&set, sizeof(int));\n #endif\n \n-    //Disable Nagle's algorithm\n+    // Set the no-delay option (disable Nagle's algorithm) on the TCP socket.\n     SetSocketNoDelay(hSocket);\n \n-    // Set to non-blocking\n+    // Set the non-blocking option on the file descriptor.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637875",
      "id" : 286637875,
      "in_reply_to_id" : 285719598,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzNzg3NQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 263,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240817375,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637875",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637962"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637962"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:57:00Z",
      "diff_hunk" : "@@ -501,12 +617,17 @@ bool ConnectSocketDirectly(const CService &addrConnect, const SOCKET& hSocket, i\n         LogPrintf(\"Cannot connect to %s: unsupported network\\n\", addrConnect.ToString());\n         return false;\n     }\n+\n+    // Connect to the addrConnect service on the hSocket socket.\n     if (connect(hSocket, (struct sockaddr*)&sockaddr, len) == SOCKET_ERROR)\n     {\n         int nErr = WSAGetLastError();\n         // WSAEINVAL is here because some legacy version of winsock uses it\n         if (nErr == WSAEINPROGRESS || nErr == WSAEWOULDBLOCK || nErr == WSAEINVAL)\n         {\n+            // Connection didn't actually fail, but is being established\n+            // asynchronously. Thus, use async I/O api (select/poll) to check",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286637962",
      "id" : 286637962,
      "in_reply_to_id" : 285728451,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzNzk2Mg==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 306,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240817506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286637962",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286638097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286638097"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Reworded here: https://github.com/bitcoin/bitcoin/pull/15824/files#diff-4942713bcd2752bb531bf76c9a0ba38eR714",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-05-22T18:57:20Z",
      "diff_hunk" : "@@ -572,6 +702,20 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the proxy to use for populating our peer list using a one-shot `getaddr`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286638097",
      "id" : 286638097,
      "in_reply_to_id" : 285737545,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjYzODA5Nw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 339,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 240817688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286638097",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated and addressed all concerns.",
      "created_at" : "2019-05-22T19:34:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-494938234",
      "id" : 494938234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDkzODIzNA==",
      "updated_at" : "2019-05-22T19:34:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494938234",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r291218177"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/291218177"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note that no SOCK5 server in common use, most notably Tor, actually implements UDP support. So it'd be kind of pointless to do this.\r\nThe [Tor socks extension spec](https://github.com/torproject/torspec/blob/master/socks-extensions.txt) does mention a RESOLVE command that they implement that is specific to Tor, this would be a more realistic option.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-06-06T14:43:19Z",
      "diff_hunk" : "@@ -572,6 +710,21 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the name proxy to use for all connections to nodes specified by a\n+ * hostname. After setting this proxy, connecting to a node sepcified by a\n+ * hostname won't result in a local lookup of said hostname, rather, connect to\n+ * the node by asking the name proxy for a proxy connection to the hostname,\n+ * effectively delegating the hostname lookup to the specified proxy.\n+ *\n+ * This delegation increases privacy for those who set the name proxy as they no\n+ * longer leak their external hostname queries to their DNS servers.\n+ *\n+ * @returns Whether or not the operation succeeded.\n+ *\n+ * @note Alternatively, SOCKS5 does have support for UDP-over-SOCKS5, but a DNS\n+ *       resolver is beyond the scope of this project.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r291218177",
      "id" : 291218177,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MTIxODE3Nw==",
      "original_commit_id" : "4ccd27e520bf63e6941a88bfaad7226dffbe62c6",
      "original_position" : 359,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 246615604,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/291218177",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r291230679"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/291230679"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I was just thinking about it with regard to seeds. Not sure what other features randomization would be important for.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-06-06T15:06:42Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r291230679",
      "id" : 291230679,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MTIzMDY3OQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 246632202,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/291230679",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r292185442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/292185442"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj Cool, will include. I'm thinking we use `@note` as a place to discuss the design space we've considered and why they don't work so it's recorded somewhere for future developers. Does that good to you? We could also do this somewhere else and reference from `@note`.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-06-10T20:49:07Z",
      "diff_hunk" : "@@ -572,6 +710,21 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the name proxy to use for all connections to nodes specified by a\n+ * hostname. After setting this proxy, connecting to a node sepcified by a\n+ * hostname won't result in a local lookup of said hostname, rather, connect to\n+ * the node by asking the name proxy for a proxy connection to the hostname,\n+ * effectively delegating the hostname lookup to the specified proxy.\n+ *\n+ * This delegation increases privacy for those who set the name proxy as they no\n+ * longer leak their external hostname queries to their DNS servers.\n+ *\n+ * @returns Whether or not the operation succeeded.\n+ *\n+ * @note Alternatively, SOCKS5 does have support for UDP-over-SOCKS5, but a DNS\n+ *       resolver is beyond the scope of this project.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r292185442",
      "id" : 292185442,
      "in_reply_to_id" : 291218177,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MjE4NTQ0Mg==",
      "original_commit_id" : "4ccd27e520bf63e6941a88bfaad7226dffbe62c6",
      "original_position" : 359,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 247837432,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/292185442",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r293018344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293018344"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@EthanHeilman It occurred to me that this doesn't really matter until we decrease the `nMaxIPs` when learning from seeds. Right now it's 256, and no peer returns more than that, so there's no need to shuffle as there's no cut-off. Noted here: https://github.com/bitcoin/bitcoin/issues/16070",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-06-12T16:55:00Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r293018344",
      "id" : 293018344,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzAxODM0NA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 35,
      "pull_request_review_id" : 248892530,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293018344",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r303576446"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303576446"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, sounds good to me, I was just mentioning it to prevent people from going up this road to implement this (reading it as a TODO) only to conclude it's pointless, so it makes sense to mention that.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-07-15T18:33:33Z",
      "diff_hunk" : "@@ -572,6 +710,21 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the name proxy to use for all connections to nodes specified by a\n+ * hostname. After setting this proxy, connecting to a node sepcified by a\n+ * hostname won't result in a local lookup of said hostname, rather, connect to\n+ * the node by asking the name proxy for a proxy connection to the hostname,\n+ * effectively delegating the hostname lookup to the specified proxy.\n+ *\n+ * This delegation increases privacy for those who set the name proxy as they no\n+ * longer leak their external hostname queries to their DNS servers.\n+ *\n+ * @returns Whether or not the operation succeeded.\n+ *\n+ * @note Alternatively, SOCKS5 does have support for UDP-over-SOCKS5, but a DNS\n+ *       resolver is beyond the scope of this project.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r303576446",
      "id" : 303576446,
      "in_reply_to_id" : 291218177,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzU3NjQ0Ng==",
      "original_commit_id" : "4ccd27e520bf63e6941a88bfaad7226dffbe62c6",
      "original_position" : 359,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 261999913,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303576446",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r303582636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303582636"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Reworded a little bit to make it more clear this is just a design space comment not a TODO.",
      "commit_id" : "c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-07-15T18:48:43Z",
      "diff_hunk" : "@@ -572,6 +710,21 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the name proxy to use for all connections to nodes specified by a\n+ * hostname. After setting this proxy, connecting to a node sepcified by a\n+ * hostname won't result in a local lookup of said hostname, rather, connect to\n+ * the node by asking the name proxy for a proxy connection to the hostname,\n+ * effectively delegating the hostname lookup to the specified proxy.\n+ *\n+ * This delegation increases privacy for those who set the name proxy as they no\n+ * longer leak their external hostname queries to their DNS servers.\n+ *\n+ * @returns Whether or not the operation succeeded.\n+ *\n+ * @note Alternatively, SOCKS5 does have support for UDP-over-SOCKS5, but a DNS\n+ *       resolver is beyond the scope of this project.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r303582636",
      "id" : 303582636,
      "in_reply_to_id" : 291218177,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzU4MjYzNg==",
      "original_commit_id" : "4ccd27e520bf63e6941a88bfaad7226dffbe62c6",
      "original_position" : 359,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 262007626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-07-15T18:48:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303582636",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed all concerns and rebased.\r\n\r\nReviewers, you can verify that there were no substantial code changes that would invalidate my comments by invoking:\r\n\r\n```sh\r\ngit log 65526fc8666fef35ef908dbc225f706bef642c7e..origin/master -- src/netbase.{h,cpp}\r\n```",
      "created_at" : "2019-07-15T18:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-511524598",
      "id" : 511524598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTUyNDU5OA==",
      "updated_at" : "2019-07-15T18:50:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511524598",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK c7f6ce74d3a5cf2a0c5bac20eab1efd997175a72",
      "created_at" : "2019-07-15T19:24:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-511536105",
      "id" : 511536105,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTUzNjEwNQ==",
      "updated_at" : "2019-07-15T19:24:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511536105",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
