[
   {
      "author_association" : "MEMBER",
      "body" : "Looks like it was introduced by @TheBlueMatt in #5267.",
      "created_at" : "2019-01-03T00:06:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-451023785",
      "id" : 451023785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15080",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTAyMzc4NQ==",
      "updated_at" : "2019-01-03T00:06:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451023785",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A block far far away?",
      "created_at" : "2019-01-28T19:34:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-458270164",
      "id" : 458270164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15080",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1ODI3MDE2NA==",
      "updated_at" : "2019-01-28T19:34:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/458270164",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's not for testnet.\n\nOn Mon, Jan 28, 2019, 7:35 PM JoÃÂ£o Barbosa <notifications@github.com wrote:\n\n> A block far far away?\n>\n> Ã¢ÂÂ\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-458270164>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AFgC04pUw8iuSBR1Ae1XhOlVJ5P6azI-ks5vH1EOgaJpZM4Zm8HF>\n> .\n>\n",
      "created_at" : "2019-01-28T19:40:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-458272318",
      "id" : 458272318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15080",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1ODI3MjMxOA==",
      "updated_at" : "2019-01-28T19:40:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/458272318",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm having a really difficult time convincing myself this behavior could not lead to incorrect results. But this can only be hit when `-checkmempool` is non-0, aka `-regtest` by default so it's not used in production.\r\n\r\nI think here the `spendheight` is the correct height since that is where this duplicate mempool is actually at.\r\n\r\nI'll think a little more how a false assertion or validation failure could hit if unchanged.",
      "created_at" : "2019-04-06T14:56:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-480510615",
      "id" : 480510615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15080",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUxMDYxNQ==",
      "updated_at" : "2019-04-06T14:56:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480510615",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think that the height currently specified as a magic number is never accessed:\r\n\r\nIn `check()`, the ancestor tx of the mempool are \"spent\" in the `UpdateCoins()` function (adding new UTXOs to the local cache mempoolDuplicate), providing the inputs for subsequent spending of the dependent tx, and thereby allowing to check that all tx in the mempool can be mined in some order (no orphans). \r\n\r\nWhile all ancestors need to be added to mempoolDuplicate, the height at which they are added is not checked in `mempoolDuplicate.HaveInputs()`, just their `COutPoint`.  \r\n\r\nI did some testing with a height of 0 instead of 1E6 and didn't see any effect.\r\nSo I don't see how the current implementation could lead to a bug, though I agree that using `spendheight` would make more sense and might prevent future bugs.",
      "created_at" : "2019-05-20T15:59:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-494048534",
      "id" : 494048534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15080",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDA0ODUzNA==",
      "updated_at" : "2019-05-20T15:59:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494048534",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Lines up with my current thinking.",
      "created_at" : "2019-05-20T16:03:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15080#issuecomment-494050158",
      "id" : 494050158,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15080",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDA1MDE1OA==",
      "updated_at" : "2019-05-20T16:03:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494050158",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
