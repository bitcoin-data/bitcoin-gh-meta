[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225654846"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225654846"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should this be returning m_descriptor->IsSolvable() instead of true? Maybe add an explanatory comment if returning true here is actually correct.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-16T18:22:29Z",
      "diff_hunk" : "@@ -298,6 +303,7 @@ class ConvertorDescriptor : public Descriptor\n     ConvertorDescriptor(std::unique_ptr<Descriptor> descriptor, const std::function<CScript(const CScript&)>& fn, const std::string& name) : m_convert_fn(fn), m_fn_name(name), m_descriptor(std::move(descriptor)) {}\n \n     bool IsRange() const override { return m_descriptor->IsRange(); }\n+    bool IsSolvable() const override { return true; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225654846",
      "id" : 225654846,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY1NDg0Ng==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 37,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225654846",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225660827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225660827"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would it be useful to mention that raw and address descriptors are always considered unsolvable? It seems like this would make the description more concrete, and make it clear that a raw P2PK descriptor is not considered solvable (for example).",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-16T18:36:05Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225660827",
      "id" : 225660827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY2MDgyNw==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 4,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225660827",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225661115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225661115"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Curious where this might be used in the future, since right now it is only called by test code.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-16T18:36:55Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */\n+    virtual bool IsSolvable() const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225661115",
      "id" : 225661115,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY2MTExNQ==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 5,
      "path" : "src/script/descriptor.h",
      "position" : 6,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225661115",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225662927"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225662927"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is a very picky comment, but maybe reverse the arguments so the test more consistently uses the CHECK_EQUAL(actual, expected) form.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-16T18:42:22Z",
      "diff_hunk" : "@@ -99,8 +99,17 @@ void Check(const std::string& prv, const std::string& pub, int flags, const std:\n                     spend.vout.resize(1);\n                     BOOST_CHECK_MESSAGE(SignSignature(Merge(keys_priv, script_provider), spks[n], spend, 0, 1, SIGHASH_ALL), prv);\n                 }\n-            }\n \n+                /* Infer a descriptor from the generated script, and verify its solvability and that it roundtrips. */\n+                auto inferred = InferDescriptor(spks[n], script_provider);\n+                BOOST_CHECK_EQUAL(!(flags & UNSOLVABLE), inferred->IsSolvable());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225662927",
      "id" : 225662927,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY2MjkyNw==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 8,
      "path" : "src/test/descriptor_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225662927",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756320"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756320"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is actually correct, but so if your suggestion, which is much more obvious.\r\n\r\nThe reason is that the only non-solvable constructions (`raw` and `addr`) are only allowed at the top level anyway, so anything embedded in `sh` or `wsh` cannot be non-solvable.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-17T01:23:04Z",
      "diff_hunk" : "@@ -298,6 +303,7 @@ class ConvertorDescriptor : public Descriptor\n     ConvertorDescriptor(std::unique_ptr<Descriptor> descriptor, const std::function<CScript(const CScript&)>& fn, const std::string& name) : m_convert_fn(fn), m_fn_name(name), m_descriptor(std::move(descriptor)) {}\n \n     bool IsRange() const override { return m_descriptor->IsRange(); }\n+    bool IsSolvable() const override { return true; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756320",
      "id" : 225756320,
      "in_reply_to_id" : 225654846,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1NjMyMA==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 37,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 165426589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756320",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756795"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756795"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good idea.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-17T01:26:56Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756795",
      "id" : 225756795,
      "in_reply_to_id" : 225660827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1Njc5NQ==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 4,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 165427128,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756795",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756980"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For example an `descriptorprocesspsbt` RPC can complain if a non-solvable descriptor is passed (which is useless for its purpose).",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-17T01:28:40Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */\n+    virtual bool IsSolvable() const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756980",
      "id" : 225756980,
      "in_reply_to_id" : 225661115,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1Njk4MA==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 5,
      "path" : "src/script/descriptor.h",
      "position" : 6,
      "pull_request_review_id" : 165427361,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756980",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225757067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225757067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-17T01:29:12Z",
      "diff_hunk" : "@@ -99,8 +99,17 @@ void Check(const std::string& prv, const std::string& pub, int flags, const std:\n                     spend.vout.resize(1);\n                     BOOST_CHECK_MESSAGE(SignSignature(Merge(keys_priv, script_provider), spks[n], spend, 0, 1, SIGHASH_ALL), prv);\n                 }\n-            }\n \n+                /* Infer a descriptor from the generated script, and verify its solvability and that it roundtrips. */\n+                auto inferred = InferDescriptor(spks[n], script_provider);\n+                BOOST_CHECK_EQUAL(!(flags & UNSOLVABLE), inferred->IsSolvable());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225757067",
      "id" : 225757067,
      "in_reply_to_id" : 225662927,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1NzA2Nw==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 8,
      "path" : "src/test/descriptor_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 165427463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225757067",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressed all nits, and added some comments.",
      "created_at" : "2018-10-17T01:35:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-430458223",
      "id" : 430458223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMDQ1ODIyMw==",
      "updated_at" : "2018-10-17T01:35:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430458223",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Lightly tested a5e0b62; e.g. `getaddressinfo` shows a descriptor now.\r\n\r\nThe descriptors only show the public key, which is consistent with `getaddressinfo` not showing private keys and seeds. Maybe add a `descriptor` boolean argument to `dumpprivkey` as a way to obtain descriptors with a private key?",
      "created_at" : "2018-10-17T09:05:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-430549843",
      "id" : 430549843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMDU0OTg0Mw==",
      "updated_at" : "2018-10-17T09:05:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430549843",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225955422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225955422"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`assert found`",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-17T14:31:58Z",
      "diff_hunk" : "@@ -252,6 +261,14 @@ def run_test(self):\n             for n, to_node in enumerate(range(from_node + 1, from_node + 4)):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n+                found = False\n+                # Verify that the receiving wallet contains a UTXO with the expected address, and expected descriptor\n+                for utxo in self.nodes[to_node].listunspent():\n+                    if utxo['address'] == descriptors[to_node][0]:\n+                        assert_equal(utxo['descriptor'], descriptors[to_node][1])\n+                        found = True\n+                        break\n+                assert(found)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225955422",
      "id" : 225955422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTk1NTQyMg==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 80,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 165663289,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225955422",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225956442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225956442"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit sort.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-17T14:34:15Z",
      "diff_hunk" : "@@ -21,6 +21,7 @@\n #include <rpc/server.h>\n #include <rpc/util.h>\n #include <script/sign.h>\n+#include <script/descriptor.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225956442",
      "id" : 225956442,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTk1NjQ0Mg==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 4,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 165663289,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225956442",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK a5e0b620062bf00a5f24d195bcaf52839681cb5d. Only changes since last review were making some suggested changes and expanding the InferDescriptor.\r\n\r\nIt would also be nice to add release notes for the RPC changes in this PR.\r\n\r\n> For large wallets this will make listunspent perform a lot worse?\r\n\r\nIt seems like the new work listunspent is doing is similar to the work it was doing before with calling `ExtractDestination` and `pwallet->GetCScript`.",
      "created_at" : "2018-10-17T17:48:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-430724012",
      "id" : 430724012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMDcyNDAxMg==",
      "updated_at" : "2018-10-17T17:48:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430724012",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry for the big change, but I realized that after #14150, we'll want to integrate origin information into the inferred descriptors this PR brings, so I went ahead and did that (it's based on 14150 now).",
      "created_at" : "2018-10-19T01:09:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-431212707",
      "id" : 431212707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMTIxMjcwNw==",
      "updated_at" : "2018-10-19T01:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431212707",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-19T01:43:32Z",
      "diff_hunk" : "@@ -21,6 +21,7 @@\n #include <rpc/server.h>\n #include <rpc/util.h>\n #include <script/sign.h>\n+#include <script/descriptor.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514670",
      "id" : 226514670,
      "in_reply_to_id" : 225956442,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjUxNDY3MA==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 4,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 166355608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514670",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514688"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-19T01:43:41Z",
      "diff_hunk" : "@@ -252,6 +261,14 @@ def run_test(self):\n             for n, to_node in enumerate(range(from_node + 1, from_node + 4)):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n+                found = False\n+                # Verify that the receiving wallet contains a UTXO with the expected address, and expected descriptor\n+                for utxo in self.nodes[to_node].listunspent():\n+                    if utxo['address'] == descriptors[to_node][0]:\n+                        assert_equal(utxo['descriptor'], descriptors[to_node][1])\n+                        found = True\n+                        break\n+                assert(found)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514688",
      "id" : 226514688,
      "in_reply_to_id" : 225955422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjUxNDY4OA==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 80,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 166355627,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514688",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226710478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226710478"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it would be nicer to call this \"solvable\" instead of \"issolvable\" for consistency with `listunspent`. This would be less consistent with other fields here like \"iswatchonly\", but I think it's worse to have different names for the same field than different styles of names for different fields.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-19T16:42:02Z",
      "diff_hunk" : "@@ -3539,6 +3545,8 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex-encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n+            \"  \\\"issolvable\\\" : true|false,    (boolean) Whether we know how to spend coins sent to this address, ignoring the possible lack of private keys\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226710478",
      "id" : 226710478,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjcxMDQ3OA==",
      "original_commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "original_position" : 38,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 166605877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226710478",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226711251"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226711251"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems like it'd be good to check inferred origins instead of skipping them. If it isn't easy to do this, maybe you could add a comment to the test saying why.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-19T16:44:37Z",
      "diff_hunk" : "@@ -95,34 +96,42 @@ def get_balances(self, confirmed=True):\n         else:\n             return [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n \n+    def remove_origin(self, desc):\n+        return re.sub('\\[.*?\\]', '', desc)\n+\n     def test_address(self, node, address, multisig, typ):\n         \"\"\"Run sanity checks on an address.\"\"\"\n         info = self.nodes[node].getaddressinfo(address)\n+        assert('descriptor' in info)\n         assert(self.nodes[node].validateaddress(address)['isvalid'])\n         if not multisig and typ == 'legacy':\n             # P2PKH\n             assert(not info['isscript'])\n             assert(not info['iswitness'])\n             assert('pubkey' in info)\n+            assert_equal(self.remove_origin(info['descriptor']), \"pkh(%s)\" % info['pubkey'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226711251",
      "id" : 226711251,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjcxMTI1MQ==",
      "original_commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "original_position" : 25,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 166605877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226711251",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226801534"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226801534"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-19T23:03:20Z",
      "diff_hunk" : "@@ -3539,6 +3545,8 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n             \"  \\\"scriptPubKey\\\" : \\\"hex\\\",       (string) The hex-encoded scriptPubKey generated by the address\\n\"\n             \"  \\\"ismine\\\" : true|false,        (boolean) If the address is yours or not\\n\"\n             \"  \\\"iswatchonly\\\" : true|false,   (boolean) If the address is watchonly\\n\"\n+            \"  \\\"issolvable\\\" : true|false,    (boolean) Whether we know how to spend coins sent to this address, ignoring the possible lack of private keys\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226801534",
      "id" : 226801534,
      "in_reply_to_id" : 226710478,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjgwMTUzNA==",
      "original_commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "original_position" : 38,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 166720515,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226801534",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226801775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226801775"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done, rewritten the test to compare with information put in PSBT (which also reports fingerprint and path in `decodepsbt`).",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-19T23:05:28Z",
      "diff_hunk" : "@@ -95,34 +96,42 @@ def get_balances(self, confirmed=True):\n         else:\n             return [self.nodes[i].getunconfirmedbalance() for i in range(4)]\n \n+    def remove_origin(self, desc):\n+        return re.sub('\\[.*?\\]', '', desc)\n+\n     def test_address(self, node, address, multisig, typ):\n         \"\"\"Run sanity checks on an address.\"\"\"\n         info = self.nodes[node].getaddressinfo(address)\n+        assert('descriptor' in info)\n         assert(self.nodes[node].validateaddress(address)['isvalid'])\n         if not multisig and typ == 'legacy':\n             # P2PKH\n             assert(not info['isscript'])\n             assert(not info['iswitness'])\n             assert('pubkey' in info)\n+            assert_equal(self.remove_origin(info['descriptor']), \"pkh(%s)\" % info['pubkey'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226801775",
      "id" : 226801775,
      "in_reply_to_id" : 226711251,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjgwMTc3NQ==",
      "original_commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "original_position" : 25,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 166720810,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226801775",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14646](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14646.html) (Add expansion cache functions to descriptors (unused for now) by sipa)\n* [#14601](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14601.html) ([rpc] Descriptions: Consistent arg labels for types 'object', 'array', 'boolean', and 'string' by ch4ot1c)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-10-20T10:00:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-431566840",
      "id" : 431566840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMTU2Njg0MA==",
      "updated_at" : "2018-11-26T20:04:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431566840",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-10-21T03:41:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-431636284",
      "id" : 431636284,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMTYzNjI4NA==",
      "updated_at" : "2018-10-21T03:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431636284",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r227147089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/227147089"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Minor python style suggestion: You can usually avoid the need to look up keys multiple times using `.get()`. For example, you could write this check as\r\n\r\n```python3\r\nassert_equals(info.get('solvable'), True)\r\n```",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-22T21:35:51Z",
      "diff_hunk" : "@@ -99,6 +99,8 @@ def test_address(self, node, address, multisig, typ):\n         \"\"\"Run sanity checks on an address.\"\"\"\n         info = self.nodes[node].getaddressinfo(address)\n         assert(self.nodes[node].validateaddress(address)['isvalid'])\n+        assert('solvable' in info and info['solvable'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r227147089",
      "id" : 227147089,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNzE0NzA4OQ==",
      "original_commit_id" : "a5bcc624f5aba720e20eadf309d0fac8fe93b815",
      "original_position" : 4,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 167120378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/227147089",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Lightly tested e6e4704; `getaddressinfo` descriptor now includes origin info.",
      "created_at" : "2018-10-23T10:33:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-432192974",
      "id" : 432192974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMjE5Mjk3NA==",
      "updated_at" : "2018-10-23T10:33:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/432192974",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r228074385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228074385"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What is the point of the `ParseScriptContext` if it is never used? Why not just remove it?",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-25T08:16:57Z",
      "diff_hunk" : "@@ -625,6 +625,80 @@ std::unique_ptr<Descriptor> ParseScript(Span<const char>& sp, ParseScriptContext\n     return nullptr;\n }\n \n+std::unique_ptr<PubkeyProvider> InferPubkey(const CPubKey& pubkey, ParseScriptContext, const SigningProvider& provider)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r228074385",
      "id" : 228074385,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyODA3NDM4NQ==",
      "original_commit_id" : "49b93aa4a5582fffde359ce978860c7f1015907c",
      "original_position" : 4,
      "path" : "src/script/descriptor.cpp",
      "position" : 53,
      "pull_request_review_id" : 168257119,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228074385",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r228074866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228074866"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not just put the InferDescriptor() part in the if-statement below like you did for `getaddressinfo`? `descriptor` is not used otherwise",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-25T08:18:31Z",
      "diff_hunk" : "@@ -2831,6 +2833,7 @@ static UniValue listunspent(const JSONRPCRequest& request)\n         CTxDestination address;\n         const CScript& scriptPubKey = out.tx->tx->vout[out.i].scriptPubKey;\n         bool fValidAddress = ExtractDestination(scriptPubKey, address);\n+        auto descriptor = InferDescriptor(scriptPubKey, *pwallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r228074866",
      "id" : 228074866,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyODA3NDg2Ng==",
      "original_commit_id" : "ea3518d078086e079905dbdecf87eb25149903a8",
      "original_position" : 20,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 168257119,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/228074866",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, renamed the descriptor output field to `desc` (for consistency with the name of the input argument to `scantxoutset`), and added the output to `scantxoutset` as well (fixing #14503).",
      "created_at" : "2018-10-26T17:41:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-433487789",
      "id" : 433487789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzQ4Nzc4OQ==",
      "updated_at" : "2018-10-26T17:41:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433487789",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK https://github.com/bitcoin/bitcoin/pull/14477/commits/fe9b68a81a6f3a9abac7b3b7740d5019129d4fff",
      "created_at" : "2018-10-29T06:25:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-433800680",
      "id" : 433800680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMzgwMDY4MA==",
      "updated_at" : "2018-10-29T06:25:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/433800680",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also lightly tested 2286f20 using `scantxoutset` to check the balance of a watch-only \"wallet\". It's nice to see the origin information that I passed in appear in the desc field.\r\n\r\nEven though it makes sense, it's less intuitive, that if you pass in origin like `wpkh([fingerprint/44'/0'/0']xpub/0/*` it comes out as `wpkh([fingerprint/44'/0'/0'/0/0]pub_key)`. Might be worth pointing this on in the RPC help.",
      "created_at" : "2018-10-30T12:27:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-434280868",
      "id" : 434280868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNDI4MDg2OA==",
      "updated_at" : "2018-10-30T12:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/434280868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229421663"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229421663"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Add matching descriptors to scantxoutset output + tests\" (fe9b68a81a6f3a9abac7b3b7740d5019129d4fff)\r\n\r\nI think I agree with @Sjors in https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-434280868 that behavior that comes from inferring a descriptor here, instead of deriving it directly from `desc` above, is a little unintuitive. IMO, it'd be nicer if `Expand` took an optional `std::vector<std::unique_ptr<Descriptor>>* output_descriptors` argument and filled it in parallel with the existing `output_scripts` argument. \r\n\r\nThis is just a suggestion, though, and maybe something to consider for a future PR.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-30T18:00:49Z",
      "diff_hunk" : "@@ -2140,7 +2142,11 @@ UniValue scantxoutset(const JSONRPCRequest& request)\n                 if (!desc->Expand(i, provider, scripts, provider)) {\n                     throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Cannot derive script without private keys: '%s'\", desc_str));\n                 }\n-                needles.insert(scripts.begin(), scripts.end());\n+                for (const auto script : scripts) {\n+                    std::string desc = InferDescriptor(script, provider)->ToString();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229421663",
      "id" : 229421663,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyOTQyMTY2Mw==",
      "original_commit_id" : "fe9b68a81a6f3a9abac7b3b7740d5019129d4fff",
      "original_position" : 22,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 169919591,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229421663",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229444346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229444346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry I missed this, but I'd prefer not rewriting commits now.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-30T19:00:37Z",
      "diff_hunk" : "@@ -99,6 +99,8 @@ def test_address(self, node, address, multisig, typ):\n         \"\"\"Run sanity checks on an address.\"\"\"\n         info = self.nodes[node].getaddressinfo(address)\n         assert(self.nodes[node].validateaddress(address)['isvalid'])\n+        assert('solvable' in info and info['solvable'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229444346",
      "id" : 229444346,
      "in_reply_to_id" : 227147089,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyOTQ0NDM0Ng==",
      "original_commit_id" : "a5bcc624f5aba720e20eadf309d0fac8fe93b815",
      "original_position" : 4,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 169947128,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229444346",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229445012"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229445012"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It can be used for extra sanity checking (like rejecting malformed constructions with an uncompressed pubkey inside a witness) early, instead of having them fail when expanding the inferred descriptor.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-30T19:02:36Z",
      "diff_hunk" : "@@ -625,6 +625,80 @@ std::unique_ptr<Descriptor> ParseScript(Span<const char>& sp, ParseScriptContext\n     return nullptr;\n }\n \n+std::unique_ptr<PubkeyProvider> InferPubkey(const CPubKey& pubkey, ParseScriptContext, const SigningProvider& provider)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229445012",
      "id" : 229445012,
      "in_reply_to_id" : 228074385,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyOTQ0NTAxMg==",
      "original_commit_id" : "49b93aa4a5582fffde359ce978860c7f1015907c",
      "original_position" : 4,
      "path" : "src/script/descriptor.cpp",
      "position" : 53,
      "pull_request_review_id" : 169948017,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229445012",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229446517"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229446517"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That makes sense. The inferred descriptor is functionally equivalent with a more straightforward specialization of the descriptor you're suggesting, but descriptors are intended to at least be somewhat human readable, so this may matter.\r\n\r\nHowever, it's quite a bit of code to implement that (it needs specialization code for a number of constructions, including `combo()` which would need to get split out into ``pkh()` and `pk()` etc), so I'd prefer to keep it for a later PR.\r\n\r\nFor that reason I also prefer not making any explicit promises about what is put in the RPC outputs; for now all it guarantees is something that encapsulates all the information. For `scantxoutset` we could indeed be better and maintain more of the input descriptor's structure.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-10-30T19:07:14Z",
      "diff_hunk" : "@@ -2140,7 +2142,11 @@ UniValue scantxoutset(const JSONRPCRequest& request)\n                 if (!desc->Expand(i, provider, scripts, provider)) {\n                     throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Cannot derive script without private keys: '%s'\", desc_str));\n                 }\n-                needles.insert(scripts.begin(), scripts.end());\n+                for (const auto script : scripts) {\n+                    std::string desc = InferDescriptor(script, provider)->ToString();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r229446517",
      "id" : 229446517,
      "in_reply_to_id" : 229421663,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyOTQ0NjUxNw==",
      "original_commit_id" : "fe9b68a81a6f3a9abac7b3b7740d5019129d4fff",
      "original_position" : 22,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 169949967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229446517",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r230600398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230600398"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could be `const auto&`?",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-04T18:47:37Z",
      "diff_hunk" : "@@ -2140,7 +2142,11 @@ UniValue scantxoutset(const JSONRPCRequest& request)\n                 if (!desc->Expand(i, provider, scripts, provider)) {\n                     throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Cannot derive script without private keys: '%s'\", desc_str));\n                 }\n-                needles.insert(scripts.begin(), scripts.end());\n+                for (const auto script : scripts) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r230600398",
      "id" : 230600398,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDYwMDM5OA==",
      "original_commit_id" : "2286f206e4ea139477b88867a13a491d8d14db3d",
      "original_position" : 21,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 171374148,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230600398",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r230600484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230600484"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could add that note to the code otherwise it can be removed in the future?",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-04T18:50:33Z",
      "diff_hunk" : "@@ -625,6 +625,80 @@ std::unique_ptr<Descriptor> ParseScript(Span<const char>& sp, ParseScriptContext\n     return nullptr;\n }\n \n+std::unique_ptr<PubkeyProvider> InferPubkey(const CPubKey& pubkey, ParseScriptContext, const SigningProvider& provider)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r230600484",
      "id" : 230600484,
      "in_reply_to_id" : 228074385,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDYwMDQ4NA==",
      "original_commit_id" : "49b93aa4a5582fffde359ce978860c7f1015907c",
      "original_position" : 4,
      "path" : "src/script/descriptor.cpp",
      "position" : 53,
      "pull_request_review_id" : 171374148,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230600484",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r232730539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232730539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Use another variable name to avoid showing `desc` declared on line 2133 (`auto desc = Parse(desc_str, provider);`)?",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-12T16:41:26Z",
      "diff_hunk" : "@@ -2140,7 +2142,11 @@ UniValue scantxoutset(const JSONRPCRequest& request)\n                 if (!desc->Expand(i, provider, scripts, provider)) {\n                     throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Cannot derive script without private keys: '%s'\", desc_str));\n                 }\n-                needles.insert(scripts.begin(), scripts.end());\n+                for (const auto script : scripts) {\n+                    std::string desc = InferDescriptor(script, provider)->ToString();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r232730539",
      "id" : 232730539,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjczMDUzOQ==",
      "original_commit_id" : "2286f206e4ea139477b88867a13a491d8d14db3d",
      "original_position" : 22,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 173991958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232730539",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-14T22:28:02Z",
      "diff_hunk" : "@@ -99,6 +99,8 @@ def test_address(self, node, address, multisig, typ):\n         \"\"\"Run sanity checks on an address.\"\"\"\n         info = self.nodes[node].getaddressinfo(address)\n         assert(self.nodes[node].validateaddress(address)['isvalid'])\n+        assert('solvable' in info and info['solvable'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645546",
      "id" : 233645546,
      "in_reply_to_id" : 227147089,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzY0NTU0Ng==",
      "original_commit_id" : "a5bcc624f5aba720e20eadf309d0fac8fe93b815",
      "original_position" : 4,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 175110277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:28:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645546",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645573"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-14T22:28:08Z",
      "diff_hunk" : "@@ -2831,6 +2833,7 @@ static UniValue listunspent(const JSONRPCRequest& request)\n         CTxDestination address;\n         const CScript& scriptPubKey = out.tx->tx->vout[out.i].scriptPubKey;\n         bool fValidAddress = ExtractDestination(scriptPubKey, address);\n+        auto descriptor = InferDescriptor(scriptPubKey, *pwallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645573",
      "id" : 233645573,
      "in_reply_to_id" : 228074866,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzY0NTU3Mw==",
      "original_commit_id" : "ea3518d078086e079905dbdecf87eb25149903a8",
      "original_position" : 20,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 175110315,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:28:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645573",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645605"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-14T22:28:17Z",
      "diff_hunk" : "@@ -2140,7 +2142,11 @@ UniValue scantxoutset(const JSONRPCRequest& request)\n                 if (!desc->Expand(i, provider, scripts, provider)) {\n                     throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Cannot derive script without private keys: '%s'\", desc_str));\n                 }\n-                needles.insert(scripts.begin(), scripts.end());\n+                for (const auto script : scripts) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645605",
      "id" : 233645605,
      "in_reply_to_id" : 230600398,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzY0NTYwNQ==",
      "original_commit_id" : "2286f206e4ea139477b88867a13a491d8d14db3d",
      "original_position" : 21,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 175110368,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:28:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645605",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645640"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645640"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-14T22:28:23Z",
      "diff_hunk" : "@@ -2140,7 +2142,11 @@ UniValue scantxoutset(const JSONRPCRequest& request)\n                 if (!desc->Expand(i, provider, scripts, provider)) {\n                     throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Cannot derive script without private keys: '%s'\", desc_str));\n                 }\n-                needles.insert(scripts.begin(), scripts.end());\n+                for (const auto script : scripts) {\n+                    std::string desc = InferDescriptor(script, provider)->ToString();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r233645640",
      "id" : 233645640,
      "in_reply_to_id" : 232730539,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzY0NTY0MA==",
      "original_commit_id" : "2286f206e4ea139477b88867a13a491d8d14db3d",
      "original_position" : 22,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 175110402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-11-14T22:28:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233645640",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 109699dd33c72539fc33619f7836b8088f63182c",
      "created_at" : "2018-11-23T12:07:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-441225222",
      "id" : 441225222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MTIyNTIyMg==",
      "updated_at" : "2018-11-23T12:07:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441225222",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
