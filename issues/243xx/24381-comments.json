[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, symlinks don't exist on Windows (or more precisely on Windows-supported filesystems like FAT16, FAT32, NTFS, whatnot?).",
      "created_at" : "2022-02-18T11:21:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044364276",
      "id" : 1044364276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-P7v0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044364276/reactions"
      },
      "updated_at" : "2022-02-18T11:21:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044364276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Hmm, symlinks don't exist on Windows (or more precisely on Windows-supported filesystems like FAT16, FAT32, NTFS, whatnot?).\r\n\r\n_The Windowsâ NTFS file system has supported symlinks since Windows Vista._\r\n\r\nhttps://blogs.windows.com/windowsdeveloper/2016/12/02/symlinks-windows-10/",
      "created_at" : "2022-02-18T12:11:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044427304",
      "id" : 1044427304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-QLIo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044427304/reactions"
      },
      "updated_at" : "2022-02-18T12:11:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044427304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Symlinks exist on Windows, otherwise the test wouldn't pass (https://github.com/bitcoin/bitcoin/pull/24338/files#r808801652).\r\n\r\nThough, it looks like symlinks don't exist on mingw: https://gcc.gnu.org/git/?p=gcc.git;a=blobdiff;f=libstdc%2B%2B-v3/testsuite/27_io/filesystem/operations/create_directories.cc;h=304c1453afe650b1e5850114df4d86772d6eb4f4;hp=393d6a5530925bd1305eaf460c107954cb0b1ab9;hb=124eaa50e0a34f5f89572c1aa812c50979da58fc;hpb=e07d30fdcaec4906e0dcb948fc4748bf74c15c05",
      "created_at" : "2022-02-18T12:16:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044432934",
      "id" : 1044432934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-QMgm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044432934/reactions"
      },
      "updated_at" : "2022-02-18T12:16:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044432934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Does the test pass only if the underlying filesystem is NTFS? Would it fail on a FAT filesystem?",
      "created_at" : "2022-02-18T12:52:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044478529",
      "id" : 1044478529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-QXpB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044478529/reactions"
      },
      "updated_at" : "2022-02-18T12:52:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044478529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like the new test uncovered a new libc++ bug in versions 11 and lower? Removed new test for now. I'll debug this as a follow-up.\r\n\r\nShould be trivial to re-ACK.",
      "created_at" : "2022-02-18T14:18:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044598093",
      "id" : 1044598093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-Q01N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044598093/reactions"
      },
      "updated_at" : "2022-02-18T16:55:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044598093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "<!-- \r\n\r\nAlso, add a test for the case where the symlink points to a non-existing directory. This confirms the behavior is identical to the one in v22.0 (boost):\r\n\r\n```\r\n node0 stderr ************************\r\nEXCEPTION: N5boost10filesystem16filesystem_errorE       \r\nboost::filesystem::create_directory: File exists: \"/tmp/bitcoin_func_test_jozyx4wp/node0/regtest/blocks\"       \r\nbitcoin in AppInit() \r\n",
      "created_at" : "2022-02-18T14:18:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044599046",
      "id" : 1044599046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-Q1EG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044599046/reactions"
      },
      "updated_at" : "2022-02-18T14:18:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044599046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The multiwallet test already uses symlinks unconditionally, so this pull isn't changing where test can be run. Is FAT still a thing in 2022? If yes, it might be better to start a new issue/thread to discuss testing on it.",
      "created_at" : "2022-02-18T15:42:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044722591",
      "id" : 1044722591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-RTOf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044722591/reactions"
      },
      "updated_at" : "2022-02-18T15:42:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044722591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Aside from FAT, Android also prohibits symlinks on the /sdcard filesystem\r\n\r\n```\r\n:/sdcard # ln -s a b\r\nln: cannot create symbolic link from 'a' to 'b': Operation not permitted\r\n```",
      "created_at" : "2022-02-19T01:14:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1045486966",
      "id" : 1045486966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-UN12",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1045486966/reactions"
      },
      "updated_at" : "2022-02-19T01:14:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1045486966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r810464801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810464801"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also see https://github.com/bitcoin/bitcoin/pull/24338/files#r808540886",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-19T08:31:32Z",
      "diff_hunk" : "@@ -152,7 +152,7 @@ BOOST_AUTO_TEST_CASE(rename)\n     fs::remove(path2);\n }\n \n-#ifndef WIN32\n+#ifndef __MINGW64__ // no symlinks on mingw",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r810464801",
      "id" : 810464801,
      "line" : 155,
      "node_id" : "PRRC_kwDOABII584wTrYh",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 155,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fs_tests.cpp",
      "position" : 5,
      "pull_request_review_id" : 887904239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810464801/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-19T08:32:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810464801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">@luke-jr this works for me because file system is ext4. Symlinks work on Android, it's just FAT file system that does not support it.\r\n\r\nOn Android, /sdcard is \"sdcardfs\", which doesn't support symlinks.",
      "created_at" : "2022-02-22T23:46:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1048318212",
      "id" : 1048318212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-fBEE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048318212/reactions"
      },
      "updated_at" : "2022-02-22T23:46:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048318212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812864766"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812864766"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any specific reason to assign these to variables? They're only used once.",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T12:58:56Z",
      "diff_hunk" : "@@ -6,34 +6,36 @@\n \"\"\"\n \n import os\n-import sys\n \n-from test_framework.test_framework import BitcoinTestFramework, SkipTest\n+from test_framework.test_framework import BitcoinTestFramework\n \n \n def rename_and_link(*, from_name, to_name):\n     os.rename(from_name, to_name)\n     os.symlink(to_name, from_name)\n     assert os.path.islink(from_name) and os.path.isdir(from_name)\n \n-class SymlinkTest(BitcoinTestFramework):\n-    def skip_test_if_missing_module(self):\n-        if sys.platform == 'win32':\n-            raise SkipTest(\"Symlinks test skipped on Windows\")\n \n+class SymlinkTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n+        dir_new_blocks = self.nodes[0].chain_path / \"new_blocks\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812864766",
      "id" : 812864766,
      "line" : 24,
      "node_id" : "PRRC_kwDOABII584wc1T-",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 24,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/feature_dirsymlinks.py",
      "position" : 25,
      "pull_request_review_id" : 891041911,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812864766/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-23T13:07:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812864766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812866139"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812866139"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why change the quote style here? Looking at the current `.py` files the syntax here varies wildly. I mean, I'm not against making it consistent, but changing just this file seems pointless.",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T13:00:38Z",
      "diff_hunk" : "@@ -6,34 +6,36 @@\n \"\"\"\n \n import os\n-import sys\n \n-from test_framework.test_framework import BitcoinTestFramework, SkipTest\n+from test_framework.test_framework import BitcoinTestFramework\n \n \n def rename_and_link(*, from_name, to_name):\n     os.rename(from_name, to_name)\n     os.symlink(to_name, from_name)\n     assert os.path.islink(from_name) and os.path.isdir(from_name)\n \n-class SymlinkTest(BitcoinTestFramework):\n-    def skip_test_if_missing_module(self):\n-        if sys.platform == 'win32':\n-            raise SkipTest(\"Symlinks test skipped on Windows\")\n \n+class SymlinkTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n+        dir_new_blocks = self.nodes[0].chain_path / \"new_blocks\"\n+        dir_new_chainstate = self.nodes[0].chain_path / \"new_chainstate\"\n         self.stop_node(0)\n \n-        rename_and_link(from_name=os.path.join(self.nodes[0].datadir, self.chain, \"blocks\"),\n-                        to_name=os.path.join(self.nodes[0].datadir, self.chain, \"newblocks\"))\n-        rename_and_link(from_name=os.path.join(self.nodes[0].datadir, self.chain, \"chainstate\"),\n-                        to_name=os.path.join(self.nodes[0].datadir, self.chain, \"newchainstate\"))\n+        rename_and_link(\n+            from_name=self.nodes[0].chain_path / \"blocks\",\n+            to_name=dir_new_blocks,\n+        )\n+        rename_and_link(\n+            from_name=self.nodes[0].chain_path / \"chainstate\",\n+            to_name=dir_new_chainstate,\n+        )\n \n         self.start_node(0)\n \n \n-if __name__ == '__main__':\n+if __name__ == \"__main__\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812866139",
      "id" : 812866139,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII584wc1pb",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 40,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "test/functional/feature_dirsymlinks.py",
      "position" : 46,
      "pull_request_review_id" : 891043909,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812866139/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-23T13:00:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812866139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It's an anti-pattern to skip tests on windows, and this has caused bugs recently. \r\n\r\nLook, I had no idea symlinks were a reliable feature on Windows (they were not for a long time) and am unable to test anything on Windows myself. This test was added to test a workaround for a bug in std::fs on gcc/glibc. Disabling it for windows seemed to make sense. I'm fine with enabling it, but I don't think I committed some anti-patttern sin by doing it that way.\r\n\r\nEdit: also, if there are no symlinks in mingw, the functional test will fail with mingw-built (like the distribution binary) bitcoind, right?\r\n\r\nEdit.2: I agree that running the test on obscure or old filesystems like VFAT or some android partition isn't relevant, it makes sense to assume a fully-featured FS (as the operating system allows for) for the tests.",
      "created_at" : "2022-02-23T13:07:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1048763223",
      "id" : 1048763223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-gttX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048763223/reactions"
      },
      "updated_at" : "2022-02-23T13:15:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048763223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812878954"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812878954"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry, no reason. I needed this for the follow-up test. Though, the test uncovered another bug (https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1044598093), so I removed it.\r\n\r\nHappy to revert the variables as well. Lmk?",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T13:15:35Z",
      "diff_hunk" : "@@ -6,34 +6,36 @@\n \"\"\"\n \n import os\n-import sys\n \n-from test_framework.test_framework import BitcoinTestFramework, SkipTest\n+from test_framework.test_framework import BitcoinTestFramework\n \n \n def rename_and_link(*, from_name, to_name):\n     os.rename(from_name, to_name)\n     os.symlink(to_name, from_name)\n     assert os.path.islink(from_name) and os.path.isdir(from_name)\n \n-class SymlinkTest(BitcoinTestFramework):\n-    def skip_test_if_missing_module(self):\n-        if sys.platform == 'win32':\n-            raise SkipTest(\"Symlinks test skipped on Windows\")\n \n+class SymlinkTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n+        dir_new_blocks = self.nodes[0].chain_path / \"new_blocks\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812878954",
      "id" : 812878954,
      "in_reply_to_id" : 812864766,
      "line" : 24,
      "node_id" : "PRRC_kwDOABII584wc4xq",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 24,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/feature_dirsymlinks.py",
      "position" : 25,
      "pull_request_review_id" : 891063651,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812878954/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-23T13:15:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812878954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812879569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812879569"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No reason. I think my editor/formatter did this. Happy to revert.",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T13:16:16Z",
      "diff_hunk" : "@@ -6,34 +6,36 @@\n \"\"\"\n \n import os\n-import sys\n \n-from test_framework.test_framework import BitcoinTestFramework, SkipTest\n+from test_framework.test_framework import BitcoinTestFramework\n \n \n def rename_and_link(*, from_name, to_name):\n     os.rename(from_name, to_name)\n     os.symlink(to_name, from_name)\n     assert os.path.islink(from_name) and os.path.isdir(from_name)\n \n-class SymlinkTest(BitcoinTestFramework):\n-    def skip_test_if_missing_module(self):\n-        if sys.platform == 'win32':\n-            raise SkipTest(\"Symlinks test skipped on Windows\")\n \n+class SymlinkTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n+        dir_new_blocks = self.nodes[0].chain_path / \"new_blocks\"\n+        dir_new_chainstate = self.nodes[0].chain_path / \"new_chainstate\"\n         self.stop_node(0)\n \n-        rename_and_link(from_name=os.path.join(self.nodes[0].datadir, self.chain, \"blocks\"),\n-                        to_name=os.path.join(self.nodes[0].datadir, self.chain, \"newblocks\"))\n-        rename_and_link(from_name=os.path.join(self.nodes[0].datadir, self.chain, \"chainstate\"),\n-                        to_name=os.path.join(self.nodes[0].datadir, self.chain, \"newchainstate\"))\n+        rename_and_link(\n+            from_name=self.nodes[0].chain_path / \"blocks\",\n+            to_name=dir_new_blocks,\n+        )\n+        rename_and_link(\n+            from_name=self.nodes[0].chain_path / \"chainstate\",\n+            to_name=dir_new_chainstate,\n+        )\n \n         self.start_node(0)\n \n \n-if __name__ == '__main__':\n+if __name__ == \"__main__\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812879569",
      "id" : 812879569,
      "in_reply_to_id" : 812866139,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII584wc47R",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 40,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "test/functional/feature_dirsymlinks.py",
      "position" : 46,
      "pull_request_review_id" : 891064453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812879569/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-23T13:16:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812879569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm fine with enabling it, but I don't think I committed some anti-patttern sin by doing it that way.\r\n\r\nI think it is fine to initially add a test for a specific operating system or exclude a specific operating system. A test is better than no test.",
      "created_at" : "2022-02-23T13:19:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1048773618",
      "id" : 1048773618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-gwPy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048773618/reactions"
      },
      "updated_at" : "2022-02-23T13:36:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048773618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812884678"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812884678"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No strong opinion on reverting. I was just wondering.",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T13:22:11Z",
      "diff_hunk" : "@@ -6,34 +6,36 @@\n \"\"\"\n \n import os\n-import sys\n \n-from test_framework.test_framework import BitcoinTestFramework, SkipTest\n+from test_framework.test_framework import BitcoinTestFramework\n \n \n def rename_and_link(*, from_name, to_name):\n     os.rename(from_name, to_name)\n     os.symlink(to_name, from_name)\n     assert os.path.islink(from_name) and os.path.isdir(from_name)\n \n-class SymlinkTest(BitcoinTestFramework):\n-    def skip_test_if_missing_module(self):\n-        if sys.platform == 'win32':\n-            raise SkipTest(\"Symlinks test skipped on Windows\")\n \n+class SymlinkTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n+        dir_new_blocks = self.nodes[0].chain_path / \"new_blocks\"\n+        dir_new_chainstate = self.nodes[0].chain_path / \"new_chainstate\"\n         self.stop_node(0)\n \n-        rename_and_link(from_name=os.path.join(self.nodes[0].datadir, self.chain, \"blocks\"),\n-                        to_name=os.path.join(self.nodes[0].datadir, self.chain, \"newblocks\"))\n-        rename_and_link(from_name=os.path.join(self.nodes[0].datadir, self.chain, \"chainstate\"),\n-                        to_name=os.path.join(self.nodes[0].datadir, self.chain, \"newchainstate\"))\n+        rename_and_link(\n+            from_name=self.nodes[0].chain_path / \"blocks\",\n+            to_name=dir_new_blocks,\n+        )\n+        rename_and_link(\n+            from_name=self.nodes[0].chain_path / \"chainstate\",\n+            to_name=dir_new_chainstate,\n+        )\n \n         self.start_node(0)\n \n \n-if __name__ == '__main__':\n+if __name__ == \"__main__\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812884678",
      "id" : 812884678,
      "in_reply_to_id" : 812866139,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII584wc6LG",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 40,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "test/functional/feature_dirsymlinks.py",
      "position" : 46,
      "pull_request_review_id" : 891071533,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812884678/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-23T13:22:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812884678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812884956"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812884956"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, if you need it for a follow-up test it's fine.",
      "commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T13:22:31Z",
      "diff_hunk" : "@@ -6,34 +6,36 @@\n \"\"\"\n \n import os\n-import sys\n \n-from test_framework.test_framework import BitcoinTestFramework, SkipTest\n+from test_framework.test_framework import BitcoinTestFramework\n \n \n def rename_and_link(*, from_name, to_name):\n     os.rename(from_name, to_name)\n     os.symlink(to_name, from_name)\n     assert os.path.islink(from_name) and os.path.isdir(from_name)\n \n-class SymlinkTest(BitcoinTestFramework):\n-    def skip_test_if_missing_module(self):\n-        if sys.platform == 'win32':\n-            raise SkipTest(\"Symlinks test skipped on Windows\")\n \n+class SymlinkTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n \n     def run_test(self):\n+        dir_new_blocks = self.nodes[0].chain_path / \"new_blocks\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#discussion_r812884956",
      "id" : 812884956,
      "in_reply_to_id" : 812864766,
      "line" : 24,
      "node_id" : "PRRC_kwDOABII584wc6Pc",
      "original_commit_id" : "fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "original_line" : 24,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/feature_dirsymlinks.py",
      "position" : 25,
      "pull_request_review_id" : 891071917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24381",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812884956/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-23T13:22:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/812884956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Nope, laanwj you have sinned and I pronounce you guilty of crimes against test coverage! But seriously, if you want feature X to work on all platforms and you disable tests for feature X on certain platforms, it's just a red flag. You don't have to go to jail, or devote yourself to fixing the test when there are more important things to do, and my comment was motivated more by #24251 than the create_directories thing. I just think skipping tests without a very specific and definitive reason is something people should be suspicious of.",
      "created_at" : "2022-02-23T14:26:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1048836163",
      "id" : 1048836163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-g_hD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 3,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 1,
         "rocket" : 0,
         "total_count" : 4,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048836163/reactions"
      },
      "updated_at" : "2022-02-23T14:26:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048836163",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "LOL :smile: \r\n\r\nCode review ACK fad7ddf9e3710405d727f61d8200d5efed1e705b",
      "created_at" : "2022-02-23T14:48:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1048861289",
      "id" : 1048861289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-hFpp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048861289/reactions"
      },
      "updated_at" : "2022-02-23T14:48:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048861289",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Would be nice if the test could be added later, of course.\r\n\r\nDone in https://github.com/bitcoin/bitcoin/pull/24432",
      "created_at" : "2022-02-23T16:25:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24381#issuecomment-1048964869",
      "id" : 1048964869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24381",
      "node_id" : "IC_kwDOABII584-he8F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048964869/reactions"
      },
      "updated_at" : "2022-02-23T16:25:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048964869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
