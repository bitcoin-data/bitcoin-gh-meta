[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for improving the ZMQ documentation. Will review soon.\r\n\r\nref https://github.com/bitcoin/bitcoin/pull/23471 (a recent, merged ZMQ doc improvement)",
      "created_at" : "2022-02-12T09:35:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24318#issuecomment-1037088971",
      "id" : 1037088971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24318",
      "node_id" : "IC_kwDOABII58490LjL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1037088971/reactions"
      },
      "updated_at" : "2022-02-12T09:35:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1037088971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r805224205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805224205"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Does this functionality (tx events for every tx in a block) not work?",
      "commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "created_at" : "2022-02-13T01:36:17Z",
      "diff_hunk" : "@@ -104,15 +104,14 @@ The topics are:\n \n Where the 8-byte uints correspond to the mempool sequence number.\n \n-`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it. The messages are ZMQ multipart messages with three parts. The first part is the topic (`rawtx`), the second part is the serialized transaction, and the last part is a sequence number (representing the message count to detect lost messages).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r805224205",
      "id" : 805224205,
      "line" : 107,
      "node_id" : "PRRC_kwDOABII584v_r8N",
      "original_commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "original_line" : 107,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/zmq.md",
      "position" : 4,
      "pull_request_review_id" : 880904904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805224205/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-13T01:36:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805224205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r805616233"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805616233"
         }
      },
      "author_association" : "NONE",
      "body" : "It doesn't work. I've never seen that behavior. I changed from mempool long pooling to zmq interface on november 2020. Maybe it worked before, maybe not, and that's the expected behavior and it's wrong explained in the docs.\r\n\r\nFor me, the actual behaviour it's fine, and the one explained in the docs it's trickier, since it forces you into checking if an incoming transaction is from last block or was added to mempool to be mined.",
      "commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "created_at" : "2022-02-14T08:49:06Z",
      "diff_hunk" : "@@ -104,15 +104,14 @@ The topics are:\n \n Where the 8-byte uints correspond to the mempool sequence number.\n \n-`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it. The messages are ZMQ multipart messages with three parts. The first part is the topic (`rawtx`), the second part is the serialized transaction, and the last part is a sequence number (representing the message count to detect lost messages).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r805616233",
      "id" : 805616233,
      "in_reply_to_id" : 805224205,
      "line" : 107,
      "node_id" : "PRRC_kwDOABII584wBLpp",
      "original_commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "original_line" : 107,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/zmq.md",
      "position" : 4,
      "pull_request_review_id" : 881312525,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805616233/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T08:49:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805616233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93706552?v=4",
         "events_url" : "https://api.github.com/users/dev7ba/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dev7ba/followers",
         "following_url" : "https://api.github.com/users/dev7ba/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dev7ba/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dev7ba",
         "id" : 93706552,
         "login" : "dev7ba",
         "node_id" : "U_kgDOBZXZOA",
         "organizations_url" : "https://api.github.com/users/dev7ba/orgs",
         "received_events_url" : "https://api.github.com/users/dev7ba/received_events",
         "repos_url" : "https://api.github.com/users/dev7ba/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dev7ba/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dev7ba/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dev7ba"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r807789996"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/807789996"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Which Bitcoin Core version (e.g. v22.0 or a `master` build) are you running?\r\n\r\nLast time I checked this functionality (mempool + block tx via `rawtx`) did work. IIRC the `rawtx` topic gave me both mempool and block tx around taproot activation. I remember adding a custom ZMQ publisher for my taproot activation monitoring livestream to either v22 or `master`. I also PR'ed a WIP implementation of a `rawmempooltx` publisher in https://github.com/bitcoin/bitcoin/pull/23624 as other users were getting mempool and block transactions through `rawtx` too, but were only looking for mempool transactions. ",
      "commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "created_at" : "2022-02-16T10:45:39Z",
      "diff_hunk" : "@@ -104,15 +104,14 @@ The topics are:\n \n Where the 8-byte uints correspond to the mempool sequence number.\n \n-`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it. The messages are ZMQ multipart messages with three parts. The first part is the topic (`rawtx`), the second part is the serialized transaction, and the last part is a sequence number (representing the message count to detect lost messages).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r807789996",
      "id" : 807789996,
      "in_reply_to_id" : 805224205,
      "line" : 107,
      "node_id" : "PRRC_kwDOABII584wJeWs",
      "original_commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "original_line" : 107,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/zmq.md",
      "position" : 4,
      "pull_request_review_id" : 884337853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/807789996/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-16T10:46:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/807789996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r807883734"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/807883734"
         }
      },
      "author_association" : "NONE",
      "body" : "Currently running v22.0. But I've used `hashtx`. Different behaviors for each one? I'm going to do tests for both and comment here the results ASAP.",
      "commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "created_at" : "2022-02-16T12:18:17Z",
      "diff_hunk" : "@@ -104,15 +104,14 @@ The topics are:\n \n Where the 8-byte uints correspond to the mempool sequence number.\n \n-`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it. The messages are ZMQ multipart messages with three parts. The first part is the topic (`rawtx`), the second part is the serialized transaction, and the last part is a sequence number (representing the message count to detect lost messages).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24318#discussion_r807883734",
      "id" : 807883734,
      "in_reply_to_id" : 805224205,
      "line" : 107,
      "node_id" : "PRRC_kwDOABII584wJ1PW",
      "original_commit_id" : "1fb18f4e8c68fc495038d7b9c1ab8396dc5e4921",
      "original_line" : 107,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/zmq.md",
      "position" : 4,
      "pull_request_review_id" : 884448418,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24318",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/807883734/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-16T12:18:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/807883734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93706552?v=4",
         "events_url" : "https://api.github.com/users/dev7ba/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dev7ba/followers",
         "following_url" : "https://api.github.com/users/dev7ba/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dev7ba/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dev7ba",
         "id" : 93706552,
         "login" : "dev7ba",
         "node_id" : "U_kgDOBZXZOA",
         "organizations_url" : "https://api.github.com/users/dev7ba/orgs",
         "received_events_url" : "https://api.github.com/users/dev7ba/received_events",
         "repos_url" : "https://api.github.com/users/dev7ba/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dev7ba/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dev7ba/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dev7ba"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I was using the `sequence` topic, nor `rawTx` or `hashTx`. Documentation was right. \r\nSorry for the inconvenience.",
      "created_at" : "2022-02-16T13:04:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24318#issuecomment-1041471227",
      "id" : 1041471227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24318",
      "node_id" : "IC_kwDOABII584-E5b7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041471227/reactions"
      },
      "updated_at" : "2022-02-16T13:04:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041471227",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93706552?v=4",
         "events_url" : "https://api.github.com/users/dev7ba/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dev7ba/followers",
         "following_url" : "https://api.github.com/users/dev7ba/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dev7ba/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dev7ba",
         "id" : 93706552,
         "login" : "dev7ba",
         "node_id" : "U_kgDOBZXZOA",
         "organizations_url" : "https://api.github.com/users/dev7ba/orgs",
         "received_events_url" : "https://api.github.com/users/dev7ba/received_events",
         "repos_url" : "https://api.github.com/users/dev7ba/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dev7ba/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dev7ba/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dev7ba"
      }
   }
]
