[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2022-02-16T11:44:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1041403667",
      "id" : 1041403667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII584-Eo8T",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041403667/reactions"
      },
      "updated_at" : "2022-02-16T11:44:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041403667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808832329"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808832329"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe add a `doc/design/README.md` (although the above description doesn't add much to just a directory view)",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-02-17T09:21:03Z",
      "diff_hunk" : "@@ -64,14 +64,14 @@ The Bitcoin repo's [root README](/README.md) contains relevant information on th\n - [BIPS](bips.md)\n - [Dnsseed Policy](dnsseed-policy.md)\n - [Benchmarking](benchmarking.md)\n+- [Internal Design Docs](design/)\n \n ### Resources\n * Discuss on the [BitcoinTalk](https://bitcointalk.org/) forums, in the [Development & Technical Discussion board](https://bitcointalk.org/index.php?board=6.0).\n * Discuss project-specific development on #bitcoin-core-dev on Libera Chat. If you don't have an IRC client, you can use [web.libera.chat](https://web.libera.chat/#bitcoin-core-dev).\n \n ### Miscellaneous\n - [Assets Attribution](assets-attribution.md)\n-- [Assumeutxo design](assumeutxo.md)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808832329",
      "id" : 808832329,
      "line" : 74,
      "node_id" : "PRRC_kwDOABII584wNc1J",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "doc/README.md",
      "position" : 12,
      "pull_request_review_id" : 885654109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808832329/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-17T09:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808832329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808884620"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808884620"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This looks a bit scary with all these curved lines. It's probably better to use (a reasonably chosen set of) fixed positions and straight lines.",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-02-17T10:14:43Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808884620",
      "id" : 808884620,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584wNpmM",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 35,
      "pull_request_review_id" : 885730351,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808884620/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-17T10:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808884620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808915875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808915875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah this graph is atrocious. I thought mermaid might do a better job with it. I think the markdown source code is more undertandable than the graphic, but I will look for mermaid options (straight lines!) which might make this more readable.",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-02-17T10:48:08Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808915875",
      "id" : 808915875,
      "in_reply_to_id" : 808884620,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584wNxOj",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 35,
      "pull_request_review_id" : 885772784,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808915875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-17T10:48:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808915875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I had a conversation with Ryan about this and agree to the broad strokes of things. We decided that it would be good to move:\r\n- Everything in `common` that `kernel` depends on to `util`\r\n- Everything in `util` that `kernel` doesn't depend on to `common`\r\n\r\nI need to make that move and see where things fall to make an educated assessment of the hierarchy described here (mostly the part about `libbitcoinkernel` not depending on `common` and only depending on `util`).",
      "created_at" : "2022-02-22T21:32:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1048231861",
      "id" : 1048231861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII584-er-1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048231861/reactions"
      },
      "updated_at" : "2022-02-22T21:32:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048231861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> We decided that it would be good to move:\r\n> - Everything in `common` that `kernel` depends on to `util`\r\n> - Everything in `util` that `kernel` doesn't depend on to `common`\r\n\r\nImplemented this here: https://github.com/dongcarl/bitcoin/commits/2022-03-libbitcoinkernel-utilcommon-restructure\r\n\r\nSeems to me like a nice dividing line between util and common. Would love more Concept ACKs",
      "created_at" : "2022-03-04T01:03:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1058723282",
      "id" : 1058723282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII584_GtXS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1058723282/reactions"
      },
      "updated_at" : "2022-03-04T01:03:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1058723282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK (on adding docs for this) - will look at the actual content.",
      "created_at" : "2022-04-20T13:46:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1103952850",
      "id" : 1103952850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII585BzPvS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103952850/reactions"
      },
      "updated_at" : "2022-04-20T13:46:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103952850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r880900331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880900331"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing a closing paren on this line",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-05-24T19:59:11Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r880900331",
      "id" : 880900331,
      "line" : 6,
      "node_id" : "PRRC_kwDOABII5840gXjr",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 6,
      "pull_request_review_id" : 983783293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880900331/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-24T20:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880900331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r880901426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880901426"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Another missing paren",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-05-24T20:00:09Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r880901426",
      "id" : 880901426,
      "line" : 13,
      "node_id" : "PRRC_kwDOABII5840gX0y",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 13,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 13,
      "pull_request_review_id" : 983783293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880901426/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-24T20:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/880901426",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886925911"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886925911"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808832329\r\n\r\n> Maybe add a `doc/design/README.md` (although the above description doesn't add much to just a directory view)\r\n\r\nI think I'd hold off on adding another readme for now. It seems like it would be pretty bare and even if there were things to say, they might be more helpful and visible in the main readme. Could rethink in the future as more things are added here",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-01T15:10:58Z",
      "diff_hunk" : "@@ -64,14 +64,14 @@ The Bitcoin repo's [root README](/README.md) contains relevant information on th\n - [BIPS](bips.md)\n - [Dnsseed Policy](dnsseed-policy.md)\n - [Benchmarking](benchmarking.md)\n+- [Internal Design Docs](design/)\n \n ### Resources\n * Discuss on the [BitcoinTalk](https://bitcointalk.org/) forums, in the [Development & Technical Discussion board](https://bitcointalk.org/index.php?board=6.0).\n * Discuss project-specific development on #bitcoin-core-dev on Libera Chat. If you don't have an IRC client, you can use [web.libera.chat](https://web.libera.chat/#bitcoin-core-dev).\n \n ### Miscellaneous\n - [Assets Attribution](assets-attribution.md)\n-- [Assumeutxo design](assumeutxo.md)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886925911",
      "id" : 886925911,
      "in_reply_to_id" : 808832329,
      "line" : 74,
      "node_id" : "PRRC_kwDOABII58403WpX",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "doc/README.md",
      "position" : 12,
      "pull_request_review_id" : 992144928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886925911/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-01T18:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886925911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886927014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886927014"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24352#discussion_r880900331\r\n\r\n> Missing a closing paren on this line\r\n\r\nThanks! Also corrected below",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-01T15:11:58Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886927014",
      "id" : 886927014,
      "in_reply_to_id" : 880900331,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58403W6m",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : null,
      "pull_request_review_id" : 992144928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886927014/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-01T18:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886927014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886927315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886927315"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24352#discussion_r880901426\r\n\r\n> Another missing paren\r\n\r\nThanks, fixed",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-01T15:12:16Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886927315",
      "id" : 886927315,
      "in_reply_to_id" : 880901426,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58403W_T",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 13,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : null,
      "pull_request_review_id" : 992144928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886927315/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-01T18:06:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886927315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886966921"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886966921"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "FWIW, I figured out how to make the lines straight. I thinks it cuts down some of the chaos and helps a little. I also added a caption to the graph to call out more important aspects.",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-01T15:49:14Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r886966921",
      "id" : 886966921,
      "in_reply_to_id" : 808884620,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII58403gqJ",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 40,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 40,
      "pull_request_review_id" : 992144928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886966921/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-01T18:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886966921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 93fd8d9e98feb4e0e060b3de8a8cb1671a693e79\r\n\r\nLooks reasonable to me!",
      "created_at" : "2022-06-16T17:45:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1157960158",
      "id" : 1157960158,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII585FBRHe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1157960158/reactions"
      },
      "updated_at" : "2022-06-16T17:45:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1157960158",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901466313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901466313"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n- *libbitcoin_util* should also be a standalone dependency that any library can depend on, and it should not depend on other internal libraries.\r\n```\r\n\r\n",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-20T09:42:58Z",
      "diff_hunk" : "@@ -0,0 +1,101 @@\n+# Libraries\n+\n+| Name                     | Description |\n+|--------------------------|-------------|\n+| *libbitcoin_cli*         | RPC client functionality used by *bitcoin-cli* executable |\n+| *libbitcoin_common*      | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_util*, but higher-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_consensus*   | Stable, backwards-compatible consensus functionality used by *libbitcoin_node* and *libbitcoin_wallet* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinconsensus*    | Shared library build of static *libbitcoin_consensus* library |\n+| *libbitcoin_kernel*      | Consensus engine and support library used for validation by *libbitcoin_node* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinqt*           | GUI functionality used by *bitcoin-qt* and *bitcoin-gui* executables |\n+| *libbitcoin_ipc*         | IPC functionality used by *bitcoin-node*, *bitcoin-wallet*, *bitcoin-gui* executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| *libbitcoin_node*        | P2P and RPC server functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+| *libbitcoin_util*        | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_common*, but lower-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_wallet*      | Wallet functionality used by *bitcoind* and *bitcoin-wallet* executables. |\n+| *libbitcoin_wallet_tool* | Lower-level wallet functionality used by *bitcoin-wallet* executable. |\n+| *libbitcoin_zmq*         | [ZeroMQ](../zmq.md) functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are *libbitcoin_consensus* and *libbitcoin_kernel* which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally each library should have a corresponding source directory and namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - *libbitcoin_node* code lives in `src/node/` in the `node::` namespace\n+  - *libbitcoin_wallet* code lives in `src/wallet/` in the `wallet::` namespace\n+  - *libbitcoin_ipc* code lives in `src/ipc/` in the `ipc::` namespace\n+  - *libbitcoin_util* code lives in `src/util/` in the `util::` namespace\n+  - *libbitcoin_consensus* code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should minimize what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+<table><tr><td>\n+\n+```mermaid\n+\n+%%{ init : { \"flowchart\" : { \"curve\" : \"linear\" }}}%%\n+\n+graph TD;\n+\n+bitcoin-cli-->libbitcoin_cli;\n+\n+bitcoind-->libbitcoin_node;\n+bitcoind-->libbitcoin_wallet;\n+\n+bitcoin-qt-->libbitcoin_node;\n+bitcoin-qt-->libbitcoinqt;\n+bitcoin-qt-->libbitcoin_wallet;\n+\n+bitcoin-wallet-->libbitcoin_wallet;\n+bitcoin-wallet-->libbitcoin_wallet_tool;\n+\n+libbitcoin_cli-->libbitcoin_common;\n+libbitcoin_cli-->libbitcoin_util;\n+\n+libbitcoin_common-->libbitcoin_util;\n+libbitcoin_common-->libbitcoin_consensus;\n+\n+libbitcoin_kernel-->libbitcoin_consensus;\n+libbitcoin_kernel-->libbitcoin_util;\n+\n+libbitcoin_node-->libbitcoin_common;\n+libbitcoin_node-->libbitcoin_consensus;\n+libbitcoin_node-->libbitcoin_kernel;\n+libbitcoin_node-->libbitcoin_util;\n+\n+libbitcoinqt-->libbitcoin_common;\n+libbitcoinqt-->libbitcoin_util;\n+\n+libbitcoin_wallet-->libbitcoin_common;\n+libbitcoin_wallet-->libbitcoin_util;\n+\n+libbitcoin_wallet_tool-->libbitcoin_util;\n+libbitcoin_wallet_tool-->libbitcoin_wallet;\n+```\n+</td></tr><tr><td>\n+\n+**Dependency graph**. *Consensus* lib depends on nothing. *Util* lib is depended on by everything. *Kernel* lib depends only on consensus and util.\n+\n+</td></tr></table>\n+\n+- The graph shows what _symbols_ (functions and variables) from each library other libraries can call and reference directly, but it is not a call graph. For example, there is no arrow connecting *libbitcoin_wallet* and *libbitcoin_node* libraries, because these libraries are intended to be modular and not depend on each other's internal implementation details. But wallet code still is still able to call node code indirectly through the `interfaces::Chain` abstract class in [`interfaces/chain.h`](../../src/interfaces/chain.h) and node code calls wallet code through the `interfaces::ChainClient` and `interfaces::Chain::Notifications` abstract classes in the same file. In general, defining abstract classes in [`src/interfaces/`](../../src/interfaces/) can be a convenient way of avoiding unwanted direct dependencies or circular dependencies between libraries.\n+\n+- *libbitcoin_consensus* should be a standalone dependency that any library can depend on, and it should not depend on any other libraries itself.\n+\n+- *libbitcoin_util* should also be a standalone dependency that any library can depend on, and it should not depend on other internal libraries. (It does use currently use boost and univalue external libraries.)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901466313",
      "id" : 901466313,
      "line" : 87,
      "node_id" : "PRRC_kwDOABII5841u0jJ",
      "original_commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "original_line" : 87,
      "original_position" : 87,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 87,
      "pull_request_review_id" : 1011990971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901466313/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T09:44:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901466313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901541983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901541983"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Huh TIL, had no idea github could do this. Cool.",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-20T11:06:04Z",
      "diff_hunk" : "@@ -0,0 +1,101 @@\n+# Libraries\n+\n+| Name                     | Description |\n+|--------------------------|-------------|\n+| *libbitcoin_cli*         | RPC client functionality used by *bitcoin-cli* executable |\n+| *libbitcoin_common*      | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_util*, but higher-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_consensus*   | Stable, backwards-compatible consensus functionality used by *libbitcoin_node* and *libbitcoin_wallet* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinconsensus*    | Shared library build of static *libbitcoin_consensus* library |\n+| *libbitcoin_kernel*      | Consensus engine and support library used for validation by *libbitcoin_node* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinqt*           | GUI functionality used by *bitcoin-qt* and *bitcoin-gui* executables |\n+| *libbitcoin_ipc*         | IPC functionality used by *bitcoin-node*, *bitcoin-wallet*, *bitcoin-gui* executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| *libbitcoin_node*        | P2P and RPC server functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+| *libbitcoin_util*        | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_common*, but lower-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_wallet*      | Wallet functionality used by *bitcoind* and *bitcoin-wallet* executables. |\n+| *libbitcoin_wallet_tool* | Lower-level wallet functionality used by *bitcoin-wallet* executable. |\n+| *libbitcoin_zmq*         | [ZeroMQ](../zmq.md) functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are *libbitcoin_consensus* and *libbitcoin_kernel* which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally each library should have a corresponding source directory and namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - *libbitcoin_node* code lives in `src/node/` in the `node::` namespace\n+  - *libbitcoin_wallet* code lives in `src/wallet/` in the `wallet::` namespace\n+  - *libbitcoin_ipc* code lives in `src/ipc/` in the `ipc::` namespace\n+  - *libbitcoin_util* code lives in `src/util/` in the `util::` namespace\n+  - *libbitcoin_consensus* code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should minimize what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+<table><tr><td>\n+\n+```mermaid",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901541983",
      "id" : 901541983,
      "line" : 36,
      "node_id" : "PRRC_kwDOABII5841vHBf",
      "original_commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "original_line" : 36,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 36,
      "pull_request_review_id" : 1012094940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901541983/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T11:06:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901541983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901544362"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901544362"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it would be useful to make the \"binary\" boxes a different color or style from the library ones, if possible.",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-20T11:09:01Z",
      "diff_hunk" : "@@ -0,0 +1,101 @@\n+# Libraries\n+\n+| Name                     | Description |\n+|--------------------------|-------------|\n+| *libbitcoin_cli*         | RPC client functionality used by *bitcoin-cli* executable |\n+| *libbitcoin_common*      | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_util*, but higher-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_consensus*   | Stable, backwards-compatible consensus functionality used by *libbitcoin_node* and *libbitcoin_wallet* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinconsensus*    | Shared library build of static *libbitcoin_consensus* library |\n+| *libbitcoin_kernel*      | Consensus engine and support library used for validation by *libbitcoin_node* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinqt*           | GUI functionality used by *bitcoin-qt* and *bitcoin-gui* executables |\n+| *libbitcoin_ipc*         | IPC functionality used by *bitcoin-node*, *bitcoin-wallet*, *bitcoin-gui* executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| *libbitcoin_node*        | P2P and RPC server functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+| *libbitcoin_util*        | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_common*, but lower-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_wallet*      | Wallet functionality used by *bitcoind* and *bitcoin-wallet* executables. |\n+| *libbitcoin_wallet_tool* | Lower-level wallet functionality used by *bitcoin-wallet* executable. |\n+| *libbitcoin_zmq*         | [ZeroMQ](../zmq.md) functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are *libbitcoin_consensus* and *libbitcoin_kernel* which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally each library should have a corresponding source directory and namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - *libbitcoin_node* code lives in `src/node/` in the `node::` namespace\n+  - *libbitcoin_wallet* code lives in `src/wallet/` in the `wallet::` namespace\n+  - *libbitcoin_ipc* code lives in `src/ipc/` in the `ipc::` namespace\n+  - *libbitcoin_util* code lives in `src/util/` in the `util::` namespace\n+  - *libbitcoin_consensus* code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should minimize what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+<table><tr><td>\n+\n+```mermaid\n+\n+%%{ init : { \"flowchart\" : { \"curve\" : \"linear\" }}}%%\n+\n+graph TD;\n+\n+bitcoin-cli-->libbitcoin_cli;\n+\n+bitcoind-->libbitcoin_node;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901544362",
      "id" : 901544362,
      "line" : 44,
      "node_id" : "PRRC_kwDOABII5841vHmq",
      "original_commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "original_line" : 44,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 44,
      "pull_request_review_id" : 1012100678,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901544362/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T11:09:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901544362",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK, this matches with my understanding of the dependencies and library uses. At some point we could add something about the exported APIs of the shared libraries, but no need to do that here.",
      "created_at" : "2022-06-20T11:12:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1160313941",
      "id" : 1160313941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII585FKPxV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160313941/reactions"
      },
      "updated_at" : "2022-06-20T11:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160313941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901845626"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901845626"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Flow chart still looks confusing. I tried creating some flowcharts using [mermaid live editor](https://mermaid-js.github.io/mermaid-live-editor/) based on syntax shared [here](https://mermaid-js.github.io/mermaid/). I was able to simplify bitcoind, bitcoin-qt and bitcoin-wallet but not other things (used different color for binaries):\r\n\r\n```md\r\nflowchart TB\r\n    subgraph 1\r\n    d[bitcoind]-->libbitcoin_wallet\r\n    end\r\n    subgraph 2\r\n    qt[bitcoin-qt]-->libbitcoin_node\r\n    qt[bitcoin-qt]-->libbitcoinqt\r\n    qt[bitcoin-qt]-->libbitcoin_wallet\r\n    end\r\n    subgraph 3\r\n    w[bitcoin-wallet]-->libbitcoin_wallet\r\n    w[bitcoin-wallet]-->libbitcoin_wallet_tool\r\n    end\r\n\r\n    classDef teal fill:#033E3E,stroke:#AFDCEC,stroke-width:1px;\r\n    class d,qt,w teal\r\n```\r\n\r\n```mermaid\r\nflowchart TB\r\n    subgraph 1\r\n    d[bitcoind]-->libbitcoin_wallet\r\n    end\r\n    subgraph 2\r\n    qt[bitcoin-qt]-->libbitcoin_node\r\n    qt[bitcoin-qt]-->libbitcoinqt\r\n    qt[bitcoin-qt]-->libbitcoin_wallet\r\n    end\r\n    subgraph 3\r\n    w[bitcoin-wallet]-->libbitcoin_wallet\r\n    w[bitcoin-wallet]-->libbitcoin_wallet_tool\r\n    end\r\n\r\n    classDef teal fill:#033E3E,stroke:#AFDCEC,stroke-width:1px;\r\n    class d,qt,w teal\r\n```\r\n  ",
      "commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "created_at" : "2022-06-20T16:32:47Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901845626",
      "id" : 901845626,
      "in_reply_to_id" : 808884620,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII5841wRJ6",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 40,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 40,
      "pull_request_review_id" : 1012535359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901845626/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-20T16:38:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/901845626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903053579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903053579"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901845626\r\n\r\nThanks! I applied some of the styling here to highlight the exe outputs, though I avoided black text on teal background, because that was not readable on my PC. I also experimented with subgraphs, but trying to apply them to complete graph always seemed to blow up the graph. Probably there is room to do fancier things here in the future, but for now I'm happy if graph just shows what symbol dependencies between libraries are allowed.",
      "commit_id" : "dc1e7ad7a5713d885f70ccc6c93e7a4c07e76559",
      "created_at" : "2022-06-21T20:46:43Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903053579",
      "id" : 903053579,
      "in_reply_to_id" : 808884620,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII584104EL",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 40,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 40,
      "pull_request_review_id" : 1014225774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903053579/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T21:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903053579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903054128"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903054128"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901544362\r\n\r\n> I think it would be useful to make the \"binary\" boxes a different color or style from the library ones, if possible.\r\n\r\nThanks, used style suggestion from 1440000bytes above",
      "commit_id" : "dc1e7ad7a5713d885f70ccc6c93e7a4c07e76559",
      "created_at" : "2022-06-21T20:47:27Z",
      "diff_hunk" : "@@ -0,0 +1,101 @@\n+# Libraries\n+\n+| Name                     | Description |\n+|--------------------------|-------------|\n+| *libbitcoin_cli*         | RPC client functionality used by *bitcoin-cli* executable |\n+| *libbitcoin_common*      | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_util*, but higher-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_consensus*   | Stable, backwards-compatible consensus functionality used by *libbitcoin_node* and *libbitcoin_wallet* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinconsensus*    | Shared library build of static *libbitcoin_consensus* library |\n+| *libbitcoin_kernel*      | Consensus engine and support library used for validation by *libbitcoin_node* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinqt*           | GUI functionality used by *bitcoin-qt* and *bitcoin-gui* executables |\n+| *libbitcoin_ipc*         | IPC functionality used by *bitcoin-node*, *bitcoin-wallet*, *bitcoin-gui* executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| *libbitcoin_node*        | P2P and RPC server functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+| *libbitcoin_util*        | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_common*, but lower-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_wallet*      | Wallet functionality used by *bitcoind* and *bitcoin-wallet* executables. |\n+| *libbitcoin_wallet_tool* | Lower-level wallet functionality used by *bitcoin-wallet* executable. |\n+| *libbitcoin_zmq*         | [ZeroMQ](../zmq.md) functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are *libbitcoin_consensus* and *libbitcoin_kernel* which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally each library should have a corresponding source directory and namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - *libbitcoin_node* code lives in `src/node/` in the `node::` namespace\n+  - *libbitcoin_wallet* code lives in `src/wallet/` in the `wallet::` namespace\n+  - *libbitcoin_ipc* code lives in `src/ipc/` in the `ipc::` namespace\n+  - *libbitcoin_util* code lives in `src/util/` in the `util::` namespace\n+  - *libbitcoin_consensus* code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should minimize what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+<table><tr><td>\n+\n+```mermaid\n+\n+%%{ init : { \"flowchart\" : { \"curve\" : \"linear\" }}}%%\n+\n+graph TD;\n+\n+bitcoin-cli-->libbitcoin_cli;\n+\n+bitcoind-->libbitcoin_node;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903054128",
      "id" : 903054128,
      "in_reply_to_id" : 901544362,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584104Mw",
      "original_commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "original_line" : 44,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : null,
      "pull_request_review_id" : 1014225774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903054128/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T21:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903054128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903055692"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903055692"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24352#discussion_r901466313\r\n\r\nThanks. I'm a little unclear what the original reason was for this suggestion, but dropped this sentence because there's no need to mention external libraries here, so probably better to be shorter.",
      "commit_id" : "dc1e7ad7a5713d885f70ccc6c93e7a4c07e76559",
      "created_at" : "2022-06-21T20:49:21Z",
      "diff_hunk" : "@@ -0,0 +1,101 @@\n+# Libraries\n+\n+| Name                     | Description |\n+|--------------------------|-------------|\n+| *libbitcoin_cli*         | RPC client functionality used by *bitcoin-cli* executable |\n+| *libbitcoin_common*      | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_util*, but higher-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_consensus*   | Stable, backwards-compatible consensus functionality used by *libbitcoin_node* and *libbitcoin_wallet* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinconsensus*    | Shared library build of static *libbitcoin_consensus* library |\n+| *libbitcoin_kernel*      | Consensus engine and support library used for validation by *libbitcoin_node* and also exposed as a [shared library](../shared-libraries.md). |\n+| *libbitcoinqt*           | GUI functionality used by *bitcoin-qt* and *bitcoin-gui* executables |\n+| *libbitcoin_ipc*         | IPC functionality used by *bitcoin-node*, *bitcoin-wallet*, *bitcoin-gui* executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| *libbitcoin_node*        | P2P and RPC server functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+| *libbitcoin_util*        | Home for common functionality shared by different executables and libraries. Similar to *libbitcoin_common*, but lower-level (see [Dependencies](#dependencies)). |\n+| *libbitcoin_wallet*      | Wallet functionality used by *bitcoind* and *bitcoin-wallet* executables. |\n+| *libbitcoin_wallet_tool* | Lower-level wallet functionality used by *bitcoin-wallet* executable. |\n+| *libbitcoin_zmq*         | [ZeroMQ](../zmq.md) functionality used by *bitcoind* and *bitcoin-qt* executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are *libbitcoin_consensus* and *libbitcoin_kernel* which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally each library should have a corresponding source directory and namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - *libbitcoin_node* code lives in `src/node/` in the `node::` namespace\n+  - *libbitcoin_wallet* code lives in `src/wallet/` in the `wallet::` namespace\n+  - *libbitcoin_ipc* code lives in `src/ipc/` in the `ipc::` namespace\n+  - *libbitcoin_util* code lives in `src/util/` in the `util::` namespace\n+  - *libbitcoin_consensus* code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should minimize what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+<table><tr><td>\n+\n+```mermaid\n+\n+%%{ init : { \"flowchart\" : { \"curve\" : \"linear\" }}}%%\n+\n+graph TD;\n+\n+bitcoin-cli-->libbitcoin_cli;\n+\n+bitcoind-->libbitcoin_node;\n+bitcoind-->libbitcoin_wallet;\n+\n+bitcoin-qt-->libbitcoin_node;\n+bitcoin-qt-->libbitcoinqt;\n+bitcoin-qt-->libbitcoin_wallet;\n+\n+bitcoin-wallet-->libbitcoin_wallet;\n+bitcoin-wallet-->libbitcoin_wallet_tool;\n+\n+libbitcoin_cli-->libbitcoin_common;\n+libbitcoin_cli-->libbitcoin_util;\n+\n+libbitcoin_common-->libbitcoin_util;\n+libbitcoin_common-->libbitcoin_consensus;\n+\n+libbitcoin_kernel-->libbitcoin_consensus;\n+libbitcoin_kernel-->libbitcoin_util;\n+\n+libbitcoin_node-->libbitcoin_common;\n+libbitcoin_node-->libbitcoin_consensus;\n+libbitcoin_node-->libbitcoin_kernel;\n+libbitcoin_node-->libbitcoin_util;\n+\n+libbitcoinqt-->libbitcoin_common;\n+libbitcoinqt-->libbitcoin_util;\n+\n+libbitcoin_wallet-->libbitcoin_common;\n+libbitcoin_wallet-->libbitcoin_util;\n+\n+libbitcoin_wallet_tool-->libbitcoin_util;\n+libbitcoin_wallet_tool-->libbitcoin_wallet;\n+```\n+</td></tr><tr><td>\n+\n+**Dependency graph**. *Consensus* lib depends on nothing. *Util* lib is depended on by everything. *Kernel* lib depends only on consensus and util.\n+\n+</td></tr></table>\n+\n+- The graph shows what _symbols_ (functions and variables) from each library other libraries can call and reference directly, but it is not a call graph. For example, there is no arrow connecting *libbitcoin_wallet* and *libbitcoin_node* libraries, because these libraries are intended to be modular and not depend on each other's internal implementation details. But wallet code still is still able to call node code indirectly through the `interfaces::Chain` abstract class in [`interfaces/chain.h`](../../src/interfaces/chain.h) and node code calls wallet code through the `interfaces::ChainClient` and `interfaces::Chain::Notifications` abstract classes in the same file. In general, defining abstract classes in [`src/interfaces/`](../../src/interfaces/) can be a convenient way of avoiding unwanted direct dependencies or circular dependencies between libraries.\n+\n+- *libbitcoin_consensus* should be a standalone dependency that any library can depend on, and it should not depend on any other libraries itself.\n+\n+- *libbitcoin_util* should also be a standalone dependency that any library can depend on, and it should not depend on other internal libraries. (It does use currently use boost and univalue external libraries.)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903055692",
      "id" : 903055692,
      "in_reply_to_id" : 901466313,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584104lM",
      "original_commit_id" : "93fd8d9e98feb4e0e060b3de8a8cb1671a693e79",
      "original_line" : 87,
      "original_position" : 87,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : null,
      "pull_request_review_id" : 1014225774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903055692/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T21:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903055692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 93fd8d9e98feb4e0e060b3de8a8cb1671a693e79 -> dc1e7ad7a5713d885f70ccc6c93e7a4c07e76559 ([`pr/libs.3`](https://github.com/ryanofsky/bitcoin/commits/pr/libs.3) -> [`pr/libs.4`](https://github.com/ryanofsky/bitcoin/commits/pr/libs.4), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/libs.3..pr/libs.4)) just dropping comment about external libraries and making it easier to distinguish exes from libraries in the graph as suggested",
      "created_at" : "2022-06-21T21:27:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1162385968",
      "id" : 1162385968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII585FSJow",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162385968/reactions"
      },
      "updated_at" : "2022-06-21T21:27:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162385968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK dc1e7ad7a5713d885f70ccc6c93e7a4c07e76559",
      "created_at" : "2022-06-21T22:06:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1162412433",
      "id" : 1162412433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII585FSQGR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162412433/reactions"
      },
      "updated_at" : "2022-06-21T22:06:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162412433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903303588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903303588"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> though I avoided black text on teal background, because that was not readable on my PC\r\n\r\nJust realized it looks different in github (light theme). Text is white in github (dark theme)\r\n\r\n> Probably there is room to do fancier things here in the future, but for now I'm happy if graph just shows what symbol dependencies between libraries are allowed.\r\n\r\nMakes sense.",
      "commit_id" : "dc1e7ad7a5713d885f70ccc6c93e7a4c07e76559",
      "created_at" : "2022-06-22T05:45:03Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r903303588",
      "id" : 903303588,
      "in_reply_to_id" : 808884620,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII584111Gk",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 40,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 40,
      "pull_request_review_id" : 1014557239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903303588/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T05:45:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903303588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   }
]
