[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 615da97a072e1f9ba1923173d12dab198155cf4c -> 5effc38445d4ef48bf5128def405d6da5a614dca ([`pr/patharg.1`](https://github.com/ryanofsky/bitcoin/commits/pr/patharg.1) -> [`pr/patharg.2`](https://github.com/ryanofsky/bitcoin/commits/pr/patharg.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/patharg.1..pr/patharg.2)) to fix typo and window build error https://cirrus-ci.com/task/6421739189043200?logs=ci#L3944",
      "created_at" : "2022-02-09T23:21:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1034301843",
      "id" : 1034301843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII5849pjGT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034301843/reactions"
      },
      "updated_at" : "2022-02-09T23:21:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034301843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I wonder what you would think (conceptually) about taking it a step further (not necessarily in this PR) and remove `LocalTestingSetup` which complicates understanding of the test code as one needs to take into account more code: <s>https://github.com/kiminuo/bitcoin/commit/dceafb6fc5d057a7936227a41c0bfe3fc5ef56a9</s> -> https://github.com/kiminuo/bitcoin/commit/a01d80c3f67bafb9c79e67f39603784748b51cd4",
      "created_at" : "2022-02-10T12:28:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1034864967",
      "id" : 1034864967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII5849rslH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034864967/reactions"
      },
      "updated_at" : "2022-02-12T16:34:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034864967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r803809359"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/803809359"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unless the default value has them",
      "commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "created_at" : "2022-02-10T15:40:01Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r803809359",
      "id" : 803809359,
      "line" : 332,
      "node_id" : "PRRC_kwDOABII584v6ShP",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 332,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 24,
      "pull_request_review_id" : 879029968,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/803809359/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-10T15:40:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/803809359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804112742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804112742"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Passes on Ubuntu:\r\n\r\n```cpp\r\nResetArgs(\"\");\r\nBOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default/\"), fs::path{\"default/\"});\r\n```",
      "commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "created_at" : "2022-02-10T21:15:01Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804112742",
      "id" : 804112742,
      "in_reply_to_id" : 803809359,
      "line" : 332,
      "node_id" : "PRRC_kwDOABII584v7clm",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 332,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 24,
      "pull_request_review_id" : 879479651,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804112742/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-10T21:15:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804112742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804123885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804123885"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe we should document `default_value` too. Also, is it valid to pass the empty path to `default_value` parameter?\r\n\r\nDo I understand correctly that returning an empty path means \"not success\"? If so, any opinion on returning `std::optional<fs::path>` instead?",
      "commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "created_at" : "2022-02-10T21:31:46Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804123885",
      "id" : 804123885,
      "line" : 334,
      "node_id" : "PRRC_kwDOABII584v7fTt",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 334,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 26,
      "pull_request_review_id" : 879507850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804123885/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-10T21:31:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804123885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I closed https://github.com/bitcoin/bitcoin/pull/24274 in favor of this PR.  \r\n\r\n\r\n@ryanofsky Maybe incorporate https://github.com/bitcoin/bitcoin/pull/24274/commits/7db1e1fa731fa357f7cb1ee2aef441ff248044d4 into this PR?",
      "created_at" : "2022-02-10T22:30:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1035597383",
      "id" : 1035597383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII5849ufZH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1035597383/reactions"
      },
      "updated_at" : "2022-02-10T22:30:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1035597383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804184654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804184654"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do we really need to change the order of methods in the header file? This makes the review unnecessarily harder than it has to be.",
      "commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "created_at" : "2022-02-10T22:31:22Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804184654",
      "id" : 804184654,
      "line" : 329,
      "node_id" : "PRRC_kwDOABII584v7uJO",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 329,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 21,
      "pull_request_review_id" : 879602587,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804184654/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-10T22:31:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804184654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804187746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804187746"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Let's add the same checks but without the second parameter (default value) given:\r\n\r\n\r\n``` c++\r\n    ResetArgs(\"-dir=override\");\r\n    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), fs::path{\"override\"});\r\n    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"override\"});\r\n    ResetArgs(\"\");\r\n    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), fs::path{});\r\n    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"default\"});\r\n    ResetArgs(\"-nodir\");\r\n    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), fs::path{});\r\n    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{});\r\n```\r\n",
      "commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "created_at" : "2022-02-10T22:34:37Z",
      "diff_hunk" : "@@ -249,6 +249,14 @@ BOOST_AUTO_TEST_CASE(patharg)\n \n     ResetArgs(\"-dir=user/.bitcoin/.//\");\n     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), relative_path);\n+\n+    // Check negated and default arguments\n+    ResetArgs(\"-dir=override\");\n+    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"override\"});\n+    ResetArgs(\"\");\n+    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"default\"});\n+    ResetArgs(\"-nodir\");\n+    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"\"});",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804187746",
      "id" : 804187746,
      "line" : 259,
      "node_id" : "PRRC_kwDOABII584v7u5i",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 259,
      "original_position" : 11,
      "original_start_line" : 254,
      "path" : "src/test/getarg_tests.cpp",
      "position" : 11,
      "pull_request_review_id" : 879605491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804187746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 254,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-10T22:39:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804187746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804619081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804619081"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What should we expect for `-dir` and `-dir=`?",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T12:50:23Z",
      "diff_hunk" : "@@ -249,6 +249,14 @@ BOOST_AUTO_TEST_CASE(patharg)\n \n     ResetArgs(\"-dir=user/.bitcoin/.//\");\n     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), relative_path);\n+\n+    // Check negated and default arguments\n+    ResetArgs(\"-dir=override\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804619081",
      "id" : 804619081,
      "line" : 262,
      "node_id" : "PRRC_kwDOABII584v9YNJ",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 262,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/test/getarg_tests.cpp",
      "position" : 14,
      "pull_request_review_id" : 880135213,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804619081/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T12:59:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804619081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804625724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804625724"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In #24265 I was thinking about choosing `const std::string& arg` vs `std::string arg`.\r\n\r\nConsidering that (a) the longest `arg` in our codebase is 12 characters long, and (b) modern compilers optimization methods (small string optimization, copy elision etc), I've chosen to pass `arg` by value.\r\n\r\nHas my consideration a flaw?\r\n\r\n---\r\n\r\nstyle nit: `clang-format-diff.py` insist on:\r\n```suggestion\r\n    fs::path GetPathArg(const std::string& arg, const fs::path& default_value = {}) const;\r\n```",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T12:59:18Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")\n+     * @return Lexically normalized path without trailing separators\n+     */\n+    fs::path GetPathArg(const std::string& arg, const fs::path& default_value={}) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804625724",
      "id" : 804625724,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v9Z08",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 337,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 880135213,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804625724/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T12:59:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804625724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875510"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804619081\r\n\r\n> What should we expect for `-dir` and `-dir=`?\r\n\r\nGood point. Added tests for these.",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T17:45:28Z",
      "diff_hunk" : "@@ -249,6 +249,14 @@ BOOST_AUTO_TEST_CASE(patharg)\n \n     ResetArgs(\"-dir=user/.bitcoin/.//\");\n     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), relative_path);\n+\n+    // Check negated and default arguments\n+    ResetArgs(\"-dir=override\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875510",
      "id" : 804875510,
      "in_reply_to_id" : 804619081,
      "line" : 262,
      "node_id" : "PRRC_kwDOABII584v-Wz2",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 262,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/test/getarg_tests.cpp",
      "position" : 14,
      "pull_request_review_id" : 880496461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875510/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T20:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875641"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804187746\r\n\r\n> Let's add the same checks but without the second parameter (default value) given:\r\n> \r\n> ```c++\r\n>     ResetArgs(\"-dir=override\");\r\n>     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), fs::path{\"override\"});\r\n>     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"override\"});\r\n>     ResetArgs(\"\");\r\n>     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), fs::path{});\r\n>     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"default\"});\r\n>     ResetArgs(\"-nodir\");\r\n>     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), fs::path{});\r\n>     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{});\r\n> ```\r\n\r\nThose cases are already covered above, and I think this style of writing the test makes it less readable and useful as a clear description of `GetPathArg` behavior. `GetPathArg` is supposed to be a convenience function (it's a high-level wrapper around lower-level `GetArg` and `GetSetting` methods), so if you want to ensure that `GetPathArg` has convenient and legible behavior, it helps to be to easily see how _one_  `GetPathArg` call responds to different command lines. Having to think about how different `GetPathArg` calls that would never appear together in code would respond to the same command line separates the test from reality and makes it harder to understand.",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T17:45:38Z",
      "diff_hunk" : "@@ -249,6 +249,14 @@ BOOST_AUTO_TEST_CASE(patharg)\n \n     ResetArgs(\"-dir=user/.bitcoin/.//\");\n     BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\"), relative_path);\n+\n+    // Check negated and default arguments\n+    ResetArgs(\"-dir=override\");\n+    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"override\"});\n+    ResetArgs(\"\");\n+    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"default\"});\n+    ResetArgs(\"-nodir\");\n+    BOOST_CHECK_EQUAL(m_local_args.GetPathArg(\"-dir\", \"default\"), fs::path{\"\"});",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875641",
      "id" : 804875641,
      "in_reply_to_id" : 804187746,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v-W15",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 269,
      "original_position" : 11,
      "original_start_line" : 254,
      "path" : "src/test/getarg_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 880496461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875641/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-11T20:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875739"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804184654\r\n\r\n> Do we really need to change the order of methods in the header file? This makes the review unnecessarily harder than it has to be.\r\n\r\nIt is just moving a comment, and the comment is entirely rewritten at this point, but if you still think this is a problem, just let me know what would be a better way to fix this.",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T17:45:48Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875739",
      "id" : 804875739,
      "in_reply_to_id" : 804184654,
      "line" : 329,
      "node_id" : "PRRC_kwDOABII584v-W3b",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 329,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 21,
      "pull_request_review_id" : 880496461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875739/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T20:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875841"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875841"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r803809359\r\n\r\n> unless the default value has them\r\n\r\nThanks, rewrote this",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T17:45:57Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875841",
      "id" : 804875841,
      "in_reply_to_id" : 803809359,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v-W5B",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 332,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 880496461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875841/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T20:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875841",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875947"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804123885\r\n\r\n> Maybe we should document `default_value` too.\r\n\r\nThanks, added comment.\r\n\r\n> Also, is it valid to pass the empty path to `default_value` parameter?\r\n\r\nYes, there are already existing calls that use this default.\r\n\r\n> Do I understand correctly that returning an empty path means \"not success\"? If so, any opinion on returning `std::optional<fs::path>` instead?\r\n\r\nNo, an empty path is just an empty path, and it's up to the caller to decide whether to treat the empty path like an error. `GetArgPath()` is supposed to be a convenience function, and it would not convenient or useful for callers to have to distinguish between nullopt result and an empty result. There also no cases that ever require this, even in theory, given the other APIs that are available GetSetting() GetArg() IsArgSet() IsArgNegated() as substitutes or complements to retrieve path arguments.",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T17:46:06Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804875947",
      "id" : 804875947,
      "in_reply_to_id" : 804123885,
      "line" : 332,
      "node_id" : "PRRC_kwDOABII584v-W6r",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 332,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 24,
      "pull_request_review_id" : 880496461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875947/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T20:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804875947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804876098"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804876098"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804625724\r\n\r\n> In #24265 I was thinking about choosing `const std::string& arg` vs `std::string arg`.\r\n\r\nInteresting! I restored your version. I had just changed this because I thought the difference was not intended. I don't have any special insight, but your reasoning makes sense to me.\r\n\r\n> style nit: `clang-format-diff.py` insist on:\r\n\r\nUpdated, thanks!",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-11T17:46:18Z",
      "diff_hunk" : "@@ -336,6 +326,16 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * It is guaranteed that the returned path has no trailing slashes.\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")\n+     * @return Lexically normalized path without trailing separators\n+     */\n+    fs::path GetPathArg(const std::string& arg, const fs::path& default_value={}) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r804876098",
      "id" : 804876098,
      "in_reply_to_id" : 804625724,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v-W9C",
      "original_commit_id" : "5effc38445d4ef48bf5128def405d6da5a614dca",
      "original_line" : 337,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 880496461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804876098/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-11T20:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/804876098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > I wonder what you would think (conceptually) about taking it a step further (not necessarily in this PR) and remove `LocalTestingSetup` which complicates understanding of the test code as one needs to take into account more code: [kiminuo@dceafb6](https://github.com/kiminuo/bitcoin/commit/dceafb6fc5d057a7936227a41c0bfe3fc5ef56a9)\r\n> \r\n> I think the LocalTestingSetup in get_args is actually a pretty good and appropriate use of a test fixture. But I understand that test fixtures are less widely used in our codebase than some other codebases, so people may want to get rid of them. Normally test fixtures are used to write small isolated tests, but for some reason we tend to write large multipart tests. \r\n\r\nFor me it's simply a matter of \"how much code I need to read to understand the test fully\" (not about test fixtures in general). With `LocalTestingSetup` it's more code (not trivial imo) and I fear I might miss something. For this reason alone, I think it's worth to apply the suggestion because more people will be able to read the test with high confidence that test is correct and they understand all the prerequisites. Obviously, I'm not a great C++ programmer but then my argument is general: Adding the test fixture for these tests do not seem to add substantial value and without the test fixture we can clearly see what is actually needed to be done for the tests to pass (I find it very educational). If I fail to see some test fixture advantages, please let me know. Anyway, it's just a suggestion. Feel free to apply it or ignore it as you find it the best.\r\n\r\n> In any case, I wouldn't object to getting rid of this test fixture if you also renane `m_local_args` to `local_args` to reflect the fact that it is no longer a member variable.\r\n\r\nSure. ð Here: https://github.com/kiminuo/bitcoin/commit/a01d80c3f67bafb9c79e67f39603784748b51cd4",
      "created_at" : "2022-02-11T21:33:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1036643216",
      "id" : 1036643216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII5849yeuQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1036643216/reactions"
      },
      "updated_at" : "2022-02-12T16:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1036643216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805187191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805187191"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What does \"lightly\" mean in this context?",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-12T17:58:09Z",
      "diff_hunk" : "@@ -336,6 +326,18 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")\n+     * @param default_value Optional default value to return instead of the empty path.\n+     * @return lightly normalized path if argument is set, with redundant \".\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805187191",
      "id" : 805187191,
      "line" : 334,
      "node_id" : "PRRC_kwDOABII584v_i53",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 334,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 26,
      "pull_request_review_id" : 880877479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805187191/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-12T18:16:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805187191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188227"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188227"
         }
      },
      "author_association" : "MEMBER",
      "body" : "693cdca5f552f74de3665a874ce6acf6c48cb555\r\n\r\n```suggestion\r\n    return AbsPathForConfigVal(args.GetPathArg(\"-pid\", fs::path{BITCOIN_PID_FILENAME}));\r\n```",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-12T18:10:11Z",
      "diff_hunk" : "@@ -135,7 +135,7 @@ static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n \n static fs::path GetPidFile(const ArgsManager& args)\n {\n-    return AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n+    return AbsPathForConfigVal(args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188227",
      "id" : 805188227,
      "line" : 138,
      "node_id" : "PRRC_kwDOABII584v_jKD",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 138,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 880877479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188227/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-12T18:13:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188227",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188433"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188433"
         }
      },
      "author_association" : "MEMBER",
      "body" : "693cdca5f552f74de3665a874ce6acf6c48cb555\r\n\r\n```diff\r\n--- a/src/init.cpp\r\n+++ b/src/init.cpp\r\n@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\r\n         // Read asmap file if configured\r\n         std::vector<bool> asmap;\r\n         if (args.IsArgSet(\"-asmap\")) {\r\n-            fs::path asmap_path = args.GetPathArg(\"-asmap\");\r\n-            if (asmap_path.empty()) {\r\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\r\n-            }\r\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", fs::path{DEFAULT_ASMAP_FILENAME});\r\n             if (!asmap_path.is_absolute()) {\r\n                 asmap_path = gArgs.GetDataDirNet() / asmap_path;\r\n             }\r\n```",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-12T18:12:06Z",
      "diff_hunk" : "@@ -1246,7 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\");\n             if (asmap_path.empty()) {\n                 asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n             }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188433",
      "id" : 805188433,
      "line" : 1252,
      "node_id" : "PRRC_kwDOABII584v_jNR",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 1252,
      "original_position" : 17,
      "original_start_line" : 1249,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 880877479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188433/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1249,
      "start_side" : "LEFT",
      "updated_at" : "2022-02-12T18:13:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188452"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188452"
         }
      },
      "author_association" : "MEMBER",
      "body" : "693cdca5f552f74de3665a874ce6acf6c48cb555\r\n\r\n```suggestion\r\n    LogInstance().m_file_path = AbsPathForConfigVal(args.GetPathArg(\"-debuglogfile\", fs::path{DEFAULT_DEBUGLOGFILE}));\r\n```",
      "commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "created_at" : "2022-02-12T18:12:42Z",
      "diff_hunk" : "@@ -81,7 +81,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n void SetLoggingOptions(const ArgsManager& args)\n {\n     LogInstance().m_print_to_file = !args.IsArgNegated(\"-debuglogfile\");\n-    LogInstance().m_file_path = AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-debuglogfile\", DEFAULT_DEBUGLOGFILE)));\n+    LogInstance().m_file_path = AbsPathForConfigVal(args.GetPathArg(\"-debuglogfile\", DEFAULT_DEBUGLOGFILE));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188452",
      "id" : 805188452,
      "line" : 84,
      "node_id" : "PRRC_kwDOABII584v_jNk",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 84,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init/common.cpp",
      "position" : 5,
      "pull_request_review_id" : 880877479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188452/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-12T18:13:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805188452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809358485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809358485"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188433\r\n\r\nAdded, thanks!",
      "commit_id" : "d7005c6392f451d29c39d3af07545450acd4967d",
      "created_at" : "2022-02-17T18:41:54Z",
      "diff_hunk" : "@@ -1246,7 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\");\n             if (asmap_path.empty()) {\n                 asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n             }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809358485",
      "id" : 809358485,
      "in_reply_to_id" : 805188433,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584wPdSV",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 1252,
      "original_position" : 17,
      "original_start_line" : 1249,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 886397002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809358485/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2022-02-18T00:56:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809358485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809358837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809358837"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188227\r\n\r\nAgain this suggestion seems a little worse to me (see previous comment)",
      "commit_id" : "d7005c6392f451d29c39d3af07545450acd4967d",
      "created_at" : "2022-02-17T18:42:25Z",
      "diff_hunk" : "@@ -81,7 +81,7 @@ void AddLoggingArgs(ArgsManager& argsman)\n void SetLoggingOptions(const ArgsManager& args)\n {\n     LogInstance().m_print_to_file = !args.IsArgNegated(\"-debuglogfile\");\n-    LogInstance().m_file_path = AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-debuglogfile\", DEFAULT_DEBUGLOGFILE)));\n+    LogInstance().m_file_path = AbsPathForConfigVal(args.GetPathArg(\"-debuglogfile\", DEFAULT_DEBUGLOGFILE));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809358837",
      "id" : 809358837,
      "in_reply_to_id" : 805188452,
      "line" : 84,
      "node_id" : "PRRC_kwDOABII584wPdX1",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 84,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init/common.cpp",
      "position" : 5,
      "pull_request_review_id" : 886397002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809358837/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-18T00:56:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809358837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809359611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809359611"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805187191\r\n\r\n> What does \"lightly\" mean in this context?\r\n\r\nI'm not sure what's motivating the question, because I think you basically wrote this function and understand what it does. Do you want me to change something about this comment? What would your suggested change be?\r\n\r\n\"Lightly\" just means the function removes extra dots and slashes like the sentence says. But the point of the comment, and next sentence is to avoid geting into the weeds about file paths and and instead just point users to the unit test and implementation which I think are clearer than any comment here could be.",
      "commit_id" : "d7005c6392f451d29c39d3af07545450acd4967d",
      "created_at" : "2022-02-17T18:43:30Z",
      "diff_hunk" : "@@ -336,6 +326,18 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")\n+     * @param default_value Optional default value to return instead of the empty path.\n+     * @return lightly normalized path if argument is set, with redundant \".\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809359611",
      "id" : 809359611,
      "in_reply_to_id" : 805187191,
      "line" : 334,
      "node_id" : "PRRC_kwDOABII584wPdj7",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 334,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 26,
      "pull_request_review_id" : 886397002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809359611/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-18T00:56:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809359611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809363741"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809363741"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r805188227\r\n\r\nSuggestion seems worse to me, since it is hardcoding assumptions about the type of `BITCOIN_PID_FILENAME` argument and the `GetPathArg` parameter in a place where they should not be relevant.  If either of those type changes, or if more efficient overloads are added, this code could break or be deoptimized unnecessarily. This also adds unhelpful noise/verbosity to the code. I think the advantage of using statically typed langauges like C++ is that you declare types up front, and after that rely on the compiler to detect errors and optimize things appropriately, and don't need to add manual type casts or type checks in places like this.",
      "commit_id" : "d7005c6392f451d29c39d3af07545450acd4967d",
      "created_at" : "2022-02-17T18:48:46Z",
      "diff_hunk" : "@@ -135,7 +135,7 @@ static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n \n static fs::path GetPidFile(const ArgsManager& args)\n {\n-    return AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n+    return AbsPathForConfigVal(args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r809363741",
      "id" : 809363741,
      "in_reply_to_id" : 805188227,
      "line" : 138,
      "node_id" : "PRRC_kwDOABII584wPekd",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 138,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 886397002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809363741/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-18T00:56:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/809363741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24455](https://github.com/bitcoin/bitcoin/pull/24455) (refactor: Split ArgsManager out of util/system by Empact)\n* [#24375](https://github.com/bitcoin/bitcoin/pull/24375) (Do not use `LocalTestingSetup` in getarg_tests test file. by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-02-19T05:02:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1045773956",
      "id" : 1045773956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII584-VT6E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1045773956/reactions"
      },
      "updated_at" : "2022-03-02T08:39:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1045773956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r810463746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810463746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I'm not sure what's motivating the question, because I think you basically wrote this function and understand what it does.\r\n\r\nI'm sorry about confusion. It was not my intention.\r\nMy motivation is the following.\r\nThe [`std::filesystem::path::lexically_normal`](https://en.cppreference.com/w/cpp/filesystem/path/lexically_normal) function returns a path \"converted to [normal form](https://en.cppreference.com/w/cpp/filesystem/path) in its generic format\". As normal form is well defined (at least within the `std::filesystem` library scope), I see no reasons for a term \"lightly normalized path\". It just raises a useless question about difference between a \"lightly normalized path\" and a \"normalized path\".\r\n\r\n> What would your suggested change be?\r\n\r\n```suggestion\r\n     * @return normalized path if argument is set, with redundant \".\"\r\n```\r\n\r\n> Do you want me to change something about this comment?\r\n\r\nIt is really a minor, so feel free to ignore it.",
      "commit_id" : "d7005c6392f451d29c39d3af07545450acd4967d",
      "created_at" : "2022-02-19T08:18:36Z",
      "diff_hunk" : "@@ -336,6 +326,18 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")\n+     * @param default_value Optional default value to return instead of the empty path.\n+     * @return lightly normalized path if argument is set, with redundant \".\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r810463746",
      "id" : 810463746,
      "in_reply_to_id" : 805187191,
      "line" : 334,
      "node_id" : "PRRC_kwDOABII584wTrIC",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 334,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : 26,
      "pull_request_review_id" : 887903432,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810463746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-19T08:18:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/810463746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r814921898"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814921898"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> > What would your suggested change be?\r\n\r\nThanks! Applied suggestion",
      "commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "created_at" : "2022-02-25T16:41:00Z",
      "diff_hunk" : "@@ -336,6 +326,18 @@ class ArgsManager\n      */\n     std::string GetArg(const std::string& strArg, const std::string& strDefault) const;\n \n+    /**\n+     * Return path argument or default value\n+     *\n+     * @param arg Argument to get a path from (e.g., \"-datadir\", \"-blocksdir\" or \"-walletdir\")\n+     * @param default_value Optional default value to return instead of the empty path.\n+     * @return lightly normalized path if argument is set, with redundant \".\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r814921898",
      "id" : 814921898,
      "in_reply_to_id" : 805187191,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584wkriq",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 334,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 893917779,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814921898/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-25T16:42:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814921898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r816959574"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/816959574"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm concerned this may not be equivalent on `WIN32`: `PathFromString` is not called on the default value in `GetPathArg`, so `DEFAULT_ASMAP_FILENAME`, a `char *`, is interpreted / converted by `GetPathArg` into a `fs::path`. I see `path(const char* c) : std::filesystem::path(c) {}` in `fs.h`. `PathFromString` is different on `WIN32`: `u8path(string)`.",
      "commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "created_at" : "2022-03-01T16:53:22Z",
      "diff_hunk" : "@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n-            if (asmap_path.empty()) {\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n-            }\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", DEFAULT_ASMAP_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r816959574",
      "id" : 816959574,
      "line" : 1249,
      "node_id" : "PRRC_kwDOABII584wsdBW",
      "original_commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "original_line" : 1249,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 896570077,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/816959574/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-01T16:53:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/816959574",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-03-01T16:55:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1055648703",
      "id" : 1055648703,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII584-6-u_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055648703/reactions"
      },
      "updated_at" : "2022-03-01T16:55:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1055648703",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r817038279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817038279"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm concerned this may not be equivalent on `WIN32`: `PathFromString` is not called on the default value in `GetPathArg`, so `DEFAULT_ASMAP_FILENAME`, a `char *`, is interpreted / converted by `GetPathArg` into a `fs::path`. I see `path(const char* c) : std::filesystem::path(c) {}` in `fs.h`. `PathFromString` is different on `WIN32`: `u8path(string)`.\r\n\r\nThat's correct. The behavior is inherently different on different platforms because windows path objects represent paths with `wchar_t` while POSIX paths are represented with `char`. On windows, the `fs::path` `const char*` constructor will call the `std::filesystem::path` constructor and do a locale conversion from `char` to `wchar_t` using the the current code page. Normally we want to avoid conversions based on the code page, and the reason we define an `fs::path` class instead of using `std::filesystem::path` is to prevent these conversions from happening accidentally. But in this case, DEFAULT_ASMAP_FILENAME is just ASCII text, so the conversion should be harmless and always result in the same path, regardless of code page. That's why the `const char*` constructor is allowed, and the reason for the [code comment](https://github.com/bitcoin/bitcoin/blob/848b11615b67a3c49f76ebbcaa241a322d8014d8/src/fs.h#L39) \"Allow literal string arguments, which are safe as long as the literals are ASCII.\" ",
      "commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "created_at" : "2022-03-01T18:33:15Z",
      "diff_hunk" : "@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n-            if (asmap_path.empty()) {\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n-            }\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", DEFAULT_ASMAP_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r817038279",
      "id" : 817038279,
      "in_reply_to_id" : 816959574,
      "line" : 1249,
      "node_id" : "PRRC_kwDOABII584wswPH",
      "original_commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "original_line" : 1249,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 896679914,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817038279/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-01T18:33:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817038279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r817419499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817419499"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We simply assume that char pointers are ASCII, but this is not true. In fact the unit tests get this wrong by passing char pointer to a string containing non ASCII chars (emojis).",
      "commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "created_at" : "2022-03-02T07:39:21Z",
      "diff_hunk" : "@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n-            if (asmap_path.empty()) {\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n-            }\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", DEFAULT_ASMAP_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r817419499",
      "id" : 817419499,
      "in_reply_to_id" : 816959574,
      "line" : 1249,
      "node_id" : "PRRC_kwDOABII584wuNTr",
      "original_commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "original_line" : 1249,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 897194347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817419499/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-02T07:39:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/817419499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-02T13:17:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#issuecomment-1056921290",
      "id" : 1056921290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24306",
      "node_id" : "IC_kwDOABII584-_1bK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1056921290/reactions"
      },
      "updated_at" : "2022-03-02T13:17:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1056921290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r818258607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/818258607"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r817419499\r\n\r\n> We simply assume that char pointers are ASCII, but this is not true. In fact the unit tests get this wrong by passing char pointer to a string containing non ASCII chars (emojis).\r\n\r\nI don't think I understand. I'm not aware of any places where unit tests or other code are doing something wrong. It is true that the `fs::path` interface does not guarantee there are no invalid conversions. It's just trying to add some safety and prevent unintended conversions. In any case, I'm happy to make changes if there are any suggestions.",
      "commit_id" : "60aa179d8f9a675efa2d78eaadc09e3ba450f50f",
      "created_at" : "2022-03-03T02:16:56Z",
      "diff_hunk" : "@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n-            if (asmap_path.empty()) {\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n-            }\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", DEFAULT_ASMAP_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r818258607",
      "id" : 818258607,
      "in_reply_to_id" : 816959574,
      "line" : 1232,
      "node_id" : "PRRC_kwDOABII584wxaKv",
      "original_commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "original_line" : 1232,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 898378038,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/818258607/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-03T02:19:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/818258607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r818566106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/818566106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For example in the unit test:\r\n\r\n```\r\n    fs::path tmpfile1 = tmpfolder / \"fs_tests_â¿_ð\";\r\n```\r\n\r\nI think the second argument is a char pointer, but it is not ascii",
      "commit_id" : "60aa179d8f9a675efa2d78eaadc09e3ba450f50f",
      "created_at" : "2022-03-03T11:30:11Z",
      "diff_hunk" : "@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n-            if (asmap_path.empty()) {\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n-            }\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", DEFAULT_ASMAP_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r818566106",
      "id" : 818566106,
      "in_reply_to_id" : 816959574,
      "line" : 1232,
      "node_id" : "PRRC_kwDOABII584wylPa",
      "original_commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "original_line" : 1232,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 898793667,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/818566106/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-03T11:30:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/818566106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r819003048"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/819003048"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/24306#discussion_r818566106\r\n\r\n> I think the second argument is a char pointer, but it is not ascii\r\n\r\nYou're right, that's a real bug. Created #24469 to fix and maybe implement a followup",
      "commit_id" : "60aa179d8f9a675efa2d78eaadc09e3ba450f50f",
      "created_at" : "2022-03-03T19:37:31Z",
      "diff_hunk" : "@@ -1246,10 +1246,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         // Read asmap file if configured\n         std::vector<bool> asmap;\n         if (args.IsArgSet(\"-asmap\")) {\n-            fs::path asmap_path = fs::PathFromString(args.GetArg(\"-asmap\", \"\"));\n-            if (asmap_path.empty()) {\n-                asmap_path = fs::PathFromString(DEFAULT_ASMAP_FILENAME);\n-            }\n+            fs::path asmap_path = args.GetPathArg(\"-asmap\", DEFAULT_ASMAP_FILENAME);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r819003048",
      "id" : 819003048,
      "in_reply_to_id" : 816959574,
      "line" : 1232,
      "node_id" : "PRRC_kwDOABII584w0P6o",
      "original_commit_id" : "b1443f72b5646f7ae98ab394e6f1fdf79daf2b67",
      "original_line" : 1232,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 899430324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/819003048/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-03T19:37:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/819003048",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r820137318"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/820137318"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is similar reasoning applicable to 5b946edd73640c6ecdfb4cbac1d4351e634678dc _\"util, refactor: Use GetPathArg to read \"-settings\" value\"_: https://github.com/bitcoin/bitcoin/blob/5b946edd73640c6ecdfb4cbac1d4351e634678dc/src/util/system.cpp#L522?",
      "commit_id" : "60aa179d8f9a675efa2d78eaadc09e3ba450f50f",
      "created_at" : "2022-03-05T18:58:02Z",
      "diff_hunk" : "@@ -135,7 +135,7 @@ static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n \n static fs::path GetPidFile(const ArgsManager& args)\n {\n-    return AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n+    return AbsPathForConfigVal(args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r820137318",
      "id" : 820137318,
      "in_reply_to_id" : 805188227,
      "line" : 138,
      "node_id" : "PRRC_kwDOABII584w4k1m",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 138,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 901001408,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/820137318/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-05T18:58:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/820137318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r827575469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827575469"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is similar reasoning applicable to [5b946ed](https://github.com/bitcoin/bitcoin/commit/5b946edd73640c6ecdfb4cbac1d4351e634678dc) _\"util, refactor: Use GetPathArg to read \"-settings\" value\"_:\r\n\r\nYes thanks for pointing that out. Since this PR was merged already, I wouldn't open a separate PR just to simplify that line, but there should be other chances to clean it up in the future",
      "commit_id" : "60aa179d8f9a675efa2d78eaadc09e3ba450f50f",
      "created_at" : "2022-03-16T02:37:43Z",
      "diff_hunk" : "@@ -135,7 +135,7 @@ static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n \n static fs::path GetPidFile(const ArgsManager& args)\n {\n-    return AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n+    return AbsPathForConfigVal(args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r827575469",
      "id" : 827575469,
      "in_reply_to_id" : 805188227,
      "line" : 138,
      "node_id" : "PRRC_kwDOABII584xU8yt",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 138,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 911032967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827575469/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T02:37:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/827575469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r835731965"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/835731965"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Addressed as a part of #24675.",
      "commit_id" : "60aa179d8f9a675efa2d78eaadc09e3ba450f50f",
      "created_at" : "2022-03-26T07:21:38Z",
      "diff_hunk" : "@@ -135,7 +135,7 @@ static const char* BITCOIN_PID_FILENAME = \"bitcoind.pid\";\n \n static fs::path GetPidFile(const ArgsManager& args)\n {\n-    return AbsPathForConfigVal(fs::PathFromString(args.GetArg(\"-pid\", BITCOIN_PID_FILENAME)));\n+    return AbsPathForConfigVal(args.GetPathArg(\"-pid\", BITCOIN_PID_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24306#discussion_r835731965",
      "id" : 835731965,
      "in_reply_to_id" : 805188227,
      "line" : 138,
      "node_id" : "PRRC_kwDOABII584x0EH9",
      "original_commit_id" : "693cdca5f552f74de3665a874ce6acf6c48cb555",
      "original_line" : 138,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 922289967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24306",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/835731965/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-26T07:21:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/835731965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
