[
   {
      "author_association" : "MEMBER",
      "body" : "Nice! Concept ACK.",
      "created_at" : "2022-02-18T07:57:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1044093470",
      "id" : 1044093470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-O5oe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044093470/reactions"
      },
      "updated_at" : "2022-02-18T07:57:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044093470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I tested it on my machine:\r\n- First I ran the tests on master. Only  `interface_usdt_utxocache.py` failed. After I pulled the commits from follow-up #23907, the test was successful.\r\n- the tests for `net` and `validation` were successful in both scenarios.\r\n- running tests without root privileges showed the message `no permissions to use BPF` and they were skipped.\r\n\r\nTested with bpftrace `v0.12.0`\r\n```\r\n$ bpftrace --version\r\nbpftrace v0.12.0\r\n```",
      "created_at" : "2022-02-18T15:31:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1044707932",
      "id" : 1044707932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-RPpc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044707932/reactions"
      },
      "updated_at" : "2022-02-26T06:22:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1044707932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/51032928?v=4",
         "events_url" : "https://api.github.com/users/arnabsen1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/arnabsen1729/followers",
         "following_url" : "https://api.github.com/users/arnabsen1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/arnabsen1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/arnabsen1729",
         "id" : 51032928,
         "login" : "arnabsen1729",
         "node_id" : "MDQ6VXNlcjUxMDMyOTI4",
         "organizations_url" : "https://api.github.com/users/arnabsen1729/orgs",
         "received_events_url" : "https://api.github.com/users/arnabsen1729/received_events",
         "repos_url" : "https://api.github.com/users/arnabsen1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/arnabsen1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/arnabsen1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/arnabsen1729"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "#23907 is merged. Rebased and ready for review.",
      "created_at" : "2022-02-20T14:01:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1046244486",
      "id" : 1046244486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-XGyG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046244486/reactions"
      },
      "updated_at" : "2022-02-20T14:01:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1046244486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-02-25T13:59:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1050877217",
      "id" : 1050877217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-ox0h",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050877217/reactions"
      },
      "updated_at" : "2022-02-25T13:59:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1050877217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tests pass on my end, but oddly enough when I run `bpftrace contrib/tracing/log_utxos.bt` I get a segfault. anyone else seeing this?\r\n\r\n```\r\n$ bpftrace --version\r\nbpftrace v0.14.1\r\n```\r\n\r\n```\r\nThread 1 \"bpftrace\" received signal SIGSEGV, Segmentation fault.\r\n0x00007fffefc816e4 in llvm::PointerType::get(llvm::Type*, unsigned int) () from /nix/store/sfydnaab0wxn2qm3pkaab5x1fcagzxpf-llvm-11.1.0-lib/lib/libLLVM-11.so\r\n(gdb) bt\r\n#0  0x00007fffefc816e4 in llvm::PointerType::get(llvm::Type*, unsigned int) ()\r\n   from /nix/store/sfydnaab0wxn2qm3pkaab5x1fcagzxpf-llvm-11.1.0-lib/lib/libLLVM-11.so\r\n#1  0x000000000055fc37 in bpftrace::ast::CodegenLLVM::createFormatStringCall(bpftrace::ast::Call&, int&, std::vector<std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::vector<bpftrace::Field, std::allocator<bpftrace::Field> > >, std::allocator<std::tuple<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::vector<bpftrace::Field, std::allocator<bpftrace::Field> > > > >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bpftrace::AsyncAction) ()\r\n#2  0x0000000000569c87 in bpftrace::ast::CodegenLLVM::visit(bpftrace::ast::Call&) ()\r\n#3  0x0000000000558dd6 in bpftrace::ast::CodegenLLVM::accept(bpftrace::ast::Node*) ()\r\n#4  0x0000000000558ee7 in bpftrace::ast::CodegenLLVM::visit(bpftrace::ast::ExprStatement&) ()\r\n#5  0x0000000000558dd6 in bpftrace::ast::CodegenLLVM::accept(bpftrace::ast::Node*) ()\r\n#6  0x000000000056edce in bpftrace::ast::CodegenLLVM::generateProbe(bpftrace::ast::Probe&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, llvm::FunctionType*, bool, std::optional<int>, bool) ()\r\n#7  0x000000000056fbaf in bpftrace::ast::CodegenLLVM::visit(bpftrace::ast::Probe&) ()\r\n#8  0x0000000000558dd6 in bpftrace::ast::CodegenLLVM::accept(bpftrace::ast::Node*) ()\r\n#9  0x0000000000558f6e in bpftrace::ast::CodegenLLVM::visit(bpftrace::ast::Program&) ()\r\n#10 0x0000000000558dd6 in bpftrace::ast::CodegenLLVM::accept(bpftrace::ast::Node*) ()\r\n#11 0x0000000000558feb in bpftrace::ast::CodegenLLVM::generate_ir() ()\r\n#12 0x000000000043d622 in main ()\r\n```",
      "created_at" : "2022-02-25T18:32:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1051095814",
      "id" : 1051095814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-pnMG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1051095814/reactions"
      },
      "updated_at" : "2022-02-25T18:34:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1051095814",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jb55 which version of `bpftrace` are you running? I've got the segfault on 0.13 and 0.14 too, it works fine with 0.12. The issue seems to be related to the printf in the unroll followed by another printf. \n\nThis is kinda off topic here, but there have been quite a few problems with `bpftrace` on different versions. People reported on IRC that the example scripts don't work with their `bpftrace` version. Have been thinking about dropping the examples until `bpftrace` is more stable. ",
      "created_at" : "2022-02-25T18:39:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1051100423",
      "id" : 1051100423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-poUH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1051100423/reactions"
      },
      "updated_at" : "2022-02-25T18:39:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1051100423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "tACK 76c60d7b31ccc50b226cdbc5e38be0bd67603408",
      "created_at" : "2022-02-25T18:48:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1051106281",
      "id" : 1051106281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII584-ppvp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1051106281/reactions"
      },
      "updated_at" : "2022-02-25T18:48:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1051106281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It's unclear if a non-root user can even gain the required privileges. This needs more experimenting.\r\n\r\nI managed to get the required privileges as a user, and get the tests to run (don't forget to patch `test/functional/test_framework/test_framework.py` to remove the euid check):\r\n```\r\n# chmod 755 /sys/kernel/debug # might want to assign a special group or such\r\n# chmod 755 /sys/kernel/debug/tracing\r\n# chmod 666 /sys/kernel/debug/tracing/uprobe_events\r\n# echo \"3\" > /proc/sys/kernel/perf_event_paranoid # 3 or lower will do, 4 won't\r\n# setpriv --ambient-caps +cap_38,+cap_39 --inh-caps +cap_38,+cap_39 --init-groups --reuid=1000 --regid=1000 bash\r\n$ getpcaps $$\r\n310068: cap_perfmon,cap_bpf=eip\r\n$ cd â¦/bitcoin\r\n$ test/functional/interface_usdt_net.py\r\n(passes)\r\n$ test/functional/interface_usdt_validation.py\r\n(passes)\r\n$ test/functional/interface_usdt_utxocache.py\r\n(fails on some probably unrelated assertion)\r\n```\r\n\r\nIt's apparently also possible to assign fixed capabilities to users through `/etc/security/capability.conf`in some environments. I haven't tried this yet.\r\n\r\nBTW: `test_runner.py` fails on all the new tests for me. Although the test itself passes, warnings are printed to stderr, I think causing it to be marked as failed:\r\n```\r\nstderr:\r\nIn file included from <built-in>:2:                                                                       \r\nIn file included from /virtual/include/bcc/bpf.h:12:\r\nIn file included from include/linux/types.h:6:\r\nIn file included from include/uapi/linux/types.h:14:\r\nIn file included from include/uapi/linux/posix_types.h:5:\r\nIn file included from include/linux/stddef.h:5:\r\nIn file included from include/uapi/linux/stddef.h:2:\r\nIn file included from include/linux/compiler_types.h:80:\r\ninclude/linux/compiler-clang.h:41:9: warning: '__HAVE_BUILTIN_BSWAP32__' macro redefined [-Wmacro-redefine\r\nd]\r\n#define __HAVE_BUILTIN_BSWAP32__\r\n        ^\r\n<command line>:4:9: note: previous definition is here \r\n#define __HAVE_BUILTIN_BSWAP32__ 1\r\n        ^\r\nâ¦\r\n```",
      "created_at" : "2022-03-30T13:35:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1083149220",
      "id" : 1083149220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII585Aj4uk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 1,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083149220/reactions"
      },
      "updated_at" : "2022-03-30T13:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083149220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 76c60d7b31ccc50b226cdbc5e38be0bd67603408\r\n\r\nWill open a PR to fix the RPC assertion in `interface_usdt_utxocache.py`. It's unrelated.",
      "created_at" : "2022-03-30T14:59:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1083247991",
      "id" : 1083247991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII585AkQ13",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083247991/reactions"
      },
      "updated_at" : "2022-03-30T14:59:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083247991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24358#discussion_r838672404"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24358"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838672404"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As alternative to / in addition to `os.geteuid() != 0` for non-root use we'll probably want to check `CapEff` in `/proc/<pid>/status` for `(1 << CAP_PERFMON) | (1 << CAP_BPF)`.\r\n```\r\nCAP_PERFMON = 38\r\nCAP_BPF = 39\r\n```\r\nNot necessarily in this PR though. I think it's fine to merge as-is and do that later.",
      "commit_id" : "76c60d7b31ccc50b226cdbc5e38be0bd67603408",
      "created_at" : "2022-03-30T15:19:21Z",
      "diff_hunk" : "@@ -821,6 +822,29 @@ def skip_if_no_py3_zmq(self):\n         except ImportError:\n             raise SkipTest(\"python3-zmq module not available.\")\n \n+    def skip_if_no_python_bcc(self):\n+        \"\"\"Attempt to import the bcc package and skip the tests if the import fails.\"\"\"\n+        try:\n+            import bcc  # type: ignore[import] # noqa: F401\n+        except ImportError:\n+            raise SkipTest(\"bcc python module not available\")\n+\n+    def skip_if_no_bitcoind_tracepoints(self):\n+        \"\"\"Skip the running test if bitcoind has not been compiled with USDT tracepoint support.\"\"\"\n+        if not self.is_usdt_compiled():\n+            raise SkipTest(\"bitcoind has not been built with USDT tracepoints enabled.\")\n+\n+    def skip_if_no_bpf_permissions(self):\n+        \"\"\"Skip the running test if we don't have permissions to do BPF syscalls and load BPF maps.\"\"\"\n+        # check for 'root' permissions\n+        if os.geteuid() != 0:\n+            raise SkipTest(\"no permissions to use BPF (please review the tests carefully before running them with higher privileges)\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#discussion_r838672404",
      "id" : 838672404,
      "line" : 841,
      "node_id" : "PRRC_kwDOABII584x_SAU",
      "original_commit_id" : "76c60d7b31ccc50b226cdbc5e38be0bd67603408",
      "original_line" : 841,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 28,
      "pull_request_review_id" : 926305619,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24358",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838672404/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-30T15:19:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838672404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Nice functional demonstration of USDT usage, too. I'll test this soon.",
      "created_at" : "2022-03-30T15:42:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1083306821",
      "id" : 1083306821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII585AkfNF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083306821/reactions"
      },
      "updated_at" : "2022-03-30T15:42:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083306821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Concept ACK. Nice functional demonstration of USDT usage, too. I'll test this soon.\r\n\r\n@jamesob I'm going ahead and merge this as I think it's ready. I hope you'll still get around to testing it though.",
      "created_at" : "2022-04-06T11:08:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24358#issuecomment-1090143534",
      "id" : 1090143534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24358",
      "node_id" : "IC_kwDOABII585A-kUu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1090143534/reactions"
      },
      "updated_at" : "2022-04-06T11:08:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1090143534",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
