[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17023](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17023.html) (doc: warn that ranged multi() descriptors are not BIP67 compatible by Sjors)\n* [#16889](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16889.html) (Add some general std::vector utility functions by sipa)\n* [#16800](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16800.html) (Basic Miniscript support in output descriptors by sipa)\n* [#15590](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15590.html) (Descriptor: add GetAddressType() and IsSegWit() by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-04T20:56:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-538556995",
      "id" : 538556995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODU1Njk5NQ==",
      "updated_at" : "2019-10-04T20:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538556995",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331737954"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331737954"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also const?",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-05T08:03:43Z",
      "diff_hunk" : "@@ -593,15 +593,23 @@ class ComboDescriptor final : public DescriptorImpl\n     ComboDescriptor(std::unique_ptr<PubkeyProvider> prov) : DescriptorImpl(Singleton(std::move(prov)), {}, \"combo\") {}\n };\n \n-/** A parsed multi(...) descriptor. */\n+/** A parsed multi(...) or sortedmulti(...) descriptor */\n class MultisigDescriptor final : public DescriptorImpl\n {\n     const int m_threshold;\n+    bool m_sorted;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331737954",
      "id" : 331737954,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTczNzk1NA==",
      "original_commit_id" : "d5a925be31b185c54440391b0e24f1b6af10083f",
      "original_position" : 9,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 297781258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331737954",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331738173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331738173"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Swap operands?",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-05T08:11:49Z",
      "diff_hunk" : "@@ -827,7 +836,10 @@ std::unique_ptr<DescriptorImpl> ParseScript(Span<const char>& sp, ParseScriptCon\n         error = \"Cannot have combo in non-top level\";\n         return nullptr;\n     }\n-    if (Func(\"multi\", expr)) {\n+    if (Func(\"sortedmulti\", expr)) {\n+        sorted_multi = true;\n+    }\n+    if (Func(\"multi\", expr) || sorted_multi) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331738173",
      "id" : 331738173,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTczODE3Mw==",
      "original_commit_id" : "d5a925be31b185c54440391b0e24f1b6af10083f",
      "original_position" : 43,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 297781258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331738173",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n@peter-conalgo does this match the BIP67 implementation in ColdCard? (assuming compressed public keys). E.g. https://github.com/Coldcard/firmware/blob/master/testing/test_multisig.py#L232-L255 and https://github.com/Coldcard/firmware/blob/master/shared/multisig.py#L412-L414",
      "created_at" : "2019-10-05T11:33:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-538641923",
      "id" : 538641923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODY0MTkyMw==",
      "updated_at" : "2019-10-05T11:33:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538641923",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331778543"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331778543"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This just returns `false` without failing the test.  In fact all these addresses are incorrect; you either have to run the node in mainnet (like `feature_config_args`), or replace the test vectors for regtest. I manually verified with a mainnet node that the vectors do pass.",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-06T09:07:43Z",
      "diff_hunk" : "@@ -72,6 +75,14 @@ def run_test(self):\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'bech32')['address'])\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'p2sh-segwit')['address'])\n \n+        self.log.info('Testing sortedmulti descriptors with BIP 67 test vectors')\n+        with open(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/rpc_bip67.json'), encoding='utf-8') as f:\n+            vectors = json.load(f)\n+\n+        for t in vectors:\n+            key_str = ','.join(t['keys'])\n+            self.nodes[0].deriveaddresses(descsum_create('sh(sortedmulti(2,' + key_str + '))'))[0] == t['address']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331778543",
      "id" : 331778543,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTc3ODU0Mw==",
      "original_commit_id" : "4bb67aad0a3d86ade5b15136e0d812f17b208798",
      "original_position" : 27,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 297827296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331778543",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331794878"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331794878"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Whoops. Fixed. Changed the addresses to regtest ones. You can check they still map to the same scriptPubKey using `getaddressinfo` and `decodescript`.",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-06T15:19:51Z",
      "diff_hunk" : "@@ -72,6 +75,14 @@ def run_test(self):\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'bech32')['address'])\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'p2sh-segwit')['address'])\n \n+        self.log.info('Testing sortedmulti descriptors with BIP 67 test vectors')\n+        with open(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/rpc_bip67.json'), encoding='utf-8') as f:\n+            vectors = json.load(f)\n+\n+        for t in vectors:\n+            key_str = ','.join(t['keys'])\n+            self.nodes[0].deriveaddresses(descsum_create('sh(sortedmulti(2,' + key_str + '))'))[0] == t['address']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331794878",
      "id" : 331794878,
      "in_reply_to_id" : 331778543,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTc5NDg3OA==",
      "original_commit_id" : "4bb67aad0a3d86ade5b15136e0d812f17b208798",
      "original_position" : 27,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 297844431,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331794878",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK a6dd441cb2d8325dd968897776e7f8389cda359c",
      "created_at" : "2019-10-06T19:01:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-538777283",
      "id" : 538777283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODc3NzI4Mw==",
      "updated_at" : "2019-10-06T19:01:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538777283",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813500"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331813500"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "s/keys in the sorted/keys sorted/",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-06T22:13:55Z",
      "diff_hunk" : "@@ -37,12 +38,14 @@ Output descriptors currently support:\n - `sh(wsh(pkh(02e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)))` describes an (overly complicated) P2SH-P2WSH-P2PKH output with the specified public key.\n - `multi(1,022f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4,025cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc)` describes a bare *1-of-2* multisig output with keys in the specified order.\n - `sh(multi(2,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe))` describes a P2SH *2-of-2* multisig output with keys in the specified order.\n+- `sh(sortedmulti(2,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01))` describes a P2SH *2-of-2* multisig output with keys in the sorted lexicographically in the resulting redeemScript.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813500",
      "id" : 331813500,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTgxMzUwMA==",
      "original_commit_id" : "a6dd441cb2d8325dd968897776e7f8389cda359c",
      "original_position" : 12,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 297863923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331813500",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/31543633?v=4",
         "events_url" : "https://api.github.com/users/bitcoinhodler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinhodler/followers",
         "following_url" : "https://api.github.com/users/bitcoinhodler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinhodler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinhodler",
         "id" : 31543633,
         "login" : "bitcoinhodler",
         "node_id" : "MDQ6VXNlcjMxNTQzNjMz",
         "organizations_url" : "https://api.github.com/users/bitcoinhodler/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinhodler/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinhodler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinhodler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinhodler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinhodler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331813523"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "s/where the one multisig key/where one multisig key/",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-06T22:14:33Z",
      "diff_hunk" : "@@ -37,12 +38,14 @@ Output descriptors currently support:\n - `sh(wsh(pkh(02e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)))` describes an (overly complicated) P2SH-P2WSH-P2PKH output with the specified public key.\n - `multi(1,022f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4,025cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc)` describes a bare *1-of-2* multisig output with keys in the specified order.\n - `sh(multi(2,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe))` describes a P2SH *2-of-2* multisig output with keys in the specified order.\n+- `sh(sortedmulti(2,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01))` describes a P2SH *2-of-2* multisig output with keys in the sorted lexicographically in the resulting redeemScript.\n - `wsh(multi(2,03a0434d9e47f3c86235477c7b1ae6ae5d3442d49b1943c2b752a68e2a47e247c7,03774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb,03d01115d548e7561b15c38f004d734633687cf4419620095bc5b0f47070afe85a))` describes a P2WSH *2-of-3* multisig output with keys in the specified order.\n - `sh(wsh(multi(1,03f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8,03499fdf9e895e719cfd64e67f07d38e3226aa7b63678949e6e49b241a60e823e4,02d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e)))` describes a P2SH-P2WSH *1-of-3* multisig output with keys in the specified order.\n - `pk(xpub661MyMwAqRbcFtXgS5sYJABqqG9YLmC4Q1Rdap9gSE8NqtwybGhePY2gZ29ESFjqJoCu1Rupje8YtGqsefD265TMg7usUDFdp6W1EGMcet8)` describes a P2PK output with the public key of the specified xpub.\n - `pkh(xpub68Gmy5EdvgibQVfPdqkBBCHxA5htiqg55crXYuXoQRKfDBFA1WEjWgP6LHhwBZeNK1VTsfTFUHCdrfp1bgwQ9xv5ski8PX9rL2dZXvgGDnw/1'/2)` describes a P2PKH output with child key *1'/2* of the specified xpub.\n - `pkh([d34db33f/44'/0'/0']xpub6ERApfZwUNrhLCkDtcHTcxd75RbzS1ed54G1LkBUHQVHQKqhMkhgbmJbZRkrgZw4koxb5JaHWkY4ALHY2grBGRjaDMzQLcgJvLJuZZvRcEL/1/*)` describes a set of P2PKH outputs, but additionally specifies that the specified xpub is a child of a master with fingerprint `d34db33f`, and derived using path `44'/0'/0'`.\n - `wsh(multi(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where the first multisig key is the *1/0/`i`* child of the first specified xpub and the second multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default).\n+- `wsh(sortedmulti(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where the one multisig key is the *1/0/`i`* child of the first specified xpub and the other multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default). The order of public keys in the resulting witnessScripts is determined by the lexicographic order of the public keys at that index.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813523",
      "id" : 331813523,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTgxMzUyMw==",
      "original_commit_id" : "a6dd441cb2d8325dd968897776e7f8389cda359c",
      "original_position" : 19,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 297863923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331813523",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/31543633?v=4",
         "events_url" : "https://api.github.com/users/bitcoinhodler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinhodler/followers",
         "following_url" : "https://api.github.com/users/bitcoinhodler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinhodler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinhodler",
         "id" : 31543633,
         "login" : "bitcoinhodler",
         "node_id" : "MDQ6VXNlcjMxNTQzNjMz",
         "organizations_url" : "https://api.github.com/users/bitcoinhodler/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinhodler/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinhodler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinhodler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinhodler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinhodler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813586"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331813586"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "s/It represents/They represent/ (?)",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-06T22:16:20Z",
      "diff_hunk" : "@@ -101,11 +105,12 @@ not contain \"p2\" for brevity.\n \n Several pieces of software use multi-signature (multisig) scripts based\n on Bitcoin's OP_CHECKMULTISIG opcode. To support these, we introduce the\n-`multi(k,key_1,key_2,...,key_n)` function. It represents a *k-of-n*\n+`multi(k,key_1,key_2,...,key_n)` and `sortedmulti(k,key_1,key_2,...,key_n)`\n+functions. It represents a *k-of-n*",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813586",
      "id" : 331813586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTgxMzU4Ng==",
      "original_commit_id" : "a6dd441cb2d8325dd968897776e7f8389cda359c",
      "original_position" : 37,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 297863923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331813586",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/31543633?v=4",
         "events_url" : "https://api.github.com/users/bitcoinhodler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinhodler/followers",
         "following_url" : "https://api.github.com/users/bitcoinhodler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinhodler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinhodler",
         "id" : 31543633,
         "login" : "bitcoinhodler",
         "node_id" : "MDQ6VXNlcjMxNTQzNjMz",
         "organizations_url" : "https://api.github.com/users/bitcoinhodler/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinhodler/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinhodler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinhodler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinhodler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinhodler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160588"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T18:06:41Z",
      "diff_hunk" : "@@ -593,15 +593,23 @@ class ComboDescriptor final : public DescriptorImpl\n     ComboDescriptor(std::unique_ptr<PubkeyProvider> prov) : DescriptorImpl(Singleton(std::move(prov)), {}, \"combo\") {}\n };\n \n-/** A parsed multi(...) descriptor. */\n+/** A parsed multi(...) or sortedmulti(...) descriptor */\n class MultisigDescriptor final : public DescriptorImpl\n {\n     const int m_threshold;\n+    bool m_sorted;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160588",
      "id" : 332160588,
      "in_reply_to_id" : 331737954,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE2MDU4OA==",
      "original_commit_id" : "d5a925be31b185c54440391b0e24f1b6af10083f",
      "original_position" : 9,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 298312041,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160588",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160621"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160621"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T18:06:46Z",
      "diff_hunk" : "@@ -827,7 +836,10 @@ std::unique_ptr<DescriptorImpl> ParseScript(Span<const char>& sp, ParseScriptCon\n         error = \"Cannot have combo in non-top level\";\n         return nullptr;\n     }\n-    if (Func(\"multi\", expr)) {\n+    if (Func(\"sortedmulti\", expr)) {\n+        sorted_multi = true;\n+    }\n+    if (Func(\"multi\", expr) || sorted_multi) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160621",
      "id" : 332160621,
      "in_reply_to_id" : 331738173,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE2MDYyMQ==",
      "original_commit_id" : "d5a925be31b185c54440391b0e24f1b6af10083f",
      "original_position" : 43,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 298312097,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160621",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160662"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T18:06:52Z",
      "diff_hunk" : "@@ -37,12 +38,14 @@ Output descriptors currently support:\n - `sh(wsh(pkh(02e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)))` describes an (overly complicated) P2SH-P2WSH-P2PKH output with the specified public key.\n - `multi(1,022f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4,025cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc)` describes a bare *1-of-2* multisig output with keys in the specified order.\n - `sh(multi(2,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe))` describes a P2SH *2-of-2* multisig output with keys in the specified order.\n+- `sh(sortedmulti(2,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01))` describes a P2SH *2-of-2* multisig output with keys in the sorted lexicographically in the resulting redeemScript.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160662",
      "id" : 332160662,
      "in_reply_to_id" : 331813500,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE2MDY2Mg==",
      "original_commit_id" : "a6dd441cb2d8325dd968897776e7f8389cda359c",
      "original_position" : 12,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 298312159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160662",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160738"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160738"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T18:07:03Z",
      "diff_hunk" : "@@ -37,12 +38,14 @@ Output descriptors currently support:\n - `sh(wsh(pkh(02e493dbf1c10d80f3581e4904930b1404cc6c13900ee0758474fa94abe8c4cd13)))` describes an (overly complicated) P2SH-P2WSH-P2PKH output with the specified public key.\n - `multi(1,022f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4,025cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc)` describes a bare *1-of-2* multisig output with keys in the specified order.\n - `sh(multi(2,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe))` describes a P2SH *2-of-2* multisig output with keys in the specified order.\n+- `sh(sortedmulti(2,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01))` describes a P2SH *2-of-2* multisig output with keys in the sorted lexicographically in the resulting redeemScript.\n - `wsh(multi(2,03a0434d9e47f3c86235477c7b1ae6ae5d3442d49b1943c2b752a68e2a47e247c7,03774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb,03d01115d548e7561b15c38f004d734633687cf4419620095bc5b0f47070afe85a))` describes a P2WSH *2-of-3* multisig output with keys in the specified order.\n - `sh(wsh(multi(1,03f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8,03499fdf9e895e719cfd64e67f07d38e3226aa7b63678949e6e49b241a60e823e4,02d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e)))` describes a P2SH-P2WSH *1-of-3* multisig output with keys in the specified order.\n - `pk(xpub661MyMwAqRbcFtXgS5sYJABqqG9YLmC4Q1Rdap9gSE8NqtwybGhePY2gZ29ESFjqJoCu1Rupje8YtGqsefD265TMg7usUDFdp6W1EGMcet8)` describes a P2PK output with the public key of the specified xpub.\n - `pkh(xpub68Gmy5EdvgibQVfPdqkBBCHxA5htiqg55crXYuXoQRKfDBFA1WEjWgP6LHhwBZeNK1VTsfTFUHCdrfp1bgwQ9xv5ski8PX9rL2dZXvgGDnw/1'/2)` describes a P2PKH output with child key *1'/2* of the specified xpub.\n - `pkh([d34db33f/44'/0'/0']xpub6ERApfZwUNrhLCkDtcHTcxd75RbzS1ed54G1LkBUHQVHQKqhMkhgbmJbZRkrgZw4koxb5JaHWkY4ALHY2grBGRjaDMzQLcgJvLJuZZvRcEL/1/*)` describes a set of P2PKH outputs, but additionally specifies that the specified xpub is a child of a master with fingerprint `d34db33f`, and derived using path `44'/0'/0'`.\n - `wsh(multi(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where the first multisig key is the *1/0/`i`* child of the first specified xpub and the second multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default).\n+- `wsh(sortedmulti(1,xpub661MyMwAqRbcFW31YEwpkMuc5THy2PSt5bDMsktWQcFF8syAmRUapSCGu8ED9W6oDMSgv6Zz8idoc4a6mr8BDzTJY47LJhkJ8UB7WEGuduB/1/0/*,xpub69H7F5d8KSRgmmdJg2KhpAK8SR3DjMwAdkxj3ZuxV27CprR9LgpeyGmXUbC6wb7ERfvrnKZjXoUmmDznezpbZb7ap6r1D3tgFxHmwMkQTPH/0/0/*))` describes a set of *1-of-2* P2WSH multisig outputs where the one multisig key is the *1/0/`i`* child of the first specified xpub and the other multisig key is the *0/0/`i`* child of the second specified xpub, and `i` is any number in a configurable range (`0-1000` by default). The order of public keys in the resulting witnessScripts is determined by the lexicographic order of the public keys at that index.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160738",
      "id" : 332160738,
      "in_reply_to_id" : 331813523,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE2MDczOA==",
      "original_commit_id" : "a6dd441cb2d8325dd968897776e7f8389cda359c",
      "original_position" : 19,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 298312256,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160738",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160807"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T18:07:10Z",
      "diff_hunk" : "@@ -101,11 +105,12 @@ not contain \"p2\" for brevity.\n \n Several pieces of software use multi-signature (multisig) scripts based\n on Bitcoin's OP_CHECKMULTISIG opcode. To support these, we introduce the\n-`multi(k,key_1,key_2,...,key_n)` function. It represents a *k-of-n*\n+`multi(k,key_1,key_2,...,key_n)` and `sortedmulti(k,key_1,key_2,...,key_n)`\n+functions. It represents a *k-of-n*",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160807",
      "id" : 332160807,
      "in_reply_to_id" : 331813586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE2MDgwNw==",
      "original_commit_id" : "a6dd441cb2d8325dd968897776e7f8389cda359c",
      "original_position" : 37,
      "path" : "doc/descriptors.md",
      "position" : null,
      "pull_request_review_id" : 298312337,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332160807",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332263524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332263524"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, in order to make this shorter:\r\n```py\r\n            keys = ','.join(t['keys'])\r\n            desc = descsum_create('sh(sortedmulti(2,{}))'.format(keys))\r\n            assert_equal(self.nodes[0].deriveaddresses(desc)[0], t['address'])\r\n",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T22:22:12Z",
      "diff_hunk" : "@@ -72,6 +75,14 @@ def run_test(self):\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'bech32')['address'])\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'p2sh-segwit')['address'])\n \n+        self.log.info('Testing sortedmulti descriptors with BIP 67 test vectors')\n+        with open(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/rpc_bip67.json'), encoding='utf-8') as f:\n+            vectors = json.load(f)\n+\n+        for t in vectors:\n+            key_str = ','.join(t['keys'])\n+            assert_equal(self.nodes[0].deriveaddresses(descsum_create('sh(sortedmulti(2,' + key_str + '))'))[0], t['address'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332263524",
      "id" : 332263524,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjI2MzUyNA==",
      "original_commit_id" : "9214dd6f914a0b2a5ddfeca8999a2f487bc197bf",
      "original_position" : 27,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 298444466,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332263524",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332274606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332274606"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-07T23:03:04Z",
      "diff_hunk" : "@@ -72,6 +75,14 @@ def run_test(self):\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'bech32')['address'])\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'p2sh-segwit')['address'])\n \n+        self.log.info('Testing sortedmulti descriptors with BIP 67 test vectors')\n+        with open(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/rpc_bip67.json'), encoding='utf-8') as f:\n+            vectors = json.load(f)\n+\n+        for t in vectors:\n+            key_str = ','.join(t['keys'])\n+            assert_equal(self.nodes[0].deriveaddresses(descsum_create('sh(sortedmulti(2,' + key_str + '))'))[0], t['address'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332274606",
      "id" : 332274606,
      "in_reply_to_id" : 332263524,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjI3NDYwNg==",
      "original_commit_id" : "9214dd6f914a0b2a5ddfeca8999a2f487bc197bf",
      "original_position" : 27,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 298458075,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332274606",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a release note.",
      "created_at" : "2019-10-07T23:03:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539240863",
      "id" : 539240863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTI0MDg2Mw==",
      "updated_at" : "2019-10-07T23:03:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539240863",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332326802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332326802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "s/scripst/scripts/",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T03:53:34Z",
      "diff_hunk" : "@@ -0,0 +1,4 @@\n+Low-level RPC Changes\n+===\n+\n+- A new descriptor type `sortedmulti(...)` has been added to support multisig scripst where the public keys are sorted lexicographically in the resulting script.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332326802",
      "id" : 332326802,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjMyNjgwMg==",
      "original_commit_id" : "0080a85f876968ff394e84e73da62b49ab64568d",
      "original_position" : 4,
      "path" : "doc/release-notes-17056.md",
      "position" : null,
      "pull_request_review_id" : 298521963,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332326802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/31543633?v=4",
         "events_url" : "https://api.github.com/users/bitcoinhodler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinhodler/followers",
         "following_url" : "https://api.github.com/users/bitcoinhodler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinhodler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinhodler",
         "id" : 31543633,
         "login" : "bitcoinhodler",
         "node_id" : "MDQ6VXNlcjMxNTQzNjMz",
         "organizations_url" : "https://api.github.com/users/bitcoinhodler/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinhodler/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinhodler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinhodler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinhodler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinhodler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332328151"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332328151"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T04:03:16Z",
      "diff_hunk" : "@@ -0,0 +1,4 @@\n+Low-level RPC Changes\n+===\n+\n+- A new descriptor type `sortedmulti(...)` has been added to support multisig scripst where the public keys are sorted lexicographically in the resulting script.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332328151",
      "id" : 332328151,
      "in_reply_to_id" : 332326802,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjMyODE1MQ==",
      "original_commit_id" : "0080a85f876968ff394e84e73da62b49ab64568d",
      "original_position" : 4,
      "path" : "doc/release-notes-17056.md",
      "position" : null,
      "pull_request_review_id" : 298523693,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332328151",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/17056/commits/2638791a4f25394dc241367c933a2d27ed981197",
      "created_at" : "2019-10-08T13:49:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539522848",
      "id" : 539522848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTUyMjg0OA==",
      "updated_at" : "2019-10-08T13:49:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539522848",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 2638791a4f25394dc241367c933a2d27ed981197, only changes are the suggestion in the test  and added the release note.",
      "created_at" : "2019-10-08T13:59:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539527283",
      "id" : 539527283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTUyNzI4Mw==",
      "updated_at" : "2019-10-08T13:59:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539527283",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332629929"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332629929"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You could check whether a `sh(multi(2,{}))` descriptor with the json's  \"sorted_keys\" gives the same result.",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T17:10:23Z",
      "diff_hunk" : "@@ -72,6 +75,15 @@ def run_test(self):\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'bech32')['address'])\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'p2sh-segwit')['address'])\n \n+        self.log.info('Testing sortedmulti descriptors with BIP 67 test vectors')\n+        with open(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/rpc_bip67.json'), encoding='utf-8') as f:\n+            vectors = json.load(f)\n+\n+        for t in vectors:\n+            key_str = ','.join(t['keys'])\n+            desc = descsum_create('sh(sortedmulti(2,{}))'.format(key_str))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332629929",
      "id" : 332629929,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjYyOTkyOQ==",
      "original_commit_id" : "2638791a4f25394dc241367c933a2d27ed981197",
      "original_position" : 27,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : 27,
      "pull_request_review_id" : 298916113,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332629929",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332630410"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332630410"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I very slightly prefer `if ((sorted_multi = Func(\"sortedmulti\", expr)) || Func(\"multi\", expr)) {`",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T17:11:38Z",
      "diff_hunk" : "@@ -827,7 +836,10 @@ std::unique_ptr<DescriptorImpl> ParseScript(Span<const char>& sp, ParseScriptCon\n         error = \"Cannot have combo in non-top level\";\n         return nullptr;\n     }\n-    if (Func(\"multi\", expr)) {\n+    if (Func(\"sortedmulti\", expr)) {\n+        sorted_multi = true;\n+    }\n+    if (sorted_multi || Func(\"multi\", expr)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332630410",
      "id" : 332630410,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjYzMDQxMA==",
      "original_commit_id" : "2638791a4f25394dc241367c933a2d27ed981197",
      "original_position" : 43,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 298916113,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332630410",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 2638791a4f25394dc241367c933a2d27ed981197. Agree on calling it `sortedmulti` as it's indeed more generic than bip67.",
      "created_at" : "2019-10-08T17:12:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539612854",
      "id" : 539612854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTYxMjg1NA==",
      "updated_at" : "2019-10-08T17:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539612854",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332651138"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332651138"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T17:57:11Z",
      "diff_hunk" : "@@ -72,6 +75,15 @@ def run_test(self):\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'bech32')['address'])\n             assert_equal(legacy_addr, node0.addmultisigaddress(2, keys, '', 'p2sh-segwit')['address'])\n \n+        self.log.info('Testing sortedmulti descriptors with BIP 67 test vectors')\n+        with open(os.path.join(os.path.dirname(os.path.realpath(__file__)), 'data/rpc_bip67.json'), encoding='utf-8') as f:\n+            vectors = json.load(f)\n+\n+        for t in vectors:\n+            key_str = ','.join(t['keys'])\n+            desc = descsum_create('sh(sortedmulti(2,{}))'.format(key_str))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332651138",
      "id" : 332651138,
      "in_reply_to_id" : 332629929,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjY1MTEzOA==",
      "original_commit_id" : "2638791a4f25394dc241367c933a2d27ed981197",
      "original_position" : 27,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : 27,
      "pull_request_review_id" : 298943642,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332651138",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332651171"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332651171"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T17:57:16Z",
      "diff_hunk" : "@@ -827,7 +836,10 @@ std::unique_ptr<DescriptorImpl> ParseScript(Span<const char>& sp, ParseScriptCon\n         error = \"Cannot have combo in non-top level\";\n         return nullptr;\n     }\n-    if (Func(\"multi\", expr)) {\n+    if (Func(\"sortedmulti\", expr)) {\n+        sorted_multi = true;\n+    }\n+    if (sorted_multi || Func(\"multi\", expr)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332651171",
      "id" : 332651171,
      "in_reply_to_id" : 332630410,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjY1MTE3MQ==",
      "original_commit_id" : "2638791a4f25394dc241367c933a2d27ed981197",
      "original_position" : 43,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 298943686,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17056",
      "updated_at" : "2019-10-08T17:57:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332651171",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK https://github.com/bitcoin/bitcoin/pull/17056/commits/4bb660be90a2811b53855bf1fd33a8dd9ba3db47",
      "created_at" : "2019-10-08T18:24:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539641251",
      "id" : 539641251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17056",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTY0MTI1MQ==",
      "updated_at" : "2019-10-08T18:24:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539641251",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
