[
   {
      "author_association" : "MEMBER",
      "body" : "Some context:\r\n* https://github.com/bitcoin/bitcoin/pull/14075#issuecomment-446547958 \"Import watch only pubkeys to the keypool if private keys are disabled\" currently has `importmulti` add stuff to the keypool \r\n* I had difficulty creating a test for handling PSBT in watch-only wallets, where I wanted to mock the signed PSBT by importing the same private private keys into a second wallet and signing it with that: https://github.com/bitcoin/bitcoin/pull/14912/files",
      "created_at" : "2018-12-12T17:14:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-446667738",
      "id" : 446667738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjY2NzczOA==",
      "updated_at" : "2018-12-12T17:15:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446667738",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15226](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15226.html) (Allow creating blank (empty) wallets (alternative) by achow101)\n* [#15006](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15006.html) (Add option to create an encrypted wallet by achow101)\n* [#13756](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13756.html) (wallet: \"avoid_reuse\" wallet flag for improved privacy by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-12-12T21:31:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-446751804",
      "id" : 446751804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0Njc1MTgwNA==",
      "updated_at" : "2019-01-22T11:11:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446751804",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241201484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241201484"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit\r\n```\r\n- The RPC `createwallet` has now the optional `empty` argument that allows to create empty wallets.\r\n```",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-12T22:01:01Z",
      "diff_hunk" : "@@ -0,0 +1,4 @@\n+Miscellaneous RPC changes\n+------------\n+\n+- `createwallet` can now create an empty wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241201484",
      "id" : 241201484,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTIwMTQ4NA==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 4,
      "path" : "doc/release-notes-14936.md",
      "position" : null,
      "pull_request_review_id" : 184416102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241201484",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241201986"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241201986"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, could use named arguments.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-12T22:02:56Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet('w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet('w1', True)\n+        w1 = node.get_wallet_rpc('w1')\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getnewaddress)\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getrawchangeaddress)\n+        w1.importpubkey(w0.getaddressinfo(address1)['pubkey'])\n+\n+        self.log.info(\"Test empty creation with private keys disabled.\")\n+        self.nodes[0].createwallet('w2', True, True)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241201986",
      "id" : 241201986,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTIwMTk4Ng==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 39,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 184416102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241201986",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241203267"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241203267"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit\r\n```cpp\r\nif (!HasHDSeed()) throw std::runtime_error(std::string(__func__) + \": No HD Seed\");\r\n\r\nDeriveNewChildKey(batch, metadata, secret, (CanSupportFeature(FEATURE_HD_SPLIT) ? internal : false));\r\n```",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-12T22:07:05Z",
      "diff_hunk" : "@@ -187,9 +187,13 @@ CPubKey CWallet::GenerateNewKey(WalletBatch &batch, bool internal)\n     int64_t nCreationTime = GetTime();\n     CKeyMetadata metadata(nCreationTime);\n \n-    // use HD key derivation if HD was enabled during wallet creation\n+    // use HD key derivation if HD was enabled during wallet creation and a seed is present\n     if (IsHDEnabled()) {\n-        DeriveNewChildKey(batch, metadata, secret, (CanSupportFeature(FEATURE_HD_SPLIT) ? internal : false));\n+        if (HasHDSeed()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241203267",
      "id" : 241203267,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTIwMzI2Nw==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 8,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 184416102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241203267",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241203782"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241203782"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, `create_empty`.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-12T22:08:48Z",
      "diff_hunk" : "@@ -2563,6 +2564,11 @@ static UniValue createwallet(const JSONRPCRequest& request)\n         disable_privatekeys = request.params[1].get_bool();\n     }\n \n+    bool empty = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241203782",
      "id" : 241203782,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTIwMzc4Mg==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 20,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 184416102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241203782",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.",
      "created_at" : "2018-12-13T06:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-446855488",
      "id" : 446855488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0Njg1NTQ4OA==",
      "updated_at" : "2018-12-13T06:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446855488",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n@jonasschnelli is this in line with your idea of supporting hardware wallets?",
      "created_at" : "2018-12-13T09:50:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-446907141",
      "id" : 446907141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjkwNzE0MQ==",
      "updated_at" : "2018-12-13T09:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446907141",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's definitely in line with _my_ idea of adding hardware wallets :-)\r\n\r\nSee also #14145.",
      "created_at" : "2018-12-13T18:39:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-447074688",
      "id" : 447074688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NzA3NDY4OA==",
      "updated_at" : "2018-12-13T18:39:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447074688",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not opposed against this,... but this seems not to be in line with hardware wallet support (yet). Because `sethdseed` does set the secret master key rather than the extended public account key.\r\nExposing the seed defeats the purpose of a hardware wallet.\r\n\r\nBut once this is turned into \"watch-only-HD\"/ public-key-derivation, then I guess this is useful.\r\n\r\nThe question then would be, if we don't want to directly add an xpub argument to the `createwallet` call.",
      "created_at" : "2018-12-13T19:23:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-447089007",
      "id" : 447089007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NzA4OTAwNw==",
      "updated_at" : "2018-12-13T19:23:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/447089007",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241702874"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241702874"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing whitespace after `,` Ã¢ÂÂ applies throughout this PR :-)",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-14T10:10:26Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet('w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet('w1', True)\n+        w1 = node.get_wallet_rpc('w1')\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getnewaddress)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241702874",
      "id" : 241702874,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTcwMjg3NA==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 34,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 185041946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241702874",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241832335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241832335"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks @practicalswift. What Python linter are you running that Travis isn't?",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-14T17:32:04Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet('w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet('w1', True)\n+        w1 = node.get_wallet_rpc('w1')\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getnewaddress)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241832335",
      "id" : 241832335,
      "in_reply_to_id" : 241702874,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTgzMjMzNQ==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 34,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 185210404,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241832335",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241836272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241836272"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@Sjors We run `flake8` in Travis but the rule `E231` (\"missing whitespace after ','\") isn't enabled. Please consider opening a PR fixing that :-)",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-14T17:45:55Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet('w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet('w1', True)\n+        w1 = node.get_wallet_rpc('w1')\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getnewaddress)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r241836272",
      "id" : 241836272,
      "in_reply_to_id" : 241702874,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MTgzNjI3Mg==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 34,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 185215533,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/241836272",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243012488"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243012488"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Call `HasHDSeed` instead of doing the same check here",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-19T17:44:16Z",
      "diff_hunk" : "@@ -1426,11 +1430,20 @@ void CWallet::SetHDChain(const CHDChain& chain, bool memonly)\n     hdChain = chain;\n }\n \n-bool CWallet::IsHDEnabled() const\n+bool CWallet::HasHDSeed() const\n {\n     return !hdChain.seed_id.IsNull();\n }\n \n+bool CWallet::IsHDEnabled() const\n+{\n+    AssertLockHeld(cs_wallet);\n+    // -usehd was removed in 0.16, so all wallets with FEATURE_PRE_SPLIT_KEYPOOL are HD\n+    // For older wallets the presence of seed_id indicates if HD is enabled.\n+    // Support for empty HD capable wallets was added in 0.18\n+    return CanSupportFeature(FEATURE_PRE_SPLIT_KEYPOOL) || !hdChain.seed_id.IsNull();\n+}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243012488",
      "id" : 243012488,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMjQ4OA==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 42,
      "path" : "src/wallet/wallet.cpp",
      "position" : 37,
      "pull_request_review_id" : 186668317,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243012488",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243013303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243013303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Instead of an empty else if block, change the else to be `else if (!create_empty)`.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-19T17:46:40Z",
      "diff_hunk" : "@@ -4032,20 +4052,27 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n \n     if (fFirstRun)\n     {\n-        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n-        walletInstance->SetMinVersion(FEATURE_LATEST);\n+        // ensure this wallet can only be opened by clients supporting HD with chain split and expects no default key\n+        if (!create_empty) {\n+            walletInstance->SetMinVersion(FEATURE_PRE_SPLIT_KEYPOOL);\n+        } else {\n+            // In addition, this wallet can only be opened by clients supporting empty wallets\n+            walletInstance->SetMinVersion(FEATURE_LATEST);\n+        }\n \n         if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n             //selective allow to set flags\n             walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else if (create_empty) {\n+            // Do not generate a new seed\n         } else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243013303",
      "id" : 243013303,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzAxMzMwMw==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 96,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 186668317,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243013303",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Calling `encryptwallet` on an empty wallet does not work. I'm getting;\r\n\r\n    DeriveNewSeed: AddKeyPubKey failed\r\n\r\nI would expect either that we can't encrypt an empty wallet (bummer, because then we can't have a wallet encrypted from the very beginning), or that it would encrypt and have a newly generated seed (which is what I think you were trying to do).\r\n\r\nEdit: https://github.com/achow101/bitcoin/commit/d3b5d7bc27b68e77696e0599a38c1851128c226c fixes this issue.",
      "created_at" : "2018-12-19T19:21:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-448713598",
      "id" : 448713598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0ODcxMzU5OA==",
      "updated_at" : "2018-12-19T21:36:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/448713598",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243307924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243307924"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good idea",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-20T15:17:20Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet('w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet('w1', True)\n+        w1 = node.get_wallet_rpc('w1')\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getnewaddress)\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled for this wallet\", w1.getrawchangeaddress)\n+        w1.importpubkey(w0.getaddressinfo(address1)['pubkey'])\n+\n+        self.log.info(\"Test empty creation with private keys disabled.\")\n+        self.nodes[0].createwallet('w2', True, True)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243307924",
      "id" : 243307924,
      "in_reply_to_id" : 241201986,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzMwNzkyNA==",
      "original_commit_id" : "9822ff692f32684518aa1744cac8a2cf848e0a8e",
      "original_position" : 39,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 187042991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243307924",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 thanks, I see you included that commit in #15006\r\n\r\nAddressed @promag's, @practicalswift 's and @achow101's comments.\r\n\r\nRebased because Travis was going nuts.\r\n",
      "created_at" : "2018-12-20T15:31:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-449037025",
      "id" : 449037025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTAzNzAyNQ==",
      "updated_at" : "2018-12-20T16:15:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449037025",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243347539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243347539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jnewbery this test fails with `--usecli` if I use a boolean `True` rather than a string `'true'`. Is that by design? Two of the Travis machines don't seem to like this syntax either.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-20T17:03:16Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet(wallet_name='w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet(wallet_name='w1', disable_private_keys='true')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243347539",
      "id" : 243347539,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzM0NzUzOQ==",
      "original_commit_id" : "0cc35e0a0bc32df9d326f16366301f5d3ca93829",
      "original_position" : 32,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 187094341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243347539",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243390546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243390546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks like this is a variation of the issue fixed here: https://github.com/bitcoin/bitcoin/commit/a3fa4d6a6acf19d640a1d5879a00aa1f059e2380 but for named arguments. Fix it with something like:\r\n\r\n```\r\ndiff --git a/test/functional/test_framework/test_node.py b/test/functional/test_framework/test_node.py\r\nindex 031a8824b..8225992c2 100755\r\n--- a/test/functional/test_framework/test_node.py\r\n+++ b/test/functional/test_framework/test_node.py\r\n@@ -434,7 +434,7 @@ class TestNodeCLI():\r\n     def send_cli(self, command=None, *args, **kwargs):\r\n         \"\"\"Run bitcoin-cli command. Deserializes returned string as python object.\"\"\"\r\n         pos_args = [str(arg).lower() if type(arg) is bool else str(arg) for arg in args]\r\n-        named_args = [str(key) + \"=\" + str(value) for (key, value) in kwargs.items()]\r\n+        named_args = [str(key) + \"=\" + (str(value).lower() if type(value) is bool else str(value)) for (key, value) in kwargs.items()]\r\n         assert not (pos_args and named_args), \"Cannot use positional arguments and named arguments in the same bitcoin-cli call\"\r\n         p_args = [self.binary, \"-datadir=\" + self.datadir] + self.options\r\n         if named_args:\r\n```",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-20T19:27:00Z",
      "diff_hunk" : "@@ -0,0 +1,63 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test createwallet arguments.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+class CreateWalletTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+        self.supports_cli = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        node.generate(1) # Leave IBD for sethdseed\n+\n+        self.nodes[0].createwallet(wallet_name='w0')\n+        w0 = node.get_wallet_rpc('w0')\n+        address1 = w0.getnewaddress()\n+\n+        self.log.info(\"Test disableprivatekeys creation.\")\n+        self.nodes[0].createwallet(wallet_name='w1', disable_private_keys='true')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243390546",
      "id" : 243390546,
      "in_reply_to_id" : 243347539,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzM5MDU0Ng==",
      "original_commit_id" : "0cc35e0a0bc32df9d326f16366301f5d3ca93829",
      "original_position" : 32,
      "path" : "test/functional/wallet_createwallet.py",
      "position" : null,
      "pull_request_review_id" : 187149417,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243390546",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Had a *very* quick skim and changes look sensible.\r\n\r\nWill review once Travis is happy.",
      "created_at" : "2018-12-20T19:28:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-449110017",
      "id" : 449110017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTExMDAxNw==",
      "updated_at" : "2018-12-20T19:28:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449110017",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243437464"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243437464"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not stay with FEATURE_LATEST here? It is currently equal to FEATURE_PRE_SPLIT_KEYPOOL, and presumably we will want to stick with current feature support when we make the next breaking change.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-20T22:26:57Z",
      "diff_hunk" : "@@ -3979,20 +3996,25 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n \n     if (fFirstRun)\n     {\n-        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n-        walletInstance->SetMinVersion(FEATURE_LATEST);\n+        // ensure this wallet can only be opened by clients supporting HD with chain split and expects no default key\n+        if (!create_empty) {\n+            walletInstance->SetMinVersion(FEATURE_PRE_SPLIT_KEYPOOL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243437464",
      "id" : 243437464,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzQzNzQ2NA==",
      "original_commit_id" : "0cc35e0a0bc32df9d326f16366301f5d3ca93829",
      "original_position" : 80,
      "path" : "src/wallet/wallet.cpp",
      "position" : 81,
      "pull_request_review_id" : 187210159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243437464",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243574309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243574309"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@Empact ~in an earlier version I added a new feature version for this, but then I realized it wasn't necessary. Forgot to remove this bit. Fixed.~ On second thought I'm worried that previous versions would treat this as a non-HD wallet and upgrade it, which may not be what the user intended. So it seems safer to add a new version number.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2018-12-21T12:58:09Z",
      "diff_hunk" : "@@ -3979,20 +3996,25 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n \n     if (fFirstRun)\n     {\n-        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n-        walletInstance->SetMinVersion(FEATURE_LATEST);\n+        // ensure this wallet can only be opened by clients supporting HD with chain split and expects no default key\n+        if (!create_empty) {\n+            walletInstance->SetMinVersion(FEATURE_PRE_SPLIT_KEYPOOL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r243574309",
      "id" : 243574309,
      "in_reply_to_id" : 243437464,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0MzU3NDMwOQ==",
      "original_commit_id" : "0cc35e0a0bc32df9d326f16366301f5d3ca93829",
      "original_position" : 80,
      "path" : "src/wallet/wallet.cpp",
      "position" : 81,
      "pull_request_review_id" : 187384291,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2018-12-21T14:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/243574309",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Travis is happy now.\r\n\r\nAdded `LOCK(cs_wallet)` to `IsHDEnabled` because it uses `CanSupportFeature` which has an `AssertLockHeld`.\r\n\r\nI added a new wallet version `FEATURE_ALLOW_EMPTY` which is set as the minimum when creating an empty wallet. When creating a non-empty wallet we stick to `FEATURE_PRE_SPLIT_KEYPOOL` as the minimum version.",
      "created_at" : "2018-12-21T16:51:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-449439702",
      "id" : 449439702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTQzOTcwMg==",
      "updated_at" : "2018-12-21T16:51:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449439702",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think it is necessary to set different version numbers depending on whether the wallet can be empty. This is effectively reintroducing the optional version stuff that we had done for HD wallets and HD chain split, and reconciling those was a major pain. I don't see why it is necessary to do that again.",
      "created_at" : "2018-12-24T15:32:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-449747081",
      "id" : 449747081,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTc0NzA4MQ==",
      "updated_at" : "2018-12-24T15:32:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449747081",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What do you mean by \"optional version stuff\"?\r\n\r\nThe alternative seems to be to disallow <= v0.17 nodes from opening a v0.18 wallet, even though only a minitory of users need the empty wallet feature.",
      "created_at" : "2018-12-25T16:23:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-449861408",
      "id" : 449861408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTg2MTQwOA==",
      "updated_at" : "2018-12-25T16:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449861408",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What do you mean by \"optional version stuff\"?\r\n\r\nThe original HD wallet stuff was optional and the option was determined by the wallet version number. Non-HD wallets had a lower version number than HD wallets. So an optional feature was determined by the version number. But later when a change to the wallet affected both non-HD and HD wallets and required a version number bump, this optional feature thing switched via the version number had to go away, and making it go away was a pain. In general, I don't think that we shouldn't have optional features be indicated by the version number. Since we have wallet flags now, I think that instead optional features should be indicated through the flags, and if a flag is set that we don't know about, we should throw an error. If you set a flag in the upper 32 bits, an error will be thrown if the flag is set but the flag is unknown, so I think you should use a flag there instead of a version number. The flag for disable private keys does the same thing.\r\n\r\n> The alternative seems to be to disallow <= v0.17 nodes from opening a v0.18 wallet, even though only a minitory of users need the empty wallet feature.\r\n\r\nThat certainly wouldn't be ideal, but I don't think that is really that big of a concern. I think it is far more likely for someone who upgraded to 0.18 from 0.17 to then downgrade to 0.17 than for someone who starts with 0.18 (and thus makes a new wallet) to then downgrade to 0.17.",
      "created_at" : "2018-12-25T16:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-449862397",
      "id" : 449862397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0OTg2MjM5Nw==",
      "updated_at" : "2018-12-25T16:49:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/449862397",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r244727885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/244727885"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe roll this logic (which is repeated below) into a function `IsEmpty()`?\r\n\r\nEdit: hmm I guess empty is a bad name here as it could also imply that the wallet has no transactions, or no fundsÃ¢ÂÂ¦",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2019-01-02T12:49:05Z",
      "diff_hunk" : "@@ -3214,6 +3224,9 @@ bool CWallet::TopUpKeyPool(unsigned int kpSize)\n         if (IsLocked())\n             return false;\n \n+        // If wallet supports HD but no seed is present, do not top up keypool\n+        if(IsHDEnabled() && !HasHDSeed()) return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r244727885",
      "id" : 244727885,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDcyNzg4NQ==",
      "original_commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "original_position" : 47,
      "path" : "src/wallet/wallet.cpp",
      "position" : 47,
      "pull_request_review_id" : 188666952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2019-01-02T12:49:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/244727885",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK as this is a dependency for #15006\r\n\r\nutACK 8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2019-01-02T12:54:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-450856400",
      "id" : 450856400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MDg1NjQwMA==",
      "updated_at" : "2019-01-02T12:55:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/450856400",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should this option be exposed in the GUI (after #13100)?",
      "created_at" : "2019-01-03T19:11:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-451245899",
      "id" : 451245899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTI0NTg5OQ==",
      "updated_at" : "2019-01-03T19:11:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451245899",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag I think it should",
      "created_at" : "2019-01-03T19:35:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-451252802",
      "id" : 451252802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTI1MjgwMg==",
      "updated_at" : "2019-01-03T19:35:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451252802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested a bit.\r\nIf I create an empty `createwallet dummy false true` and generate an address via GUI I get this (invalid) state:\r\n<img width=\"599\" alt=\"bildschirmfoto 2019-01-03 um 10 03 24\" src=\"https://user-images.githubusercontent.com/178464/50658885-d526f580-0f3e-11e9-9962-a7d1c92484b2.png\">\r\n\r\n`getnewaddress` gives me `Error: Keypool ran out, please call keypoolrefill first (code -12)` but I would expect that the key pool gets refilled automatically? not?",
      "created_at" : "2019-01-03T20:05:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-451261046",
      "id" : 451261046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTI2MTA0Ng==",
      "updated_at" : "2019-01-03T20:05:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451261046",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli an empty wallet does not have an HD seed, so there is no way to refill the keypool. Calling `sethdseed` will add such a seed.\r\n\r\nI'm surprised the GUI doesn't handle this correctly, since the keypool could already run out before this change. Normally it just greys out the new address button. I'll try to reproduce.\r\n\r\n",
      "created_at" : "2019-01-07T15:08:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-451965106",
      "id" : 451965106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTk2NTEwNg==",
      "updated_at" : "2019-01-07T15:08:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451965106",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r245711115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245711115"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think instead of using a version number you should use a wallet flag that is required. The flag can be unset once the wallet is no longer empty. This would remove the need for a new version number while still preventing older software from opening the wallet.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2019-01-07T16:19:10Z",
      "diff_hunk" : "@@ -3979,20 +3996,25 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n \n     if (fFirstRun)\n     {\n-        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n-        walletInstance->SetMinVersion(FEATURE_LATEST);\n+        // ensure this wallet can only be opened by clients supporting HD with chain split and expects no default key\n+        if (!create_empty) {\n+            walletInstance->SetMinVersion(FEATURE_PRE_SPLIT_KEYPOOL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r245711115",
      "id" : 245711115,
      "in_reply_to_id" : 243437464,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTcxMTExNQ==",
      "original_commit_id" : "0cc35e0a0bc32df9d326f16366301f5d3ca93829",
      "original_position" : 80,
      "path" : "src/wallet/wallet.cpp",
      "position" : 81,
      "pull_request_review_id" : 189880809,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2019-01-07T16:19:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245711115",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 wrote inline:\r\n\r\n> I think instead of using a version number you should use a wallet flag that is required. The flag can be unset once the wallet is no longer empty. This would remove the need for a new version number while still preventing older software from opening the wallet.\r\n\r\nI'm happy with either option. Mandatory flags explicitly say what a wallet can't do, which is arguably better than inferring capabilities from version numbers. Any other takes?",
      "created_at" : "2019-01-09T13:35:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-452698376",
      "id" : 452698376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjY5ODM3Ng==",
      "updated_at" : "2019-01-09T13:35:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452698376",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm surprised the GUI doesn't handle this correctly, since the keypool could already run out before this change. Normally it just greys out the new address button. I'll try to reproduce.\r\n\r\nRightÃ¢ÂÂapparently the GUI doesn't do correct error handling here, it should handle the case where it's impossible to generate an address.",
      "created_at" : "2019-01-16T12:49:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-454767420",
      "id" : 454767420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NDc2NzQyMA==",
      "updated_at" : "2019-01-16T12:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/454767420",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r249115411"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249115411"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why do you need to check create_empty here if TopUpKeyPool already returns true when there's no seed? I think you should add a code comment here if checking create_empty is necessary for some reason, and probably drop it otherwise to simplify this code and be consistent with other TopUpKeyPool calls.",
      "commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "created_at" : "2019-01-18T16:59:04Z",
      "diff_hunk" : "@@ -3979,20 +3996,28 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n \n     if (fFirstRun)\n     {\n-        // ensure this wallet.dat can only be opened by clients supporting HD with chain split and expects no default key\n-        walletInstance->SetMinVersion(FEATURE_LATEST);\n+        // Ensure this wallet can only be opened by clients supporting HD with\n+        // chain split and expects no default key.\n+        if (!create_empty) {\n+            walletInstance->SetMinVersion(FEATURE_PRE_SPLIT_KEYPOOL);\n+        } else {\n+            // In addition, this wallet can only be opened by clients\n+            // supporting empty wallets. Older clients might see these as\n+            // non-HD wallets and try to upgrade them.\n+            walletInstance->SetMinVersion(FEATURE_LATEST);\n+        }\n \n         if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n             //selective allow to set flags\n             walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n-        } else {\n+        } else if (!create_empty) {\n             // generate a new seed\n             CPubKey seed = walletInstance->GenerateNewSeed();\n             walletInstance->SetHDSeed(seed);\n-        }\n+        } // Otherwise, do not generate a new seed\n \n         // Top up the keypool\n-        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n+        if (!create_empty && !walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#discussion_r249115411",
      "id" : 249115411,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0OTExNTQxMQ==",
      "original_commit_id" : "8ce17c0fb0ea51e8047db3d5a23bef747bbedf3a",
      "original_position" : 102,
      "path" : "src/wallet/wallet.cpp",
      "position" : 102,
      "pull_request_review_id" : 194191510,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14938",
      "updated_at" : "2019-01-18T17:00:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/249115411",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm surprised the GUI doesn't handle this correctly, since the keypool could already run out before this change. Normally it just greys out the new address button. I'll try to reproduce.\r\n\r\nThis error is because the grey out condition is that private keys are disable.",
      "created_at" : "2019-01-21T19:31:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-456178504",
      "id" : 456178504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjE3ODUwNA==",
      "updated_at" : "2019-01-21T19:31:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456178504",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing in favour of #15226.",
      "created_at" : "2019-01-22T17:15:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14938#issuecomment-456483152",
      "id" : 456483152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14938",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1NjQ4MzE1Mg==",
      "updated_at" : "2019-01-22T17:15:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/456483152",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
