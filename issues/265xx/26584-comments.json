[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1414313528) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2022-11-27T13:55:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1328252267",
      "id" : 1328252267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585PK4Vr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328252267/reactions"
      },
      "updated_at" : "2023-02-02T20:10:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328252267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks! I'll have a look today.",
      "created_at" : "2022-11-27T15:52:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1328274749",
      "id" : 1328274749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585PK909",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328274749/reactions"
      },
      "updated_at" : "2022-11-27T15:52:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328274749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032966877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032966877"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changing `NETWORKS` here also affects -addrinfo, so it would need to be updated as well. Otherwise, with this change -addrinfo will print an additional line that always returns `\"other\": 0,`.\r\n\r\nWould it make any sense to handle `Network::NET_UNROUTABLE` and `Network::INTERNAL` separately? Say, print `npr` for \"not publicly routable\" and `int` for \"internal\".  In theory both could potentially be returned by getpeerinfo, which calls `GetNetworkName()` for the string value, and the GUI handles both of them in `NetworkToQString()`. It doesn't seem to make sense that we would ever see an \"internal\" returned by getpeerinfo (called by -netinfo) or by getnodeaddresses (called by -addrinfo), but as a sanity check perhaps handle them like the GUI does.\r\n\r\nAlso, the -netinfo help would need to be updated for the `net` column description.\r\n",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-27T16:41:23Z",
      "diff_hunk" : "@@ -55,7 +55,7 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"other\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032966877",
      "id" : 1032966877,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5849kdLd",
      "original_commit_id" : "fb0f5d0bd454b0716bd6f543b6cf070e60e9ce84",
      "original_line" : 58,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1195020423,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032966877/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-27T17:10:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032966877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032976335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032976335"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just as we only print columns for networks we are using, I think it would be better to only print this column if we have any such peers.",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-27T16:45:54Z",
      "diff_hunk" : "@@ -571,6 +570,10 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 reachable_networks.push_back(network_id);\n             }\n         };\n+\n+        reachable_networks.push_back(NETWORKS.size() - 1);\n+        result += strprintf(\"%8s\", \"other\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032976335",
      "id" : 1032976335,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5849kffP",
      "original_commit_id" : "fb0f5d0bd454b0716bd6f543b6cf070e60e9ce84",
      "original_line" : 575,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1195020423,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032976335/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-27T17:01:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032976335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032993919"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032993919"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : ":+1:\r\n",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-27T18:56:28Z",
      "diff_hunk" : "@@ -571,6 +570,10 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 reachable_networks.push_back(network_id);\n             }\n         };\n+\n+        reachable_networks.push_back(NETWORKS.size() - 1);\n+        result += strprintf(\"%8s\", \"other\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032993919",
      "id" : 1032993919,
      "in_reply_to_id" : 1032976335,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5849kjx_",
      "original_commit_id" : "fb0f5d0bd454b0716bd6f543b6cf070e60e9ce84",
      "original_line" : 575,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1195042238,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032993919/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-27T18:56:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032993919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032994038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032994038"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "updated and force-pushed, i think the logic is cleaner now anyway, by just including the extra categories from `GetNetworkName()` but only displaying them if peers are actually connected there. Thanks!",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-27T18:57:19Z",
      "diff_hunk" : "@@ -55,7 +55,7 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"other\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1032994038",
      "id" : 1032994038,
      "in_reply_to_id" : 1032966877,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5849kjz2",
      "original_commit_id" : "fb0f5d0bd454b0716bd6f543b6cf070e60e9ce84",
      "original_line" : 58,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1195042334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032994038/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-27T18:57:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1032994038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1035302893"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1035302893"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`NETWORK_SHORTNAMES`?",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-29T21:29:24Z",
      "diff_hunk" : "@@ -55,7 +55,10 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+// See GetNetworkName() in netbase.cpp\n+static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\n+static constexpr std::array NETWORK_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1035302893",
      "id" : 1035302893,
      "line" : 60,
      "node_id" : "PRRC_kwDOABII5849tXft",
      "original_commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "original_line" : 60,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 7,
      "pull_request_review_id" : 1198380563,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1035302893/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-29T21:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1035302893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1035306232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1035306232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This code looks like it should probably get some refactoring. No reason it can't work with network strings (not ids) and figure out what \"unlisted\" networks have peers on its own, and doing so would be more future-proof as an added bonus.",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-29T21:33:31Z",
      "diff_hunk" : "@@ -55,7 +55,10 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+// See GetNetworkName() in netbase.cpp\n+static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\n+static constexpr std::array NETWORK_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};\n+static constexpr std::array NETWORK_UNREACHABLE{0 /* \"not_publicly_routable\" */, 6 /* \"internal\" */};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1035306232",
      "id" : 1035306232,
      "line" : 61,
      "node_id" : "PRRC_kwDOABII5849tYT4",
      "original_commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "original_line" : 61,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 8,
      "pull_request_review_id" : 1198380563,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1035306232/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-29T21:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1035306232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1036071674"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1036071674"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good idea -- would it make sense to `#include <netbase.h>` in `bitcoin-cli.cpp`? Then we can share one single list `enum Network` as well as `GetNetworkName()` and `ParseNetwork()` without re-writing those in bitcoin-cli. I could also add a new function `GetNetworkShortName()` in `netbase.cpp` so everything is in one place. If new networks are added in the future, `bitcoin-cli.cpp` shouldn't need any changes...",
      "commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "created_at" : "2022-11-30T14:53:18Z",
      "diff_hunk" : "@@ -55,7 +55,10 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+// See GetNetworkName() in netbase.cpp\n+static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\n+static constexpr std::array NETWORK_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};\n+static constexpr std::array NETWORK_UNREACHABLE{0 /* \"not_publicly_routable\" */, 6 /* \"internal\" */};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1036071674",
      "id" : 1036071674,
      "in_reply_to_id" : 1035306232,
      "line" : 61,
      "node_id" : "PRRC_kwDOABII5849wTL6",
      "original_commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "original_line" : 61,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 8,
      "pull_request_review_id" : 1199475875,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1036071674/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-30T14:53:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1036071674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1036355326"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1036355326"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr gave this refactor a try in 7dd8b095ada2711487057788206deb7e310b8092\r\n",
      "commit_id" : "7dd8b095ada2711487057788206deb7e310b8092",
      "created_at" : "2022-11-30T19:16:47Z",
      "diff_hunk" : "@@ -55,7 +55,10 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+// See GetNetworkName() in netbase.cpp\n+static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\n+static constexpr std::array NETWORK_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};\n+static constexpr std::array NETWORK_UNREACHABLE{0 /* \"not_publicly_routable\" */, 6 /* \"internal\" */};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1036355326",
      "id" : 1036355326,
      "in_reply_to_id" : 1035306232,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5849xYb-",
      "original_commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "original_line" : 61,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1199887893,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1036355326/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-30T19:16:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1036355326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1038875996"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1038875996"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, I'm saying there shouldn't be an `enum Network` or `network_id` at all - just use the strings.",
      "commit_id" : "4ed39087290b2c83b5b3ad9c1e31b64fa15d4637",
      "created_at" : "2022-12-03T21:51:14Z",
      "diff_hunk" : "@@ -55,7 +55,10 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+// See GetNetworkName() in netbase.cpp\n+static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\n+static constexpr std::array NETWORK_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};\n+static constexpr std::array NETWORK_UNREACHABLE{0 /* \"not_publicly_routable\" */, 6 /* \"internal\" */};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1038875996",
      "id" : 1038875996,
      "in_reply_to_id" : 1035306232,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58496_1c",
      "original_commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "original_line" : 61,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1203577310,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1038875996/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-03T21:51:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1038875996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```diff\r\n## Commit message ##\r\n-    cli: include local (\"unroutable\") peers in -netinfo table\r\n+    cli: include local (\"unreachable\") peers in -netinfo table\r\n```\r\n\r\nBoth of these are kinda wrong :|",
      "created_at" : "2022-12-03T21:51:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1336264686",
      "id" : 1336264686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585Ppcfu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1336264686/reactions"
      },
      "updated_at" : "2022-12-03T21:51:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1336264686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1038974496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1038974496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok something like `std::map<std::string, int>` to keep track of count of peers by network string?",
      "commit_id" : "4ed39087290b2c83b5b3ad9c1e31b64fa15d4637",
      "created_at" : "2022-12-04T13:50:57Z",
      "diff_hunk" : "@@ -55,7 +55,10 @@ static constexpr int DEFAULT_WAIT_CLIENT_TIMEOUT = 0;\n static const bool DEFAULT_NAMED=false;\n static const int CONTINUE_EXECUTION=-1;\n static constexpr int8_t UNKNOWN_NETWORK{-1};\n-static constexpr std::array NETWORKS{\"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\"};\n+// See GetNetworkName() in netbase.cpp\n+static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\n+static constexpr std::array NETWORK_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};\n+static constexpr std::array NETWORK_UNREACHABLE{0 /* \"not_publicly_routable\" */, 6 /* \"internal\" */};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1038974496",
      "id" : 1038974496,
      "in_reply_to_id" : 1035306232,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58497X4g",
      "original_commit_id" : "c0c45165e31704c8167f6b538b614234c6d593d7",
      "original_line" : 61,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1203657256,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1038974496/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-04T13:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1038974496",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr I think I implemented the cleaner refactor you were thinking of in 0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a\r\n\r\nI also applied that to `-addrinfo` which does have one drawback, we will now only list networks that come up in the `getnodeaddresses` RPC call, and not \"all\" networks, which were previously defined in a hard-coded list. Dunno if @jonatack has any thoughts on that, or if this is even considered a breaking API change ?",
      "created_at" : "2022-12-08T17:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1343034212",
      "id" : 1343034212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585QDRNk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343034212/reactions"
      },
      "updated_at" : "2022-12-08T17:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1343034212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> or if this is even considered a breaking API change ?\r\n\r\nThese interfaces have no API or guarantees. This is called out in `-netinfo`, and the same should hold for `-addrinfo`:\r\n> This human-readable interface will change regularly and is not intended to be a stable API.\r\n\r\n",
      "created_at" : "2022-12-09T09:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1344095240",
      "id" : 1344095240,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585QHUQI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1344095240/reactions"
      },
      "updated_at" : "2022-12-09T09:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1344095240",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046543835"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046543835"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            ++m_counts[network];\r\n```",
      "commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "created_at" : "2022-12-13T00:21:48Z",
      "diff_hunk" : "@@ -278,20 +273,20 @@ class AddrinfoRequestHandler : public BaseRequestHandler\n         if (!nodes.empty() && nodes.at(0)[\"network\"].isNull()) {\n             throw std::runtime_error(\"-addrinfo requires bitcoind server to be running v22.0 and up\");\n         }\n-        // Count the number of peers known to our node, by network.\n-        std::array<uint64_t, NETWORKS.size()> counts{{}};\n         for (const UniValue& node : nodes) {\n-            std::string network_name{node[\"network\"].get_str()};\n-            const int8_t network_id{NetworkStringToId(network_name)};\n-            if (network_id == UNKNOWN_NETWORK) continue;\n-            ++counts.at(network_id);\n+            std::string network{node[\"network\"].get_str()};\n+            if (m_counts.find(network) == m_counts.end()) {\n+                m_counts.insert({network, 0});\n+            }\n+            ++m_counts.find(network)->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046543835",
      "id" : 1046543835,
      "line" : 281,
      "node_id" : "PRRC_kwDOABII584-YP3b",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 281,
      "original_position" : 44,
      "original_start_line" : 278,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 44,
      "pull_request_review_id" : 1214553901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046543835/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 278,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-13T00:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046543835",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046545212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046545212"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            if (!network[\"reachable\"].get_bool()) {\r\n                continue;\r\n            }\r\n```",
      "commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "created_at" : "2022-12-13T00:24:53Z",
      "diff_hunk" : "@@ -470,20 +458,36 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         if (networkinfo[\"version\"].getInt<int>() < 209900) {\n             throw std::runtime_error(\"-netinfo requires bitcoind server to be running v0.21.0 and up\");\n         }\n+        // Initialize the peer-count-by-network-type map with all the reachable networks (always display)\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            if (!network[\"reachable\"].get_bool())\n+                continue;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046545212",
      "id" : 1046545212,
      "line" : 464,
      "node_id" : "PRRC_kwDOABII584-YQM8",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 464,
      "original_position" : 84,
      "original_start_line" : 463,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 84,
      "pull_request_review_id" : 1214553901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046545212/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 463,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-13T00:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046545212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046548821"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046548821"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Total is just in+out, and turning the std::array into a std::pair gets default zero initialisation, which would be useful later. We only need total one place, so IMO we should just sum it there rather than counting one by one.",
      "commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "created_at" : "2022-12-13T00:32:38Z",
      "diff_hunk" : "@@ -373,16 +368,9 @@ class NetinfoRequestHandler : public BaseRequestHandler\n {\n private:\n     static constexpr uint8_t MAX_DETAIL_LEVEL{4};\n-    std::array<std::array<uint16_t, NETWORKS.size() + 1>, 3> m_counts{{{}}}; //!< Peer counts by (in/out/total, networks/total)\n+    std::map<std::string, std::array<int, 3>> m_counts; //!< Peer counts by network type (in / out / total)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046548821",
      "id" : 1046548821,
      "line" : 371,
      "node_id" : "PRRC_kwDOABII584-YRFV",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 371,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 64,
      "pull_request_review_id" : 1214553901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046548821/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-13T00:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046548821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046550947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046550947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Needs braces at least, but it would be nice to avoid `find`ing twice too.",
      "commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "created_at" : "2022-12-13T00:37:33Z",
      "diff_hunk" : "@@ -506,7 +510,10 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 const bool is_addr_relay_enabled{peer[\"addr_relay_enabled\"].isNull() ? false : peer[\"addr_relay_enabled\"].get_bool()};\n                 const bool is_bip152_hb_from{peer[\"bip152_hb_from\"].get_bool()};\n                 const bool is_bip152_hb_to{peer[\"bip152_hb_to\"].get_bool()};\n-                m_peers.push_back({addr, sub_version, conn_type, network, age, min_ping, ping, addr_processed, addr_rate_limited, last_blck, last_recv, last_send, last_trxn, peer_id, mapped_as, version, is_addr_relay_enabled, is_bip152_hb_from, is_bip152_hb_to, is_outbound, is_tx_relay});\n+                std::string name = network;\n+                if (NETWORK_SHORTNAMES.find(name) != NETWORK_SHORTNAMES.end())\n+                    name = NETWORK_SHORTNAMES.find(name)->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046550947",
      "id" : 1046550947,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII584-YRmj",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 515,
      "original_position" : 127,
      "original_start_line" : 514,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 127,
      "pull_request_review_id" : 1214553901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046550947/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 514,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-13T00:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046550947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046552019"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046552019"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Do we want to sort the networks in some particular order?",
      "commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "created_at" : "2022-12-13T00:40:06Z",
      "diff_hunk" : "@@ -561,26 +568,21 @@ class NetinfoRequestHandler : public BaseRequestHandler\n \n         // Report peer connection totals by type.\n         result += \"     \";\n-        std::vector<int8_t> reachable_networks;\n-        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n-            if (network[\"reachable\"].get_bool()) {\n-                const std::string& network_name{network[\"name\"].get_str()};\n-                const int8_t network_id{NetworkStringToId(network_name)};\n-                if (network_id == UNKNOWN_NETWORK) continue;\n-                result += strprintf(\"%8s\", network_name); // column header\n-                reachable_networks.push_back(network_id);\n-            }\n-        };\n-        result += \"   total   block\";\n+        for (const auto& type : m_counts) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1046552019",
      "id" : 1046552019,
      "line" : 571,
      "node_id" : "PRRC_kwDOABII584-YR3T",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 571,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 147,
      "pull_request_review_id" : 1214553901,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046552019/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-13T00:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1046552019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047220582"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047220582"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks, fixed in bf69a13677680dbf2065e18e3e5c7882ec3aab33\r\n",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-13T14:24:23Z",
      "diff_hunk" : "@@ -278,20 +273,20 @@ class AddrinfoRequestHandler : public BaseRequestHandler\n         if (!nodes.empty() && nodes.at(0)[\"network\"].isNull()) {\n             throw std::runtime_error(\"-addrinfo requires bitcoind server to be running v22.0 and up\");\n         }\n-        // Count the number of peers known to our node, by network.\n-        std::array<uint64_t, NETWORKS.size()> counts{{}};\n         for (const UniValue& node : nodes) {\n-            std::string network_name{node[\"network\"].get_str()};\n-            const int8_t network_id{NetworkStringToId(network_name)};\n-            if (network_id == UNKNOWN_NETWORK) continue;\n-            ++counts.at(network_id);\n+            std::string network{node[\"network\"].get_str()};\n+            if (m_counts.find(network) == m_counts.end()) {\n+                m_counts.insert({network, 0});\n+            }\n+            ++m_counts.find(network)->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047220582",
      "id" : 1047220582,
      "in_reply_to_id" : 1046543835,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584-a1Fm",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 281,
      "original_position" : 44,
      "original_start_line" : 278,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1215578038,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047220582/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-13T14:24:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047220582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047220763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047220763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks, fixed in bf69a13677680dbf2065e18e3e5c7882ec3aab33\r\n",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-13T14:24:32Z",
      "diff_hunk" : "@@ -470,20 +458,36 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         if (networkinfo[\"version\"].getInt<int>() < 209900) {\n             throw std::runtime_error(\"-netinfo requires bitcoind server to be running v0.21.0 and up\");\n         }\n+        // Initialize the peer-count-by-network-type map with all the reachable networks (always display)\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            if (!network[\"reachable\"].get_bool())\n+                continue;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047220763",
      "id" : 1047220763,
      "in_reply_to_id" : 1046545212,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584-a1Ib",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 464,
      "original_position" : 84,
      "original_start_line" : 463,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1215578301,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047220763/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-13T14:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047220763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047222364"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047222364"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed in bf69a13677680dbf2065e18e3e5c7882ec3aab33 -- the only messy part was that `std::pair` values can't be retrieved by variable like `i` in the `for` loop, so I put a switch in there so that 0 = first and 1 = second, I dunno if that's best.\r\n",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-13T14:25:45Z",
      "diff_hunk" : "@@ -373,16 +368,9 @@ class NetinfoRequestHandler : public BaseRequestHandler\n {\n private:\n     static constexpr uint8_t MAX_DETAIL_LEVEL{4};\n-    std::array<std::array<uint16_t, NETWORKS.size() + 1>, 3> m_counts{{{}}}; //!< Peer counts by (in/out/total, networks/total)\n+    std::map<std::string, std::array<int, 3>> m_counts; //!< Peer counts by network type (in / out / total)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047222364",
      "id" : 1047222364,
      "in_reply_to_id" : 1046548821,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584-a1hc",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 371,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1215580798,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047222364/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-13T14:25:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047222364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047222503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047222503"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks fixed in bf69a13677680dbf2065e18e3e5c7882ec3aab33\r\n",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-13T14:25:51Z",
      "diff_hunk" : "@@ -506,7 +510,10 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 const bool is_addr_relay_enabled{peer[\"addr_relay_enabled\"].isNull() ? false : peer[\"addr_relay_enabled\"].get_bool()};\n                 const bool is_bip152_hb_from{peer[\"bip152_hb_from\"].get_bool()};\n                 const bool is_bip152_hb_to{peer[\"bip152_hb_to\"].get_bool()};\n-                m_peers.push_back({addr, sub_version, conn_type, network, age, min_ping, ping, addr_processed, addr_rate_limited, last_blck, last_recv, last_send, last_trxn, peer_id, mapped_as, version, is_addr_relay_enabled, is_bip152_hb_from, is_bip152_hb_to, is_outbound, is_tx_relay});\n+                std::string name = network;\n+                if (NETWORK_SHORTNAMES.find(name) != NETWORK_SHORTNAMES.end())\n+                    name = NETWORK_SHORTNAMES.find(name)->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047222503",
      "id" : 1047222503,
      "in_reply_to_id" : 1046550947,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584-a1jn",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 515,
      "original_position" : 127,
      "original_start_line" : 514,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1215580983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047222503/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-13T14:25:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047222503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047226381"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047226381"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "the networks will be sorted by reachable networks first (ipv4, ipv6) followed by any non-reachable networks we still have peers for (npr, i.e. local). The order of reachable networks will be provided by rpc `getnetworkinfo` which I think ultimately comes form the order of network names in `netbase.cpp`",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-13T14:28:59Z",
      "diff_hunk" : "@@ -561,26 +568,21 @@ class NetinfoRequestHandler : public BaseRequestHandler\n \n         // Report peer connection totals by type.\n         result += \"     \";\n-        std::vector<int8_t> reachable_networks;\n-        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n-            if (network[\"reachable\"].get_bool()) {\n-                const std::string& network_name{network[\"name\"].get_str()};\n-                const int8_t network_id{NetworkStringToId(network_name)};\n-                if (network_id == UNKNOWN_NETWORK) continue;\n-                result += strprintf(\"%8s\", network_name); // column header\n-                reachable_networks.push_back(network_id);\n-            }\n-        };\n-        result += \"   total   block\";\n+        for (const auto& type : m_counts) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047226381",
      "id" : 1047226381,
      "in_reply_to_id" : 1046552019,
      "line" : 564,
      "node_id" : "PRRC_kwDOABII584-a2gN",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 571,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 137,
      "pull_request_review_id" : 1215587011,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047226381/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-13T14:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047226381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure I'm keen on the refactorings; are they necessary? It looks like they are trading an efficient data structure for a less-efficient one and moving additional logic/processing work into the loop.",
      "created_at" : "2022-12-13T15:32:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1348813067",
      "id" : 1348813067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585QZUEL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1348813067/reactions"
      },
      "updated_at" : "2022-12-13T15:32:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1348813067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not sure a `std::map` is less efficient than mapping to arbitrary [hash-like] values, the latter of which breaks/has to be kept updated any time the software changes. The refactor just makes the interface generic so it works without a hard-coded network list.",
      "created_at" : "2022-12-14T03:20:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1350333505",
      "id" : 1350333505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585QfHRB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1350333505/reactions"
      },
      "updated_at" : "2022-12-14T03:20:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1350333505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047973210"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047973210"
         }
      },
      "author_association" : "MEMBER",
      "body" : "std::map sorts alphabetically, IIRC?",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-14T03:21:09Z",
      "diff_hunk" : "@@ -561,26 +568,21 @@ class NetinfoRequestHandler : public BaseRequestHandler\n \n         // Report peer connection totals by type.\n         result += \"     \";\n-        std::vector<int8_t> reachable_networks;\n-        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n-            if (network[\"reachable\"].get_bool()) {\n-                const std::string& network_name{network[\"name\"].get_str()};\n-                const int8_t network_id{NetworkStringToId(network_name)};\n-                if (network_id == UNKNOWN_NETWORK) continue;\n-                result += strprintf(\"%8s\", network_name); // column header\n-                reachable_networks.push_back(network_id);\n-            }\n-        };\n-        result += \"   total   block\";\n+        for (const auto& type : m_counts) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047973210",
      "id" : 1047973210,
      "in_reply_to_id" : 1046552019,
      "line" : 564,
      "node_id" : "PRRC_kwDOABII584-ds1a",
      "original_commit_id" : "0d0994a2e2e7b10ee428fde0f6c9235faf2a8e6a",
      "original_line" : 571,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 137,
      "pull_request_review_id" : 1216726313,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047973210/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-12-14T03:21:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047973210",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047974885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047974885"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            ++std::get<is_outbound ? 1 : 0>(m_counts[network]);\r\n```",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-14T03:25:34Z",
      "diff_hunk" : "@@ -470,20 +455,30 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         if (networkinfo[\"version\"].getInt<int>() < 209900) {\n             throw std::runtime_error(\"-netinfo requires bitcoind server to be running v0.21.0 and up\");\n         }\n+        // Initialize the peer-count-by-network-type map with all the reachable networks (always display)\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            if (!network[\"reachable\"].get_bool()) {\n+                continue;\n+            }\n+            const std::string network_name{network[\"name\"].get_str()};\n+            m_counts[network_name];\n+        }\n+\n         const int64_t time_now{TicksSinceEpoch<std::chrono::seconds>(CliClock::now())};\n \n         // Count peer connection totals, and if DetailsRequested(), store peer data in a vector of structs.\n         for (const UniValue& peer : batch[ID_PEERINFO][\"result\"].getValues()) {\n             const std::string network{peer[\"network\"].get_str()};\n-            const int8_t network_id{NetworkStringToId(network)};\n-            if (network_id == UNKNOWN_NETWORK) continue;\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\n             const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};\n             const std::string conn_type{peer[\"connection_type\"].get_str()};\n-            ++m_counts.at(is_outbound).at(network_id);      // in/out by network\n-            ++m_counts.at(is_outbound).at(NETWORKS.size()); // in/out overall\n-            ++m_counts.at(2).at(network_id);                // total by network\n-            ++m_counts.at(2).at(NETWORKS.size());           // total overall\n+            // If peer network is not reachable, insert into map (only display if used)\n+            m_counts[network];\n+            if (is_outbound) {\n+                ++m_counts.find(network)->second.second;\n+            } else {\n+                ++m_counts.find(network)->second.first;\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047974885",
      "id" : 1047974885,
      "line" : 481,
      "node_id" : "PRRC_kwDOABII584-dtPl",
      "original_commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "original_line" : 481,
      "original_position" : 107,
      "original_start_line" : 475,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 107,
      "pull_request_review_id" : 1216728676,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047974885/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 475,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-14T03:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047974885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047977274"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047977274"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n                const std::map<std::string, std::string>::const_iterator it = NETWORK_SHORTNAMES.find(network);\r\n                const std::string& network_display_name = (it == NETWORK_SHORTNAMES.end()) ? network : it->second;\r\n```",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-14T03:31:41Z",
      "diff_hunk" : "@@ -506,7 +501,12 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 const bool is_addr_relay_enabled{peer[\"addr_relay_enabled\"].isNull() ? false : peer[\"addr_relay_enabled\"].get_bool()};\n                 const bool is_bip152_hb_from{peer[\"bip152_hb_from\"].get_bool()};\n                 const bool is_bip152_hb_to{peer[\"bip152_hb_to\"].get_bool()};\n-                m_peers.push_back({addr, sub_version, conn_type, network, age, min_ping, ping, addr_processed, addr_rate_limited, last_blck, last_recv, last_send, last_trxn, peer_id, mapped_as, version, is_addr_relay_enabled, is_bip152_hb_from, is_bip152_hb_to, is_outbound, is_tx_relay});\n+                std::string name = network;\n+                const std::map<std::string, std::string>::const_iterator it = NETWORK_SHORTNAMES.find(name);\n+                if (it != NETWORK_SHORTNAMES.end()) {\n+                    name = it->second;\n+                }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047977274",
      "id" : 1047977274,
      "line" : 508,
      "node_id" : "PRRC_kwDOABII584-dt06",
      "original_commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "original_line" : 508,
      "original_position" : 120,
      "original_start_line" : 504,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 120,
      "pull_request_review_id" : 1216728676,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047977274/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 504,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-14T03:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047977274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047983899"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047983899"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Or maybe add a nice utility function like:\r\n\r\n```c++\r\ntemplate <typename M>\r\nconst M::mapped_type map_at_or(const M& map, const M::key_type& key, const M::mapped_type& default) {\r\n    const auto it = map.find(key);\r\n    if (it == map.end()) return default;\r\n    return it->second;\r\n}\r\n```\r\n\r\nThen we can do:\r\n\r\n```c++\r\n                const std::string& network_display_name = map_at_or(NETWORK_SHORTNAMES, network, network);\r\n```",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-14T03:46:36Z",
      "diff_hunk" : "@@ -506,7 +501,12 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 const bool is_addr_relay_enabled{peer[\"addr_relay_enabled\"].isNull() ? false : peer[\"addr_relay_enabled\"].get_bool()};\n                 const bool is_bip152_hb_from{peer[\"bip152_hb_from\"].get_bool()};\n                 const bool is_bip152_hb_to{peer[\"bip152_hb_to\"].get_bool()};\n-                m_peers.push_back({addr, sub_version, conn_type, network, age, min_ping, ping, addr_processed, addr_rate_limited, last_blck, last_recv, last_send, last_trxn, peer_id, mapped_as, version, is_addr_relay_enabled, is_bip152_hb_from, is_bip152_hb_to, is_outbound, is_tx_relay});\n+                std::string name = network;\n+                const std::map<std::string, std::string>::const_iterator it = NETWORK_SHORTNAMES.find(name);\n+                if (it != NETWORK_SHORTNAMES.end()) {\n+                    name = it->second;\n+                }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047983899",
      "id" : 1047983899,
      "in_reply_to_id" : 1047977274,
      "line" : 508,
      "node_id" : "PRRC_kwDOABII584-dvcb",
      "original_commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "original_line" : 508,
      "original_position" : 120,
      "original_start_line" : 504,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 120,
      "pull_request_review_id" : 1216728676,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047983899/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 504,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-14T03:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047983899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047987541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047987541"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            for (const auto& [network, node_counts] : m_counts) {\r\n                const int count = (i == 2) ? (node_counts.first + node_counts.second) : std::get<i>(node_counts);\r\n```",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-14T03:52:26Z",
      "diff_hunk" : "@@ -561,26 +561,39 @@ class NetinfoRequestHandler : public BaseRequestHandler\n \n         // Report peer connection totals by type.\n         result += \"     \";\n-        std::vector<int8_t> reachable_networks;\n-        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n-            if (network[\"reachable\"].get_bool()) {\n-                const std::string& network_name{network[\"name\"].get_str()};\n-                const int8_t network_id{NetworkStringToId(network_name)};\n-                if (network_id == UNKNOWN_NETWORK) continue;\n-                result += strprintf(\"%8s\", network_name); // column header\n-                reachable_networks.push_back(network_id);\n+        for (const auto& type : m_counts) {\n+            std::string name = type.first;\n+            const std::map<std::string, std::string>::const_iterator it = NETWORK_SHORTNAMES.find(name);\n+            if (it != NETWORK_SHORTNAMES.end()) {\n+                name = it->second;\n             }\n-        };\n+            result += strprintf(\"%8s\", name); // column header\n+        }\n         result += \"   total   block\";\n         if (m_manual_peers_count) result += \"  manual\";\n \n         const std::array rows{\"in\", \"out\", \"total\"};\n         for (size_t i = 0; i < rows.size(); ++i) {\n             result += strprintf(\"\\n%-5s\", rows[i]); // row header\n-            for (int8_t n : reachable_networks) {\n-                result += strprintf(\"%8i\", m_counts.at(i).at(n)); // network peers count\n+            int rowTotal = 0;\n+            for (const auto& type : m_counts) {\n+                int count = 0;\n+                switch (i) {\n+                    case 0:\n+                        count = std::get<0>(type.second); // inbound peers by network\n+                        break;\n+                    case 1:\n+                        count = std::get<1>(type.second); // outbound peers by network\n+                        break;\n+                    case 2:\n+                        count = std::get<0>(type.second) + std::get<1>(type.second); // total peers by network\n+                        break;\n+                }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1047987541",
      "id" : 1047987541,
      "line" : 591,
      "node_id" : "PRRC_kwDOABII584-dwVV",
      "original_commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "original_line" : 591,
      "original_position" : 167,
      "original_start_line" : 579,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 167,
      "pull_request_review_id" : 1216728676,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047987541/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 579,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-14T03:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1047987541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1050009030"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050009030"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I didn't think you can use a variable in `std::get< ? >` ?\r\n\r\n```\r\nbitcoin-cli.cpp:476:15: error: no matching function for call to 'get'\r\n ++std::get<is_outbound ? 1 : 0>(m_counts[network]);\r\n```\r\n\r\nhttps://stackoverflow.com/questions/43621098/c-stdgetvariable-fails",
      "commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "created_at" : "2022-12-15T18:33:16Z",
      "diff_hunk" : "@@ -470,20 +455,30 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         if (networkinfo[\"version\"].getInt<int>() < 209900) {\n             throw std::runtime_error(\"-netinfo requires bitcoind server to be running v0.21.0 and up\");\n         }\n+        // Initialize the peer-count-by-network-type map with all the reachable networks (always display)\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            if (!network[\"reachable\"].get_bool()) {\n+                continue;\n+            }\n+            const std::string network_name{network[\"name\"].get_str()};\n+            m_counts[network_name];\n+        }\n+\n         const int64_t time_now{TicksSinceEpoch<std::chrono::seconds>(CliClock::now())};\n \n         // Count peer connection totals, and if DetailsRequested(), store peer data in a vector of structs.\n         for (const UniValue& peer : batch[ID_PEERINFO][\"result\"].getValues()) {\n             const std::string network{peer[\"network\"].get_str()};\n-            const int8_t network_id{NetworkStringToId(network)};\n-            if (network_id == UNKNOWN_NETWORK) continue;\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\n             const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};\n             const std::string conn_type{peer[\"connection_type\"].get_str()};\n-            ++m_counts.at(is_outbound).at(network_id);      // in/out by network\n-            ++m_counts.at(is_outbound).at(NETWORKS.size()); // in/out overall\n-            ++m_counts.at(2).at(network_id);                // total by network\n-            ++m_counts.at(2).at(NETWORKS.size());           // total overall\n+            // If peer network is not reachable, insert into map (only display if used)\n+            m_counts[network];\n+            if (is_outbound) {\n+                ++m_counts.find(network)->second.second;\n+            } else {\n+                ++m_counts.find(network)->second.first;\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1050009030",
      "id" : 1050009030,
      "in_reply_to_id" : 1047974885,
      "line" : 481,
      "node_id" : "PRRC_kwDOABII584-ld3G",
      "original_commit_id" : "bf69a13677680dbf2065e18e3e5c7882ec3aab33",
      "original_line" : 481,
      "original_position" : 107,
      "original_start_line" : 475,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 107,
      "pull_request_review_id" : 1219756158,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050009030/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 475,
      "start_side" : "RIGHT",
      "updated_at" : "2022-12-15T18:33:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1050009030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I reset this PR back to the original commit (with Luke's nit addressed). I'd like to try and just get the minimal code changes merged to improve the feature. Then if you guys like we can talk about ways to refactor if necessary",
      "created_at" : "2022-12-16T19:35:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1355493002",
      "id" : 1355493002,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585Qyy6K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1355493002/reactions"
      },
      "updated_at" : "2022-12-16T19:35:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1355493002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK with suggestions for clarity or coherence with the existing code.\r\n\r\n<details><summary>tested by adding the following 3 lines</summary><p>\r\n\r\n```diff\r\n@@ -562,6 +562,10 @@ public:\r\n             result += strprintf(\"                     ms     ms  sec  sec  min  min                %*s\\n\\n\", m_max_age_length, \"min\");\r\n         }\r\n \r\n+        m_counts.at(0).at(0) += 1;\r\n+        m_counts.at(1).at(0) += 2;\r\n+        m_counts.at(2).at(0) += 3;\r\n+\r\n         // Report peer connection totals by type.\r\n```\r\n</p></details>\r\n\r\n<details><summary>suggestions  diff</summary><p>\r\n\r\n```diff\r\n@@ -58,7 +58,7 @@ static constexpr int8_t UNKNOWN_NETWORK{-1};\r\n // See GetNetworkName() in netbase.cpp\r\n static constexpr std::array NETWORKS{\"not_publicly_routable\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"internal\"};\r\n static constexpr std::array NETWORK_SHORT_NAMES{\"npr\", \"ipv4\", \"ipv6\", \"onion\", \"i2p\", \"cjdns\", \"int\"};\r\n-static constexpr std::array NETWORK_UNREACHABLE{0 /* \"not_publicly_routable\" */, 6 /* \"internal\" */};\r\n+static constexpr std::array UNREACHABLE_NETWORK_IDS{/*not_publicly_routable*/0, /*internal*/6};\r\n \r\n /** Default number of blocks to generate for RPC generatetoaddress. */\r\n static const std::string DEFAULT_NBLOCKS = \"1\";\r\n@@ -575,10 +575,10 @@ public:\r\n         for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\r\n             if (network[\"reachable\"].get_bool()) {\r\n                 const std::string& network_name{network[\"name\"].get_str()};\r\n                 const int8_t network_id{NetworkStringToId(network_name)};\r\n                 if (network_id == UNKNOWN_NETWORK) continue;\r\n                 result += strprintf(\"%8s\", network_name); // column header\r\n                 reachable_networks.push_back(network_id);\r\n             }\r\n         };\r\n \r\n-        for (const size_t index : NETWORK_UNREACHABLE) {\r\n-            if (m_counts.at(2).at(index)) {\r\n-                reachable_networks.push_back(index);\r\n-                result += strprintf(\"%8s\", NETWORK_SHORT_NAMES[index]);\r\n+        for (size_t network_id : UNREACHABLE_NETWORK_IDS) {\r\n+            if (m_counts.at(2).at(network_id)) {\r\n+                result += strprintf(\"%8s\", NETWORK_SHORT_NAMES.at(network_id)); // column header\r\n+                reachable_networks.push_back(network_id);\r\n             }\r\n         }\r\n```\r\n</p></details>\r\n",
      "created_at" : "2023-02-01T21:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1412720499",
      "id" : 1412720499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585UNGdz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412720499/reactions"
      },
      "updated_at" : "2023-02-01T21:05:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412720499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonatack thank you! applied suggestions and f-pushed",
      "created_at" : "2023-02-01T21:21:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1412741732",
      "id" : 1412741732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585UNLpk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412741732/reactions"
      },
      "updated_at" : "2023-02-01T21:21:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412741732",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1093763554"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1093763554"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can ignore, the following version might be more idiomatic C++.\r\n\r\n```diff\r\n-        for (const size_t network_id : UNREACHABLE_NETWORK_IDS) {\r\n-            if (m_counts.at(2).at(network_id)) {\r\n-                result += strprintf(\"%8s\", NETWORK_SHORT_NAMES.at(network_id)); // column header\r\n-                reachable_networks.push_back(network_id);\r\n-            }\r\n+        for (size_t network_id : UNREACHABLE_NETWORK_IDS) {\r\n+            if (m_counts.at(2).at(network_id) == 0) continue;\r\n+            result += strprintf(\"%8s\", NETWORK_SHORT_NAMES.at(network_id)); // column header\r\n+            reachable_networks.push_back(network_id);\r\n         }\r\n```\r\n",
      "commit_id" : "ea4fbc5277c6fdf43cf675c8cc612f4821f55868",
      "created_at" : "2023-02-01T21:43:43Z",
      "diff_hunk" : "@@ -571,6 +574,14 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 reachable_networks.push_back(network_id);\n             }\n         };\n+\n+        for (const size_t network_id : UNREACHABLE_NETWORK_IDS) {\n+            if (m_counts.at(2).at(network_id)) {\n+                result += strprintf(\"%8s\", NETWORK_SHORT_NAMES.at(network_id)); // column header\n+                reachable_networks.push_back(network_id);\n+            }\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1093763554",
      "id" : 1093763554,
      "line" : 583,
      "node_id" : "PRRC_kwDOABII585BMYHi",
      "original_commit_id" : "ea4fbc5277c6fdf43cf675c8cc612f4821f55868",
      "original_line" : 583,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 31,
      "pull_request_review_id" : 1279911068,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1093763554/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-01T21:44:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1093763554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1094480501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1094480501"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks! both suggestions applied.",
      "commit_id" : "151ce099ea8fecc7daa16dabb8c113fa18b2f910",
      "created_at" : "2023-02-02T12:44:19Z",
      "diff_hunk" : "@@ -571,6 +574,14 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 reachable_networks.push_back(network_id);\n             }\n         };\n+\n+        for (const size_t network_id : UNREACHABLE_NETWORK_IDS) {\n+            if (m_counts.at(2).at(network_id)) {\n+                result += strprintf(\"%8s\", NETWORK_SHORT_NAMES.at(network_id)); // column header\n+                reachable_networks.push_back(network_id);\n+            }\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#discussion_r1094480501",
      "id" : 1094480501,
      "in_reply_to_id" : 1093763554,
      "line" : 582,
      "node_id" : "PRRC_kwDOABII585BPHJ1",
      "original_commit_id" : "ea4fbc5277c6fdf43cf675c8cc612f4821f55868",
      "original_line" : 582,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 39,
      "pull_request_review_id" : 1280982336,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26584",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1094480501/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-02T12:44:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1094480501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Re-tested ACK 77192c959816dc8daee138d88bd6f3250ce3bdb6",
      "created_at" : "2023-02-02T20:10:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26584#issuecomment-1414313528",
      "id" : 1414313528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26584",
      "node_id" : "IC_kwDOABII585UTLY4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1414313528/reactions"
      },
      "updated_at" : "2023-02-02T20:10:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1414313528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
