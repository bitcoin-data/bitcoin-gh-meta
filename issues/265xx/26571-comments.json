[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "created_at" : "2022-11-25T10:13:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327284379",
      "id" : 1327284379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHMCb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327284379/reactions"
      },
      "updated_at" : "2022-11-25T10:13:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327284379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @0xB10C @MarcoFalke ",
      "created_at" : "2022-11-25T10:16:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327287594",
      "id" : 1327287594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHM0q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327287594/reactions"
      },
      "updated_at" : "2022-11-25T10:16:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327287594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think you can run this test in docker, so I don't think this patch helps overall?",
      "created_at" : "2022-11-25T10:20:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327291918",
      "id" : 1327291918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHN4O",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327291918/reactions"
      },
      "updated_at" : "2022-11-25T10:20:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327291918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Are the interface_usdt_*.py functional test run for you in your local docker? I think they might be skipped anyway?",
      "created_at" : "2022-11-25T10:23:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327294936",
      "id" : 1327294936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHOnY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327294936/reactions"
      },
      "updated_at" : "2022-11-25T10:23:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327294936",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't think you can run this test in docker, so I don't think this patch helps overall?\r\n\r\nYea. This doesn't work in Docker on Cirrus, and running locally it wouldn't work without at least modifying additional container permissions (not even sure it'd work then).",
      "created_at" : "2022-11-25T10:24:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327295462",
      "id" : 1327295462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHOvm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327295462/reactions"
      },
      "updated_at" : "2022-11-25T10:24:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327295462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't think you can run this test in docker...\r\n\r\n> Yea. This doesn't work in Docker on Cirrus, and running locally it wouldn't work without at least modifying additional container permissions (not even sure it'd work then).\r\n\r\n> Are the interface_usdt_*.py functional test run for you in your local docker?\r\n\r\nOn my Ubuntu 22.04:\r\n```\r\n$ MAKEJOBS=\"-j16\" FILE_ENV=\"./ci/test/00_setup_env_native_asan.sh\" ./ci/test_run_all.sh\r\n...\r\ninterface_usdt_coinselection.py                        | â Skipped | 1 s\r\ninterface_usdt_net.py                                  | â Skipped | 1 s\r\ninterface_usdt_utxocache.py                            | â Skipped | 1 s\r\ninterface_usdt_validation.py                           | â Skipped | 1 s\r\n...\r\n```",
      "created_at" : "2022-11-25T11:14:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327346718",
      "id" : 1327346718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHbQe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327346718/reactions"
      },
      "updated_at" : "2022-11-25T11:14:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327346718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, if the host happens to be Ubuntu 22.04, then it works. However, for any other host, with a different kernel, it will likely not",
      "created_at" : "2022-11-25T11:16:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1327349939",
      "id" : 1327349939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PHcCz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327349939/reactions"
      },
      "updated_at" : "2022-11-25T11:16:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1327349939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Yes, if the host happens to be Ubuntu 22.04, then it works. However, for any other host, with a different kernel, it will likely not\r\n\r\nWhat system/kernel can you suggest me to try on to confirm or deny your conjecture?",
      "created_at" : "2022-11-27T16:13:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328279166",
      "id" : 1328279166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PK-5-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328279166/reactions"
      },
      "updated_at" : "2022-11-27T16:13:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328279166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > I don't think you can run this test in docker...\n> \n> > Yea. This doesn't work in Docker on Cirrus, and running locally it wouldn't work without at least modifying additional container permissions (not even sure it'd work then).\n> \n> > Are the interface_usdt_*.py functional test run for you in your local docker?\n> \n> On my Ubuntu 22.04:\n> ```\n> $ MAKEJOBS=\"-j16\" FILE_ENV=\"./ci/test/00_setup_env_native_asan.sh\" ./ci/test_run_all.sh\n> ...\n> interface_usdt_coinselection.py                        | â Skipped | 1 s\n> interface_usdt_net.py                                  | â Skipped | 1 s\n> interface_usdt_utxocache.py                            | â Skipped | 1 s\n> interface_usdt_validation.py                           | â Skipped | 1 s\n> ...\n> ```\n\nAs expected, the tests are skipped. The tests check for privileges (required to attach to the tracepoints via the Linux kernel) and I'd expect that most users will run their local CI with their unprivileged user.\n\nedit: To be clear: I think we should skip the install of the packages for local CI runs. Doesn't make sense to install the packages only for them not being used. ",
      "created_at" : "2022-11-27T16:42:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328291498",
      "id" : 1328291498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PLB6q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328291498/reactions"
      },
      "updated_at" : "2022-11-27T16:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328291498",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What system/kernel can you suggest me to try on to confirm or deny your conjecture?\r\n\r\nNot sure, but for example on Fedora 36 (fresh install):\r\n\r\n```\r\n$ dnf install podman -y\r\n$ podman run -it --rm ubuntu:jammy\r\n\r\nexport DEBIAN_FRONTEND=noninteractive && apt update && apt install htop git vim -y && git clone https://github.com/bitcoin/bitcoin.git ./bitcoin-core && cd ./bitcoin-core\r\n\r\nDANGER_RUN_CI_ON_HOST=\"1\" MAKEJOBS=\"-j9\" FILE_ENV=\"./ci/test/00_setup_env_native_asan.sh\" ./ci/test_run_all.sh\r\n```\r\n\r\nThe failure will be:\r\n\r\n```\r\n test  2022-11-28T09:52:31.579000Z TestFramework (INFO): hook into the coin_selection tracepoints \r\n test  2022-11-28T09:52:31.614000Z TestFramework (ERROR): Unexpected exception caught during testing \r\n                                   Traceback (most recent call last):\r\n                                     File \"/bitcoin-core/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/bitcoin-core/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/interface_usdt_coinselection.py\", line 166, in run_test\r\n                                       self.bpf = BPF(text=coinselection_tracepoints_program, usdt_contexts=[ctx], debug=0)\r\n                                     File \"/usr/lib/python3/dist-packages/bcc/__init__.py\", line 476, in __init__\r\n                                       raise Exception(\"Failed to compile BPF module %s\" % (src_file or \"<text>\"))\r\n                                   Exception: Failed to compile BPF module <text>\r\n\r\n\r\ninterface_usdt_coinselection.py                        | â Failed  | 1 s\r\n",
      "created_at" : "2022-11-28T09:55:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328806626",
      "id" : 1328806626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PM_ri",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328806626/reactions"
      },
      "updated_at" : "2022-11-28T09:55:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328806626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > What system/kernel can you suggest me to try on to confirm or deny your conjecture?\r\n> \r\n> Not sure, but for example on Fedora 36 (fresh install):\r\n> \r\n> ```\r\n> $ dnf install podman -y\r\n> $ podman run -it --rm ubuntu:jammy\r\n> \r\n> export DEBIAN_FRONTEND=noninteractive && apt update && apt install htop git vim -y && git clone https://github.com/bitcoin/bitcoin.git ./bitcoin-core && cd ./bitcoin-core\r\n> \r\n> DANGER_RUN_CI_ON_HOST=\"1\" MAKEJOBS=\"-j9\" FILE_ENV=\"./ci/test/00_setup_env_native_asan.sh\" ./ci/test_run_all.sh\r\n> ```\r\n> \r\n> The failure will be:\r\n> \r\n> ```\r\n>  test  2022-11-28T09:52:31.579000Z TestFramework (INFO): hook into the coin_selection tracepoints \r\n>  test  2022-11-28T09:52:31.614000Z TestFramework (ERROR): Unexpected exception caught during testing \r\n>                                    Traceback (most recent call last):\r\n>                                      File \"/bitcoin-core/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n>                                        self.run_test()\r\n>                                      File \"/bitcoin-core/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/interface_usdt_coinselection.py\", line 166, in run_test\r\n>                                        self.bpf = BPF(text=coinselection_tracepoints_program, usdt_contexts=[ctx], debug=0)\r\n>                                      File \"/usr/lib/python3/dist-packages/bcc/__init__.py\", line 476, in __init__\r\n>                                        raise Exception(\"Failed to compile BPF module %s\" % (src_file or \"<text>\"))\r\n>                                    Exception: Failed to compile BPF module <text>\r\n> \r\n> \r\n> interface_usdt_coinselection.py                        | â Failed  | 1 s\r\n> ```\r\n\r\nDocker containers don't bring their own kernel. They share the kernel from the host OS. Tracing with [bcc](https://github.com/iovisor/bcc) on a Ubuntu 22.04 container on a Ubuntu 22.04 works, because the kernel and the kernel headers used to compile the BPF byte code on the host and in the container are the same. Most other host OS and container OS combinations won't work.\r\n\r\nThere is libbpf (a new BPF library in the Linux kernel), which [as far as I understand](https://nakryiko.com/posts/bpf-portability-and-co-re/) should work in docker containers too. It would be nice to use this in the future, once there are Python bindings and its API is somewhat stable. An alternative is to run the tests in a VM...",
      "created_at" : "2022-11-28T11:01:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328886515",
      "id" : 1328886515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PNTLz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328886515/reactions"
      },
      "updated_at" : "2022-11-28T11:01:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328886515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Anyway, skipping or failing USDT-specific functional tests differ from an ability to run a sanitizer-instrumented CI task locally.",
      "created_at" : "2022-11-28T11:05:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328893043",
      "id" : 1328893043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PNUxz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328893043/reactions"
      },
      "updated_at" : "2022-11-28T11:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328893043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure. I think it is good to fail early instead of silently wasting several hours of CPU and then prod the dev to start from scratch.",
      "created_at" : "2022-11-28T11:59:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328953932",
      "id" : 1328953932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PNjpM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328953932/reactions"
      },
      "updated_at" : "2022-11-28T11:59:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328953932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Not sure. I think it is good to fail early instead of silently wasting several hours of CPU and then prod the dev to start from scratch.\r\n\r\nI would have proposed an alternative to this PR that only runs the USDT interface tests in Cirrus and never locally. But if I understand you correctly, that's not what we want, correct? Passing the CI locally first and then only falling in Cirrus wastes several hours of CPU and the dev needs to start from scratch.",
      "created_at" : "2022-11-28T12:10:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328971146",
      "id" : 1328971146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PNn2K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328971146/reactions"
      },
      "updated_at" : "2022-11-28T12:10:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328971146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Not sure. I think it is good to fail early instead of silently wasting several hours of CPU and then prod the dev to start from scratch.\r\n\r\nBeing interested in \"ASan + LSan + UBSan + integer\" part, I'm OK with failing USDT-specific tests. It is not a \"wasting several hours of CPU\" at all, at least for me.\r\n\r\nAnyway, I can use this patch privately :)\r\n\r\nClosing.",
      "created_at" : "2022-11-28T12:14:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328977225",
      "id" : 1328977225,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PNpVJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328977225/reactions"
      },
      "updated_at" : "2022-11-28T12:14:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328977225",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Being interested in \"ASan + LSan + UBSan + integer\" part, I'm OK with failing USDT-specific tests. It is not a \"wasting several hours of CPU\" at all, at least for me.\r\n\r\nNot sure. `--failfast` may be set by the CI, so no test may be run, and you will have to start from scratch.\r\n\r\n> Anyway, I can use this patch privately :)\r\n\r\nYeah, I do the same, but my patch is something like:\r\n\r\n\r\n```diff\r\ndiff --git a/ci/test/00_setup_env_native_asan.sh b/ci/test/00_setup_env_native_asan.sh\r\nindex 4f1792a9f0..db5669d25d 100755\r\n--- a/ci/test/00_setup_env_native_asan.sh\r\n+++ b/ci/test/00_setup_env_native_asan.sh\r\n@@ -9,11 +9,10 @@ export LC_ALL=C.UTF-8\r\n # We install an up-to-date 'bpfcc-tools' package from an untrusted PPA.\r\n # This can be dropped with the next Ubuntu or Debian release that includes up-to-date packages.\r\n # See the if-then in ci/test/04_install.sh too.\r\n-export ADD_UNTRUSTED_BPFCC_PPA=true\r\n \r\n export CONTAINER_NAME=ci_native_asan\r\n export PACKAGES=\"systemtap-sdt-dev bpfcc-tools clang llvm python3-zmq qtbase5-dev qttools5-dev-tools libevent-dev bsdmainutils libboost-dev libdb5.3++-dev libminiupnpc-dev libnatpmp-dev libzmq3-dev libqrencode-dev libsqlite3-dev\"\r\n export DOCKER_NAME_TAG=ubuntu:22.04  # May not run in docker unless --enable-usdt is dropped\r\n export NO_DEPENDS=1\r\n export GOAL=\"install\"\r\n-export BITCOIN_CONFIG=\"--enable-usdt --enable-zmq --with-incompatible-bdb --with-gui=qt5 CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' --with-sanitizers=address,integer,undefined CC=clang CXX=clang++\"\r\n+export BITCOIN_CONFIG=\"--disable-usdt--enable-zmq --with-incompatible-bdb --with-gui=qt5 CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' --with-sanitizers=address,integer,undefined CC=clang CXX=clang++\"\r\n",
      "created_at" : "2022-11-28T12:18:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26571#issuecomment-1328982310",
      "id" : 1328982310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26571",
      "node_id" : "IC_kwDOABII585PNqkm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328982310/reactions"
      },
      "updated_at" : "2022-11-28T12:18:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1328982310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
