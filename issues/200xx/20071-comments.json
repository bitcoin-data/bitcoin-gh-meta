[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nAs this is the second similar issue, it is natural to wonder whether other `TRAVIS_COMMIT_RANGE` use cases are safe?",
      "created_at" : "2020-10-03T17:33:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#issuecomment-703137769",
      "id" : 703137769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20071",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzEzNzc2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-03T17:33:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703137769",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept ACK.\r\n> \r\n> As this is the second similar issue, it is natural to wonder whether other `TRAVIS_COMMIT_RANGE` use cases are safe?\r\n\r\nThe only other place seems to be the whitespace linter, I am looking into it :) Since this is an acute issue I just submitted it alone so it could be merged faster.",
      "created_at" : "2020-10-03T17:35:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#issuecomment-703138077",
      "id" : 703138077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20071",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzEzODA3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-03T17:38:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703138077",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fjahr \r\n\r\nWhile you are working on this: detailed comments will be much appreciated :)",
      "created_at" : "2020-10-03T18:40:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#issuecomment-703147159",
      "id" : 703147159,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20071",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzE0NzE1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-03T18:40:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703147159",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499171920"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499171920"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you want to use $TRAVIS_BRANCH here instead of master, as that would be wrong for non-master PRs.\r\n\r\nAlso, I think this can be simplified to just `COMMIT_RANGE=\"$TRAVIS_BRANCH..HEAD\"` then.",
      "commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "created_at" : "2020-10-03T18:42:45Z",
      "diff_hunk" : "@@ -7,7 +7,9 @@\n export LC_ALL=C\n \n if [ \"$TRAVIS_EVENT_TYPE\" = \"pull_request\" ]; then\n-  test/lint/commit-script-check.sh $TRAVIS_COMMIT_RANGE\n+  MERGE_BASE=$(git merge-base HEAD master)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499171920",
      "id" : 499171920,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MTkyMA==",
      "original_commit_id" : "25aeb0e4b0d80bc2a4adc64457431463942308ea",
      "original_line" : 10,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "ci/lint/06_script.sh",
      "position" : null,
      "pull_request_review_id" : 501566165,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-03T19:57:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499171920",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499176594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499176594"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done, I have also introduced $TRAVIS_BRANCH to `lint-git-commit-check.sh` where I had previously removed TRAVIS_COMMIT_RANGE",
      "commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "created_at" : "2020-10-03T19:46:43Z",
      "diff_hunk" : "@@ -7,7 +7,9 @@\n export LC_ALL=C\n \n if [ \"$TRAVIS_EVENT_TYPE\" = \"pull_request\" ]; then\n-  test/lint/commit-script-check.sh $TRAVIS_COMMIT_RANGE\n+  MERGE_BASE=$(git merge-base HEAD master)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499176594",
      "id" : 499176594,
      "in_reply_to_id" : 499171920,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NjU5NA==",
      "original_commit_id" : "25aeb0e4b0d80bc2a4adc64457431463942308ea",
      "original_line" : 10,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "ci/lint/06_script.sh",
      "position" : null,
      "pull_request_review_id" : 501570005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-03T19:57:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499176594",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @fjahr\r\n> \r\n> While you are working on this: detailed comments will be much appreciated :)\r\n\r\nTrue, I added some on TRAVIS_BRANCH and a little note where I still use MERGE_BASE. Let me know if you see other places where I should add some more.",
      "created_at" : "2020-10-03T19:59:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#issuecomment-703157609",
      "id" : 703157609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20071",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzE1NzYwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-03T19:59:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703157609",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK a91ab86fae91d416d664d19d2f482a8d19c115a6. See test I tried in #20075. \r\n\r\nThe AppVeyor failure is expected, see #20066.",
      "created_at" : "2020-10-03T21:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#issuecomment-703169718",
      "id" : 703169718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20071",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzE2OTcxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-03T21:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703169718",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499185856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499185856"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this a reasonable assumption?",
      "commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "created_at" : "2020-10-03T22:09:05Z",
      "diff_hunk" : "@@ -23,10 +23,18 @@ while getopts \"?\" opt; do\n   esac\n done\n \n+# TRAVIS_BRANCH will be present in a Travis environment. For builds triggered\n+# by a pull request this is the name of the branch targeted by the pull request.\n+# https://docs.travis-ci.com/user/environment-variables/\n+if [ -n \"${TRAVIS_BRANCH}\" ]; then\n+  COMMIT_RANGE=\"$TRAVIS_BRANCH..HEAD\"\n+fi\n+\n if [ -z \"${COMMIT_RANGE}\" ]; then\n     if [ -n \"$1\" ]; then\n       COMMIT_RANGE=\"HEAD~$1...HEAD\"\n     else\n+      # This assumes that the target branch of the pull request will be master.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499185856",
      "id" : 499185856,
      "line" : 37,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4NTg1Ng==",
      "original_commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "original_line" : 37,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/lint/lint-git-commit-check.sh",
      "position" : 15,
      "pull_request_review_id" : 501577093,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-03T22:09:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499185856",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499188498"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499188498"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I assume this will mostly be used when people run the linters locally after they have worked on a pull request and before they push and open the PR (this is what I do). And I assume most people work on PRs against master most of the time and those that don't probably are not at a stage where they care about linters. If not, I can't think of a better way that just works for everyone without passing in more parameters. And that is already possible with COMMIT_RANGE which I assume people will use if they work against a different branch and want to run the linter. If this would just be set to \"HEAD\" here for example as the fallback then the linter would run through all commits in history and find some old commits that violate this rule. We can think of other fallbacks but this one seems most reasonable.\r\n\r\nBut also this was the way it already worked before I first touched this file in my earlier change, so I did not overthink it TBH: https://github.com/bitcoin/bitcoin/pull/19654/commits/72351784b3df21a89f79076f4b814a6e700b6469",
      "commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "created_at" : "2020-10-03T22:57:24Z",
      "diff_hunk" : "@@ -23,10 +23,18 @@ while getopts \"?\" opt; do\n   esac\n done\n \n+# TRAVIS_BRANCH will be present in a Travis environment. For builds triggered\n+# by a pull request this is the name of the branch targeted by the pull request.\n+# https://docs.travis-ci.com/user/environment-variables/\n+if [ -n \"${TRAVIS_BRANCH}\" ]; then\n+  COMMIT_RANGE=\"$TRAVIS_BRANCH..HEAD\"\n+fi\n+\n if [ -z \"${COMMIT_RANGE}\" ]; then\n     if [ -n \"$1\" ]; then\n       COMMIT_RANGE=\"HEAD~$1...HEAD\"\n     else\n+      # This assumes that the target branch of the pull request will be master.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499188498",
      "id" : 499188498,
      "in_reply_to_id" : 499185856,
      "line" : 37,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODQ5OA==",
      "original_commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "original_line" : 37,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/lint/lint-git-commit-check.sh",
      "position" : 15,
      "pull_request_review_id" : 501578927,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-03T22:58:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499188498",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499189417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499189417"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I see, this isn't used in any automated CI.",
      "commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "created_at" : "2020-10-03T23:13:52Z",
      "diff_hunk" : "@@ -23,10 +23,18 @@ while getopts \"?\" opt; do\n   esac\n done\n \n+# TRAVIS_BRANCH will be present in a Travis environment. For builds triggered\n+# by a pull request this is the name of the branch targeted by the pull request.\n+# https://docs.travis-ci.com/user/environment-variables/\n+if [ -n \"${TRAVIS_BRANCH}\" ]; then\n+  COMMIT_RANGE=\"$TRAVIS_BRANCH..HEAD\"\n+fi\n+\n if [ -z \"${COMMIT_RANGE}\" ]; then\n     if [ -n \"$1\" ]; then\n       COMMIT_RANGE=\"HEAD~$1...HEAD\"\n     else\n+      # This assumes that the target branch of the pull request will be master.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499189417",
      "id" : 499189417,
      "in_reply_to_id" : 499185856,
      "line" : 37,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4OTQxNw==",
      "original_commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "original_line" : 37,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/lint/lint-git-commit-check.sh",
      "position" : 15,
      "pull_request_review_id" : 501579541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-03T23:13:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499189417",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499189988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499189988"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That's my understanding, that the linters only run on Travis.",
      "commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "created_at" : "2020-10-03T23:23:18Z",
      "diff_hunk" : "@@ -23,10 +23,18 @@ while getopts \"?\" opt; do\n   esac\n done\n \n+# TRAVIS_BRANCH will be present in a Travis environment. For builds triggered\n+# by a pull request this is the name of the branch targeted by the pull request.\n+# https://docs.travis-ci.com/user/environment-variables/\n+if [ -n \"${TRAVIS_BRANCH}\" ]; then\n+  COMMIT_RANGE=\"$TRAVIS_BRANCH..HEAD\"\n+fi\n+\n if [ -z \"${COMMIT_RANGE}\" ]; then\n     if [ -n \"$1\" ]; then\n       COMMIT_RANGE=\"HEAD~$1...HEAD\"\n     else\n+      # This assumes that the target branch of the pull request will be master.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20071#discussion_r499189988",
      "id" : 499189988,
      "in_reply_to_id" : 499185856,
      "line" : 37,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4OTk4OA==",
      "original_commit_id" : "a91ab86fae91d416d664d19d2f482a8d19c115a6",
      "original_line" : 37,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/lint/lint-git-commit-check.sh",
      "position" : 15,
      "pull_request_review_id" : 501579928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20071",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-03T23:23:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499189988",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
