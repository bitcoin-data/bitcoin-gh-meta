[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Note that the test methods `last_block_equals()` and `last_header_equals()` are still needed for checking that the concerned message _didn't_ arrive within a certain time window:\r\nhttps://github.com/bitcoin/bitcoin/blob/72affcb16cad45bd9e08ca163b2147fd01b84b70/test/functional/p2p_fingerprint.py#L123-L131\r\nUnfortunately I couldn't figure out how to use the `wait_for_{block,header}` functions for that -- using something like\r\n\r\n```\r\nassert_raises(AssertionError, lambda: node0.wait_for_block(stale_hash, timeout=3))\r\n```\r\nworks, but still prints out the assertion error, clogging up the log:\r\n```\r\n2020-09-30T15:00:20.316000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_hh8usu8u\r\n2020-09-30T15:00:27.134000Z TestFramework.utils (ERROR): wait_until() failed. Predicate: ''''\r\n        def test_function():\r\n            if check_connected:\r\n                assert self.is_connected\r\n            return test_function_in()\r\n'''\r\n2020-09-30T15:00:30.150000Z TestFramework.utils (ERROR): wait_until() failed. Predicate: ''''\r\n        def test_function():\r\n            if check_connected:\r\n                assert self.is_connected\r\n            return test_function_in()\r\n'''\r\n2020-09-30T15:00:30.252000Z TestFramework (INFO): Stopping nodes\r\n2020-09-30T15:00:30.354000Z TestFramework (INFO): Cleaning up /tmp/bitcoin_func_test_hh8usu8u on exit\r\n2020-09-30T15:00:30.355000Z TestFramework (INFO): Tests successful\r\n```",
      "created_at" : "2020-09-30T15:01:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#issuecomment-701448360",
      "id" : 701448360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20047",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTQ0ODM2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-30T15:04:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701448360",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK 136d96b7.\r\n\r\nMaybe we should inline the two methods `last_block_equals` and `last_header_equals` because they are only used with a negation currently.\r\nThat means the test would still pass if for some reason `node.last_message.get(\"block\")` is falsey. What should be tested in the `assert not self.last_block_equals()` is that the last message's block was available but the hash didn't match.",
      "created_at" : "2020-10-04T10:20:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#issuecomment-703234004",
      "id" : 703234004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20047",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzIzNDAwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T10:20:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703234004",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008879?v=4",
         "events_url" : "https://api.github.com/users/guggero/events{/privacy}",
         "followers_url" : "https://api.github.com/users/guggero/followers",
         "following_url" : "https://api.github.com/users/guggero/following{/other_user}",
         "gists_url" : "https://api.github.com/users/guggero/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/guggero",
         "id" : 1008879,
         "login" : "guggero",
         "node_id" : "MDQ6VXNlcjEwMDg4Nzk=",
         "organizations_url" : "https://api.github.com/users/guggero/orgs",
         "received_events_url" : "https://api.github.com/users/guggero/received_events",
         "repos_url" : "https://api.github.com/users/guggero/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/guggero/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/guggero/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/guggero"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@guggero: Thanks a lot for reviewing and your inputs, good points!\r\nI think that actually we can get rid of the functions `last_{block,header}_equals` completely (i.e. not even needing to inline them), as a check ensuring that _no_ blocks or header message actually arrives after requesting very old blocks/headers should be sufficient. That is, removing \"blocks\"/\"headers\" from the last_message dictionary before the request, and after the waiting time, checking that it hasn't been added in-between. That should do it in my opinion.",
      "created_at" : "2020-10-04T12:36:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#issuecomment-703249363",
      "id" : 703249363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20047",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzI0OTM2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T12:36:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703249363",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "tACK 521b833a.\r\n\r\nNice change with this additional commit, I agree that this makes the test even more precise while removing more code than it adds.",
      "created_at" : "2020-10-04T13:09:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#issuecomment-703253348",
      "id" : 703253348,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20047",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzI1MzM0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-04T13:09:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703253348",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008879?v=4",
         "events_url" : "https://api.github.com/users/guggero/events{/privacy}",
         "followers_url" : "https://api.github.com/users/guggero/followers",
         "following_url" : "https://api.github.com/users/guggero/following{/other_user}",
         "gists_url" : "https://api.github.com/users/guggero/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/guggero",
         "id" : 1008879,
         "login" : "guggero",
         "node_id" : "MDQ6VXNlcjEwMDg4Nzk=",
         "organizations_url" : "https://api.github.com/users/guggero/orgs",
         "received_events_url" : "https://api.github.com/users/guggero/received_events",
         "repos_url" : "https://api.github.com/users/guggero/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/guggero/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/guggero/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/guggero"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r499482654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499482654"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this can replace the section \"# Send getdata & getheaders to refresh last received getheader message\", no?",
      "commit_id" : "6b56c1f4d0d5857d9d61a81dc96db1b603c368b5",
      "created_at" : "2020-10-05T10:00:52Z",
      "diff_hunk" : "@@ -121,14 +108,18 @@ def run_test(self):\n         node0.sync_with_ping()\n \n         # Request for very old stale block should now fail\n+        with p2p_lock:\n+            node0.last_message.pop(\"block\", None)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r499482654",
      "id" : 499482654,
      "line" : 107,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ4MjY1NA==",
      "original_commit_id" : "521b833a3261eb6eb97d0881350df20a90a12b22",
      "original_line" : 107,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "test/functional/p2p_fingerprint.py",
      "position" : 55,
      "pull_request_review_id" : 501900996,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-21T13:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499482654",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r499482805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499482805"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unrelated: why not sync_with_ping?",
      "commit_id" : "6b56c1f4d0d5857d9d61a81dc96db1b603c368b5",
      "created_at" : "2020-10-05T10:01:07Z",
      "diff_hunk" : "@@ -121,14 +108,18 @@ def run_test(self):\n         node0.sync_with_ping()\n \n         # Request for very old stale block should now fail\n+        with p2p_lock:\n+            node0.last_message.pop(\"block\", None)\n         self.send_block_request(stale_hash, node0)\n         time.sleep(3)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r499482805",
      "id" : 499482805,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ4MjgwNQ==",
      "original_commit_id" : "521b833a3261eb6eb97d0881350df20a90a12b22",
      "original_line" : 114,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "test/functional/p2p_fingerprint.py",
      "position" : null,
      "pull_request_review_id" : 501900996,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-21T13:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/499482805",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r500276177"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500276177"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indeed, done. The \"node0.sync_with_ping()\" is still needed though to ensure that the newly generated block in the previous section \"Longest chain is extended so stale is much older than chain tip\" has been already received and doesn't interfere with the request for the old stale block test.",
      "commit_id" : "6b56c1f4d0d5857d9d61a81dc96db1b603c368b5",
      "created_at" : "2020-10-06T13:29:02Z",
      "diff_hunk" : "@@ -121,14 +108,18 @@ def run_test(self):\n         node0.sync_with_ping()\n \n         # Request for very old stale block should now fail\n+        with p2p_lock:\n+            node0.last_message.pop(\"block\", None)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r500276177",
      "id" : 500276177,
      "in_reply_to_id" : 499482654,
      "line" : 107,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI3NjE3Nw==",
      "original_commit_id" : "521b833a3261eb6eb97d0881350df20a90a12b22",
      "original_line" : 107,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "test/functional/p2p_fingerprint.py",
      "position" : 55,
      "pull_request_review_id" : 502959639,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-21T13:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500276177",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r500276260"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500276260"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good idea, done. It's always nice to get rid of time.sleep(...) constructs that are not really needed.",
      "commit_id" : "6b56c1f4d0d5857d9d61a81dc96db1b603c368b5",
      "created_at" : "2020-10-06T13:29:10Z",
      "diff_hunk" : "@@ -121,14 +108,18 @@ def run_test(self):\n         node0.sync_with_ping()\n \n         # Request for very old stale block should now fail\n+        with p2p_lock:\n+            node0.last_message.pop(\"block\", None)\n         self.send_block_request(stale_hash, node0)\n         time.sleep(3)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r500276260",
      "id" : 500276260,
      "in_reply_to_id" : 499482805,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDI3NjI2MA==",
      "original_commit_id" : "521b833a3261eb6eb97d0881350df20a90a12b22",
      "original_line" : 114,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "test/functional/p2p_fingerprint.py",
      "position" : null,
      "pull_request_review_id" : 502959818,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-21T13:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/500276260",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed with the suggestions from MarcoFalke (https://github.com/bitcoin/bitcoin/pull/20047#discussion_r499482654, https://github.com/bitcoin/bitcoin/pull/20047#discussion_r499482805).",
      "created_at" : "2020-10-06T13:30:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#issuecomment-704270106",
      "id" : 704270106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20047",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNDI3MDEwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-06T13:30:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/704270106",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r509244801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509244801"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The array index selection at the end of the line (`[0]`) isn't needed anymore if return value isn't stored in a variable.",
      "commit_id" : "6b56c1f4d0d5857d9d61a81dc96db1b603c368b5",
      "created_at" : "2020-10-21T12:42:45Z",
      "diff_hunk" : "@@ -109,24 +98,23 @@ def run_test(self):\n \n         # Longest chain is extended so stale is much older than chain tip\n         self.nodes[0].setmocktime(0)\n-        tip = self.nodes[0].generatetoaddress(1, self.nodes[0].get_deterministic_priv_key().address)[0]\n+        self.nodes[0].generatetoaddress(1, self.nodes[0].get_deterministic_priv_key().address)[0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r509244801",
      "id" : 509244801,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTI0NDgwMQ==",
      "original_commit_id" : "8e4fd958e890b571a5e870f24d73b8b43c8915b8",
      "original_line" : 101,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/p2p_fingerprint.py",
      "position" : null,
      "pull_request_review_id" : 513632478,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-21T13:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509244801",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008879?v=4",
         "events_url" : "https://api.github.com/users/guggero/events{/privacy}",
         "followers_url" : "https://api.github.com/users/guggero/followers",
         "following_url" : "https://api.github.com/users/guggero/following{/other_user}",
         "gists_url" : "https://api.github.com/users/guggero/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/guggero",
         "id" : 1008879,
         "login" : "guggero",
         "node_id" : "MDQ6VXNlcjEwMDg4Nzk=",
         "organizations_url" : "https://api.github.com/users/guggero/orgs",
         "received_events_url" : "https://api.github.com/users/guggero/received_events",
         "repos_url" : "https://api.github.com/users/guggero/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/guggero/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/guggero/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/guggero"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r509286770"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509286770"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good find, thanks! Fixed.",
      "commit_id" : "6b56c1f4d0d5857d9d61a81dc96db1b603c368b5",
      "created_at" : "2020-10-21T13:33:30Z",
      "diff_hunk" : "@@ -109,24 +98,23 @@ def run_test(self):\n \n         # Longest chain is extended so stale is much older than chain tip\n         self.nodes[0].setmocktime(0)\n-        tip = self.nodes[0].generatetoaddress(1, self.nodes[0].get_deterministic_priv_key().address)[0]\n+        self.nodes[0].generatetoaddress(1, self.nodes[0].get_deterministic_priv_key().address)[0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#discussion_r509286770",
      "id" : 509286770,
      "in_reply_to_id" : 509244801,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTI4Njc3MA==",
      "original_commit_id" : "8e4fd958e890b571a5e870f24d73b8b43c8915b8",
      "original_line" : 101,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/p2p_fingerprint.py",
      "position" : null,
      "pull_request_review_id" : 513685739,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20047",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-21T13:33:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509286770",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "pm ACK 6b56c1f4d0d5857d9d61a81dc96db1b603c368b5\r\n",
      "created_at" : "2020-11-19T15:37:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20047#issuecomment-730456828",
      "id" : 730456828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20047",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDQ1NjgyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T15:37:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730456828",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
