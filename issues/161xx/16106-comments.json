[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16273](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16273.html) (refactor: Remove unused includes by practicalswift)\n* [#16261](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16261.html) (gui: Refactor OpenWalletActivity by promag)\n* [#15450](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15450.html) ([GUI] Create wallet menu option by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-05-27T19:28:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-496291000",
      "id" : 496291000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NjI5MTAwMA==",
      "updated_at" : "2019-07-04T00:06:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/496291000",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r287878827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/287878827"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: could be more self-documenting - something like `getWalletsNamesAndLoaded`",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-05-27T20:41:09Z",
      "diff_hunk" : "@@ -46,13 +46,15 @@ std::vector<WalletModel*> WalletController::getWallets() const\n     return m_wallets;\n }\n \n-std::vector<std::string> WalletController::getWalletsAvailableToOpen() const\n+std::map<std::string, bool> WalletController::getAllWallets() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r287878827",
      "id" : 287878827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4Nzg3ODgyNw==",
      "original_commit_id" : "1547ad29abc2b6b3ec08d3758e66d038dafeac66",
      "original_position" : 5,
      "path" : "src/qt/walletcontroller.cpp",
      "position" : null,
      "pull_request_review_id" : 242385979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/287878827",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/16106/commits/1547ad29abc2b6b3ec08d3758e66d038dafeac66",
      "created_at" : "2019-05-27T20:41:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-496302028",
      "id" : 496302028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NjMwMjAyOA==",
      "updated_at" : "2019-05-27T20:41:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/496302028",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r287883080"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/287883080"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Renamed these methods and added comments, hope it's clear now.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-05-27T21:16:56Z",
      "diff_hunk" : "@@ -46,13 +46,15 @@ std::vector<WalletModel*> WalletController::getWallets() const\n     return m_wallets;\n }\n \n-std::vector<std::string> WalletController::getWalletsAvailableToOpen() const\n+std::map<std::string, bool> WalletController::getAllWallets() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r287883080",
      "id" : 287883080,
      "in_reply_to_id" : 287878827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4Nzg4MzA4MA==",
      "original_commit_id" : "1547ad29abc2b6b3ec08d3758e66d038dafeac66",
      "original_position" : 5,
      "path" : "src/qt/walletcontroller.cpp",
      "position" : null,
      "pull_request_review_id" : 242391075,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/287883080",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK https://github.com/bitcoin/bitcoin/pull/16106/commits/4aec893d08b912d38993d73630323be307b43e90",
      "created_at" : "2019-05-27T21:22:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-496307938",
      "id" : 496307938,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NjMwNzkzOA==",
      "updated_at" : "2019-05-27T21:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/496307938",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Looks correct. Would benefit from test coverage for the change in expected behavior (i.e. assert wallets are displayed sorted alphabetically) to prevent future regressions (e.g. if someone decides to modify the impl to use an `unordered_map`).",
      "created_at" : "2019-05-28T09:48:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-496446289",
      "id" : 496446289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NjQ0NjI4OQ==",
      "updated_at" : "2019-05-28T09:48:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/496446289",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/47615825?v=4",
         "events_url" : "https://api.github.com/users/pox/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pox/followers",
         "following_url" : "https://api.github.com/users/pox/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pox/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pox",
         "id" : 47615825,
         "login" : "pox",
         "node_id" : "MDQ6VXNlcjQ3NjE1ODI1",
         "organizations_url" : "https://api.github.com/users/pox/orgs",
         "received_events_url" : "https://api.github.com/users/pox/received_events",
         "repos_url" : "https://api.github.com/users/pox/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pox/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pox/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pox"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r288131185"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288131185"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\nqt/bitcoingui.cpp:373:54: warning: loop variable 'i' has type 'const std::pair<std::string, bool> &' (aka 'const pair<basic_string<char, char_traits<char>, allocator<char> >, bool> &') but is initialized with type 'std::__1::__map_iterator<std::__1::__tree_iterator<std::__1::__value_type<std::__1::basic_string<char>, bool>, std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char>, bool>, void *> *, long> >::value_type' (aka 'pair<const std::__1::basic_string<char>, bool>') resulting in a copy [-Wrange-loop-analysis]\r\n            for (const std::pair<std::string, bool>& i : m_wallet_controller->listWalletDir()) {\r\n                                                     ^\r\nqt/bitcoingui.cpp:373:18: note: use non-reference type 'std::pair<std::string, bool>' (aka 'pair<basic_string<char, char_traits<char>, allocator<char> >, bool>') to keep the copy or type 'const std::__1::__map_iterator<std::__1::__tree_iterator<std::__1::__value_type<std::__1::basic_string<char>, bool>, std::__1::__tree_node<std::__1::__value_type<std::__1::basic_string<char>, bool>, void *> *, long> >::value_type &' (aka 'const pair<const std::__1::basic_string<char>, bool> &') to prevent copying\r\n            for (const std::pair<std::string, bool>& i : m_wallet_controller->listWalletDir()) {\r\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n1 warning generated.\r\n```",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-05-28T14:21:46Z",
      "diff_hunk" : "@@ -370,13 +370,12 @@ void BitcoinGUI::createActions()\n         connect(openAction, &QAction::triggered, this, &BitcoinGUI::openClicked);\n         connect(m_open_wallet_action->menu(), &QMenu::aboutToShow, [this] {\n             m_open_wallet_action->menu()->clear();\n-            std::vector<std::string> available_wallets = m_wallet_controller->getWalletsAvailableToOpen();\n-            std::vector<std::string> wallets = m_node.listWalletDir();\n-            for (const auto& path : wallets) {\n+            for (const std::pair<std::string, bool>& i : m_wallet_controller->listWalletDir()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r288131185",
      "id" : 288131185,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODEzMTE4NQ==",
      "original_commit_id" : "4aec893d08b912d38993d73630323be307b43e90",
      "original_position" : 7,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_review_id" : 242703927,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288131185",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r288139308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288139308"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, fixed.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-05-28T14:37:35Z",
      "diff_hunk" : "@@ -370,13 +370,12 @@ void BitcoinGUI::createActions()\n         connect(openAction, &QAction::triggered, this, &BitcoinGUI::openClicked);\n         connect(m_open_wallet_action->menu(), &QMenu::aboutToShow, [this] {\n             m_open_wallet_action->menu()->clear();\n-            std::vector<std::string> available_wallets = m_wallet_controller->getWalletsAvailableToOpen();\n-            std::vector<std::string> wallets = m_node.listWalletDir();\n-            for (const auto& path : wallets) {\n+            for (const std::pair<std::string, bool>& i : m_wallet_controller->listWalletDir()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r288139308",
      "id" : 288139308,
      "in_reply_to_id" : 288131185,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODEzOTMwOA==",
      "original_commit_id" : "4aec893d08b912d38993d73630323be307b43e90",
      "original_position" : 7,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_review_id" : 242714609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288139308",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK ffa113085f9fdbc6ab065a54ceec17df119540dc",
      "created_at" : "2019-05-29T07:05:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-496812577",
      "id" : 496812577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NjgxMjU3Nw==",
      "updated_at" : "2019-05-29T07:05:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/496812577",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r288786857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288786857"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you still want to capture by reference here, `const auto&` or `const std::pair<const std::string, bool>&`.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-05-29T22:01:43Z",
      "diff_hunk" : "@@ -370,13 +370,12 @@ void BitcoinGUI::createActions()\n         connect(openAction, &QAction::triggered, this, &BitcoinGUI::openClicked);\n         connect(m_open_wallet_action->menu(), &QMenu::aboutToShow, [this] {\n             m_open_wallet_action->menu()->clear();\n-            std::vector<std::string> available_wallets = m_wallet_controller->getWalletsAvailableToOpen();\n-            std::vector<std::string> wallets = m_node.listWalletDir();\n-            for (const auto& path : wallets) {\n+            for (auto i : m_wallet_controller->listWalletDir()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r288786857",
      "id" : 288786857,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4ODc4Njg1Nw==",
      "original_commit_id" : "ffa113085f9fdbc6ab065a54ceec17df119540dc",
      "original_position" : 7,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_review_id" : 243539581,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/288786857",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r289189196"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/289189196"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-05-30T21:59:00Z",
      "diff_hunk" : "@@ -370,13 +370,12 @@ void BitcoinGUI::createActions()\n         connect(openAction, &QAction::triggered, this, &BitcoinGUI::openClicked);\n         connect(m_open_wallet_action->menu(), &QMenu::aboutToShow, [this] {\n             m_open_wallet_action->menu()->clear();\n-            std::vector<std::string> available_wallets = m_wallet_controller->getWalletsAvailableToOpen();\n-            std::vector<std::string> wallets = m_node.listWalletDir();\n-            for (const auto& path : wallets) {\n+            for (auto i : m_wallet_controller->listWalletDir()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r289189196",
      "id" : 289189196,
      "in_reply_to_id" : 288786857,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4OTE4OTE5Ng==",
      "original_commit_id" : "ffa113085f9fdbc6ab065a54ceec17df119540dc",
      "original_position" : 7,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_review_id" : 244051267,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/289189196",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK https://github.com/bitcoin/bitcoin/pull/16106/commits/ddad3a642d50251a067c91932b372cb60f48e1a7",
      "created_at" : "2019-05-31T19:19:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-497830470",
      "id" : 497830470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NzgzMDQ3MA==",
      "updated_at" : "2019-05-31T19:19:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/497830470",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301040122"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301040122"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this needs to check if  `wallet_model->wallet().getWalletName()` is in the map in the first place before setting it to true, in case there's a wallet loaded (for whatever reason) that's not in the wallet dir, it shouldn't suddenly appear in this list",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-07-08T11:11:42Z",
      "diff_hunk" : "@@ -46,13 +46,15 @@ std::vector<WalletModel*> WalletController::getWallets() const\n     return m_wallets;\n }\n \n-std::vector<std::string> WalletController::getWalletsAvailableToOpen() const\n+std::map<std::string, bool> WalletController::listWalletDir() const\n {\n     QMutexLocker locker(&m_mutex);\n-    std::vector<std::string> wallets = m_node.listWalletDir();\n+    std::map<std::string, bool> wallets;\n+    for (const std::string& name : m_node.listWalletDir()) {\n+        wallets[name] = false;\n+    }\n     for (WalletModel* wallet_model : m_wallets) {\n-        auto it = std::remove(wallets.begin(), wallets.end(), wallet_model->wallet().getWalletName());\n-        if (it != wallets.end()) wallets.erase(it);\n+        wallets[wallet_model->wallet().getWalletName()] = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301040122",
      "id" : 301040122,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTA0MDEyMg==",
      "original_commit_id" : "7a549fcc17ccfbd350b1e69a48e8d0c895b63148",
      "original_position" : 16,
      "path" : "src/qt/walletcontroller.cpp",
      "position" : null,
      "pull_request_review_id" : 258835007,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301040122",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301049250"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301049250"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good catch.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-07-08T11:39:35Z",
      "diff_hunk" : "@@ -46,13 +46,15 @@ std::vector<WalletModel*> WalletController::getWallets() const\n     return m_wallets;\n }\n \n-std::vector<std::string> WalletController::getWalletsAvailableToOpen() const\n+std::map<std::string, bool> WalletController::listWalletDir() const\n {\n     QMutexLocker locker(&m_mutex);\n-    std::vector<std::string> wallets = m_node.listWalletDir();\n+    std::map<std::string, bool> wallets;\n+    for (const std::string& name : m_node.listWalletDir()) {\n+        wallets[name] = false;\n+    }\n     for (WalletModel* wallet_model : m_wallets) {\n-        auto it = std::remove(wallets.begin(), wallets.end(), wallet_model->wallet().getWalletName());\n-        if (it != wallets.end()) wallets.erase(it);\n+        wallets[wallet_model->wallet().getWalletName()] = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301049250",
      "id" : 301049250,
      "in_reply_to_id" : 301040122,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTA0OTI1MA==",
      "original_commit_id" : "7a549fcc17ccfbd350b1e69a48e8d0c895b63148",
      "original_position" : 16,
      "path" : "src/qt/walletcontroller.cpp",
      "position" : null,
      "pull_request_review_id" : 258846496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301049250",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301090373"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301090373"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> for whatever reason\r\n\r\nOne reason is external wallets.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-07-08T13:24:43Z",
      "diff_hunk" : "@@ -46,13 +46,15 @@ std::vector<WalletModel*> WalletController::getWallets() const\n     return m_wallets;\n }\n \n-std::vector<std::string> WalletController::getWalletsAvailableToOpen() const\n+std::map<std::string, bool> WalletController::listWalletDir() const\n {\n     QMutexLocker locker(&m_mutex);\n-    std::vector<std::string> wallets = m_node.listWalletDir();\n+    std::map<std::string, bool> wallets;\n+    for (const std::string& name : m_node.listWalletDir()) {\n+        wallets[name] = false;\n+    }\n     for (WalletModel* wallet_model : m_wallets) {\n-        auto it = std::remove(wallets.begin(), wallets.end(), wallet_model->wallet().getWalletName());\n-        if (it != wallets.end()) wallets.erase(it);\n+        wallets[wallet_model->wallet().getWalletName()] = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301090373",
      "id" : 301090373,
      "in_reply_to_id" : 301040122,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTA5MDM3Mw==",
      "original_commit_id" : "7a549fcc17ccfbd350b1e69a48e8d0c895b63148",
      "original_position" : 16,
      "path" : "src/qt/walletcontroller.cpp",
      "position" : null,
      "pull_request_review_id" : 258898512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301090373",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301115478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301115478"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-07-08T14:12:53Z",
      "diff_hunk" : "@@ -46,13 +46,15 @@ std::vector<WalletModel*> WalletController::getWallets() const\n     return m_wallets;\n }\n \n-std::vector<std::string> WalletController::getWalletsAvailableToOpen() const\n+std::map<std::string, bool> WalletController::listWalletDir() const\n {\n     QMutexLocker locker(&m_mutex);\n-    std::vector<std::string> wallets = m_node.listWalletDir();\n+    std::map<std::string, bool> wallets;\n+    for (const std::string& name : m_node.listWalletDir()) {\n+        wallets[name] = false;\n+    }\n     for (WalletModel* wallet_model : m_wallets) {\n-        auto it = std::remove(wallets.begin(), wallets.end(), wallet_model->wallet().getWalletName());\n-        if (it != wallets.end()) wallets.erase(it);\n+        wallets[wallet_model->wallet().getWalletName()] = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#discussion_r301115478",
      "id" : 301115478,
      "in_reply_to_id" : 301040122,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTExNTQ3OA==",
      "original_commit_id" : "7a549fcc17ccfbd350b1e69a48e8d0c895b63148",
      "original_position" : 16,
      "path" : "src/qt/walletcontroller.cpp",
      "position" : null,
      "pull_request_review_id" : 258930133,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16106",
      "updated_at" : "2019-07-08T14:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301115478",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "code review ACK fa90fe6440301edba71a6f0b1ba3ef1c78d5eae4",
      "created_at" : "2019-07-08T14:31:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16106#issuecomment-509249920",
      "id" : 509249920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16106",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwOTI0OTkyMA==",
      "updated_at" : "2019-07-08T14:31:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509249920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
