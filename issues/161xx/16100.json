{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "\r\nRunning bitcoind and bitcoin-cli with JSON RPC, 0.18.0 on testnet, having a nightmare trying to understand the inconsistency of this parameter's behaviour.\r\n\r\nIt works fine every time, until the remaining balance left in wallet will be lower than an undetermined amount. At that point, it decides to use all of the remainder as extra fees for the supposedly fee inclusive transaction, thereby failing to perform the subtractfeefromamount functionality.\r\n\r\nExamples of my test results:\r\n\r\nBalance 10000, sent 1000 - Balance 9000\r\n\r\nBalance 3000, sent 1600 - Balance 1400\r\n\r\nBalance 1400, sent 1300 - Balance 0\r\n\r\nBalance 8700, sent 8400 - Balance 0\r\n\r\nBalance 10000, sent 9500 - Balance 0\r\n\r\nThe format and values of all other parameters and code do not change between tests, only the amount for sending. I do not specify any parameters beyond subtractfee\r\n\r\nThere definitely seems to be some mechanism to use all the remainder for fees when the remainder is under a certain amount, but this is terrible and unpredictable, why does it happen and how can it be prevented?\r\nShould be reproduceable!\r\n\r\nThanks",
   "closed_at" : "2019-05-27T15:35:41Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 13,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16100/comments",
   "created_at" : "2019-05-27T10:51:48Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16100/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/16100",
   "id" : 448791186,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16100/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0NDg3OTExODY=",
   "number" : 16100,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "SubtractFeeFromAmount Inconsistency",
   "updated_at" : "2019-05-28T04:04:09Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16100",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/32367656?v=4",
      "events_url" : "https://api.github.com/users/VoxR4710/events{/privacy}",
      "followers_url" : "https://api.github.com/users/VoxR4710/followers",
      "following_url" : "https://api.github.com/users/VoxR4710/following{/other_user}",
      "gists_url" : "https://api.github.com/users/VoxR4710/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/VoxR4710",
      "id" : 32367656,
      "login" : "VoxR4710",
      "node_id" : "MDQ6VXNlcjMyMzY3NjU2",
      "organizations_url" : "https://api.github.com/users/VoxR4710/orgs",
      "received_events_url" : "https://api.github.com/users/VoxR4710/received_events",
      "repos_url" : "https://api.github.com/users/VoxR4710/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/VoxR4710/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/VoxR4710/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/VoxR4710"
   }
}
