[
   {
      "author_association" : "NONE",
      "body" : "I have the same issue with bitcoin CLI. I'm using v23.0 tag for testing.",
      "created_at" : "2022-08-03T15:25:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25635#issuecomment-1204104734",
      "id" : 1204104734,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25635",
      "node_id" : "IC_kwDOABII585HxS4e",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1204104734/reactions"
      },
      "updated_at" : "2022-08-03T15:25:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1204104734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91883972?v=4",
         "events_url" : "https://api.github.com/users/liorwavebl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/liorwavebl/followers",
         "following_url" : "https://api.github.com/users/liorwavebl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/liorwavebl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/liorwavebl",
         "id" : 91883972,
         "login" : "liorwavebl",
         "node_id" : "U_kgDOBXoJxA",
         "organizations_url" : "https://api.github.com/users/liorwavebl/orgs",
         "received_events_url" : "https://api.github.com/users/liorwavebl/received_events",
         "repos_url" : "https://api.github.com/users/liorwavebl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/liorwavebl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/liorwavebl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/liorwavebl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Your issue is that since your wallet name contains slashes, the http server is mis-reading the endpoint you are sending the request to. Or rather, it is reading it correctly but to sneak in those slashes you need to URI-encode you full wallet path.\r\n\r\nFor example I created a wallet at the path `/tmp/a/b/c/bitcoin/d/e/f`.\r\n\r\n`bitcoin-cli` can handle the slashy wallet name:\r\n\r\n```\r\n$ src/bitcoin-cli -regtest -datadir=/tmp/a/b/c/bitcoin -rpcuser=u -rpcpassword=p -rpcwallet=/tmp/a/b/c/bitcoin/d/e/f getbalances\r\n\r\n{\r\n  \"mine\": {\r\n    \"trusted\": 0.00000000,\r\n    \"untrusted_pending\": 0.00000000,\r\n    \"immature\": 0.00000000\r\n  }\r\n}\r\n```\r\n\r\nThat's because internally it URI-encodes the wallet name.\r\n\r\nHere's an example of what you are currently doing that wont work, followed by a corrected example that does work:\r\n\r\n```\r\n\r\n$ curl http://u:p@localhost:18443/wallet/tmp/a/b/c/bitcoin/d/e/f --data '{\"method\":\"getbalances\"}' | jq\r\n{\r\n  \"result\": null,\r\n  \"error\": {\r\n    \"code\": -18,\r\n    \"message\": \"Requested wallet does not exist or is not loaded\"\r\n  },\r\n  \"id\": null\r\n}\r\n\r\n$ curl http://u:p@localhost:18443/wallet/%2Ftmp%2Fa%2Fb%2Fc%2Fbitcoin%2Fd%2Fe%2Ff --data '{\"method\":\"getbalances\"}' | jq\r\n{\r\n  \"result\": {\r\n    \"mine\": {\r\n      \"trusted\": 0,\r\n      \"untrusted_pending\": 0,\r\n      \"immature\": 0\r\n    }\r\n  },\r\n  \"error\": null,\r\n  \"id\": null\r\n}\r\n```",
      "created_at" : "2023-03-08T15:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25635#issuecomment-1460369990",
      "id" : 1460369990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25635",
      "node_id" : "IC_kwDOABII585XC3pG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1460369990/reactions"
      },
      "updated_at" : "2023-03-08T15:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1460369990",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   }
]
