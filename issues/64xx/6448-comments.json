[
   {
      "body" : "The refactoring is reasonable. However without expiration of low fee transactions it's a pretty dangerous change, as the moment you fill up the mempool with junk that miners don't or can't mine your node stops relaying transactions - better to have nodes crash with OOM errors and get restarted than that.\r\n\r\nThe simplest thing to do is for the purpose of the pull-req, disable the limit by setting it to something ridiculously high by default to match the existing behavior. (or just add in the expiration code)",
      "created_at" : "2015-07-17T11:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6448#issuecomment-122249625",
      "id" : 122249625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6448",
      "updated_at" : "2015-07-17T11:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122249625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Yes, a ridiculously high value is what I was discussing with @morcos the other day on IRC (the actual value is open for bike-shedding). Another possibility it's to just start with #6416, which would already be a step in the right direction for conflict replacement policies (ie FS, RBF, zeroconf-safe-RBF, etc).\r\n\r\n",
      "created_at" : "2015-07-17T21:07:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6448#issuecomment-122416186",
      "id" : 122416186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6448",
      "updated_at" : "2015-07-17T21:07:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122416186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Even if the default would be ridiculously high, at least we would be giving the option of the cap for people who really don't want their node to crash (maybe they prefer to restart it periodically to cleanup the mempool or something).",
      "created_at" : "2015-07-17T21:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6448#issuecomment-122417466",
      "id" : 122417466,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6448",
      "updated_at" : "2015-07-17T21:09:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122417466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I think your rebasing failed a bit here, as several of my changes are inside your ''prepare'' commit now.",
      "created_at" : "2015-07-18T00:32:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6448#issuecomment-122460551",
      "id" : 122460551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6448",
      "updated_at" : "2015-07-18T00:32:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122460551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Sipa, it's not several of your commits, it's a small subset of the last commit in #6421 (in addition to the fixup I proposed there). This is indicated in the commit message. The second commit is also a subset of that commit. Maybe reading the rebased version of #6421 (read the initial description of the PR) makes this clearer.",
      "created_at" : "2015-07-18T05:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6448#issuecomment-122485024",
      "id" : 122485024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6448",
      "updated_at" : "2015-07-18T05:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122485024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I updated this with move movements and introducing a cache for the transaction checks and the fee calculations.\r\nNow, even maintaining the dub \"reject everything when full\" replacement policy, and even selecting -maxmempool=0 this should be safe to use unless I am missing something (and unless the user also selects -relaybeyondmempool=0).\r\n\r\nWith this, full nodes that don't need fee estimation can function without mempool as suggested by @petertodd .\r\n\r\nThe rebased version of  #6421 is still on https://github.com/jtimon/bitcoin/tree/limitpool_rebased\r\n\r\nNow apart from #6416 it also contains #6445.\r\n",
      "created_at" : "2015-07-20T22:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6448#issuecomment-123064158",
      "id" : 123064158,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6448",
      "updated_at" : "2015-07-20T22:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/123064158",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
