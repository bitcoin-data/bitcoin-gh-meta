[
   {
      "author_association" : "MEMBER",
      "body" : "I'm sorry but I'm not sure this is a good idea. Having the test framework be internal makes it very flexible, easy to adopt to our changing needs. Offering it as an external API means having to deal with versioning, backwards compatibility, external feature requests, and so on.\r\n\r\nAren't there other Python bitcoin frameworks that could do what you want?\r\n\r\n> It would be preferable to install Python dependencies from this repo, which is already trusted and maintained, than to have to copy/paste vendor code or go to third parties.\r\n\r\nI really dislike this reasoning. Yes, maybe you trust this repo, but we've always resisted the centralizing force of having everything come from a single project and maintained under a single banner. I think this is one of bitcoin's stroing points compared to other coin ecosystems.",
      "created_at" : "2021-11-08T17:06:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963371494",
      "id" : 963371494,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845a-Hm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963371494/reactions"
      },
      "updated_at" : "2021-11-08T17:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963371494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Aren't there other Python bitcoin frameworks that could do what you want?\r\n\r\nI think offering this with the caveat that there are essentially no API compatibility guarantees would be much better than nothing. I think an equivalent Python library would basically just be a copy/paste of much of the content in `test_framework` but would be more prone to bit-rot.\r\n\r\nThe code here is always functional by nature of it being used to test bitcoin, and there's huge value in that. IMO users should be able to use this code externally if they accept the caveat that API compatibility is not a consideration.",
      "created_at" : "2021-11-08T17:10:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963375745",
      "id" : 963375745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845a_KB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963375745/reactions"
      },
      "updated_at" : "2021-11-08T17:10:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963375745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, I do this myself too. Either I symlink `test_framework` or copy the necessary modules into my project (usually `authproxy.py`). I think that can be super useful.\r\nBut I don't want to commit to this. I don't think it's a good idea to support this outside the immediate developer community of this project, which e.g. making it installable with pip would suggest.\r\n\r\nAlso remember that this is a test framework. It is *not* to be used for production usage of any kind. E.g.: please don't use it with real money at stake.",
      "created_at" : "2021-11-08T17:15:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963380025",
      "id" : 963380025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bAM5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963380025/reactions"
      },
      "updated_at" : "2021-11-08T17:18:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963380025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I really dislike this reasoning. Yes, maybe you trust this repo, but we've always resisted the centralizing force of having everything come from a single project and maintained under a single banner.\r\n\r\nI understand where you're coming from here, but if this is code that we already have to maintain anyway, why not make it usable by others? The maintenance and review cycle in Core is incredibly thorough and well-attended - I am not a fan of expanding it to things that we don't already work on, but if this code is already under the umbrella anyway, it is a tremendous benefit to be able to leverage it.\r\n\r\n> I don't think it's a good idea to support this outside the immediate developer community of this project, which e.g. making it installable with pip would suggest.\r\n\r\nNote that I intentionally omitted mentioning, say, PyPI for this reason.",
      "created_at" : "2021-11-08T17:17:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963382163",
      "id" : 963382163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bAuT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963382163/reactions"
      },
      "updated_at" : "2021-11-08T17:17:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963382163",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the test framework codebase has a common ancestor with https://github.com/petertodd/python-bitcoinlib; perhaps to some extent that is usable too?\r\n\r\n> IMO users should be able to use this code externally if they accept the caveat that API compatibility is not a consideration.\r\n\r\nExperience shows that this just doesn't work. If it's usable, people will use it, and then complain about changes that break compatibility.",
      "created_at" : "2021-11-08T17:18:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963383413",
      "id" : 963383413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bBB1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963383413/reactions"
      },
      "updated_at" : "2021-11-08T17:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963383413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> E.g.: please don't use it with real money at stake.\r\n\r\nI agree with this general caveat, but I would much rather rely on this repository's review process for money-sensitive operations than some additional third party if possible.\r\n\r\n> Experience shows that this just doesn't work. If it's usable, people will use it, and then complain about changes that break compatibility.\r\n\r\nI think having a strong caveat in the README that \r\n- (i) makes it clear that API compatibility will not be given consideration and \r\n- (ii) recommends pinning a specific hash of the `bitcoincore` library \r\n\r\nwould absolve our process of any practical hurdles. There is an easy-to-articulate process for freezing this dep and manually backporting in updates that we could outline with little/no cost to our development cycle.",
      "created_at" : "2021-11-08T17:53:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963411549",
      "id" : 963411549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bH5d",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963411549/reactions"
      },
      "updated_at" : "2021-11-08T17:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963411549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> but I would much rather rely on this repository's review process for money-sensitive operations than some additional third party if possible.\r\n\r\nWe do not review the test code with this scenario in mind.",
      "created_at" : "2021-11-08T17:56:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963414648",
      "id" : 963414648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bIp4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963414648/reactions"
      },
      "updated_at" : "2021-11-08T17:56:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963414648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> the (very useful and well-maintained) Python utilities we have for interacting with bitcoind\r\n\r\nI don't think this is a fair statement. The test framework python code is not meant to be utilities for interacting with `bitcoind`. It's sole purpose is to _be_ the functional test framework. While there is likely some overlapping use-case, I think the test framework code should be written and optimized to efficiently run the test framework only. If people did start using this as a more general-purpose library, I'd be worried that decisions to make it more generally useful might degrade its performance/usefulness in the test framework.\r\n\r\nSecondly, from personal experience, I did repurpose this code for a personal project I was doing and found myself fighting the code a lot and hacking it to make it more generally useful. I ended up using https://ofek.dev/bit/ , which I found to be much easier to use.",
      "created_at" : "2021-11-08T18:11:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963428790",
      "id" : 963428790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bMG2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963428790/reactions"
      },
      "updated_at" : "2021-11-08T18:11:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963428790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> which makes the (very useful and well-maintained) Python utilities we have for interacting with bitcoind pip installable and so usable as a library by other programs\r\n\r\nThis is interesting and if I understand this correctly it can be used in a project like https://github.com/prayank23/bitcoin-ps\r\n\r\nA GUI application to test Bitcoin Core which has options similar to https://portswigger.net/burp:\r\n\r\n1. Python scripts\r\n2. Different options for fuzzing\r\n3. Setup regtest nodes with few clicks\r\n\r\nIf I had to create such application using C# maybe I can use [Iron Python](https://www.nuget.org/packages/IronPython/)\r\n\r\nOr maybe someone can use flask to create a web UI for testing Bitcoin Core, code playground etc.",
      "created_at" : "2021-11-08T18:35:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963454811",
      "id" : 963454811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bSdb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963454811/reactions"
      },
      "updated_at" : "2021-11-08T18:35:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963454811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "one thing i've hit up against is that certain things (e.g. in messages.py) are missing the APIs you want for building stuff and when I did sapio in python (somewhere in old commits of https://github.com/sapio-lang/sapio) I had to patch a number of things iirc when I vendored the lib out of core.\r\n\r\nA benefit of making it a library is that these patches/changes might be more likely to get upstreamed which could benefit test writers too.\r\n\r\nMaybe a good intermediate would be to just make a workflow of some kind that triggers a release of whatever the latest python code is every time there is a core release? This can happen without the release being core official.",
      "created_at" : "2021-11-08T18:49:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963467416",
      "id" : 963467416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bViY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963467416/reactions"
      },
      "updated_at" : "2021-11-08T18:49:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963467416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't think this is a fair statement.\r\n\r\nYou don't think it's a fair statement that the Python code in the test framework is \"very useful and well-maintained\"? Or that it helps facilitate interaction with bitcoind?\r\n\r\n> If people did start using this as a more general-purpose library, I'd be worried that decisions to make it more generally useful might degrade its performance/usefulness in the test framework.\r\n\r\nI have mentioned numerous times above that strong caveats could be included to make it clear that this library is driven around test usage for Bitcoin Core vs. anything else.\r\n\r\n> We do not review the test code with this scenario in mind.\r\n\r\nThis is a good point and I sympathize with it, but the reality is that because of this code's use and inclusion in this repository, it is probably better maintained than alternatives by an order of magnitude. I support making a big disclaimer that \"this library is not intended for use with real funds\" but that doesn't change the reality that de facto I would still probably choose to rely on this code over every usable alternative given its heavy use and constant review.",
      "created_at" : "2021-11-08T18:49:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963467766",
      "id" : 963467766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bVn2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963467766/reactions"
      },
      "updated_at" : "2021-11-08T18:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963467766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe a good intermediate would be to just make a workflow of some kind that triggers a release of whatever the latest python code is every time there is a core release? This can happen without the release being core official.\r\n\r\nYup, this is what I intend to do if this change is not accepted. But then users will sadly have to trust/verify that I have not tampered with the code instead of just relying on the existing processes here.",
      "created_at" : "2021-11-08T18:50:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963468600",
      "id" : 963468600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845bV04",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963468600/reactions"
      },
      "updated_at" : "2021-11-08T19:00:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963468600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23371](https://github.com/bitcoin/bitcoin/pull/23371) (test: MiniWallet: add P2TR support and use it per default by theStack)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-11-09T05:28:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963830271",
      "id" : 963830271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845cuH_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963830271/reactions"
      },
      "updated_at" : "2021-11-09T05:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963830271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure what the goal here is, but the ones mentioned in the OP seem completely different scopes. I think writing an alternative/exclusive transport layer with the test code should not be done. The test structs are *not* guaranteed to be compatible with the p2p layer. They are only guaranteed to be compatible with the Bitcoin Core serialization at one specific commit. I think this should also be our goal, but there seems to be disagreement (https://github.com/bitcoin/bitcoin/pull/21357#discussion_r600727982)\r\n\r\nAlso, as mentioned previously private keys in the tests are treated like a 123456 password. Not something that should be used outside of tests.\r\n\r\nIf the goal is to make it easier to write external Bitcoin Core tests, then that seems ok. Do you need `pip` for that or can you use the existing TestShell for it? https://github.com/bitcoin/bitcoin/tree/master/test/functional#prototyping-tests",
      "created_at" : "2021-11-09T08:41:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963929332",
      "id" : 963929332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845dGT0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963929332/reactions"
      },
      "updated_at" : "2021-11-09T08:41:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963929332",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "And if TestShell isn't sufficient, can't you use this:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/94db963de501e4aba6e5d8150a01ceb85753dee1/contrib/message-capture/message-capture-parser.py#L16",
      "created_at" : "2021-11-09T09:15:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963957727",
      "id" : 963957727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845dNPf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963957727/reactions"
      },
      "updated_at" : "2021-11-09T09:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963957727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> You don't think it's a fair statement that the Python code in the test framework is \"very useful and well-maintained\"? Or that it helps facilitate interaction with bitcoind?\r\n\r\nSorry, should have been more clear: I think it is incorrect to think of this code as \"well-maintained utilities for interacting with `bitcoind`.\" This code is for the functional testing framework and it is written and reviewed with only that purpose in mind.\r\n\r\n",
      "created_at" : "2021-11-09T09:46:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963981852",
      "id" : 963981852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845dTIc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963981852/reactions"
      },
      "updated_at" : "2021-11-09T09:46:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963981852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-11-09T10:40:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964025307",
      "id" : 964025307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845ddvb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964025307/reactions"
      },
      "updated_at" : "2021-11-09T10:40:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964025307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Also, as mentioned previously private keys in the tests are treated like a 123456 password. Not something that should be used outside of tests.\r\n\r\nNot to mention that authproxy itself is broken. Repeating RPCs until they succeed, ignoring error conditions.",
      "created_at" : "2021-11-09T12:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964113801",
      "id" : 964113801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845dzWJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964113801/reactions"
      },
      "updated_at" : "2021-11-09T12:38:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964113801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The test structs are not guaranteed to be compatible with the p2p layer. They are only guaranteed to be compatible with the Bitcoin Core serialization at one specific commit. I think this should also be our goal, but there seems to be disagreement (#21357 (comment))\r\n\r\nThis seems counter-intuitive, since I would have thought that one of the central purposes of the functional test framework is to serve as external verification that there are not unexpected changes to P2P semantics/serialization. Allowing that the P2P client in the functional tests is overtly coupled to a single Bitcoin Core commit (and not the more general P2P protocol) seems like an unfortunate concession.\r\n\r\nPerhaps you're right that the current `test_framework` code is too muddled with test-specific stuff to be generally useful. Admittedly I haven't repurposed much aside from `test_framework.{p2p,messages}`, neither of which seems to have much test-specific content. Maybe it would be worth outlining those places where there are \"123456 passwords\" and isolating them to a specific module, provided such a thing is not overly cumbersome to do.\r\n\r\n---\r\n\r\nAnyway, I guess I'll close this and either do Yet Another Third Party Python Module for my own purposes or think more about an alternate approach - e.g. somehow uniting `src/protocol.*` and components like `net::CSerializedNetMsg` into a shared library that can be used outside of Bitcoin Core and wrapped in $whatever_lang. ",
      "created_at" : "2021-11-09T14:58:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964230042",
      "id" : 964230042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845ePua",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964230042/reactions"
      },
      "updated_at" : "2021-11-09T14:58:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964230042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jamesob Have you looked at  https://github.com/petertodd/python-bitcoinlib? It also has P2P serialization etc.",
      "created_at" : "2021-11-09T15:00:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964231532",
      "id" : 964231532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845eQFs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964231532/reactions"
      },
      "updated_at" : "2021-11-09T15:00:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964231532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Aren't there other Python bitcoin frameworks that could do what you want?\r\n\r\nI've considered proposing a PR like this before too; for testing/research the test_framework API is really handy -- it has a whole bunch of code to allow you to decode bitcoind messages/data structures, to participate in the p2p network, and to get access to the rpc/cli interface. It's definitely not good for use with real secrets/money, though. By comparison, I've found other libraries tend to just not have code for the things I've been interested in, or they've been too out of date to really be useful (eg python-secp256k1 has been unmaintained and out of date, and I see there's a few \"taproot support?\" feature requests recently opened on other python modules). I've found the test_framework code useful for (a) mining signet blocks (contrib/signet/miner) (b) [testing anyprevout/eltoo](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-August/019342.html) (c) [testing taproot based lightning designs](https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-October/003278.html).\r\n\r\nBut the \"don't want to encourage using this for production work\" and \"don't want to make it hard to change things in ways that improve bitcoind\" are compelling counter arguments.\r\n\r\nI think at a minimum it should be called \"bitcoin-test-lib\" or something rather than \"bitcoincore\" to emphasise that it's not for production use. Maybe it would make sense to heavily version it, so that you say \"import bitcoin_test_lib.v22 as btctest\" and it's obvious your code will break when you update to v23. If it were done in a separate repo that just copies code from core once a release, you could support both v21, v22, and v23 simultaneously, which might mitigate backwards incompatibilities.",
      "created_at" : "2021-11-09T15:00:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964231789",
      "id" : 964231789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845eQJt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964231789/reactions"
      },
      "updated_at" : "2021-11-09T15:00:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964231789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @jamesob Have you looked at https://github.com/petertodd/python-bitcoinlib? It also has P2P serialization etc.\r\n\r\nI have used this library before, and no doubt it is useful, but I don't have much confidence in what it provides for P2P/net since no part of its test suite runs against an actual bitcoind instance. Not to mention it doesn't provide anything along the lines of `test_framework.{P2PInterface,NetworkThread,P2PDataStore,...}`, which are quite useful and decently complicated (lot of asynchronicity).",
      "created_at" : "2021-11-09T15:08:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964239369",
      "id" : 964239369,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845eSAJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964239369/reactions"
      },
      "updated_at" : "2021-11-09T15:08:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964239369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Allowing that the P2P client in the functional tests is overtly coupled to a single Bitcoin Core commit (and not the more general P2P protocol) seems like an unfortunate concession.\r\n\r\nWhy? If you want to check that older versions of Bitcoin Core can read p2p data from the latest version of Bitcoin Core, you can write a test using previous releases. If that is too much, I think a unit test is better suited to check deserialization compatibility than a functional test. And even if a functional test was the right place, if you wanted to rely on that elsewhere, you'd have to write the serialize logic here first anyway before exposing it.\r\n\r\n\r\n> I think at a minimum it should be called \"bitcoin-test-lib\" or something rather than \"bitcoincore\" to emphasise that it's not for production use.\r\n\r\nAgree that this is an acceptable alternative. Though, it would still be good to explain the advantages/disadvantages of the different approaches for non-python packaging people. The sys.path.append hack (https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-963957727) should work for any previous and all future releases already without any patches.",
      "created_at" : "2021-11-09T15:12:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-964244016",
      "id" : 964244016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845eTIw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964244016/reactions"
      },
      "updated_at" : "2021-11-09T15:12:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964244016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> By comparison, I've found other libraries tend to just not have code for the things I've been interested in, or they've been too out of date to really be useful (eg python-secp256k1 has been unmaintained and out of date, and I see there's a few \"taproot support?\" feature requests recently opened on other python module\r\n\r\nOutside of the specific context of changing the test framework into something it is not, I think this is a good point. I do wish the existing Python libraries for interfacing with bitcoin (e.g. python-bitcoinlib, bit) were more actively maintained. There seems to be a big demand for them (even though @petertodd believes nowadays that Python is a bad choice for that and people should rust instead :smile: ).",
      "created_at" : "2021-11-10T11:01:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23468#issuecomment-965019695",
      "id" : 965019695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23468",
      "node_id" : "IC_kwDOABII5845hQgv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965019695/reactions"
      },
      "updated_at" : "2021-11-10T11:01:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965019695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
