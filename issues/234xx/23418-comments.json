[
   {
      "author_association" : "MEMBER",
      "body" : "Currently a draft, so please only review the concept and approach. I'll rebase this after #23411 (which shares the first commit) and take it out of draft.",
      "created_at" : "2021-11-02T19:43:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-958112130",
      "id" : 958112130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII5845G6GC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958112130/reactions"
      },
      "updated_at" : "2021-11-02T19:43:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958112130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17786](https://github.com/bitcoin/bitcoin/pull/17786) (refactor: Nuke policy/fees->mempool circular dependencies by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-11-03T00:06:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-958478249",
      "id" : 958478249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII5845ITep",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958478249/reactions"
      },
      "updated_at" : "2022-06-21T12:03:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958478249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-11-03T08:44:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-958748521",
      "id" : 958748521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII5845JVdp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958748521/reactions"
      },
      "updated_at" : "2021-11-03T08:44:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958748521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r742736167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742736167"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In this interface the function may or may not add the second argument to the first and it does not signal to the caller which one of the two it did. I find this puzzling. Surely the caller needs to take a different action depending on whether the two numbers can be summed or not? If the caller does not care and takes the same action either way, and the code is still correct, then why bother and not just skip calling `MaybeAdd()` altogether? (if not adding is also ok)\r\n\r\nOr, if this is used in some kind of blurred logic where everything is ok, is it not better for the sum to produce `numeric_limits<T>::max()` in case of an overflow? E.g. if summing `char` `100 + 30` to produce `127` instead of `100`?\r\n\r\nTo me it would be more logical to check for an overflow and take the appropriate action if one would occur, even if that is to `abort()` the program. We have types that are wide enough to ensure that overflow \"never\" occurs, or if it occurs then `abort()`ing is justified. Something like:\r\n\r\n```cpp\r\ntemplate <typename T>\r\nT SumOrDie(T x, T y)\r\n{\r\n    assert(!AddOverflows(x, y));\r\n    assert(!AddUnderflows(x, y));\r\n    return x + y;\r\n}",
      "commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "created_at" : "2021-11-04T11:07:58Z",
      "diff_hunk" : "@@ -22,6 +23,22 @@\n #include <cmath>\n #include <optional>\n \n+template <typename T>\n+static void MaybeAdd(T& mut, const T& apply)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r742736167",
      "id" : 742736167,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584sRUEn",
      "original_commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "original_line" : 27,
      "original_position" : 13,
      "original_start_line" : 26,
      "path" : "src/txmempool.cpp",
      "position" : 13,
      "pull_request_review_id" : 797606445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742736167/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 26,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-04T11:13:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742736167",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r744953272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744953272"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This ignores the fee delta when it would otherwise overflow, which seems like incorrect behaviour. Shouldn't we just set `mut` to the max value?",
      "commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "created_at" : "2021-11-08T17:41:04Z",
      "diff_hunk" : "@@ -22,6 +23,22 @@\n #include <cmath>\n #include <optional>\n \n+template <typename T>\n+static void MaybeAdd(T& mut, const T& apply)\n+{\n+    if (AdditionOverflow(mut, apply)) {\n+        // Signed integer overflow is UB in theory.\n+        // It is impossible to predict when and if an overflow occurs, since\n+        // the overflow caused by a prioritisetransaction RPC might only be\n+        // later hit when descendant txs are added to the mempool.\n+        // Since it is impossible to predict reliably, leave it up to the user\n+        // to use the RPC endpoint responsibly, considering their mempool\n+        // limits and usage patterns.\n+        return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r744953272",
      "id" : 744953272,
      "line" : 37,
      "node_id" : "PRRC_kwDOABII584sZxW4",
      "original_commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "original_line" : 37,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 23,
      "pull_request_review_id" : 800425231,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744953272/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-08T17:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744953272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> See https://godbolt.org/z/aWTKcM6db, I have a couple of suggestions:\r\n> \r\n> 1. make TestAdd, TestAddMatrixOverflow, TestAddMatrix and AdditionOverflow constexpr b/c why not\r\n> 2. Consider replacing MaybeAdd with my implementation of MaybeAddRet, which returns a value instead of mutating a mutable reference, which enables MaybeAddRet to be constexpr. (they appear virtually equally efficient, especially when we take into account we'll be using trivial types with this) (I also think this just makes more sense for a function called \"MaybeAdd\" as opposed to \"MaybeAddEquals\" or smth else)\r\n> 3. Consider adding a    `static_assert(std::is_trivial<T>::value);` to ensure we only are using trivial types\r\n> \r\n> (also, I see that you weren't really asking for a review, but I just saw the PR and started poking around :D )\r\n\r\n@MarcoFalke do you have an opinion about these suggestions?",
      "created_at" : "2022-02-07T09:27:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1031248405",
      "id" : 1031248405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII5849d5oV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1031248405/reactions"
      },
      "updated_at" : "2022-02-07T09:27:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1031248405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6443210?v=4",
         "events_url" : "https://api.github.com/users/PastaPastaPasta/events{/privacy}",
         "followers_url" : "https://api.github.com/users/PastaPastaPasta/followers",
         "following_url" : "https://api.github.com/users/PastaPastaPasta/following{/other_user}",
         "gists_url" : "https://api.github.com/users/PastaPastaPasta/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/PastaPastaPasta",
         "id" : 6443210,
         "login" : "PastaPastaPasta",
         "node_id" : "MDQ6VXNlcjY0NDMyMTA=",
         "organizations_url" : "https://api.github.com/users/PastaPastaPasta/orgs",
         "received_events_url" : "https://api.github.com/users/PastaPastaPasta/received_events",
         "repos_url" : "https://api.github.com/users/PastaPastaPasta/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/PastaPastaPasta/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/PastaPastaPasta/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/PastaPastaPasta"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, MaybeAdd will be removed, in which case the suggestions won't apply.",
      "created_at" : "2022-02-07T13:27:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1031468919",
      "id" : 1031468919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII5849evd3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1031468919/reactions"
      },
      "updated_at" : "2022-02-07T13:27:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1031468919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Please review https://github.com/bitcoin/bitcoin/pull/24224 first, while this stays in draft",
      "created_at" : "2022-02-07T13:27:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1031469422",
      "id" : 1031469422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII5849evlu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1031469422/reactions"
      },
      "updated_at" : "2022-02-07T13:27:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1031469422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r811780663"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811780663"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks, done",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-22T10:11:42Z",
      "diff_hunk" : "@@ -22,6 +23,22 @@\n #include <cmath>\n #include <optional>\n \n+template <typename T>\n+static void MaybeAdd(T& mut, const T& apply)\n+{\n+    if (AdditionOverflow(mut, apply)) {\n+        // Signed integer overflow is UB in theory.\n+        // It is impossible to predict when and if an overflow occurs, since\n+        // the overflow caused by a prioritisetransaction RPC might only be\n+        // later hit when descendant txs are added to the mempool.\n+        // Since it is impossible to predict reliably, leave it up to the user\n+        // to use the RPC endpoint responsibly, considering their mempool\n+        // limits and usage patterns.\n+        return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r811780663",
      "id" : 811780663,
      "in_reply_to_id" : 744953272,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584wYso3",
      "original_commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "original_line" : 79,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 889567366,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811780663/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-22T10:11:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811780663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r811784523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811784523"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We can't abort here. Otherwise it might be possible for remote peers to shut down your node. Even if it wasn't P2P exploitable and only RPC exploitable, an RPC call should never crash the process either (unless it triggers a bug in the consensus engine). See documentation of `CheckNonFatal`.\r\n\r\nThe caller *does* care about the result of the calculation. However, values so large that they overflow 64-bits are not supported by Bitcoin Core. Thus, we can pick any behaviour we want to deal with it.",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-22T10:15:53Z",
      "diff_hunk" : "@@ -22,6 +23,22 @@\n #include <cmath>\n #include <optional>\n \n+template <typename T>\n+static void MaybeAdd(T& mut, const T& apply)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r811784523",
      "id" : 811784523,
      "in_reply_to_id" : 742736167,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584wYtlL",
      "original_commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "original_line" : 69,
      "original_position" : 13,
      "original_start_line" : 26,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 889572516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811784523/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-22T10:15:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811784523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and replied to all feedback",
      "created_at" : "2022-02-22T10:16:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1047637269",
      "id" : 1047637269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII584-ca0V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047637269/reactions"
      },
      "updated_at" : "2022-02-22T10:16:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047637269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r811785750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811785750"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Resolving discussion for now, but feel free to reply or reopen.",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-22T10:17:11Z",
      "diff_hunk" : "@@ -22,6 +23,22 @@\n #include <cmath>\n #include <optional>\n \n+template <typename T>\n+static void MaybeAdd(T& mut, const T& apply)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r811785750",
      "id" : 811785750,
      "in_reply_to_id" : 742736167,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584wYt4W",
      "original_commit_id" : "e8522d082e5b7ab421e62c8e76fabbea24531a8d",
      "original_line" : 69,
      "original_position" : 13,
      "original_start_line" : 26,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 889574155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811785750/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-22T10:17:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/811785750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yellow CI can be ignored, it is actually green.",
      "created_at" : "2022-02-22T16:20:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1047966291",
      "id" : 1047966291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII584-drJT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047966291/reactions"
      },
      "updated_at" : "2022-02-22T16:20:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047966291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814770788"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814770788"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since you're touching anyway, might as well update this to use a lambda (now that we're not pre-C++11 anymore), and we can delete the `update_modify_fee` struct. Similar to e177fcab3831b6d259da5164cabedcc9e78f6957\r\n```suggestion\r\n        mapTx.modify(newit, [&delta](CTxMemPoolEntry& e) { e.UpdateModifyFee(delta); });\r\n```\r\n\r\n(Same suggestion to L935)",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-25T13:33:46Z",
      "diff_hunk" : "@@ -496,7 +496,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814770788",
      "id" : 814770788,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII584wkGpk",
      "original_commit_id" : "fabaeaff2c936ec00df9b2b218d4627ab3393ca7",
      "original_line" : 499,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 40,
      "pull_request_review_id" : 893680530,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814770788/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-25T13:40:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814770788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814787934"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814787934"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n\r\n```suggestion\r\n    const CAmount modify_fee;\r\n```",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-25T13:57:34Z",
      "diff_hunk" : "@@ -54,14 +55,14 @@ struct update_ancestor_state\n         int64_t modifySigOpsCost;\n };\n \n-struct update_fee_delta\n+struct update_modify_fee\n {\n-    explicit update_fee_delta(int64_t _feeDelta) : feeDelta(_feeDelta) { }\n+    explicit update_modify_fee(CAmount modify_fee) : modify_fee{modify_fee} {}\n \n-    void operator() (CTxMemPoolEntry &e) { e.UpdateFeeDelta(feeDelta); }\n+    void operator()(CTxMemPoolEntry& e) { e.UpdateModifyFee(modify_fee); }\n \n private:\n-    int64_t feeDelta;\n+    CAmount modify_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814787934",
      "id" : 814787934,
      "line" : 65,
      "node_id" : "PRRC_kwDOABII584wkK1e",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 65,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 23,
      "pull_request_review_id" : 893706939,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814787934/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-25T14:52:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814787934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814792042"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814792042"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I find the name `UpdateModifyFee()` confusing because both `Update` and `Modify` are verbs. What about `UpdateModifiedFee(CAmount delta)`? Or `diff` instead of `delta`? The member variable is called \"modifi**ed**_fee\". Or maybe even use `Increment` instead of `Update` in the name because we are doing `+=` (surely, incrementing with a negative number is actually decrementing).\r\n\r\n(if you decide to change the name, the same change should be done to the name of `struct update_modify_fee`)",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-25T14:03:19Z",
      "diff_hunk" : "@@ -99,11 +100,11 @@ CTxMemPoolEntry::CTxMemPoolEntry(const CTransactionRef& tx, CAmount fee,\n       nModFeesWithAncestors{nFee},\n       nSigOpCostWithAncestors{sigOpCost} {}\n \n-void CTxMemPoolEntry::UpdateFeeDelta(int64_t newFeeDelta)\n+void CTxMemPoolEntry::UpdateModifyFee(CAmount modify_fee)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814792042",
      "id" : 814792042,
      "line" : 103,
      "node_id" : "PRRC_kwDOABII584wkL1q",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 103,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 32,
      "pull_request_review_id" : 893706939,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814792042/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-25T14:52:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814792042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814803758"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814803758"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it is better to initialize `modified_fee` where the rest of the members are initialized:\r\n\r\n```cpp\r\nCTxMemPoolEntry::CTxMemPoolEntry(const CTransactionRef& tx, CAmount fee,\r\n                                 int64_t time, unsigned int entry_height,\r\n                                 bool spends_coinbase, int64_t sigops_cost, LockPoints lp)\r\n    : tx{tx},\r\n      nFee{fee},\r\n      nTxWeight(GetTransactionWeight(*tx)),\r\n      nUsageSize{RecursiveDynamicUsage(tx)},\r\n      nTime{time},\r\n      entryHeight{entry_height},\r\n      spendsCoinbase{spends_coinbase},\r\n      sigOpCost{sigops_cost},\r\n      lockPoints{lp},\r\n      nSizeWithDescendants{GetTxSize()},\r\n      nModFeesWithDescendants{nFee},\r\n      nSizeWithAncestors{GetTxSize()},\r\n      nModFeesWithAncestors{nFee},\r\n      nSigOpCostWithAncestors{sigOpCost} {}\r\n```\r\n",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-25T14:18:24Z",
      "diff_hunk" : "@@ -101,7 +101,7 @@ class CTxMemPoolEntry\n     const unsigned int entryHeight; //!< Chain height when entering the mempool\n     const bool spendsCoinbase;      //!< keep track of transactions that spend a coinbase\n     const int64_t sigOpCost;        //!< Total sigop cost\n-    int64_t feeDelta{0};            //!< Used for determining the priority of the transaction for mining in a block\n+    CAmount modified_fee{nFee};     //!< Used for determining the priority of the transaction for mining in a block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814803758",
      "id" : 814803758,
      "line" : 104,
      "node_id" : "PRRC_kwDOABII584wkOsu",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 104,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 5,
      "pull_request_review_id" : 893706939,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814803758/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-25T14:52:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814803758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814829639"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814829639"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This looks wrong.\r\n\r\nLets say `nFee` is `100`.\r\n\r\nBefore this PR we would store `feeDelta=5` to designate a modified fee of `105`. Lets say this code wants to change that to a modified fee of `107`. Then this `delta` argument here would be `7`. In this case, inside the old `CTxMemPoolEntry::UpdateFeeDelta()` the variables `nModFeesWithDescendants` and `nModFeesWithAncestors` would be incremented with `2`, and `7` would be stored in `feeDelta` (to designate a modified fee of `107` (`nFee=100` plus `feeDelta=7`).\r\n\r\nAfter this PR we would store `modified_fee=105` to designate a modified fee of `105`. Then this code gets executed with argument `delta=7`. The new `CTxMemPoolEntry::UpdateModifyFee()` would increment the variables `nModFeesWithDescendants` and `nModFeesWithAncestors` with `7` (not with `2` as before) and would store `105+7=112` in `modified_fee` to designate a modified fee of `112` (not `107`).\r\n\r\nEither this call site, or the method `UpdateModifyFee()` has to be changed in order to keep the same behavior, or I miss something. I think the other call site of `UpdateModifyFee()` is correct.",
      "commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "created_at" : "2022-02-25T14:48:56Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r814829639",
      "id" : 814829639,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII584wkVBH",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : 66,
      "pull_request_review_id" : 893706939,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814829639/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 497,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-25T14:52:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/814829639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-24T18:05:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1077899037",
      "id" : 1077899037,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII585AP28d",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1077899037/reactions"
      },
      "updated_at" : "2022-03-24T18:05:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1077899037",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837399553"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837399553"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thx, already fixed in master.",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-29T12:11:32Z",
      "diff_hunk" : "@@ -496,7 +496,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837399553",
      "id" : 837399553,
      "in_reply_to_id" : 814770788,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x6bQB",
      "original_commit_id" : "fabaeaff2c936ec00df9b2b218d4627ab3393ca7",
      "original_line" : 499,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 924511260,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837399553/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-29T12:11:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837399553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837399784"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837399784"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thx, already fixed in master.",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-29T12:11:47Z",
      "diff_hunk" : "@@ -54,14 +55,14 @@ struct update_ancestor_state\n         int64_t modifySigOpsCost;\n };\n \n-struct update_fee_delta\n+struct update_modify_fee\n {\n-    explicit update_fee_delta(int64_t _feeDelta) : feeDelta(_feeDelta) { }\n+    explicit update_modify_fee(CAmount modify_fee) : modify_fee{modify_fee} {}\n \n-    void operator() (CTxMemPoolEntry &e) { e.UpdateFeeDelta(feeDelta); }\n+    void operator()(CTxMemPoolEntry& e) { e.UpdateModifyFee(modify_fee); }\n \n private:\n-    int64_t feeDelta;\n+    CAmount modify_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837399784",
      "id" : 837399784,
      "in_reply_to_id" : 814787934,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x6bTo",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 65,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 924511584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837399784/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-29T12:11:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837399784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837413018"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837413018"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thx, changed to `UpdateModifiedFee(fee_diff)` as suggested.",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-29T12:26:38Z",
      "diff_hunk" : "@@ -99,11 +100,11 @@ CTxMemPoolEntry::CTxMemPoolEntry(const CTransactionRef& tx, CAmount fee,\n       nModFeesWithAncestors{nFee},\n       nSigOpCostWithAncestors{sigOpCost} {}\n \n-void CTxMemPoolEntry::UpdateFeeDelta(int64_t newFeeDelta)\n+void CTxMemPoolEntry::UpdateModifyFee(CAmount modify_fee)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837413018",
      "id" : 837413018,
      "in_reply_to_id" : 814792042,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x6eia",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 93,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 924530633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837413018/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-29T12:26:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837413018",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837416440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837416440"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thx, done",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-29T12:30:30Z",
      "diff_hunk" : "@@ -101,7 +101,7 @@ class CTxMemPoolEntry\n     const unsigned int entryHeight; //!< Chain height when entering the mempool\n     const bool spendsCoinbase;      //!< keep track of transactions that spend a coinbase\n     const int64_t sigOpCost;        //!< Total sigop cost\n-    int64_t feeDelta{0};            //!< Used for determining the priority of the transaction for mining in a block\n+    CAmount modified_fee{nFee};     //!< Used for determining the priority of the transaction for mining in a block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837416440",
      "id" : 837416440,
      "in_reply_to_id" : 814803758,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x6fX4",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 104,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 924535718,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837416440/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-29T12:30:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837416440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837420607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837420607"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This code path is for newly added txs. Thus, `nFee` is always equal to `modified_fee` before this call to update the fee. It is not possible to execute this code for txs that have already been added, whose fee is modified repeatedly.\r\n\r\nLuckily we have tests to catch this.\r\n\r\nIf I am missing something, it might be good if you write a test (or explain steps to reproduce).",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-29T12:35:04Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r837420607",
      "id" : 837420607,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x6gY_",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 924541669,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837420607/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-29T12:35:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837420607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and replied to all comments. Also changed the name of the update function.",
      "created_at" : "2022-03-29T12:35:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1081817574",
      "id" : 1081817574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII585Aeznm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1081817574/reactions"
      },
      "updated_at" : "2022-03-29T12:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1081817574",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r838610757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838610757"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, so the behavior of the code before and after this PR is the same only in the case where `feeDelta` is `0` (old code) / `nFee` is equal to `modified_fee` (new code). It is quite obscure to me whether this code is executed only for such cases (and will always be in the future). What about adding an assert to ensure that:\r\n\r\n```diff\r\n     if (delta) {\r\n-        mapTx.modify(newit, [&delta](CTxMemPoolEntry& e) { e.UpdateModifiedFee(delta); });\r\n+        mapTx.modify(newit, [&delta](CTxMemPoolEntry& e) {\r\n+            assert(e.GetFee() == e.GetModifiedFee());\r\n+            e.UpdateModifiedFee(delta);\r\n+        });\r\n     }\r\n```\r\n\r\nor, to preserve the behavior in all cases, not just when `feeDelta=0`:\r\n\r\n```diff\r\n     if (delta) {\r\n-        mapTx.modify(newit, [&delta](CTxMemPoolEntry& e) { e.UpdateModifiedFee(delta); });\r\n+        mapTx.modify(newit, [&delta](CTxMemPoolEntry& e) {\r\n+            e.UpdateModifiedFee(e.GetModifiedFee() - e.GetFee() + delta);\r\n+        });\r\n     }\r\n```\r\n\r\nI would be more comfortable with the second variant as it preserves the behavior in all cases and there is no chance that a newly added assert is too strong and is triggered unintentionally by a legit code.\r\n",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-30T14:26:12Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r838610757",
      "id" : 838610757,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x_C9F",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 926216092,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838610757/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-30T14:26:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838610757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r838631987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838631987"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't like the second variant, because it makes the code more verbose and confusing. Also, it will lead to signed integer overflow (the thing that this pull is trying to solve).",
      "commit_id" : "fa59aef76ed22402efba1a3814189c1ca6241193",
      "created_at" : "2022-03-30T14:44:18Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r838631987",
      "id" : 838631987,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x_IIz",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 926247923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838631987/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-30T14:44:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/838631987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839327864"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839327864"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've pushed a documention update to make it clearer along with an `Assume`. I don't think an `assert` is the right thing to pick here. It seems incredibly unlikely that someone is going to modify the code while violating the assumption and at the same time have passing tests (hopefully added in the same patch that modifies the code). So I am also happy to remove the `Assume` again, if deemed useless.",
      "commit_id" : "fac053d9d883ed87707b62f87ab107d41d9cdf50",
      "created_at" : "2022-03-31T08:33:54Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839327864",
      "id" : 839327864,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yByB4",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 927199557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839327864/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-31T08:33:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839327864",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839389852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839389852"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "naming:\r\n```suggestion\r\n    CAmount m_modified_fee;           //!< Used for determining the priority of the transaction for mining in a block\r\n```",
      "commit_id" : "fa471a7ae273d3bf8f956e8a862d0b586dd3fe4b",
      "created_at" : "2022-03-31T09:38:22Z",
      "diff_hunk" : "@@ -101,7 +101,7 @@ class CTxMemPoolEntry\n     const unsigned int entryHeight; //!< Chain height when entering the mempool\n     const bool spendsCoinbase;      //!< keep track of transactions that spend a coinbase\n     const int64_t sigOpCost;        //!< Total sigop cost\n-    CAmount feeDelta{0};            //!< Used for determining the priority of the transaction for mining in a block\n+    CAmount modified_fee;           //!< Used for determining the priority of the transaction for mining in a block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839389852",
      "id" : 839389852,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yCBKc",
      "original_commit_id" : "fac053d9d883ed87707b62f87ab107d41d9cdf50",
      "original_line" : 104,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 927285057,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839389852/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-31T10:26:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839389852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839437631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839437631"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, IMO it is better with the `Assume()` compared to without any protection.\r\n\r\nThis call site is kind of misusing the `UpdateModifiedFee()` method whose semantic is to alter the existent value with a provided delta, while this call site is actually trying to _set_ the value. It works as long as the value is `0` here, before the call.\r\n\r\nWhat about introducing a new method to set the modified fee and use it here?\r\n\r\n```cpp\r\nvoid CTxMemPoolEntry::SetModifiedFee(CAmount modified_fee_)\r\n{\r\n    nModFeesWithDescendants = modified_fee_;\r\n    nModFeesWithAncestors = modified_fee_;\r\n    modified_fee = modified_fee_;\r\n}\r\n```\r\n\r\nOr check that what we intended was actually done correctly afterwards:\r\n\r\n```diff\r\n     if (delta) {\r\n         mapTx.modify(newit, [&delta](CTxMemPoolEntry& e) { e.UpdateModifiedFee(delta); });\r\n+        Assume(entry.GetModifiedFee() == SaturatingAdd(entry.GetFee(), delta));\r\n     }\r\n```\r\n",
      "commit_id" : "fa471a7ae273d3bf8f956e8a862d0b586dd3fe4b",
      "created_at" : "2022-03-31T10:26:52Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839437631",
      "id" : 839437631,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yCM0_",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 927285057,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839437631/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-31T10:26:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839437631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839630919"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839630919"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it is fine to call `UpdateModifiedFee` to set the initial fee update. Introducing a new method doesn't allow to get rid of the Assumption that the fee wasn't previously modified.\r\n\r\nHappy to move the `Assume`/comment after the mapTx.modify call.",
      "commit_id" : "fa471a7ae273d3bf8f956e8a862d0b586dd3fe4b",
      "created_at" : "2022-03-31T13:51:36Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839630919",
      "id" : 839630919,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yC8BH",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 927611334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839630919/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-31T13:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839630919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839631318"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839631318"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, fixed.",
      "commit_id" : "fa471a7ae273d3bf8f956e8a862d0b586dd3fe4b",
      "created_at" : "2022-03-31T13:51:52Z",
      "diff_hunk" : "@@ -101,7 +101,7 @@ class CTxMemPoolEntry\n     const unsigned int entryHeight; //!< Chain height when entering the mempool\n     const bool spendsCoinbase;      //!< keep track of transactions that spend a coinbase\n     const int64_t sigOpCost;        //!< Total sigop cost\n-    CAmount feeDelta{0};            //!< Used for determining the priority of the transaction for mining in a block\n+    CAmount modified_fee;           //!< Used for determining the priority of the transaction for mining in a block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r839631318",
      "id" : 839631318,
      "in_reply_to_id" : 839389852,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yC8HW",
      "original_commit_id" : "fac053d9d883ed87707b62f87ab107d41d9cdf50",
      "original_line" : 104,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 927612004,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839631318/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-31T13:51:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/839631318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r894183874"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/894183874"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Closing thread for now. Let me know if I should reopen.",
      "commit_id" : "fa471a7ae273d3bf8f956e8a862d0b586dd3fe4b",
      "created_at" : "2022-06-10T06:12:02Z",
      "diff_hunk" : "@@ -496,7 +497,7 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     CAmount delta{0};\n     ApplyDelta(entry.GetTx().GetHash(), delta);\n     if (delta) {\n-            mapTx.modify(newit, update_fee_delta(delta));\n+        mapTx.modify(newit, update_modify_fee(delta));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r894183874",
      "id" : 894183874,
      "in_reply_to_id" : 814829639,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841TCnC",
      "original_commit_id" : "faa69b3876ac18d2ec69d6ac28468144d98ebceb",
      "original_line" : 500,
      "original_position" : 66,
      "original_start_line" : 497,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1002288770,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/894183874/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-10T06:12:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/894183874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903285457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903285457"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would a better name be `IncrementModifiedFee`? The verb \"update\" isn't wrong, but it could mean simply setting a variable to a value (as in a simple assignment statement). The verb \"increment\" makes it clear that a variable, or, in this case, 3 variables, are being incremented by the argument. It's true that the previous name used the verb \"update\", so maybe it would be best to preserve that. But I just thought I'd mention it for consideration.",
      "commit_id" : "fa07f84e316171d60dd9941fb8db37e0a0de6654",
      "created_at" : "2022-06-22T05:05:46Z",
      "diff_hunk" : "@@ -82,18 +83,19 @@ CTxMemPoolEntry::CTxMemPoolEntry(const CTransactionRef& tx, CAmount fee,\n       entryHeight{entry_height},\n       spendsCoinbase{spends_coinbase},\n       sigOpCost{sigops_cost},\n+      m_modified_fee{nFee},\n       lockPoints{lp},\n       nSizeWithDescendants{GetTxSize()},\n       nModFeesWithDescendants{nFee},\n       nSizeWithAncestors{GetTxSize()},\n       nModFeesWithAncestors{nFee},\n       nSigOpCostWithAncestors{sigOpCost} {}\n \n-void CTxMemPoolEntry::UpdateFeeDelta(CAmount newFeeDelta)\n+void CTxMemPoolEntry::UpdateModifiedFee(CAmount fee_diff)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903285457",
      "id" : 903285457,
      "line" : 95,
      "node_id" : "PRRC_kwDOABII58411wrR",
      "original_commit_id" : "fa42c09ba2b670b947aa211e6610ccab1caca4e4",
      "original_line" : 95,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 23,
      "pull_request_review_id" : 1014533031,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903285457/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T05:39:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903285457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903287350"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903287350"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`delta` is now unused",
      "commit_id" : "fa07f84e316171d60dd9941fb8db37e0a0de6654",
      "created_at" : "2022-06-22T05:09:56Z",
      "diff_hunk" : "@@ -921,7 +925,7 @@ void CTxMemPool::PrioritiseTransaction(const uint256& hash, const CAmount& nFeeD\n         delta += nFeeDelta;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903287350",
      "id" : 903287350,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58411xI2",
      "original_commit_id" : "fa42c09ba2b670b947aa211e6610ccab1caca4e4",
      "original_line" : 925,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1014533031,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903287350/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T05:39:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903287350",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903380965"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903380965"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree, but maybe this can be done as a follow up to also rename the `Update*State` functions, which do the same thing, but are not touched in this pull request.",
      "commit_id" : "fa07f84e316171d60dd9941fb8db37e0a0de6654",
      "created_at" : "2022-06-22T07:28:38Z",
      "diff_hunk" : "@@ -82,18 +83,19 @@ CTxMemPoolEntry::CTxMemPoolEntry(const CTransactionRef& tx, CAmount fee,\n       entryHeight{entry_height},\n       spendsCoinbase{spends_coinbase},\n       sigOpCost{sigops_cost},\n+      m_modified_fee{nFee},\n       lockPoints{lp},\n       nSizeWithDescendants{GetTxSize()},\n       nModFeesWithDescendants{nFee},\n       nSizeWithAncestors{GetTxSize()},\n       nModFeesWithAncestors{nFee},\n       nSigOpCostWithAncestors{sigOpCost} {}\n \n-void CTxMemPoolEntry::UpdateFeeDelta(CAmount newFeeDelta)\n+void CTxMemPoolEntry::UpdateModifiedFee(CAmount fee_diff)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903380965",
      "id" : 903380965,
      "in_reply_to_id" : 903285457,
      "line" : 95,
      "node_id" : "PRRC_kwDOABII58412H_l",
      "original_commit_id" : "fa42c09ba2b670b947aa211e6610ccab1caca4e4",
      "original_line" : 95,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 23,
      "pull_request_review_id" : 1014665236,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903380965/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T07:28:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903380965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903382977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903382977"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`delta` is a mutable reference, so while the symbol itself isn't used after this line, the line can not be removed.",
      "commit_id" : "fa07f84e316171d60dd9941fb8db37e0a0de6654",
      "created_at" : "2022-06-22T07:30:47Z",
      "diff_hunk" : "@@ -921,7 +925,7 @@ void CTxMemPool::PrioritiseTransaction(const uint256& hash, const CAmount& nFeeD\n         delta += nFeeDelta;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#discussion_r903382977",
      "id" : 903382977,
      "in_reply_to_id" : 903287350,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58412IfB",
      "original_commit_id" : "fa42c09ba2b670b947aa211e6610ccab1caca4e4",
      "original_line" : 925,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1014670839,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23418",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903382977/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-22T07:30:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/903382977",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> In the first commit message, s/tacked/tracked/.\r\n\r\nThx, done. Also rebased to make testing easier. Should be trivial to re-ACK with git range-diff.",
      "created_at" : "2022-06-22T07:36:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23418#issuecomment-1162755583",
      "id" : 1162755583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23418",
      "node_id" : "IC_kwDOABII585FTj3_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162755583/reactions"
      },
      "updated_at" : "2022-06-22T07:36:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1162755583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
