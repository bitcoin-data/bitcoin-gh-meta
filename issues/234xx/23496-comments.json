[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750416849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750416849"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm a little confused about this. At first I was wondering why `KeepDiff` couldn't just simply do:\r\n\r\n```c++\r\ndiff[entry] = true;\r\n```\r\n\r\nBut it seems that you're actually trying to account for the case where we encounter the same `entry` value at different iterations. ie `sketch_a.Add(7);` and then later on `sketch_b.Add(7);`, and you want to track that this is not a difference b/w the sets. Am I correct?\r\n\r\nIf I'm understanding this correctly I have some other questions/concerns",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T15:53:30Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750416849",
      "id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584sunPR",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807499946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750416849/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750416849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750423977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750423977"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We'll probably only hit this condition ~3% of the time, right (very roughly)?",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:00:16Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750423977",
      "id" : 750423977,
      "line" : 57,
      "node_id" : "PRRC_kwDOABII584suo-p",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 57,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 57,
      "pull_request_review_id" : 807499946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750423977/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750423977",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750439210"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750439210"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Am I correct in my understanding of Minisketch, that if `if (capacity < num_diff)` then `ssize_t num_differences = minisketch_decode(sketch_diff, capacity, differences);` will return `<0` indicating that there are more than `capacity` differences in the set? Can we add an `else` clause and assert this?",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:15:51Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750439210",
      "id" : 750439210,
      "in_reply_to_id" : 750423977,
      "line" : 57,
      "node_id" : "PRRC_kwDOABII584sussq",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 57,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 57,
      "pull_request_review_id" : 807499946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750439210/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750439210",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750448194"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750448194"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Am I correct?\r\n\r\nYes",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:24:52Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750448194",
      "id" : 750448194,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584suu5C",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807543095,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750448194/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:24:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750448194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750449440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750449440"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> We'll probably only hit this condition ~3% of the time, right (very roughly)?\r\n\r\nThat depends on the fuzz engine's randomness and exploration algorithm.",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:26:13Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750449440",
      "id" : 750449440,
      "in_reply_to_id" : 750423977,
      "line" : 57,
      "node_id" : "PRRC_kwDOABII584suvMg",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 57,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 57,
      "pull_request_review_id" : 807544895,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750449440/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:26:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750449440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750450423"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750450423"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> will return <0\r\n\r\nI had the same thinking, but it may still succeed \"accidentally\" on some inputs.",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:27:10Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750450423",
      "id" : 750450423,
      "in_reply_to_id" : 750423977,
      "line" : 57,
      "node_id" : "PRRC_kwDOABII584suvb3",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 57,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 57,
      "pull_request_review_id" : 807546170,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750450423/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:27:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750450423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750454600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750454600"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, then my concern is: collisions like this should be so rare that I'm not even sure we should have the logic to catch these cases (maybe just a comment would be good enough)?\r\n\r\nBut, if we do want to account for these collisions correctly, then I'm not sure this does the job. Bc/ in this case if you add the same element to `sketch_a` twice, it looks like the diff gets flipped. etc...\r\n\r\nAll things considered, I'm wondering if it will be most robust to have a `set_a` and `set_b` alongside the sketches, `num_differences` is then just the size of that set after the `LIMITED_WHILE`",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:31:31Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750454600",
      "id" : 750454600,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584suwdI",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807552056,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750454600/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:32:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750454600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750456205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750456205"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Adding the same element twice to a minisketch set will erase it. This is a feature, not a rare edge case.",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:33:10Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750456205",
      "id" : 750456205,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584suw2N",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807554258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750456205/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750456205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750456662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750456662"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yep that makes sense. That's where I arrived after reading the Minisketch README more, but wanted to double check anyways",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:33:43Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750456662",
      "id" : 750456662,
      "in_reply_to_id" : 750423977,
      "line" : 57,
      "node_id" : "PRRC_kwDOABII584suw9W",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 57,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 57,
      "pull_request_review_id" : 807554936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750456662/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:33:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750456662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750459221"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750459221"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah wow, interesting. I kinda wondered this while reading the README but figured it wasn't the case. Anyways, would it make sense to reduce the max possible value of `const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};` so that we see these \"collisions\" normally and get more test coverage?",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:36:23Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750459221",
      "id" : 750459221,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584suxlV",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807558392,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750459221/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750459221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750460636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750460636"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I expect the fuzz engine to copy the bytes in the input, so a collision might even be the \"normal\" case.",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:37:49Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750460636",
      "id" : 750460636,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584sux7c",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807560341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750460636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:37:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750460636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code Review ACK fa186314840a7da165adbfa86a316d8a4c34b706",
      "created_at" : "2021-11-16T16:38:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#issuecomment-970453631",
      "id" : 970453631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23496",
      "node_id" : "IC_kwDOABII58451_J_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970453631/reactions"
      },
      "updated_at" : "2021-11-16T16:38:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970453631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750462054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750462054"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What @MarcoFalke said, but also: \"rare\" isn't relevant for fuzz tests. The inputs are *not* uniformly distributed; the fuzzer is actively trying to bias the inputs to trigger \"rare\" edge cases.\r\n\r\nEDIT: wrote this seeing marco's latest comment above.",
      "commit_id" : "fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "created_at" : "2021-11-16T16:39:19Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750462054",
      "id" : 750462054,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584suyRm",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807562222,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750462054/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T17:05:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750462054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased to fix silent merge conflict. Should be trivial to re-ACK",
      "created_at" : "2021-11-16T16:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#issuecomment-970457611",
      "id" : 970457611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23496",
      "node_id" : "IC_kwDOABII58452AIL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970457611/reactions"
      },
      "updated_at" : "2021-11-16T16:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970457611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750470906"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750470906"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Interesting, thanks",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:48:28Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750470906",
      "id" : 750470906,
      "in_reply_to_id" : 750416849,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII584su0b6",
      "original_commit_id" : "fa186314840a7da165adbfa86a316d8a4c34b706",
      "original_line" : 27,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 27,
      "pull_request_review_id" : 807574471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750470906/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:48:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750470906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750474162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750474162"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I find this piece of code to compare `dec` with the expected diff a bit convoluted. What about:\r\n\r\n```\r\nassert(dec.size() == num_diff));\r\nfor (auto d : dec) assert(diff[d]);\r\n```\r\n\r\n?",
      "commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "created_at" : "2021-11-16T16:52:00Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <node/minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {\n+        const auto max_elements{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(num_diff, capacity)};\n+        const auto dec{*Assert(sketch_diff.Decode(max_elements))};\n+        std::set<uint32_t> decoded_diff;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750474162",
      "id" : 750474162,
      "line" : 60,
      "node_id" : "PRRC_kwDOABII584su1Oy",
      "original_commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "original_line" : 60,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 60,
      "pull_request_review_id" : 807578983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750474162/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T16:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750474162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750485672"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750485672"
         }
      },
      "author_association" : "MEMBER",
      "body" : "FWIW, you can use `[](auto n, const auto e&) { return n + e.second; }` as lambda too.",
      "commit_id" : "fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "created_at" : "2021-11-16T17:04:33Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <node/minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750485672",
      "id" : 750485672,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584su4Co",
      "original_commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "original_line" : 47,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : null,
      "pull_request_review_id" : 807595109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750485672/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T17:04:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750485672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750544727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750544727"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good idea, done.",
      "commit_id" : "fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "created_at" : "2021-11-16T18:19:02Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <node/minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};\n+\n+    Minisketch sketch_ar{MakeMinisketch32(capacity)};\n+    Minisketch sketch_br{MakeMinisketch32(capacity)};\n+    sketch_ar.Deserialize(sketch_a.Serialize());\n+    sketch_br.Deserialize(sketch_b.Serialize());\n+\n+    Minisketch sketch_diff{std::move(fuzzed_data_provider.ConsumeBool() ? sketch_a : sketch_ar)};\n+    sketch_diff.Merge(fuzzed_data_provider.ConsumeBool() ? sketch_b : sketch_br);\n+\n+    if (capacity >= num_diff) {\n+        const auto max_elements{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(num_diff, capacity)};\n+        const auto dec{*Assert(sketch_diff.Decode(max_elements))};\n+        std::set<uint32_t> decoded_diff;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750544727",
      "id" : 750544727,
      "in_reply_to_id" : 750474162,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584svGdX",
      "original_commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "original_line" : 60,
      "original_position" : 60,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : null,
      "pull_request_review_id" : 807676062,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750544727/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T18:19:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750544727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750544950"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750544950"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice. I didn't know this was added in C++14.\r\n\r\nDone.",
      "commit_id" : "fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "created_at" : "2021-11-16T18:19:18Z",
      "diff_hunk" : "@@ -0,0 +1,70 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <node/minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};\n+            mut = !mut;\n+        }};\n+        CallOneOf(\n+            fuzzed_data_provider,\n+            [&] {\n+                sketch_a.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_b.Add(entry);\n+                KeepDiff();\n+            },\n+            [&] {\n+                sketch_a.Add(entry);\n+                sketch_b.Add(entry);\n+            });\n+    }\n+    const auto num_diff{\n+        std::accumulate(diff.begin(), diff.end(), size_t{0}, [](size_t n, const std::pair<const uint32_t, bool>& e) { return n + e.second; })};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750544950",
      "id" : 750544950,
      "in_reply_to_id" : 750485672,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584svGg2",
      "original_commit_id" : "faece2197cedf4cad3e18d1827c8942f72ca98e7",
      "original_line" : 47,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : null,
      "pull_request_review_id" : 807676334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750544950/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T18:19:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750544950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re-ACK fa74d45",
      "created_at" : "2021-11-16T20:16:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#issuecomment-970643926",
      "id" : 970643926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23496",
      "node_id" : "IC_kwDOABII58452tnW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970643926/reactions"
      },
      "updated_at" : "2021-11-16T20:16:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970643926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750640068"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750640068"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Micronit: `diff[entry] ^= true;` or `diff[entry] ^= 1;` also works (feel free to ignore).",
      "commit_id" : "fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "created_at" : "2021-11-16T20:33:33Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <minisketch.h>\n+#include <node/minisketchwrapper.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <util/check.h>\n+\n+#include <map>\n+#include <numeric>\n+\n+FUZZ_TARGET(minisketch)\n+{\n+    FuzzedDataProvider fuzzed_data_provider{buffer.data(), buffer.size()};\n+    const auto capacity{fuzzed_data_provider.ConsumeIntegralInRange<size_t>(1, 200)};\n+    Minisketch sketch_a{Assert(MakeMinisketch32(capacity))};\n+    Minisketch sketch_b{Assert(MakeMinisketch32(capacity))};\n+\n+    // Fill two sets and keep the difference in a map\n+    std::map<uint32_t, bool> diff;\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const auto entry{fuzzed_data_provider.ConsumeIntegralInRange<uint32_t>(1, std::numeric_limits<uint32_t>::max() - 1)};\n+        const auto KeepDiff{[&] {\n+            bool& mut{diff[entry]};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#discussion_r750640068",
      "id" : 750640068,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII584svdvE",
      "original_commit_id" : "fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "original_line" : 28,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/test/fuzz/minisketch.cpp",
      "position" : 28,
      "pull_request_review_id" : 807806059,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23496",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750640068/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-16T20:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/750640068",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fa74d4530615cfa02cf32a16fab6b13908266e6f",
      "created_at" : "2021-11-16T20:33:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23496#issuecomment-970656427",
      "id" : 970656427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23496",
      "node_id" : "IC_kwDOABII58452wqr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970656427/reactions"
      },
      "updated_at" : "2021-11-16T20:33:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970656427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
