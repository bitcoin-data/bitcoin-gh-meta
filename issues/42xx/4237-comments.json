[
   {
      "body" : "This seems like a pretty obvious optimization, however, you'd have to figure out where an unordered map can be used safely. For example, find out which maps are never iterated over at all.\r\n\r\nIn general if you want to improve performance I recommend to first profile before going on a wild goose chase. If we don't have concrete statistics that map lookups/insertions are a bottleneck anywhere, it may be wasted time to go over everything. In my profiles using valgrind here-and-there I don't remember seeing map functions anywhere near the top.\r\n\r\nAlso unordered_map is new in C++11. We don't use C++11 yet. Boost also has an unordered_map which should be interface-compatible with the C++11 one (TR1), which can be used in the meantime.\r\n",
      "created_at" : "2014-05-27T11:07:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4237#issuecomment-44261359",
      "id" : 44261359,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4237",
      "updated_at" : "2014-05-27T11:07:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44261359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The one place where this would matter significantly is in CCoinsViewCache.\r\n\r\nI've been thinking about using boost::multi_index for that, to have it implement a cache that is both O(1) to lookup, but also maintains an LRU list across entries. If the cache were split up in a dirty and a pure-cache part, it could even automatically discard non-dirty entries, until a given % of the cache is dirty, at which you flush. (instead of the current behaviour of flushing everything when the cache gets too large, and then dropping everything).",
      "created_at" : "2014-06-08T23:04:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4237#issuecomment-45451291",
      "id" : 45451291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4237",
      "updated_at" : "2014-06-08T23:04:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45451291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "While hash table has a constant complexity on average it has linear complexity in the worst case. This potentialy can be used for DoS attack.",
      "created_at" : "2015-06-30T21:00:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4237#issuecomment-117340669",
      "id" : 117340669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4237",
      "updated_at" : "2015-06-30T21:00:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/117340669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11528855?v=3",
         "events_url" : "https://api.github.com/users/kryptan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kryptan/followers",
         "following_url" : "https://api.github.com/users/kryptan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kryptan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kryptan",
         "id" : 11528855,
         "login" : "kryptan",
         "organizations_url" : "https://api.github.com/users/kryptan/orgs",
         "received_events_url" : "https://api.github.com/users/kryptan/received_events",
         "repos_url" : "https://api.github.com/users/kryptan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kryptan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kryptan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kryptan"
      }
   }
]
