[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> implementation depends on an external centralised network of relay servers\n\nAh, that's a common misunderstanding-- and not true. Matt does run a well maintained public network of nodes running the protocol; but it has no dependence on it. And anyone can run the same software.\n\nWe've considered it a goal to include more efficient block relaying in core though, and have mostly just been waiting for the protocols implementing it to mature.\n\n> Compression - binary data, and also compression of that data \n\nThe bitcoin p2p protocol is already binary. Traditional data compression is not terribly useful except in the presence of address reuse, and not needed over and above mempool relative differential transmission-- which is critical to get any efficiency gain at all.\n\n> Early relay\n\nThis is orthogonal to more efficient transmission and could just be done in the ordinary p2p protocol with, a \"unverified block\" message.  Luke-jr implemented this a couple years ago but it provided no meaningful speedup at the time (presumably due to other delay factors which we've since eliminated).  So long as all parties involved know they're getting something non-validated, there isn't much harm in passing it along; as a combination of POW, chain consistency (e.g. extends the current tip), and serialization rules is enough to prevent denial of service.\n\n> and a separate client that talks to bitcoind.\n\nOur preferred method of adding new protocols is via gatewaying from another process, for reliability and security reasons. \n\n> such a network similar to the one that already exists that you could configure in a higher trust rating based\n\nIn general our experience suggests that trust settings are black magic that cannot be configured correctly even by experts-- that even trusted things fail, and their doing so magnifies fault domains, so we should avoid them wherever possible.  Fortunately, I don't see anything you've suggested that has any need for such settings.\n",
      "created_at" : "2015-11-18T01:39:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7049#issuecomment-157569702",
      "id" : 157569702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7049",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE1NzU2OTcwMg==",
      "updated_at" : "2015-11-18T01:39:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157569702",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> ```\n> implementation depends on an external centralised network of relay servers\n> ```\n> \n> Ah, that's a common misunderstanding-- and not true.\n\nAh, that's an incorrect statement of yours-- and not true.\n\nJust as there are many bitcoin 'centralised' pools, many 'centralised' relays are still 'centralised' relays.\nMoving it to being part of the bitcoin protocol is what is called 'decentralised' and then only if not using centralised 'networks' like the current relay.\n\n> ```\n> Early relay\n> ```\n> \n> This is orthogonal to more efficient transmission and could just be done in the ordinary p2p protocol with, a \"unverified block\" message.\n\nIndeed and your suggestion that people should be using multiple daemons to solve this problem:\nhttps://github.com/bitcoin/bitcoin/issues/7015#issuecomment-156605612\nrequires this \"early relay\" since otherwise even a local set of (as you said):\n\n> to work around this today (run multiple daemons).\n\nwill relay to each other slowly since they must wait for full verification before passing the block on to any other local daemon\n\n> ```\n> and a separate client that talks to bitcoind.\n> ```\n> \n> Our preferred method of adding new protocols is via gatewaying from another process, for reliability and security reasons.\n\nThat of course would be handled in an intelligent way - just as there are compiled in options for bitcoin core already - cli, qt, server (even compiling 'out' wallet)\nIn this case, since the client would require a lot of bitcoin core, it would be a bad design to make that some other project requiring a second implementation of the rules already in bitcoin core.\nIt could indeed be another program compilable with bitcoin core.\nThe trust design would allow levels - and thus the 'relay client' would be a lot of bitcoin core including the code that performs the various checks in core applied before relaying the block, according to the trust level requirements.\n\n> ```\n> such a network similar to the one that already exists that you could\n> configure in a higher trust rating based\n> ```\n> \n> In general our experience suggests that trust settings are black magic that cannot be configured correctly even by experts-- that even trusted things fail, and their doing so magnifies fault domains, so we should avoid them wherever possible. Fortunately, I don't see anything you've suggested that has any need for such settings.\n\nI'm not sure what grade school you experienced your methods of software design, or who wrote software that you consider black magic, but dumbing down software and limiting it's performance because **YOU** believe you are unable to understand the concept of trust, sounds like a bad idea to me.\n\nIn fact even in the current design there is a rather obvious point of trust that could implement the relaying of non-fully verified blocks to your own list of bitcoinds - that would be a block submitted to the RPC - that already has a trust given to it to allow access to the RPC\n\nThe use of not relaying something, is to save the target from checking it, when you consider it invalid. Relaying something, that you may rarely consider bad, means that those who receive it must check it ... as they already do with everything else they receive.\n\nAs stated here: https://github.com/bitcoin/bitcoin/issues/7015#issuecomment-156605612\nThere is indeed a very clear need for it in **your** 'opinion' of how to solve that problem, without resorting to a simple improvement of the code, that I stated there: https://github.com/bitcoin/bitcoin/issues/7015#issuecomment-157942182\n\nIn that example given, that raised the issue, and your 'supposed' solution to it, in fact what currently happens is work is supplied that is already stale even though bitcoin core code has the data that knows this in an extremely high percentage of those cases, but due to some unexplained locking failure of understanding, it's decided ok to increase network divergence.\n\nIf you had multiple bitcoinds, and didn't submit the block to the getblocktemplate bticoind, i.e. only submit the block to another one (or more) to process, and then be given back to the getblocktemplate source bitcoind via those, that would double the amount of time spent working on stale work.\n",
      "created_at" : "2015-11-28T12:36:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7049#issuecomment-160289860",
      "id" : 160289860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7049",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE2MDI4OTg2MA==",
      "updated_at" : "2015-11-28T12:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160289860",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1059166?v=4",
         "events_url" : "https://api.github.com/users/kanoi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanoi/followers",
         "following_url" : "https://api.github.com/users/kanoi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanoi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanoi",
         "id" : 1059166,
         "login" : "kanoi",
         "node_id" : "MDQ6VXNlcjEwNTkxNjY=",
         "organizations_url" : "https://api.github.com/users/kanoi/orgs",
         "received_events_url" : "https://api.github.com/users/kanoi/received_events",
         "repos_url" : "https://api.github.com/users/kanoi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanoi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanoi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanoi"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "block relay network has been implemented in #15759 ",
      "created_at" : "2020-04-24T20:20:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7049#issuecomment-619221163",
      "id" : 619221163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7049",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTIyMTE2Mw==",
      "updated_at" : "2020-04-24T20:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619221163",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
