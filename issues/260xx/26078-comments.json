[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK",
      "created_at" : "2022-09-13T23:23:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1246048227",
      "id" : 1246048227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KRS_j",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246048227/reactions"
      },
      "updated_at" : "2022-09-13T23:23:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246048227",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Interesting simplification and looks reasonable at first glance. A possible alternative would be to retain the checks and make `LookupSubNet` return `std::optional<CSubNet>` instead.\r\n\r\n```\r\nrpc/net.cpp:717:9: error: no matching function for call to 'LookupSubNet'\r\n        LookupSubNet(request.params[0].get_str(), subNet);\r\n        ^~~~~~~~~~~~\r\n./netbase.h:177:9: note: candidate function not viable: requires single argument 'subnet_str', but 2 arguments were provided\r\nCSubNet LookupSubNet(const std::string& subnet_str);\r\n        ^\r\n1 error generated.\r\n```\r\n",
      "created_at" : "2022-09-14T11:17:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1246616823",
      "id" : 1246616823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KTdz3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246616823/reactions"
      },
      "updated_at" : "2022-09-14T12:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246616823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r970675422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970675422"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps mention possible non-valid result here\r\n```suggestion\r\n * @returns a CSubNet object (that may or may not be valid).\r\n```",
      "commit_id" : "3007397adccfeaaada9028ed00de98ac0ddcdf17",
      "created_at" : "2022-09-14T11:20:54Z",
      "diff_hunk" : "@@ -172,11 +172,9 @@ CService LookupNumeric(const std::string& name, uint16_t portDefault = 0, DNSLoo\n  * @param[in]  subnet_str  A string representation of a subnet of the form\n  *                         `network address [ \"/\", ( CIDR-style suffix | netmask ) ]`\n  *                         e.g. \"2001:db8::/32\", \"192.0.2.0/255.255.255.0\" or \"8.8.8.8\".\n- * @param[out] subnet_out  Internal subnet representation, if parsable/resolvable\n- *                         from `subnet_str`.\n- * @returns whether the operation succeeded or not.\n+ * @returns CSubNet object.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r970675422",
      "id" : 970675422,
      "line" : 175,
      "node_id" : "PRRC_kwDOABII584521Te",
      "original_commit_id" : "3007397adccfeaaada9028ed00de98ac0ddcdf17",
      "original_line" : 175,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 7,
      "pull_request_review_id" : 1107287691,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970675422/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T11:20:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970675422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r970845352"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970845352"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, make sense. Addressed it on latest push. ",
      "commit_id" : "0b558d3c6ecf1482eb36b94656fda3687d93992b",
      "created_at" : "2022-09-14T13:57:26Z",
      "diff_hunk" : "@@ -172,11 +172,9 @@ CService LookupNumeric(const std::string& name, uint16_t portDefault = 0, DNSLoo\n  * @param[in]  subnet_str  A string representation of a subnet of the form\n  *                         `network address [ \"/\", ( CIDR-style suffix | netmask ) ]`\n  *                         e.g. \"2001:db8::/32\", \"192.0.2.0/255.255.255.0\" or \"8.8.8.8\".\n- * @param[out] subnet_out  Internal subnet representation, if parsable/resolvable\n- *                         from `subnet_str`.\n- * @returns whether the operation succeeded or not.\n+ * @returns CSubNet object.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r970845352",
      "id" : 970845352,
      "in_reply_to_id" : 970675422,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58453eyo",
      "original_commit_id" : "3007397adccfeaaada9028ed00de98ac0ddcdf17",
      "original_line" : 175,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_review_id" : 1107540233,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970845352/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T13:57:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970845352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/26078#pullrequestreview-1117177116), [vasild](https://github.com/bitcoin/bitcoin/pull/26078#pullrequestreview-1307554395) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/717](https://github.com/bitcoin-core/gui/pull/717) (gui: use the stored CSubNet entry when unbanning by vasild)\n* [#26261](https://github.com/bitcoin/bitcoin/pull/26261) (p2p: cleanup `LookupIntern`, `Lookup` and `LookupHost` by brunoerg)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-09-14T22:44:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1247375505",
      "id" : 1247375505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KWXCR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247375505/reactions"
      },
      "updated_at" : "2023-03-09T14:40:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247375505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed @jonatack's review and now it returns `std::optional<CSubNet>`.",
      "created_at" : "2022-09-19T17:43:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1251339960",
      "id" : 1251339960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585Kle64",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251339960/reactions"
      },
      "updated_at" : "2022-09-19T17:43:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251339960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r974686551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974686551"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This `assert` looks tautological.\r\nMore general, if `LookupSubNet` is changed to return an optional, would it be possible to either return a valid `CSubNet`, or `std::nullopt`? Or is there a need to distinguish between `std::nullopt` and an invalid but existing CSubNet?",
      "commit_id" : "0b3db2f58110cc61549223d00a8caf2c97c22cf3",
      "created_at" : "2022-09-19T21:01:03Z",
      "diff_hunk" : "@@ -63,9 +63,9 @@ FUZZ_TARGET(netbase_dns_lookup)\n         assert(!resolved_service.IsInternal());\n     }\n     {\n-        CSubNet resolved_subnet;\n-        if (LookupSubNet(name, resolved_subnet)) {\n-            assert(resolved_subnet.IsValid());\n+        std::optional<CSubNet> resolved_subnet = LookupSubNet(name);\n+        if (resolved_subnet.has_value()) {\n+            assert(resolved_subnet.value().IsValid() || !resolved_subnet.value().IsValid());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r974686551",
      "id" : 974686551,
      "line" : 68,
      "node_id" : "PRRC_kwDOABII5846GIlX",
      "original_commit_id" : "0b3db2f58110cc61549223d00a8caf2c97c22cf3",
      "original_line" : 68,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : 9,
      "pull_request_review_id" : 1112876353,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974686551/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-19T21:01:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974686551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`std::optional` seems redundant here. I think it's better to just return the `CSubNet`?",
      "created_at" : "2022-09-19T23:56:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1251688717",
      "id" : 1251688717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585Km0EN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251688717/reactions"
      },
      "updated_at" : "2022-09-19T23:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251688717",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r974776563"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974776563"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Returning a non-nullopt invalid subnet here and elsewhere is liable to introduce bugs",
      "commit_id" : "0b3db2f58110cc61549223d00a8caf2c97c22cf3",
      "created_at" : "2022-09-20T00:01:46Z",
      "diff_hunk" : "@@ -698,23 +698,20 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n             uint8_t netmask;\n             if (ParseUInt8(netmask_str, &netmask)) {\n                 // Valid number; assume CIDR variable-length subnet masking.\n-                subnet_out = CSubNet{addr, netmask};\n-                return subnet_out.IsValid();\n+                return CSubNet{addr, netmask};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r974776563",
      "id" : 974776563,
      "line" : 701,
      "node_id" : "PRRC_kwDOABII5846Gejz",
      "original_commit_id" : "0b3db2f58110cc61549223d00a8caf2c97c22cf3",
      "original_line" : 701,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 19,
      "pull_request_review_id" : 1112998659,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974776563/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-20T00:01:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974776563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r975380872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975380872"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree, force-pushed fixing it.",
      "commit_id" : "07c60536863667c3314becaead0e33a4cb7e6591",
      "created_at" : "2022-09-20T13:41:12Z",
      "diff_hunk" : "@@ -698,23 +698,20 @@ bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n             uint8_t netmask;\n             if (ParseUInt8(netmask_str, &netmask)) {\n                 // Valid number; assume CIDR variable-length subnet masking.\n-                subnet_out = CSubNet{addr, netmask};\n-                return subnet_out.IsValid();\n+                return CSubNet{addr, netmask};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r975380872",
      "id" : 975380872,
      "in_reply_to_id" : 974776563,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846IyGI",
      "original_commit_id" : "0b3db2f58110cc61549223d00a8caf2c97c22cf3",
      "original_line" : 701,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1113845869,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975380872/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-20T13:41:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975380872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r975384238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975384238"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're right, there is no need to return an invalid but existing`CSubNet`. Just changed the approach to return only a valid one otherwise it returns `std::nullopt`. ",
      "commit_id" : "07c60536863667c3314becaead0e33a4cb7e6591",
      "created_at" : "2022-09-20T13:43:55Z",
      "diff_hunk" : "@@ -63,9 +63,9 @@ FUZZ_TARGET(netbase_dns_lookup)\n         assert(!resolved_service.IsInternal());\n     }\n     {\n-        CSubNet resolved_subnet;\n-        if (LookupSubNet(name, resolved_subnet)) {\n-            assert(resolved_subnet.IsValid());\n+        std::optional<CSubNet> resolved_subnet = LookupSubNet(name);\n+        if (resolved_subnet.has_value()) {\n+            assert(resolved_subnet.value().IsValid() || !resolved_subnet.value().IsValid());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r975384238",
      "id" : 975384238,
      "in_reply_to_id" : 974686551,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846Iy6u",
      "original_commit_id" : "0b3db2f58110cc61549223d00a8caf2c97c22cf3",
      "original_line" : 68,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : null,
      "pull_request_review_id" : 1113851324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975384238/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-20T13:43:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975384238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed to make `LookupSubnet` not return an invalid but existing `CSubNet`, now it returns a valid `CSubNet` or `std::nullopt`. Thanks, @luke-jr and @mzumsande.",
      "created_at" : "2022-09-20T13:45:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1252378560",
      "id" : 1252378560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KpcfA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252378560/reactions"
      },
      "updated_at" : "2022-09-20T13:45:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252378560",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I still think adding a `std::optional` here is asking for bugs. We're already seeing this kind of thing with the new `util::Result` stuff. It's important to only have one \"no value\" state.",
      "created_at" : "2022-09-20T14:23:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1252431842",
      "id" : 1252431842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585Kppfi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252431842/reactions"
      },
      "updated_at" : "2022-09-20T14:23:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252431842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I donÂ´t think `std::optional` is a problem per se, but `CSubNet` has the `bool CSubNet::valid` which can be used  instead of `std::optional` in this case.\r\n\r\nThe problem in `util::Result` has more to do with the complexity of the class than in the use of `std::optional`.",
      "created_at" : "2022-09-21T12:50:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1253664827",
      "id" : 1253664827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KuWg7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253664827/reactions"
      },
      "updated_at" : "2022-09-21T12:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253664827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The problem is having two ways to represent an invalid state, especially when they can be at odds with each other (in that case, .has_value() && !->IsValid()).",
      "created_at" : "2022-09-22T03:12:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1254465414",
      "id" : 1254465414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KxZ-G",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254465414/reactions"
      },
      "updated_at" : "2022-09-22T03:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254465414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The problem is having two ways to represent an invalid state, especially when they can be at odds with each other (in that case, .has_value() && !->IsValid()).\r\n\r\nFair enough, it's better to return `CSubNet` instead. I'm going to change it. ",
      "created_at" : "2022-09-22T12:35:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1254961365",
      "id" : 1254961365,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585KzTDV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254961365/reactions"
      },
      "updated_at" : "2022-09-22T12:35:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254961365",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109701750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109701750"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit, here and elsewhere:\r\n\r\n```suggestion\r\n        const CSubNet subnet = LookupSubNet(strAllow);\r\n```",
      "commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "created_at" : "2023-02-17T12:02:50Z",
      "diff_hunk" : "@@ -169,8 +169,7 @@ static bool InitHTTPAllowList()\n     rpc_allow_subnets.push_back(CSubNet(localv4, 8));      // always allow IPv4 local subnet\n     rpc_allow_subnets.push_back(CSubNet(localv6));         // always allow IPv6 localhost\n     for (const std::string& strAllow : gArgs.GetArgs(\"-rpcallowip\")) {\n-        CSubNet subnet;\n-        LookupSubNet(strAllow, subnet);\n+        CSubNet subnet = LookupSubNet(strAllow);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109701750",
      "id" : 1109701750,
      "line" : 172,
      "node_id" : "PRRC_kwDOABII585CJLR2",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 172,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/httpserver.cpp",
      "position" : 6,
      "pull_request_review_id" : 1303302554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109701750/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T12:43:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109701750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109707211"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109707211"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maybe add `assert(!subnet.IsValid());` after `CSubNet subnet;` to make it obvious that we return an invalid object and to guard against future changes that construct a valid `CSubNet` by default.",
      "commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "created_at" : "2023-02-17T12:08:24Z",
      "diff_hunk" : "@@ -682,10 +682,11 @@ bool ConnectThroughProxy(const Proxy& proxy, const std::string& strDest, uint16_\n     return true;\n }\n \n-bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n+CSubNet LookupSubNet(const std::string& subnet_str)\n {\n+    CSubNet subnet;\n     if (!ContainsNoNUL(subnet_str)) {\n-        return false;\n+        return subnet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109707211",
      "id" : 1109707211,
      "line" : 689,
      "node_id" : "PRRC_kwDOABII585CJMnL",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 689,
      "original_position" : 10,
      "original_start_line" : 687,
      "path" : "src/netbase.cpp",
      "position" : 10,
      "pull_request_review_id" : 1303302554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109707211/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 687,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T12:43:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109707211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109711519"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109711519"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, `possibleSubnet.has_value()` will always be `true`. I guess this is an artifact from a previous incarnation of this PR that used `std::optional`.",
      "commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "created_at" : "2023-02-17T12:11:57Z",
      "diff_hunk" : "@@ -1308,11 +1308,8 @@ void RPCConsole::unbanSelectedNode()\n     {\n         // Get currently selected ban address\n         QString strNode = nodes.at(i).data().toString();\n-        CSubNet possibleSubnet;\n-\n-        LookupSubNet(strNode.toStdString(), possibleSubnet);\n-        if (possibleSubnet.IsValid() && m_node.unban(possibleSubnet))\n-        {\n+        std::optional<CSubNet> possibleSubnet = LookupSubNet(strNode.toStdString());\n+        if (possibleSubnet.has_value() && m_node.unban(possibleSubnet.value())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109711519",
      "id" : 1109711519,
      "line" : 1312,
      "node_id" : "PRRC_kwDOABII585CJNqf",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 1312,
      "original_position" : 10,
      "original_start_line" : 1311,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : 10,
      "pull_request_review_id" : 1303302554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109711519/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1311,
      "start_side" : "LEFT",
      "updated_at" : "2023-02-17T12:43:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109711519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109749273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109749273"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`x || !x` will never be `false`. It suffices to change this to `(void)LookupSubNet(name);`.",
      "commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "created_at" : "2023-02-17T12:39:52Z",
      "diff_hunk" : "@@ -63,9 +63,7 @@ FUZZ_TARGET(netbase_dns_lookup)\n         assert(!resolved_service.IsInternal());\n     }\n     {\n-        CSubNet resolved_subnet;\n-        if (LookupSubNet(name, resolved_subnet)) {\n-            assert(resolved_subnet.IsValid());\n-        }\n+        CSubNet resolved_subnet = LookupSubNet(name);\n+        assert(resolved_subnet.IsValid() || !resolved_subnet.IsValid());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109749273",
      "id" : 1109749273,
      "line" : 67,
      "node_id" : "PRRC_kwDOABII585CJW4Z",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 67,
      "original_position" : 9,
      "original_start_line" : 66,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : 9,
      "pull_request_review_id" : 1303302554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109749273/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 66,
      "start_side" : "LEFT",
      "updated_at" : "2023-02-17T12:43:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109749273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109752206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109752206"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now `ResolveSubNet()` is identical to `LookupSubNet()`. Maybe ditch the former and change the callers to use directly `LookupSubNet()`?",
      "commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "created_at" : "2023-02-17T12:41:53Z",
      "diff_hunk" : "@@ -31,9 +31,7 @@ static CNetAddr ResolveIP(const std::string& ip)\n \n static CSubNet ResolveSubNet(const std::string& subnet)\n {\n-    CSubNet ret;\n-    LookupSubNet(subnet, ret);\n-    return ret;\n+    return LookupSubNet(subnet);\n }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109752206",
      "id" : 1109752206,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII585CJXmO",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 35,
      "original_position" : 8,
      "original_start_line" : 32,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 8,
      "pull_request_review_id" : 1303302554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109752206/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 32,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T12:43:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109752206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109955578"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109955578"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yea, nice find, thanks!",
      "commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "created_at" : "2023-02-17T15:14:38Z",
      "diff_hunk" : "@@ -1308,11 +1308,8 @@ void RPCConsole::unbanSelectedNode()\n     {\n         // Get currently selected ban address\n         QString strNode = nodes.at(i).data().toString();\n-        CSubNet possibleSubnet;\n-\n-        LookupSubNet(strNode.toStdString(), possibleSubnet);\n-        if (possibleSubnet.IsValid() && m_node.unban(possibleSubnet))\n-        {\n+        std::optional<CSubNet> possibleSubnet = LookupSubNet(strNode.toStdString());\n+        if (possibleSubnet.has_value() && m_node.unban(possibleSubnet.value())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1109955578",
      "id" : 1109955578,
      "in_reply_to_id" : 1109711519,
      "line" : 1312,
      "node_id" : "PRRC_kwDOABII585CKJP6",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 1312,
      "original_position" : 10,
      "original_start_line" : 1311,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : 10,
      "pull_request_review_id" : 1303636990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109955578/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1311,
      "start_side" : "LEFT",
      "updated_at" : "2023-02-17T15:14:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109955578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110179294"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110179294"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, better to call `LookupSubNet()`.",
      "commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "created_at" : "2023-02-17T18:21:42Z",
      "diff_hunk" : "@@ -31,9 +31,7 @@ static CNetAddr ResolveIP(const std::string& ip)\n \n static CSubNet ResolveSubNet(const std::string& subnet)\n {\n-    CSubNet ret;\n-    LookupSubNet(subnet, ret);\n-    return ret;\n+    return LookupSubNet(subnet);\n }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110179294",
      "id" : 1110179294,
      "in_reply_to_id" : 1109752206,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CK_3e",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 35,
      "original_position" : 8,
      "original_start_line" : 32,
      "path" : "src/test/netbase_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1303985883,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110179294/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T18:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110179294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110180280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180280"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "created_at" : "2023-02-17T18:22:38Z",
      "diff_hunk" : "@@ -169,8 +169,7 @@ static bool InitHTTPAllowList()\n     rpc_allow_subnets.push_back(CSubNet(localv4, 8));      // always allow IPv4 local subnet\n     rpc_allow_subnets.push_back(CSubNet(localv6));         // always allow IPv6 localhost\n     for (const std::string& strAllow : gArgs.GetArgs(\"-rpcallowip\")) {\n-        CSubNet subnet;\n-        LookupSubNet(strAllow, subnet);\n+        CSubNet subnet = LookupSubNet(strAllow);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110180280",
      "id" : 1110180280,
      "in_reply_to_id" : 1109701750,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CLAG4",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 172,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/httpserver.cpp",
      "position" : null,
      "pull_request_review_id" : 1303987830,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180280/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-17T18:22:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110180577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180577"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Make sense, done!",
      "commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "created_at" : "2023-02-17T18:22:56Z",
      "diff_hunk" : "@@ -682,10 +682,11 @@ bool ConnectThroughProxy(const Proxy& proxy, const std::string& strDest, uint16_\n     return true;\n }\n \n-bool LookupSubNet(const std::string& subnet_str, CSubNet& subnet_out)\n+CSubNet LookupSubNet(const std::string& subnet_str)\n {\n+    CSubNet subnet;\n     if (!ContainsNoNUL(subnet_str)) {\n-        return false;\n+        return subnet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110180577",
      "id" : 1110180577,
      "in_reply_to_id" : 1109707211,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CLALh",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 689,
      "original_position" : 10,
      "original_start_line" : 687,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 1303988425,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180577/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2023-02-17T18:22:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110180782"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180782"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done!",
      "commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "created_at" : "2023-02-17T18:23:09Z",
      "diff_hunk" : "@@ -63,9 +63,7 @@ FUZZ_TARGET(netbase_dns_lookup)\n         assert(!resolved_service.IsInternal());\n     }\n     {\n-        CSubNet resolved_subnet;\n-        if (LookupSubNet(name, resolved_subnet)) {\n-            assert(resolved_subnet.IsValid());\n-        }\n+        CSubNet resolved_subnet = LookupSubNet(name);\n+        assert(resolved_subnet.IsValid() || !resolved_subnet.IsValid());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1110180782",
      "id" : 1110180782,
      "in_reply_to_id" : 1109749273,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CLAOu",
      "original_commit_id" : "fc60ced518c7d5e1696018e1378c457b70c6909b",
      "original_line" : 67,
      "original_position" : 9,
      "original_start_line" : 66,
      "path" : "src/test/fuzz/netbase_dns_lookup.cpp",
      "position" : null,
      "pull_request_review_id" : 1303988875,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180782/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2023-02-17T18:23:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110180782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing @vasild's review.",
      "created_at" : "2023-02-17T18:24:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1435068141",
      "id" : 1435068141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585ViWbt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435068141/reactions"
      },
      "updated_at" : "2023-02-17T18:24:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1435068141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1112010947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1112010947"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The new code could call `unban()` with an invalid subnet whereas the previous one would not. `unban()` would call `m_banned.erase()` which would use `operator==(const CSubNet& a, const CSubNet& b)` which could match another invalid entry, I guess. Maybe that is ok, but to keep this change \"non-functional\", the new code should be:\r\n\r\n```cpp\r\nif (possibleSubnet.IsValid() && m_node.unban(possibleSubnet)) {\r\n```",
      "commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "created_at" : "2023-02-20T14:15:59Z",
      "diff_hunk" : "@@ -1312,11 +1312,8 @@ void RPCConsole::unbanSelectedNode()\n     {\n         // Get currently selected ban address\n         QString strNode = nodes.at(i).data().toString();\n-        CSubNet possibleSubnet;\n-\n-        LookupSubNet(strNode.toStdString(), possibleSubnet);\n-        if (possibleSubnet.IsValid() && m_node.unban(possibleSubnet))\n-        {\n+        const CSubNet possibleSubnet{LookupSubNet(strNode.toStdString())};\n+        if (m_node.unban(possibleSubnet)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1112010947",
      "id" : 1112010947,
      "line" : 1316,
      "node_id" : "PRRC_kwDOABII585CR_DD",
      "original_commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "original_line" : 1316,
      "original_position" : 10,
      "original_start_line" : 1315,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : 10,
      "pull_request_review_id" : 1305874889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1112010947/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1315,
      "start_side" : "LEFT",
      "updated_at" : "2023-02-20T14:16:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1112010947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1112352046"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1112352046"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Makes sense! Gonna address it!",
      "commit_id" : "9fb86661cf81e27131eb5f8d901397a25e2cd4b4",
      "created_at" : "2023-02-20T22:00:10Z",
      "diff_hunk" : "@@ -1312,11 +1312,8 @@ void RPCConsole::unbanSelectedNode()\n     {\n         // Get currently selected ban address\n         QString strNode = nodes.at(i).data().toString();\n-        CSubNet possibleSubnet;\n-\n-        LookupSubNet(strNode.toStdString(), possibleSubnet);\n-        if (possibleSubnet.IsValid() && m_node.unban(possibleSubnet))\n-        {\n+        const CSubNet possibleSubnet{LookupSubNet(strNode.toStdString())};\n+        if (m_node.unban(possibleSubnet)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#discussion_r1112352046",
      "id" : 1112352046,
      "in_reply_to_id" : 1112010947,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CTSUu",
      "original_commit_id" : "2f5a5cc0aaad1cf0fdda5d1ceaafcde9253264c7",
      "original_line" : 1316,
      "original_position" : 10,
      "original_start_line" : 1315,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : null,
      "pull_request_review_id" : 1306382983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26078",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1112352046/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2023-02-20T22:00:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1112352046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing lastest @vasild's review",
      "created_at" : "2023-02-20T22:38:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1437636314",
      "id" : 1437636314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585VsJba",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1437636314/reactions"
      },
      "updated_at" : "2023-02-20T22:38:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1437636314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-03-09T14:33:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1462165452",
      "id" : 1462165452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585XJt_M",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462165452/reactions"
      },
      "updated_at" : "2023-03-09T14:33:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462165452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased",
      "created_at" : "2023-03-09T14:47:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26078#issuecomment-1462186854",
      "id" : 1462186854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26078",
      "node_id" : "IC_kwDOABII585XJzNm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462186854/reactions"
      },
      "updated_at" : "2023-03-09T14:47:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462186854",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   }
]
