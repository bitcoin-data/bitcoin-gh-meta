[
   {
      "author_association" : "MEMBER",
      "body" : "```\r\n test  2022-09-12T11:34:40.885000Z TestFramework (ERROR): JSONRPC error \r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/wallet_resendwallettransactions.py\", line 91, in run_test\r\n                                       bumped = node.bumpfee(child_txid)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/coverage.py\", line 49, in __call__\r\n                                       return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/authproxy.py\", line 144, in __call__\r\n                                       raise JSONRPCException(response['error'], status)\r\n                                   test_framework.authproxy.JSONRPCException: Unable to create transaction. Fee exceeds maximum configured by user (e.g. -maxtxfee, maxfeerate) (-4)",
      "created_at" : "2022-09-13T06:52:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1244977346",
      "id" : 1244977346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KNNjC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1244977346/reactions"
      },
      "updated_at" : "2022-09-13T06:52:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1244977346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I can reproduce locally and the actual issue is that the list of txs is of length 3, so it can never be equal to a list of length 2, regardless of its content.\r\n\r\n\r\nTo reproduce:\r\n\r\n```\r\nwhile ./test/functional/test_runner.py --tracerpc  -j 40  wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py wallet_resendwallettransactions.py ; do true ;done",
      "created_at" : "2022-09-14T13:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246807404",
      "id" : 1246807404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUMVs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246807404/reactions"
      },
      "updated_at" : "2022-09-14T13:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246807404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Current diff to reproduce fastest:\r\n\r\n```diff\r\ndiff --git a/test/functional/wallet_resendwallettransactions.py b/test/functional/wallet_resendwallettransactions.py\r\nindex 26df0841d8..0b8f4bf317 100755\r\n--- a/test/functional/wallet_resendwallettransactions.py\r\n+++ b/test/functional/wallet_resendwallettransactions.py\r\n@@ -86,6 +86,7 @@ class ResendWalletTransactionsTest(BitcoinTestFramework):\r\n         child_txid = node.send(outputs=[{addr: 0.5}], options={\"inputs\": [{\"txid\":txid, \"vout\":0}]})[\"txid\"]\r\n         while True:\r\n             txids = node.listreceivedbyaddress(minconf=0, address_filter=addr)[0][\"txids\"]\r\n+            assert_equal(len(txids), 2)\r\n             if txids == [child_txid, txid]:\r\n                 break\r\n             bumped = node.bumpfee(child_txid)\r\n```\r\n\r\nLog:\r\n\r\n```\r\n2022-09-14T14:15:56.480000Z TestFramework (INFO): Chain of unconfirmed not-in-mempool txs are rebroadcast\r\n-29-> send {\"outputs\": [{\"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\": 0.5}], \"options\": {\"inputs\": [{\"txid\": \"8d6c948eec2b1fbe8362df36cefd5ca803e5e42ebf7f52538ef26331b831ffeb\", \"vout\": 0}]}}\r\n<-29- [0.000320] {\"txid\": \"97d516151b92011f82a612bfea0b70149c617d5ea516196e76c1f599afc1a785\", \"complete\": true}\r\n-30-> listreceivedbyaddress {\"minconf\": 0, \"address_filter\": \"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\"}\r\n<-30- [0.000386] [{\"address\": \"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\", \"amount\": \"1.50000000\", \"confirmations\": 0, \"label\": \"\", \"txids\": [\"8d6c948eec2b1fbe8362df36cefd5ca803e5e42ebf7f52538ef26331b831ffeb\", \"97d516151b92011f82a612bfea0b70149c617d5ea516196e76c1f599afc1a785\"]}]\r\n-31-> bumpfee [\"97d516151b92011f82a612bfea0b70149c617d5ea516196e76c1f599afc1a785\"]\r\n<-31- [0.000279] {\"txid\": \"ca38cf9d48be32f7576155d796192ba635b46daf6ac077879ad6d21296d357b8\", \"origfee\": \"0.00002820\", \"fee\": \"0.00003526\", \"errors\": []}\r\n-32-> removeprunedfunds [\"97d516151b92011f82a612bfea0b70149c617d5ea516196e76c1f599afc1a785\"]\r\n<-32- [0.000256] null\r\n-33-> listreceivedbyaddress {\"minconf\": 0, \"address_filter\": \"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\"}\r\n<-33- [0.000236] [{\"address\": \"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\", \"amount\": \"1.50000000\", \"confirmations\": 0, \"label\": \"\", \"txids\": [\"8d6c948eec2b1fbe8362df36cefd5ca803e5e42ebf7f52538ef26331b831ffeb\", \"ca38cf9d48be32f7576155d796192ba635b46daf6ac077879ad6d21296d357b8\"]}]\r\n-34-> bumpfee [\"ca38cf9d48be32f7576155d796192ba635b46daf6ac077879ad6d21296d357b8\"]\r\n<-34- [0.000250] {\"txid\": \"7436a7a7ccc63bb79e19ba212bb768de1261523fd4481343234430e1de5916af\", \"origfee\": \"0.00003526\", \"fee\": \"0.00004232\", \"errors\": []}\r\n-35-> removeprunedfunds [\"ca38cf9d48be32f7576155d796192ba635b46daf6ac077879ad6d21296d357b8\"]\r\n<-35- [0.000240] null\r\n-36-> listreceivedbyaddress {\"minconf\": 0, \"address_filter\": \"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\"}\r\n<-36- [0.000229] [{\"address\": \"bcrt1qv5q43yunpc7mjw73nje7nd0g66lpjts2xazdj0\", \"amount\": \"2.00000000\", \"confirmations\": 0, \"label\": \"\", \"txids\": [\"7436a7a7ccc63bb79e19ba212bb768de1261523fd4481343234430e1de5916af\", \"8d6c948eec2b1fbe8362df36cefd5ca803e5e42ebf7f52538ef26331b831ffeb\", \"97d516151b92011f82a612bfea0b70149c617d5ea516196e76c1f599afc1a785\"]}]\r\n2022-09-14T14:15:56.500000Z TestFramework (ERROR): Assertion failed\r\n    assert_equal(len(txids), 2)\r\nAssertionError: not(3 == 2)\r\n",
      "created_at" : "2022-09-14T14:24:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246844744",
      "id" : 1246844744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUVdI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246844744/reactions"
      },
      "updated_at" : "2022-09-14T14:24:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246844744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice, @MarcoFalke. Could reproduce it as well.",
      "created_at" : "2022-09-14T14:31:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246857347",
      "id" : 1246857347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUYiD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246857347/reactions"
      },
      "updated_at" : "2022-09-14T14:31:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246857347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ah nice! Why are there 3 transactions?",
      "created_at" : "2022-09-14T14:42:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246873815",
      "id" : 1246873815,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUcjX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246873815/reactions"
      },
      "updated_at" : "2022-09-14T14:42:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246873815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There shouldn't be 3 transactions. It looks like one of the child transactions that should have been removed was rebroadcast to the wallet?",
      "created_at" : "2022-09-14T14:49:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246883254",
      "id" : 1246883254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUe22",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246883254/reactions"
      },
      "updated_at" : "2022-09-14T14:49:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246883254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The scheduler creates a copy of the transactions an re-submits it at any later point in time. See #https://github.com/bitcoin/bitcoin/pull/26091",
      "created_at" : "2022-09-14T14:53:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246891110",
      "id" : 1246891110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUgxm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246891110/reactions"
      },
      "updated_at" : "2022-09-14T14:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246891110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "See also https://github.com/bitcoin/bitcoin/pull/18840",
      "created_at" : "2022-09-14T14:55:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1246893394",
      "id" : 1246893394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KUhVS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246893394/reactions"
      },
      "updated_at" : "2022-09-14T14:55:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246893394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The scheduler creates a copy of the transactions an re-submits it at any later point in time.\r\n\r\nI'm trying to understand what this means, I thought that:\r\n- at the end of `bumpfee`, the original tx is `MarkReplaced()`, making `wtx.isUnconfirmed()` false.\r\n- when the scheduler calls `MaybeResendWalletTxs()`, it calls `ResubmitWalletTransactions()` which filters for `isUnconfirmed()`\r\n- syncing with validation interface queue has wallet handle `transactionRemovedFromMempool()`, updating the original tx status as well. but this is also done in `MarkReplaced()`\r\n\r\nWhich part is incorrect? Is the filtering applied at a different time, e.g. when scheduled?",
      "created_at" : "2022-09-14T16:44:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1247037806",
      "id" : 1247037806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KVElu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247037806/reactions"
      },
      "updated_at" : "2022-09-14T16:44:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247037806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "No, `MarkReplaced` does *not* wait for `transactionRemovedFromMempool`:\r\n\r\n```cpp\r\nbool CWallet::MarkReplaced(const uint256& originalHash, const uint256& newHash)\r\n{   \r\n...\r\n    // Refresh mempool status without waiting for transactionRemovedFromMempool\r\n    RefreshMempoolStatus(wtx, chain());\r\n...\r\n```\r\nSo if the `transactionRemovedFromMempool` arrives at any future time (unknown), the copy of the transaction is re-added to the wallet.",
      "created_at" : "2022-09-14T16:50:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1247044690",
      "id" : 1247044690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KVGRS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247044690/reactions"
      },
      "updated_at" : "2022-09-14T16:50:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247044690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~Ok I see my assumption of \"the original tx is `MarkReplaced()`, making `wtx.isUnconfirmed()` false\" is incorrect. When `MarkReplaced()` calls `RefreshMempoolStatus()`, it asks `chain.isInMempool(wtx)` which could still be true (?? not sure if this is right?), so the status remains unconfirmed and should be rebroadcast. The state is not correctly updated until `RefreshMempoolStatus()` is called for `transactionRemovedFromMempool()` (?).~ Edit: don't know `chain.isInMempool()` would return false\r\n\r\n> So if the transactionRemovedFromMempool arrives at any future time (unknown), the copy of the transaction is re-added to the wallet.\r\n\r\nSorry, I still don't understand how it can be \"re-added to the wallet\" this way? I thought it just calls `RefreshMempoolStatus`. Is that changing the state back to active somehow?\r\nhttps://github.com/bitcoin/bitcoin/blob/f523df1ee8661e0c4738694b9054952769bfff65/src/wallet/wallet.cpp#L1302-L1337",
      "created_at" : "2022-09-14T17:25:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1247082856",
      "id" : 1247082856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KVPlo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247082856/reactions"
      },
      "updated_at" : "2022-09-14T17:52:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247082856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The only way that `transactionRemovedFromMempool` can add a transaction back into the wallet is if the removal reason is `CONFLICT`. Otherwise the transaction does not even exist in the wallet anymore as `removeprunedfunds` will delete it. It will not exist in `mapWallet` after `removeprunedfunds`.",
      "created_at" : "2022-09-14T19:29:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1247211205",
      "id" : 1247211205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KVu7F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247211205/reactions"
      },
      "updated_at" : "2022-09-14T19:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247211205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh apologies, I meant `transactionAddedToMempool`. But the fix works in any case.",
      "created_at" : "2022-09-15T07:07:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1247672175",
      "id" : 1247672175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KXfdv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247672175/reactions"
      },
      "updated_at" : "2022-09-15T07:07:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247672175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ahhh okay, so it's re-added to the wallet when `transactionAddedToMempool()` for the original tx fires, calling `AddToWalletIfInvolvingMe()` and undoing the `removeprunedfunds`? That makes sense to me.",
      "created_at" : "2022-09-15T09:56:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1247870110",
      "id" : 1247870110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KYPye",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247870110/reactions"
      },
      "updated_at" : "2022-09-15T09:56:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247870110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Unrelated to the test fix, the real question is if this is also considered a user-facing bug that should be fixed",
      "created_at" : "2022-09-15T15:17:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1248247889",
      "id" : 1248247889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KZsBR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248247889/reactions"
      },
      "updated_at" : "2022-09-15T15:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248247889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Unrelated to the test fix, the real question is if this is also considered a user-facing bug that should be fixed\r\n\r\nUnsure, I don't think a user would submit and then conflict a tx so quickly, but maybe?\r\n\r\nJust wondering, is there a reason the wallet doesn't wait for validation interface to sync after bumpfee?",
      "created_at" : "2022-09-20T09:43:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1252104251",
      "id" : 1252104251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585KoZg7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252104251/reactions"
      },
      "updated_at" : "2022-09-20T09:43:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252104251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't see a reason, but Ryan may have reasons: https://github.com/bitcoin/bitcoin/pull/18840#issuecomment-622410773",
      "created_at" : "2022-09-20T09:48:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26071#issuecomment-1252109298",
      "id" : 1252109298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26071",
      "node_id" : "IC_kwDOABII585Koavy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252109298/reactions"
      },
      "updated_at" : "2022-09-20T09:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252109298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
