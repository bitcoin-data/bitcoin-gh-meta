[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r966492541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966492541"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Might this check make more sense if it were placed in `FinishTransaction` (which is called by `send` and `sendall`) within the section that is only performed if the transaction is complete? The advantages of this would be that A) this check is now added for both `sendall` and `send`, and B) this check isn't performed if the transaction doesn't contain a complete set of signatures.",
      "commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "created_at" : "2022-09-08T23:08:18Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // Limit size\n+            if (tx_size.weight > MAX_STANDARD_TX_WEIGHT) {\n+                throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Transaction too large.\");\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r966492541",
      "id" : 966492541,
      "line" : 1412,
      "node_id" : "PRRC_kwDOABII5845m4F9",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 1412,
      "original_position" : 7,
      "original_start_line" : 1409,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 7,
      "pull_request_review_id" : 1101516187,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966492541/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1409,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-08T23:20:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966492541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r966759549"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966759549"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "[`send` is using `FundTransaction`](https://github.com/bitcoin/bitcoin/blob/19585eeb778ac093d7b9e93abd099629849c3fef/src/wallet/rpc/spend.cpp#L1228) which then calls the [`wallet::FundTransaction`](https://github.com/bitcoin/bitcoin/blob/19585eeb778ac093d7b9e93abd099629849c3fef/src/wallet/spend.cpp#L1087) which uses `CreateTransaction` therefore performing those checks. ",
      "commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "created_at" : "2022-09-09T08:14:12Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // Limit size\n+            if (tx_size.weight > MAX_STANDARD_TX_WEIGHT) {\n+                throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Transaction too large.\");\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r966759549",
      "id" : 966759549,
      "in_reply_to_id" : 966492541,
      "line" : 1412,
      "node_id" : "PRRC_kwDOABII5845n5R9",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 1412,
      "original_position" : 7,
      "original_start_line" : 1409,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 7,
      "pull_request_review_id" : 1101888003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966759549/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1409,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-09T08:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966759549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "\r\n> * whether the feerate exceeds the default maximum feerate set by the user\r\n\r\nThere is already [this check](https://github.com/bitcoin/bitcoin/blob/a9049dd296a47319038d8c34bcc1ca46c89dee9c/src/wallet/rpc/spend.cpp#L1358-L1368) against the `fee_rate` passed by the user. I can't find any other relevant check at `CreateTransactionInternal`. Could you give more details on that?\r\n\r\n> * whether the tx will pass the mempool's chain limits\r\n\r\nMy understanding is that this is not a problem because this RPC only uses confirmed UTXOs.\r\n",
      "created_at" : "2022-09-09T08:44:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1241685309",
      "id" : 1241685309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KAp09",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241685309/reactions"
      },
      "updated_at" : "2022-09-09T08:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241685309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r967910415"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967910415"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, I hadn't noticed that.",
      "commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "created_at" : "2022-09-12T00:09:29Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // Limit size\n+            if (tx_size.weight > MAX_STANDARD_TX_WEIGHT) {\n+                throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Transaction too large.\");\n+            }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r967910415",
      "id" : 967910415,
      "in_reply_to_id" : 966492541,
      "line" : 1412,
      "node_id" : "PRRC_kwDOABII5845sSQP",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 1412,
      "original_position" : 7,
      "original_start_line" : 1409,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 7,
      "pull_request_review_id" : 1103376377,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967910415/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1409,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-12T00:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/967910415",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I can't find any other relevant check at `CreateTransactionInternal`. Could you give more details on that?\r\n\r\nI meant [this](https://github.com/bitcoin/bitcoin/blob/a9049dd296a47319038d8c34bcc1ca46c89dee9c/src/wallet/spend.cpp#L1020-L1022) check, which checks that the total fee is not greater than the maximum fee (set using -maxtxfee). Earlier I should have said fee instead of feerate. ",
      "created_at" : "2022-09-12T22:22:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1244600962",
      "id" : 1244600962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KLxqC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1244600962/reactions"
      },
      "updated_at" : "2022-09-12T22:22:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1244600962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-13T23:00:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1246032719",
      "id" : 1246032719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KRPNP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246032719/reactions"
      },
      "updated_at" : "2022-09-13T23:00:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246032719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "created_at" : "2022-09-13T23:15:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1246042903",
      "id" : 1246042903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KRRsX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246042903/reactions"
      },
      "updated_at" : "2022-09-13T23:15:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246042903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2022-09-14T09:50:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1246516220",
      "id" : 1246516220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KTFP8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246516220/reactions"
      },
      "updated_at" : "2022-09-15T14:11:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1246516220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r970646207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970646207"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sendall being able to create multiple transactions would also automatically resolve this problem.",
      "commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "created_at" : "2022-09-14T10:48:41Z",
      "diff_hunk" : "@@ -264,6 +264,20 @@ def sendall_fails_on_specific_inputs_with_send_max(self):\n             recipients=[self.remainder_target],\n             options={\"inputs\": [utxo], \"send_max\": True})\n \n+    # This tests needs to be the last one otherwise @cleanup will fail with \"Transaction too large\" error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r970646207",
      "id" : 970646207,
      "line" : 267,
      "node_id" : "PRRC_kwDOABII58452uK_",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 267,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_sendall.py",
      "position" : 4,
      "pull_request_review_id" : 1107245119,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970646207/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T11:09:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970646207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r970651614"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970651614"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            // If this transaction is too large, e.g. because the wallet has many UTXOs, it will be rejected by the node's mempool.\r\n```",
      "commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "created_at" : "2022-09-14T10:54:14Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // Limit size",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r970651614",
      "id" : 970651614,
      "line" : 1409,
      "node_id" : "PRRC_kwDOABII58452vfe",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 1409,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 4,
      "pull_request_review_id" : 1107245119,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970651614/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T11:09:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/970651614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971179277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971179277"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do you see this multiple transactions capability to be helpful on any other scenario except of when the wallet has many UTXOs?",
      "commit_id" : "2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "created_at" : "2022-09-14T18:46:32Z",
      "diff_hunk" : "@@ -264,6 +264,20 @@ def sendall_fails_on_specific_inputs_with_send_max(self):\n             recipients=[self.remainder_target],\n             options={\"inputs\": [utxo], \"send_max\": True})\n \n+    # This tests needs to be the last one otherwise @cleanup will fail with \"Transaction too large\" error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971179277",
      "id" : 971179277,
      "in_reply_to_id" : 970646207,
      "line" : 267,
      "node_id" : "PRRC_kwDOABII58454wUN",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 267,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_sendall.py",
      "position" : 4,
      "pull_request_review_id" : 1108037737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971179277/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T18:46:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971179277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971179368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971179368"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done, definitely adds more context.",
      "commit_id" : "2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "created_at" : "2022-09-14T18:46:40Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // Limit size",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971179368",
      "id" : 971179368,
      "in_reply_to_id" : 970651614,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58454wVo",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 1409,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1108037861,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971179368/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T18:46:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971179368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "\r\n> which checks that the total fee is not greater than the maximum fee (set using -maxtxfee). \r\n\r\nGood catch, I see that this change is now https://github.com/bitcoin/bitcoin/pull/26084.\r\n\r\nForce pushed only [to add more context to the added check](https://github.com/bitcoin/bitcoin/pull/26024/#discussion_r970651614).\r\n\r\n",
      "created_at" : "2022-09-14T18:47:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1247169506",
      "id" : 1247169506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KVkvi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247169506/reactions"
      },
      "updated_at" : "2022-09-14T18:47:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247169506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "created_at" : "2022-09-14T20:27:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1247267248",
      "id" : 1247267248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KV8mw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247267248/reactions"
      },
      "updated_at" : "2022-09-14T20:27:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247267248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971325299"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971325299"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think that the error code should not indicate that the wallet has insufficient funds.\r\n```suggestion\r\n                throw JSONRPCError(RPC_WALLET_ERROR, \"Transaction too large.\");\r\n```",
      "commit_id" : "2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "created_at" : "2022-09-14T21:46:53Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // If this transaction is too large, e.g. because the wallet has many UTXOs, it will be rejected by the node's mempool.\n+            if (tx_size.weight > MAX_STANDARD_TX_WEIGHT) {\n+                throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Transaction too large.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971325299",
      "id" : 971325299,
      "line" : 1411,
      "node_id" : "PRRC_kwDOABII58455T9z",
      "original_commit_id" : "2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "original_line" : 1411,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 6,
      "pull_request_review_id" : 1108250486,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971325299/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-14T22:46:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971325299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-15T08:47:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1247787237",
      "id" : 1247787237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KX7jl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247787237/reactions"
      },
      "updated_at" : "2022-09-15T08:47:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247787237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971764499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971764499"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I initially tracked what error code the same check was returning from `CreateTransactionInternal`.\r\n\r\nI now see that the 2 paths to call `CreateTransaction` return a different error code:\r\n\r\n**RPC_WALLET_INSUFFICIENT_FUNDS** < `SendMoney` < `CreateTransaction` < `CreateTransactionInternal`\r\nhttps://github.com/bitcoin/bitcoin/blob/718304d222671f98d2335cd9b90a3022f62d7b21/src/wallet/rpc/spend.cpp#L159-L162\r\n\r\n**RPC_WALLET_ERROR** < `FundTransaction` < `CreateTransaction` < `CreateTransactionInternal`\r\nhttps://github.com/bitcoin/bitcoin/blob/718304d222671f98d2335cd9b90a3022f62d7b21/src/wallet/rpc/spend.cpp#L702-L704\r\n\r\nI am not sure if I am missing something but it seems that there is ambiguity. Probably because `CreateTransactionInternal` includes a variety of checks that in the end need to be represented with a single error code.\r\n\r\nFor example, a failed fee estimation is returned differently based on the RPC\r\nhttps://github.com/bitcoin/bitcoin/blob/718304d222671f98d2335cd9b90a3022f62d7b21/test/functional/wallet_fallbackfee.py#L27-L29\r\n\r\nNevertheless, I agree with you that in this case RPC_WALLET_ERROR is more appropriate. I will change it together with the needed rebase.",
      "commit_id" : "2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "created_at" : "2022-09-15T09:37:28Z",
      "diff_hunk" : "@@ -1406,6 +1406,11 @@ RPCHelpMan sendall()\n                 }\n             }\n \n+            // If this transaction is too large, e.g. because the wallet has many UTXOs, it will be rejected by the node's mempool.\n+            if (tx_size.weight > MAX_STANDARD_TX_WEIGHT) {\n+                throw JSONRPCError(RPC_WALLET_INSUFFICIENT_FUNDS, \"Transaction too large.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971764499",
      "id" : 971764499,
      "in_reply_to_id" : 971325299,
      "line" : 1411,
      "node_id" : "PRRC_kwDOABII58456_MT",
      "original_commit_id" : "2b4fc04916e3ed43fcf7297ef6d7c9d71148c844",
      "original_line" : 1411,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 6,
      "pull_request_review_id" : 1108868717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971764499/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-15T09:37:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971764499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971793283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971793283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No. But it seems quite limiting to just not be able to sendall when the wallet gets bigger. I might be wrong but isn't consolidation one of its use cases? And it's a bit ugly to not be able to use cleanup after this test. Anyway I don't want to hold up this PR, so feel free to resolve.",
      "commit_id" : "cc434cbf583ec8d1b0f3aa504417231fdc81f33a",
      "created_at" : "2022-09-15T10:05:15Z",
      "diff_hunk" : "@@ -264,6 +264,20 @@ def sendall_fails_on_specific_inputs_with_send_max(self):\n             recipients=[self.remainder_target],\n             options={\"inputs\": [utxo], \"send_max\": True})\n \n+    # This tests needs to be the last one otherwise @cleanup will fail with \"Transaction too large\" error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971793283",
      "id" : 971793283,
      "in_reply_to_id" : 970646207,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII58457GOD",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 279,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_sendall.py",
      "position" : 4,
      "pull_request_review_id" : 1108910013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971793283/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-15T10:05:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971793283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971811196"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971811196"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It was more of a curiosity question. Your argument seems valid, as per the current functional test, you need ~1600 inputs to reach the limit.",
      "commit_id" : "cc434cbf583ec8d1b0f3aa504417231fdc81f33a",
      "created_at" : "2022-09-15T10:24:35Z",
      "diff_hunk" : "@@ -264,6 +264,20 @@ def sendall_fails_on_specific_inputs_with_send_max(self):\n             recipients=[self.remainder_target],\n             options={\"inputs\": [utxo], \"send_max\": True})\n \n+    # This tests needs to be the last one otherwise @cleanup will fail with \"Transaction too large\" error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971811196",
      "id" : 971811196,
      "in_reply_to_id" : 970646207,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII58457Kl8",
      "original_commit_id" : "8d822033bcdf6888b900d5a65ff21f3d8b9d30d5",
      "original_line" : 279,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_sendall.py",
      "position" : 4,
      "pull_request_review_id" : 1108935748,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26024",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971811196/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-15T10:24:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971811196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you all for the reviews!\r\n\r\nA rebase was needed after the merge of https://github.com/bitcoin/bitcoin/pull/26084.\r\nAlso force pushed to change the error code from `RPC_WALLET_INSUFFICIENT_FUNDS` to `RPC_WALLET_ERROR` based on @ishaanam's comment.",
      "created_at" : "2022-09-15T10:48:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1247928932",
      "id" : 1247928932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KYeJk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247928932/reactions"
      },
      "updated_at" : "2022-09-15T10:48:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247928932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re ACK cc434cb via range-diff. Changes were addressing https://github.com/bitcoin/bitcoin/pull/26024#discussion_r971325299 and https://github.com/bitcoin/bitcoin/pull/26024#discussion_r970651614.",
      "created_at" : "2022-09-15T11:01:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1247942408",
      "id" : 1247942408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KYhcI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247942408/reactions"
      },
      "updated_at" : "2022-09-15T11:01:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1247942408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK cc434cbf583ec8d1b0f3aa504417231fdc81f33a",
      "created_at" : "2022-09-15T17:22:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26024#issuecomment-1248393164",
      "id" : 1248393164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26024",
      "node_id" : "IC_kwDOABII585KaPfM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248393164/reactions"
      },
      "updated_at" : "2022-09-15T17:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248393164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
