[
   {
      "author_association" : "MEMBER",
      "body" : "I'm ok with doing the minimal here, but a reminder that supporting i686 is outside the goals of this project. So NACK on reintroducing `--enable-glibc-back-compat`. It's ugly, outside scope of maintenance, and as you said yourself on IRC, introducing parts of `libgcc` into our codebase is legally questionable (dunno about other libraries that look like it like LLVM's).\r\n\r\nEdit: also as said on IRC, with gitian it was the best we could do, as we were bound to ubuntu's toolchains, with guix we control the entire build environment including toolchains so could patch those if necessary. There's no excuse for having something like --enable-glibc-back-compat in the leaf bitcoin-core build.\r\n\r\nBut a more trivial solution is still preferred. Would bumping the minimum libc version for i686 help?",
      "created_at" : "2022-02-28T11:33:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24448#issuecomment-1054165475",
      "id" : 1054165475,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24448",
      "node_id" : "IC_kwDOABII584-1Unj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054165475/reactions"
      },
      "updated_at" : "2022-02-28T11:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054165475",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2022-02-28T14:07:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24448#issuecomment-1054292127",
      "id" : 1054292127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24448",
      "node_id" : "IC_kwDOABII584-1zif",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054292127/reactions"
      },
      "updated_at" : "2022-03-01T10:05:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054292127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re foreign code: this version is very simple (likely *too* simple for copyright), but in the worst case is licensed under MIT the same as our code. [see LLVM code here](https://opensource.apple.com/source/clang/clang-600.0.57/src/projects/compiler-rt/lib/divmoddi4.c.auto.html). (But the other reasons not to reintroduce glibc-back-compat still hold)\r\n\r\nre patching the toolchain: I'm not aware of any easy patch to make GCC 7+ not require this. Maybe we could include __divmoddi4 in crti.o or something, but that feels ugly too. In theory -static-libgcc should do the job - but I don't know what other ramifications that might have.\r\n\r\nre bumping the minimum libc version for i686: this doesn't involve libc, but we could presumably bump the minimum libgcc version. This would lose support for Debian stretch (supported under June), requiring Debian 10 (buster, oldstable, released 2019 July). It would lose Ubuntu xenial (supported until 2026), requiring at least bionic (released 2018). CentOS gained a new enough version with CentOS 8 (released 2019 September); we already don't support older versions of CentOS. FWIW, I also have a device that requires Linux 2.6.32, which holds it back to glibc 2.25, but has fully updated to GCC 11 with no problems.\r\n\r\nDropped the glibc-back-compat commits and replaced them with one bumping the libgcc requirement enforced by symbol-check.",
      "created_at" : "2022-02-28T18:06:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24448#issuecomment-1054523369",
      "id" : 1054523369,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24448",
      "node_id" : "IC_kwDOABII584-2r_p",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054523369/reactions"
      },
      "updated_at" : "2022-02-28T18:06:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054523369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ~0.\r\n\r\n> Since we don't officially provide i686-linux-gnu release binaries, I'm not sure if this is wanted for Core.\r\n\r\nI agree. While the changes here are simpler than when first proposed, reintroducing `--enable-glibc-back-compat` would have been a NACK, as-is this would be the same as us re-introducing support in our build infrastructure for 32-bit windows builds. It seems odd for us to introduce a bunch of code that isn't going to be exercised / tested (by us), to support binaries we don't release.",
      "created_at" : "2022-03-16T10:48:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24448#issuecomment-1068987563",
      "id" : 1068987563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24448",
      "node_id" : "IC_kwDOABII584_t3Sr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1068987563/reactions"
      },
      "updated_at" : "2022-03-16T10:48:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1068987563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Since we don't officially provide i686-linux-gnu release binaries, I'm not sure if this is wanted for Core.\r\n\r\nConcept ~0. Bitcoin Core does not need these changes.\r\n\r\nOtherwise, code changes (c76ac9d57f2b3ff7aad57f7b3554de90224838e5) look correct.",
      "created_at" : "2022-03-22T10:48:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24448#issuecomment-1075016336",
      "id" : 1075016336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24448",
      "node_id" : "IC_kwDOABII585AE3KQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075016336/reactions"
      },
      "updated_at" : "2022-03-22T10:48:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075016336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Going to close this then. If you would like to provide Guix built `i686-linux-gnu`binaries for Knots, you can maintain these changes there.",
      "created_at" : "2022-03-22T10:58:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24448#issuecomment-1075026388",
      "id" : 1075026388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24448",
      "node_id" : "IC_kwDOABII585AE5nU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075026388/reactions"
      },
      "updated_at" : "2022-03-22T10:58:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075026388",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
