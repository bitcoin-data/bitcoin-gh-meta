[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My 2 cents would be if Ledger/@bigspider are happy with the changes (and no one else is using BIP 371 in production) and those changes are better thought through for MuSig(2) integration we should make those changes. I'd much rather we get this right for the long term with all the different moving parts than tie our hands because BIP 371 is partially already being used.",
      "created_at" : "2022-03-07T16:16:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24492#issuecomment-1060866526",
      "id" : 1060866526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24492",
      "node_id" : "IC_kwDOABII584_O4ne",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060866526/reactions"
      },
      "updated_at" : "2022-03-07T16:16:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060866526",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not very keen on pushing for changes if there are any implementations out there already. It's hard to know whether Ledger is the only one.",
      "created_at" : "2022-03-07T16:17:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24492#issuecomment-1060868242",
      "id" : 1060868242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24492",
      "node_id" : "IC_kwDOABII584_O5CS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060868242/reactions"
      },
      "updated_at" : "2022-03-07T16:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060868242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@afilini Since I saw you comment on PSBT/Taproot support in BDK just now on IRC, thoughts here?",
      "created_at" : "2022-03-07T16:31:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24492#issuecomment-1060883655",
      "id" : 1060883655,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24492",
      "node_id" : "IC_kwDOABII584_O8zH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060883655/reactions"
      },
      "updated_at" : "2022-03-07T16:31:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060883655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> PSBT_IN_TAP_KEY_TWEAK: concatenation of PSBT_IN_TAP_INTERNAL_KEY and PSBT_IN_TAP_MERKLE_ROOT; it conveys \"the output key is a tweak of this key with this Merkle root\".\r\n\r\nI like this change, in general I don't see why we would have to set the `INTERNAL_KEY` if there's no `MERKLE_ROOT` to tweak it with. The only minor argument for keeping the current spec is that in the current BIP-371 [there's a note](https://github.com/bitcoin/bips/blob/master/bip-0371.mediawiki#cite_note-2) that says that it's recommended to tweak the key with its own hash when there's no merkle root, so in that case having a single field might make it a bit more ambiguous in some cases.\r\n\r\nWith independent fields we could have said that `INTERNAL_KEY` must always be set (if the key has been tweaked in some way), but `MERKLE_ROOT` is only set if there's an actual tap script root, and if it's not provided the signer should assume that the key has been tweaked with its own hash. With a single field that has both it may look like there's a script committed in the key that you don't know of, although a signer could again just check if the `MERKLE_ROOT` corresponds to the key's hash or if it's different, and refuse to sign in that case.\r\n\r\n> PSBT_IN_TAP_KEY_IN_SCRIPT: like PSBT_IN_TAP_BIP32_DERIVATION now, but without the BIP32 path; it just conveys \"this key occurs in these leaves\".\r\nPSBT_IN_TAP_BIP32_DERIVATION: like PSBT_IN_TAP_BIP32_DERIVATION, but without the list of leaf hashes. It can be used for (a) the output key directly (b) the internal key (provided in PSBT_IN_TAP_KEY_TWEAK) of (c) a key occurring in a leaf script (provided by PSBT_IN_TAP_KEY_IN_SCRIPT).\r\n\r\nI don't mind these changes, although I think in practice most signers would iterate them together as if they were still part of a single map, because you need the leaf hash to produce the signature. But if this help for MuSig it makes sense to separate them!",
      "created_at" : "2022-03-08T10:25:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24492#issuecomment-1061625722",
      "id" : 1061625722,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24492",
      "node_id" : "IC_kwDOABII584_Rx96",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1061625722/reactions"
      },
      "updated_at" : "2022-03-08T10:25:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1061625722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3058409?v=4",
         "events_url" : "https://api.github.com/users/afilini/events{/privacy}",
         "followers_url" : "https://api.github.com/users/afilini/followers",
         "following_url" : "https://api.github.com/users/afilini/following{/other_user}",
         "gists_url" : "https://api.github.com/users/afilini/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/afilini",
         "id" : 3058409,
         "login" : "afilini",
         "node_id" : "MDQ6VXNlcjMwNTg0MDk=",
         "organizations_url" : "https://api.github.com/users/afilini/orgs",
         "received_events_url" : "https://api.github.com/users/afilini/received_events",
         "repos_url" : "https://api.github.com/users/afilini/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/afilini/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/afilini/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/afilini"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Closing this as although @bigspider seems happy with the proposed changes we can't be sure if other projects have already deployed. Hence after a consideration of trade-offs these proposed changes won't be made to BIP 371.\r\n\r\nAlso discussed in today's wallet [meeting](https://gnusha.org/bitcoin-core-dev/2022-03-11.log).",
      "created_at" : "2022-03-11T19:29:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24492#issuecomment-1065425244",
      "id" : 1065425244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24492",
      "node_id" : "IC_kwDOABII584_gRlc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065425244/reactions"
      },
      "updated_at" : "2022-03-11T19:29:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065425244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   }
]
