{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This might be a specific issue with the machine I'm trying this on, presumably some recent configuration change on the machine, because it used to work fine and also works on another Mac.\r\n\r\nWith a fresh checkout, at least as of b3a715301a0fd972fb2f3bd36e2680b3cdbbab26 (and 1000 commits before that) on macOS 10.14.3:\r\n\r\nI can't find an obvious explanation and the error message isn't very useful.\r\n\r\n```\r\nccache -c\r\n./autogen\r\n./configure --with-miniupnpc=no --with-zmq --with-qrencode --disable-bip70 --enable-debug\r\nmake -j5 src/bitcoind\r\n```\r\n\r\nI tried without `--enable-debug` too.\r\n\r\nThrows a bunch of warnings like:\r\n\r\n```\r\n  CXXLD    bitcoind\r\nld: warning: ld: warning: ignoring file libbitcoin_wallet.a, file was built for archive which is not the architecture being linked (x86_64): libbitcoin_wallet.aignoring file libbitcoin_common.a, file was built for archive which is not the architecture being linked (x86_64): libbitcoin_common.a\r\n```\r\n\r\nFails with:\r\n```\r\nUndefined symbols for architecture x86_64:\r\n  \"interfaces::MakeChain()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"SetupServerArgs()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::ParseParameters(int, char const* const*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"HelpRequested(ArgsManager const&)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"FormatFullVersion()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"FormatParagraph(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, unsigned long, unsigned long)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::GetHelpMessage() const\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::ReadConfigFiles(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, bool)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::GetChainName() const\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"SelectParams(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"MilliSleep(long long)\", referenced from:\r\n      WaitForShutdown() in bitcoind-bitcoind.o\r\n  \"AppInitLockDataDirectory()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"InitParameterInteraction()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ShutdownRequested()\", referenced from:\r\n      WaitForShutdown() in bitcoind-bitcoind.o\r\n  \"InitLogging()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"AppInitSanityChecks()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"AppInitBasicSetup()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"Interrupt()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n      WaitForShutdown() in bitcoind-bitcoind.o\r\n  \"ArgsManager::GetBoolArg(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool) const\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"AppInitMain(InitInterfaces&)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::GetArg(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"LicenseInfo()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::SoftSetBoolArg(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, bool)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"ArgsManager::IsArgSet(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"AppInitParameterInteraction()\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"noui_connect()\", referenced from:\r\n      _main in bitcoind-bitcoind.o\r\n  \"GetDataDir(bool)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"Shutdown(InitInterfaces&)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"PrintExceptionContinue(std::exception const*, char const*)\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"_gArgs\", referenced from:\r\n      AppInit(int, char**) in bitcoind-bitcoind.o\r\n  \"SetupEnvironment()\", referenced from:\r\n      _main in bitcoind-bitcoind.o\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```\r\n\r\nIt sounds like something is deeply messed up on my system, but no idea where to look. \r\n\r\nI went to the brew doctor and did everything it told me.",
   "closed_at" : "2019-02-02T18:46:42Z",
   "closed_by" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   },
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15326/comments",
   "created_at" : "2019-02-02T17:50:28Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15326/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/15326",
   "id" : 406005080,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15326/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0MDYwMDUwODA=",
   "number" : 15326,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "macOS build failure",
   "updated_at" : "2019-02-02T18:46:55Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15326",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
