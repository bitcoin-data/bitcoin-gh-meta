[
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke ",
      "created_at" : "2019-02-06T16:28:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461088630",
      "id" : 461088630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTA4ODYzMA==",
      "updated_at" : "2019-02-06T16:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461088630",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Longer term, I don't think we should share this setting between the node and wallet.\r\n\r\nThe wallet should still be aware of what the value is, which is why I made it shared between the node and wallet in the first place. For that to work you'd have to parse it before parsing the wallet specific max fee. So moving it to `src/init.cpp` as you suggest is probably a requirement for that.\r\n\r\n> ~Short-term fix is to move the `-maxtxfee` handling to `InitParameterInteraction()` in init.cpp.~\r\n\r\n~`init.cpp`  is also the place where `AddArgs` is happening, so ACK from me.~",
      "created_at" : "2019-02-06T16:59:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461100830",
      "id" : 461100830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTEwMDgzMA==",
      "updated_at" : "2019-02-08T19:59:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461100830",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The wallet should still be aware of what the value is\r\n\r\nRight - this command line option was added in aa279d613152e87ea25edfdf76c86779c0632f18 to mean \"I don't want my wallet to create a transaction that has a fee higher than this\". After a few refactors, the same `maxTxFee` was recycled for use by the raw transaction RPCs. My point is that there should be a separation - `-maxtxfee` should be used to control wallet behaviour, and something else (probably an RPC parameter) should be used to control the raw transaction RPC behaviour.\r\n\r\n~We both agree that the minimal fix (move `-maxtxfee` to init.cpp) is what we should do now.~",
      "created_at" : "2019-02-06T22:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461218339",
      "id" : 461218339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTIxODMzOQ==",
      "updated_at" : "2019-02-08T19:59:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461218339",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Creating a plethora of overlapping fee configuration options is not good for users.  The result from doing that is that users set the wrong ones then are surprised when they don't get the behaviour they're expecting.    Maxtxfee shouldn't be ignored when the wallet is disabled, for sure, but what benefit to users of the software is there in splitting  \"fee level above which we treat as something has gone wrong\"  between the raw transactions interface and the wallet?   I don't believe we've ever gotten a request \"I want to set this one to X and the other one to Y\".",
      "created_at" : "2019-02-07T23:02:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461628381",
      "id" : 461628381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTYyODM4MQ==",
      "updated_at" : "2019-02-07T23:02:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461628381",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Creating a plethora of overlapping fee configuration options...\r\n\r\nI agree that having multiple config options would be confusing, which is why I suggested an RPC parameter for the `sendrawtransaction` and `testmempoolaccept` RPCs, which are the only places that `maxTxFee` is used outside the wallet. In fact, both of those RPCs already have a parameter `allowhighfees` which submits the transaction to the mempool without a `nAbsurdFee` parameter.\r\n\r\nMy reasoning is that those RPCs are lower-level than wallet operations, and should be separate from the wallet. The existing behaviour doesn't make really make sense to me:\r\n\r\n- `testmempoolaccept` currently means \"would my wallet be able to submit this to the mempool?\" rather than \"would this be accepted to the mempool over P2P?\", unless `allowhighfees` is set to true, in which case it means \"would this be accepted to the mempool over P2P?\".\r\n- `sendrawtransaction` currently means \"broadcast this transaction if the wallet would submit it to the mempool\" rather than \"broadcast this transaction\", unless `allowhighfees` is set to true, in which case it means \"broadcast this transaction\".",
      "created_at" : "2019-02-08T14:17:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461816523",
      "id" : 461816523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTgxNjUyMw==",
      "updated_at" : "2019-02-08T14:17:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461816523",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "#15357 doesn't fully resolve the issue here. Reopening.",
      "created_at" : "2019-02-08T19:45:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461923786",
      "id" : 461923786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTkyMzc4Ng==",
      "updated_at" : "2019-02-08T19:45:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461923786",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think there is anything left to do here after moving the parsing back to the node (`init.cpp`).\r\n\r\nRe (about the implicit use in the wallet):\r\nThe wallet should never create transactions that have such a high fee that this test could fail (at least in the default setting) and currently this serves as a \"last-mile\" belt-and-suspenders check for the wallet.\r\n\r\nRe (about the implicit use in the rpc interface):\r\nI don't object changing the rpcs to explicitly accept a fee (instead of the bool), but that seems like it should be handled in a separate feature-request.",
      "created_at" : "2019-02-08T20:42:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-461940237",
      "id" : 461940237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MTk0MDIzNw==",
      "updated_at" : "2019-02-08T20:42:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/461940237",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Removed milestone, but I haven't received a reply either, so I intend to close this",
      "created_at" : "2019-02-13T17:14:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-463285413",
      "id" : 463285413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MzI4NTQxMw==",
      "updated_at" : "2019-02-13T17:14:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463285413",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is partially fixed by #13541. If the same change is made to `testmempoolaccept` then `maxTxFee` could be removed from the node entirely and moved to the wallet.",
      "created_at" : "2019-02-13T17:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-463288783",
      "id" : 463288783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MzI4ODc4Mw==",
      "updated_at" : "2019-02-13T17:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463288783",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I ~plan to do~ did the same change to `testmempoolaccept` ~later today~.",
      "created_at" : "2019-02-14T07:48:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15355#issuecomment-463526477",
      "id" : 463526477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15355",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2MzUyNjQ3Nw==",
      "updated_at" : "2019-02-14T08:23:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/463526477",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   }
]
