[
   {
      "author_association" : "MEMBER",
      "body" : "Just because the \"Pre-allocating ...\" lines are 300 ms apart doesn't mean that that's the only thing it's doing during that time. It only adds another allocation once the previous one is filled up, so it has downloaded, verified, and stored 16 MB worth of block data in that time too.\r\n\r\nAlso, during IBD blocks aren't being relayed at all, normally. I'm not sure where you're getting that impression that it's being slowed down.",
      "created_at" : "2022-01-08T18:54:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21291#issuecomment-1008103647",
      "id" : 1008103647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21291",
      "node_id" : "IC_kwDOABII5848FnDf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008103647/reactions"
      },
      "updated_at" : "2022-01-08T18:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008103647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Let me explain what is happening.\r\n\r\nBitcoin Core downloads blocks out-of-order (up to 1024 blocks ahead of where your current tip is). However, the tip cannot progress past block N until *all* blocks up to N have been downloaded and stored. Sometimes, when blocks arrive significantly out-of-order, that can mean you receive lots of blocks, which get stored on disk (causing preallocations), but the tip doesn't progress because one straggler block is lagging behind. Once that block is received, you suddenly are able to progress a lot past it.",
      "created_at" : "2022-01-09T15:59:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21291#issuecomment-1008324683",
      "id" : 1008324683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21291",
      "node_id" : "IC_kwDOABII5848GdBL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008324683/reactions"
      },
      "updated_at" : "2022-01-09T15:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008324683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa's answer above answers the question in the OP.",
      "created_at" : "2022-08-04T17:09:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21291#issuecomment-1205536901",
      "id" : 1205536901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21291",
      "node_id" : "IC_kwDOABII585H2wiF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1205536901/reactions"
      },
      "updated_at" : "2022-08-04T17:09:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1205536901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   }
]
