[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19753 (p2p: don't add AlreadyHave transactions to recentRejects by troygiorshev)\n* #19339 (validation: re-delegate absurd fee checking from mempool to clients by gzhao408)\n* #18261 (Erlay: bandwidth-efficient transaction relay protocol by naumenkogs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-28T17:03:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-665159957",
      "id" : 665159957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NTE1OTk1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T20:04:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/665159957",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on merged #19590.",
      "created_at" : "2020-07-30T15:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-666486685",
      "id" : 666486685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NjQ4NjY4NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-30T15:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/666486685",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-07-31T13:23:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-667117386",
      "id" : 667117386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NzExNzM4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-31T13:23:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/667117386",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r463994428"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/463994428"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could re-use the helper methods from above here in the combined helpers",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-01T19:52:03Z",
      "diff_hunk" : "@@ -431,12 +431,20 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r463994428",
      "id" : 463994428,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk5NDQyOA==",
      "original_commit_id" : "517152034a8b33e89adcdcfddf9605f02384f62f",
      "original_line" : 426,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 459600088,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/463994428",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r464420392"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464420392"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks Fabian. I mulled on doing this, but I think I'd rather keep the method definitions independent.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-03T13:41:22Z",
      "diff_hunk" : "@@ -431,12 +431,20 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r464420392",
      "id" : 464420392,
      "in_reply_to_id" : 463994428,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQyMDM5Mg==",
      "original_commit_id" : "517152034a8b33e89adcdcfddf9605f02384f62f",
      "original_line" : 426,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 460035143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464420392",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think a better approach than the changes within `AlreadyHave()` is to split that function up into `AlreadyHaveTx()` and `AlreadyHaveBlock()` since those are two totally separate concepts. @jonatack would you be interested in taking the commits from here: https://github.com/jnewbery/bitcoin/commits/2020-07-split-already-have? (see also https://github.com/bitcoin/bitcoin/pull/19569#discussion_r462887483) \r\n\r\n",
      "created_at" : "2020-08-03T16:09:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-668108043",
      "id" : 668108043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2ODEwODA0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-03T16:09:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668108043",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r465175043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/465175043"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should this contain `MSG_FILTERED_WITNESS_BLOCK`?",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-04T16:25:00Z",
      "diff_hunk" : "@@ -431,12 +431,20 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsMsgBlkOrMsgWitnessBlk() const { return type == MSG_BLOCK || type == MSG_WITNESS_BLOCK; }\n+    bool IsGenBlkMsg() const { return type == MSG_BLOCK || type == MSG_FILTERED_BLOCK || type == MSG_CMPCT_BLOCK || type == MSG_WITNESS_BLOCK; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r465175043",
      "id" : 465175043,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE3NTA0Mw==",
      "original_commit_id" : "82c92976792f9c9c11b38cb0092f18728c97e64e",
      "original_line" : 447,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 460974346,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/465175043",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r467468070"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467468070"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Well-spotted; added it in the rebase for now. The one place this helper is currently used (https://github.com/bitcoin/bitcoin/pull/19610/files#diff-eff7adeaec73a769788bb78858815c91L1763) did not include `MSG_FILTERED_WITNESS_BLOCK`, so we'd need to be sure including it doesn't change behavior (or was an oversight).",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-08T14:02:50Z",
      "diff_hunk" : "@@ -431,12 +431,20 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsMsgBlkOrMsgWitnessBlk() const { return type == MSG_BLOCK || type == MSG_WITNESS_BLOCK; }\n+    bool IsGenBlkMsg() const { return type == MSG_BLOCK || type == MSG_FILTERED_BLOCK || type == MSG_CMPCT_BLOCK || type == MSG_WITNESS_BLOCK; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r467468070",
      "id" : 467468070,
      "in_reply_to_id" : 465175043,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ2ODA3MA==",
      "original_commit_id" : "82c92976792f9c9c11b38cb0092f18728c97e64e",
      "original_line" : 447,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 463804949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467468070",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased with four commits pulled in from @jnewbery's https://github.com/bitcoin/bitcoin/compare/master...jnewbery:2020-07-split-already-have branch as well as the changes in #19611.",
      "created_at" : "2020-08-08T14:12:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-670933625",
      "id" : 670933625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3MDkzMzYyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-08T14:12:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/670933625",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think a better approach than the changes within AlreadyHave() is to split that function up into AlreadyHaveTx() and AlreadyHaveBlock() since those are two totally separate concepts.\r\n\r\nGreat idea. The block and transaction paths have drifted apart so much that it no longer makes sense to have a common function there.\r\n",
      "created_at" : "2020-08-09T18:49:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-671087745",
      "id" : 671087745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3MTA4Nzc0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-09T18:49:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671087745",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r467616315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467616315"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Personally I don't really know if it makes sense for \"plain-data\" network message types like CInv to have private fields. I see it more as a struct with helper methods than really an encapsulated object with functionality.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-09T18:52:56Z",
      "diff_hunk" : "@@ -400,9 +400,11 @@ enum GetDataMsg : uint32_t {\n /** inv message data */\n class CInv\n {\n+private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r467616315",
      "id" : 467616315,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYxNjMxNQ==",
      "original_commit_id" : "4789cff6f6e37b42e25d1cb97c21c2a5c363a082",
      "original_line" : 403,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 463895483,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467616315",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r467677277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467677277"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh ok, in that case we may want to make CInv a struct to avoid confusion. As a class, it looked like encapsulation was desirable, and only one place in the code was still accessing `CInv::type` from the outside so it was easy to make it private.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-10T03:55:50Z",
      "diff_hunk" : "@@ -400,9 +400,11 @@ enum GetDataMsg : uint32_t {\n /** inv message data */\n class CInv\n {\n+private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r467677277",
      "id" : 467677277,
      "in_reply_to_id" : 467616315,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY3NzI3Nw==",
      "original_commit_id" : "4789cff6f6e37b42e25d1cb97c21c2a5c363a082",
      "original_line" : 403,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 463946161,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/467677277",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-08-10T19:22:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-671541313",
      "id" : 671541313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3MTU0MTMxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-10T19:22:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671541313",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468496660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468496660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Er, renaming `CInv` to `Inv` to make it a struct would be too much noise. Done, dropped the last commit \"p2p: refactor CInv::type from public to private class member\".",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-11T10:59:48Z",
      "diff_hunk" : "@@ -400,9 +400,11 @@ enum GetDataMsg : uint32_t {\n /** inv message data */\n class CInv\n {\n+private:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468496660",
      "id" : 468496660,
      "in_reply_to_id" : 467616315,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ5NjY2MA==",
      "original_commit_id" : "4789cff6f6e37b42e25d1cb97c21c2a5c363a082",
      "original_line" : 403,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 464959685,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468496660",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468497256"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468497256"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "[continuing conversation from [another PR](https://github.com/bitcoin/bitcoin/pull/19611#discussion_r463552637)]\r\n\r\nnit: `s/Blk/Block/`\r\n\r\n```sh\r\n$ git grep -i blk src |wc -l\r\n     108\r\n$ git grep -i block src |wc -l\r\n   11014\r\n```",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-11T11:00:53Z",
      "diff_hunk" : "@@ -412,14 +412,22 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468497256",
      "id" : 468497256,
      "line" : 422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ5NzI1Ng==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 422,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : 26,
      "pull_request_review_id" : 464960335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468497256",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468502188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468502188"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Did you consider making these switch statements without defaults, so that the compiler warns if a new type is added to the enum but not here?",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-11T11:11:26Z",
      "diff_hunk" : "@@ -412,14 +412,22 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468502188",
      "id" : 468502188,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODUwMjE4OA==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 426,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 464966438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468502188",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468510147"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468510147"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh, it looks like `MSG_FILTERED_WITNESS_BLOCK` isn't actually used and is 'reserved for future use': https://github.com/bitcoin/bips/blob/master/bip-0144.mediawiki#relay. I recommend removing it from here, removing `IsMsgFilteredWitnessBlk()` (since it's not used anywhere) and adding a comment to `MSG_FILTERED_WITNESS_BLOCK` saying it's unused (I think we could even comment out the value since it's unused in the code).",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-11T11:28:10Z",
      "diff_hunk" : "@@ -431,12 +431,20 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsMsgBlkOrMsgWitnessBlk() const { return type == MSG_BLOCK || type == MSG_WITNESS_BLOCK; }\n+    bool IsGenBlkMsg() const { return type == MSG_BLOCK || type == MSG_FILTERED_BLOCK || type == MSG_CMPCT_BLOCK || type == MSG_WITNESS_BLOCK; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468510147",
      "id" : 468510147,
      "in_reply_to_id" : 465175043,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODUxMDE0Nw==",
      "original_commit_id" : "82c92976792f9c9c11b38cb0092f18728c97e64e",
      "original_line" : 447,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 464966438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468510147",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468518248"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468518248"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could this result in unintended behavioral change?\r\n\r\nPreviously if `inv.type == MSG_FILTERED_WITNESS_BLOCK` we would not execute the code inside this `if` block. With this patch we would execute it.\r\n\r\nRelated to https://github.com/bitcoin/bitcoin/pull/19610#discussion_r465175043",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-11T11:44:34Z",
      "diff_hunk" : "@@ -1771,7 +1761,7 @@ void static ProcessGetData(CNode& pfrom, const CChainParams& chainparams, CConnm\n     // expensive to process.\n     if (it != pfrom.vRecvGetData.end() && !pfrom.fPauseSend) {\n         const CInv &inv = *it++;\n-        if (inv.type == MSG_BLOCK || inv.type == MSG_FILTERED_BLOCK || inv.type == MSG_CMPCT_BLOCK || inv.type == MSG_WITNESS_BLOCK) {\n+        if (inv.IsGenBlkMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468518248",
      "id" : 468518248,
      "line" : 1759,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODUxODI0OA==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 1759,
      "original_position" : 127,
      "original_start_line" : 1774,
      "path" : "src/net_processing.cpp",
      "position" : 127,
      "pull_request_review_id" : 464960335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : 1769,
      "start_side" : "LEFT",
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/468518248",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> In commits p2p: remove unused nFetchFlags from NetMsgType::(TX|INV) processing - why would it be unused? It looks used to me. Maybe I am missing something obscure? If that is the case, then maybe the commit messages warrant some more elaborate explanations?\r\n\r\nBecause `GetFetchFlags()` can only add the `MSG_WITNESS_FLAG`, which is added to the `CInv.type` field. That `CInv` only passed to `AlreadyHave()` or `ToGenTxid()` and neither of those functions do anything different depending on whether the `CInv` type is `MSG_TX` MSG_WITNESS_TX`. I agree that the git commit log could be expanded to explain this.\r\n\r\n> The change [...] does not belong to commit [net processing] Remove mempool argument from AlreadyHaveBlock()\r\n\r\nIt's an important change. See https://github.com/bitcoin/bitcoin/pull/19569#discussion_r462887483 for context. Perhaps it should be split into a separate commit or have a commit log explaining why it's needed.",
      "created_at" : "2020-08-11T13:49:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-671958676",
      "id" : 671958676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3MTk1ODY3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-11T13:49:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/671958676",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase now that #19721 is merged.",
      "created_at" : "2020-08-18T09:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-675368686",
      "id" : 675368686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NTM2ODY4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-18T09:26:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675368686",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473067048"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473067048"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That message type is unused (see https://github.com/bitcoin/bitcoin/pull/19610#discussion_r468510147) and has since been commented out by #19721 (merged).",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-19T14:20:59Z",
      "diff_hunk" : "@@ -1771,7 +1761,7 @@ void static ProcessGetData(CNode& pfrom, const CChainParams& chainparams, CConnm\n     // expensive to process.\n     if (it != pfrom.vRecvGetData.end() && !pfrom.fPauseSend) {\n         const CInv &inv = *it++;\n-        if (inv.type == MSG_BLOCK || inv.type == MSG_FILTERED_BLOCK || inv.type == MSG_CMPCT_BLOCK || inv.type == MSG_WITNESS_BLOCK) {\n+        if (inv.IsGenBlkMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473067048",
      "id" : 473067048,
      "in_reply_to_id" : 468518248,
      "line" : 1759,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA2NzA0OA==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 1759,
      "original_position" : 127,
      "original_start_line" : 1774,
      "path" : "src/net_processing.cpp",
      "position" : 127,
      "pull_request_review_id" : 470507908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : 1769,
      "start_side" : "LEFT",
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473067048",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473067546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473067546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removing it in the rebase.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-19T14:21:37Z",
      "diff_hunk" : "@@ -1771,7 +1761,7 @@ void static ProcessGetData(CNode& pfrom, const CChainParams& chainparams, CConnm\n     // expensive to process.\n     if (it != pfrom.vRecvGetData.end() && !pfrom.fPauseSend) {\n         const CInv &inv = *it++;\n-        if (inv.type == MSG_BLOCK || inv.type == MSG_FILTERED_BLOCK || inv.type == MSG_CMPCT_BLOCK || inv.type == MSG_WITNESS_BLOCK) {\n+        if (inv.IsGenBlkMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473067546",
      "id" : 473067546,
      "in_reply_to_id" : 468518248,
      "line" : 1759,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA2NzU0Ng==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 1759,
      "original_position" : 127,
      "original_start_line" : 1774,
      "path" : "src/net_processing.cpp",
      "position" : 127,
      "pull_request_review_id" : 470508570,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : 1769,
      "start_side" : "LEFT",
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473067546",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473082193"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473082193"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I prefer to pass on this for these reasons:\r\n(a) to maintain a consistent naming style in CInv (`tx`, `blk`)\r\n(b) `block` would make the methods names longer\r\n(c) `blk` is an established abbreviation: in the codebase, block data files called `blk*.dat`, etc.\r\n(d) the shorter `blk` seems more consistent with the abbreviated naming style in use in recent PRs like #19569\r\n",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-19T14:40:30Z",
      "diff_hunk" : "@@ -412,14 +412,22 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473082193",
      "id" : 473082193,
      "in_reply_to_id" : 468497256,
      "line" : 422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4MjE5Mw==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 422,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : 26,
      "pull_request_review_id" : 470527751,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473082193",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473135334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473135334"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Did you consider making these switch statements without defaults, so that the compiler warns if a new type is added to the enum but not here?\r\n\r\nI think that requires turning `enum GetDataMsg` into an `enum class` or `enum struct`, which is a good but fairly noisy change. I may propose and see what you think.",
      "commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "created_at" : "2020-08-19T15:54:42Z",
      "diff_hunk" : "@@ -412,14 +412,22 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473135334",
      "id" : 473135334,
      "in_reply_to_id" : 468502188,
      "line" : 426,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzEzNTMzNA==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 426,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : 36,
      "pull_request_review_id" : 470598506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T15:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473135334",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473137176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473137176"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Did you consider making these switch statements without defaults, so that the compiler warns if a new type is added to the enum but not here?\r\n\r\nI think that requires turning `enum GetDataMsg` into an `enum class`, and changing the enum type from `int` to `GetDataMsg` would break the remaining five `GetDataMsg::MSG_BLOCK/MSG_WTX | GetFetchFlags(pfrom)` operations.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-19T15:57:23Z",
      "diff_hunk" : "@@ -412,14 +412,22 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }\n+    bool IsMsgTx() const { return type == MSG_TX; }\n+    bool IsMsgBlk() const { return type == MSG_BLOCK; }\n+    bool IsMsgWtx() const { return type == MSG_WTX; }\n+    bool IsMsgFilteredBlk() const { return type == MSG_FILTERED_BLOCK; }\n+    bool IsMsgCmpctBlk() const { return type == MSG_CMPCT_BLOCK; }\n+    bool IsMsgWitnessBlk() const { return type == MSG_WITNESS_BLOCK; }\n     bool IsMsgWitnessTx() const { return type == MSG_WITNESS_TX; }\n+    bool IsMsgFilteredWitnessBlk() const { return type == MSG_FILTERED_WITNESS_BLOCK; }\n \n     // Combined-message helper methods\n-    bool IsGenTxMsg()     const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }\n+    bool IsGenTxMsg() const { return type == MSG_TX || type == MSG_WTX || type == MSG_WITNESS_TX; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r473137176",
      "id" : 473137176,
      "in_reply_to_id" : 468502188,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzEzNzE3Ng==",
      "original_commit_id" : "806f12427dfafc85c7b176ad073550842b6970be",
      "original_line" : 426,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 470601328,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473137176",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Still awaiting rebase",
      "created_at" : "2020-08-20T07:47:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-677434767",
      "id" : 677434767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NzQzNDc2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-20T07:47:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677434767",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "- rebased and updated\r\n- dropped the *change CInv::type from int to uint32_t commit*\r\n- squashed the 2 commits *remove unused nFetchFlags from NetMsgType::INV processing* and *remove unused nFetchFlags from NetMsgType::TX processing* and added explanatory notes to the commit message\r\n- split the IsGenMsgTx() conditional check to a separate commit, *ensure inv is GenMsgTx before ToGenTxid in inv processing*, and added explanatory notes in the commit message\r\n",
      "created_at" : "2020-08-20T11:47:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-677584202",
      "id" : 677584202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NzU4NDIwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-20T11:47:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677584202",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 1723d0025b744f12b853935aead9acd9f8f32b42\r\n\r\nThe last commit is tagged as authored by and co-authored by me. I don't think we need both tags!",
      "created_at" : "2020-08-21T11:02:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-678234201",
      "id" : 678234201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3ODIzNDIwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-21T11:02:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678234201",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> utACK [1723d00](https://github.com/bitcoin/bitcoin/commit/1723d0025b744f12b853935aead9acd9f8f32b42)\r\n> \r\n> The last commit is tagged as authored by and co-authored by me. I don't think we need both tags!\r\n\r\nFixed",
      "created_at" : "2020-08-21T14:23:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-678317086",
      "id" : 678317086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3ODMxNzA4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-21T14:23:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678317086",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r474783120"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474783120"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps we should add an else branch after this that logs that an unknown INV type was received. Previously we'd log it as AlreadyHave.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-21T15:51:05Z",
      "diff_hunk" : "@@ -2697,14 +2681,18 @@ void ProcessMessage(\n                     // then fetch the blocks we need to catch up.\n                     best_block = &inv.hash;\n                 }\n-            } else {\n+            } else if (inv.IsGenTxMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r474783120",
      "id" : 474783120,
      "line" : 2675,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc4MzEyMA==",
      "original_commit_id" : "2a2ee28a2ac2d2cc11ad8a44b036bb4218c13d9a",
      "original_line" : 2675,
      "original_position" : 170,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 171,
      "pull_request_review_id" : 472603718,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474783120",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r475065839"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475065839"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done in the same commit and updated the commit message, and proposed a commit to move the code immediately after, which sends and logs a GETHEADERS message, into the `inv.IsMsgBlk()` section where it's used.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-22T08:58:16Z",
      "diff_hunk" : "@@ -2697,14 +2681,18 @@ void ProcessMessage(\n                     // then fetch the blocks we need to catch up.\n                     best_block = &inv.hash;\n                 }\n-            } else {\n+            } else if (inv.IsGenTxMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r475065839",
      "id" : 475065839,
      "in_reply_to_id" : 474783120,
      "line" : 2675,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA2NTgzOQ==",
      "original_commit_id" : "2a2ee28a2ac2d2cc11ad8a44b036bb4218c13d9a",
      "original_line" : 2675,
      "original_position" : 170,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 171,
      "pull_request_review_id" : 472909499,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475065839",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r475068712"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475068712"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> proposed a commit to move the code immediately after, which sends and logs a GETHEADERS message, into the inv.IsMsgBlk() section where it's used.\r\n\r\nThis is a (bad) behaviour change. It means if a peer sends us an `inv` message with multiple MSG_BLOCK items, we'll send a `getheaders` for each of those items instead of just the last one. Each `getheaders` contains a locator, so this could result in a lot of bandwidth usage.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-22T09:36:06Z",
      "diff_hunk" : "@@ -2697,14 +2681,18 @@ void ProcessMessage(\n                     // then fetch the blocks we need to catch up.\n                     best_block = &inv.hash;\n                 }\n-            } else {\n+            } else if (inv.IsGenTxMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r475068712",
      "id" : 475068712,
      "in_reply_to_id" : 474783120,
      "line" : 2675,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA2ODcxMg==",
      "original_commit_id" : "2a2ee28a2ac2d2cc11ad8a44b036bb4218c13d9a",
      "original_line" : 2675,
      "original_position" : 170,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 171,
      "pull_request_review_id" : 472913799,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475068712",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r475095794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475095794"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, I misread the nesting level and the tests didn't mind. Thank you! Dropped the commit, and fixed up the bracket as follows in 3b79249dbd45b43\r\n```diff\r\n-        for (CInv &inv : vInv)\r\n-        {\r\n+        for (CInv& inv : vInv) {\r\n```",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-22T14:22:08Z",
      "diff_hunk" : "@@ -2697,14 +2681,18 @@ void ProcessMessage(\n                     // then fetch the blocks we need to catch up.\n                     best_block = &inv.hash;\n                 }\n-            } else {\n+            } else if (inv.IsGenTxMsg()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r475095794",
      "id" : 475095794,
      "in_reply_to_id" : 474783120,
      "line" : 2675,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA5NTc5NA==",
      "original_commit_id" : "2a2ee28a2ac2d2cc11ad8a44b036bb4218c13d9a",
      "original_line" : 2675,
      "original_position" : 170,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 171,
      "pull_request_review_id" : 472929702,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475095794",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @jnewbery! Updated per `git diff 2a2ee28 25176e6`.",
      "created_at" : "2020-08-22T14:23:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-678647114",
      "id" : 678647114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3ODY0NzExNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-22T14:23:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678647114",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 25176e62d0e60a3bca92aa758f935ee782531f75",
      "created_at" : "2020-08-24T09:28:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-679016899",
      "id" : 679016899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTAxNjg5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T09:28:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679016899",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.\r\n\r\n`git range-diff 7f609f6 25176e6 ac0617d`",
      "created_at" : "2020-08-24T16:34:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-679235862",
      "id" : 679235862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTIzNTg2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T16:34:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679235862",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK ac0617d3718ac3e330a70b30ef1edd8a46faaf9a\r\n\r\nVerified the range-diff locally",
      "created_at" : "2020-08-25T10:51:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-679951846",
      "id" : 679951846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTk1MTg0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T10:51:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679951846",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r476415821"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476415821"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: the methods `IsUndefined()` and `IsMsgWitnessTx()` are unused.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-25T12:39:43Z",
      "diff_hunk" : "@@ -418,12 +418,24 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r476415821",
      "id" : 476415821,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNTgyMQ==",
      "original_commit_id" : "ac0617d3718ac3e330a70b30ef1edd8a46faaf9a",
      "original_line" : 421,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 474438276,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476415821",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think the `CInv::type` change from `int` to `uint32_t` change should be added back (not necessarily the `private` qualifier). While fuzzing it brings up the following complaint https://github.com/bitcoin/bitcoin/issues/19678",
      "created_at" : "2020-08-25T15:44:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680106672",
      "id" : 680106672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDEwNjY3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T15:44:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680106672",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think the `CInv::type` change from `int` to `uint32_t` change should be added back (not necessarily the `private` qualifier). While fuzzing it brings up the following complaint #19678\r\n\r\nThank you, @Crypt-iQ, interesting. The type suggestion was originally by @vasild in https://github.com/bitcoin/bitcoin/pull/19590#pullrequestreview-455788826; will try fuzzing with `uint32_t`.",
      "created_at" : "2020-08-25T16:17:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680126301",
      "id" : 680126301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDEyNjMwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T16:17:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680126301",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thank you @Crypt-iQ, if you have the chance, would you please let me know if 533a9a0d2c307330497e61d5af4229c924db8372 resolves the issue on your side?",
      "created_at" : "2020-08-25T20:35:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680256152",
      "id" : 680256152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDI1NjE1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T20:35:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680256152",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonatack That UBSan complaint goes away with this patch ð \r\nTested on macOS v10.15.4, brew-installed clang. ",
      "created_at" : "2020-08-26T06:29:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680686460",
      "id" : 680686460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDY4NjQ2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T06:29:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680686460",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @Crypt-iQ and @vasild.\r\n\r\nThe CI failed on the wallet_import_rescan functional test and should be unrelated--restarted it to see.",
      "created_at" : "2020-08-26T08:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680725751",
      "id" : 680725751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDcyNTc1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T08:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680725751",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @Crypt-iQ and @vasild.\r\n\r\nThe CI failed on the wallet_import_rescan functional test and should be unrelated. Restarted; it's now green.",
      "created_at" : "2020-08-26T09:51:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680780049",
      "id" : 680780049,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDc4MDA0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T09:51:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680780049",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r477180886"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477180886"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point; probably worth removing them for now.",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-26T09:54:32Z",
      "diff_hunk" : "@@ -418,12 +418,24 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r477180886",
      "id" : 477180886,
      "in_reply_to_id" : 476415821,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE4MDg4Ng==",
      "original_commit_id" : "ac0617d3718ac3e330a70b30ef1edd8a46faaf9a",
      "original_line" : 421,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 475333979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477180886",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r477187641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477187641"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "125468af9cc09779ff7c5318389db17d2bea2a4f",
      "created_at" : "2020-08-26T10:06:35Z",
      "diff_hunk" : "@@ -418,12 +418,24 @@ class CInv\n     std::string ToString() const;\n \n     // Single-message helper methods\n-    bool IsMsgTx()        const { return type == MSG_TX; }\n-    bool IsMsgWtx()       const { return type == MSG_WTX; }\n+    bool IsUndefined() const { return type == UNDEFINED; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#discussion_r477187641",
      "id" : 477187641,
      "in_reply_to_id" : 476415821,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE4NzY0MQ==",
      "original_commit_id" : "ac0617d3718ac3e330a70b30ef1edd8a46faaf9a",
      "original_line" : 421,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 475342834,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19610",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-26T10:06:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/477187641",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Removed the unused helper methods from the first commit per `git diff 533a9a0 125468a`",
      "created_at" : "2020-08-26T10:07:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680787643",
      "id" : 680787643,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDc4NzY0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T10:21:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680787643",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think the CInv::type change from int to uint32_t change should be added back (not necessarily the private qualifier). While fuzzing it brings up the following complaint #19678\r\n\r\nWhy? This seems unrelated to this PR (the UBSan warning happens before this PR). Changing the type of `CInv.type` (which is serialized/deserialized for network messages) is a very different change from the internal refactors in this PR. Can you save it for a different PR?",
      "created_at" : "2020-08-26T15:32:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680954570",
      "id" : 680954570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDk1NDU3MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T15:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680954570",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery I thought since it was already added previously, it would fit into the scope of the PR. No problem to be added into another PR, either I or somebody else could do that.\r\n",
      "created_at" : "2020-08-26T16:18:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-680981212",
      "id" : 680981212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDk4MTIxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T16:18:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680981212",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Dropped the `CInv::type` type change commit in favor of #19818. Thanks everyone.",
      "created_at" : "2020-08-27T09:14:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-681828195",
      "id" : 681828195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MTgyODE5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T09:14:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681828195",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK fb56d37612dea6666e7da73d671311a697570dae\r\nAgree it's better to split out the P2P change.",
      "created_at" : "2020-08-27T13:10:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-681939032",
      "id" : 681939032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MTkzOTAzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-27T13:11:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/681939032",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fb56d37612dea6666e7da73d671311a697570dae",
      "created_at" : "2020-09-01T08:50:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19610#issuecomment-684598660",
      "id" : 684598660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19610",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDU5ODY2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T08:50:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684598660",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
