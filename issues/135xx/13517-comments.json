[
   {
      "author_association" : "MEMBER",
      "body" : "Please review the refactoring in #13512 first.",
      "created_at" : "2018-06-21T13:38:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-399106520",
      "id" : 399106520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5OTEwNjUyMA==",
      "updated_at" : "2018-06-21T13:38:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399106520",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Big concept ACK!\r\n\r\n`feature_block.py` currently failing on Travis.",
      "created_at" : "2018-06-21T14:47:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-399130180",
      "id" : 399130180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5OTEzMDE4MA==",
      "updated_at" : "2018-06-21T14:47:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399130180",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457162"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would it be possible to start the network thread for all tests, so it's not necessary for the test writer to even perform this step?",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:10:15Z",
      "diff_hunk" : "@@ -71,23 +71,23 @@ P2P messages. These can be found in the following source files:\n \n #### Using the P2P interface\n \n+- Set `setup_mininode_event_loop = True` in `set_test_params()` to spawn a thread",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457162",
      "id" : 197457162,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1NzE2Mg==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 4,
      "path" : "test/functional/README.md",
      "position" : null,
      "pull_request_review_id" : 131208708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457162",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457211"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457211"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Join lines",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:10:23Z",
      "diff_hunk" : "@@ -71,23 +71,23 @@ P2P messages. These can be found in the following source files:\n \n #### Using the P2P interface\n \n+- Set `setup_mininode_event_loop = True` in `set_test_params()` to spawn a thread\n+that runs a callback-based event loop to communicate on the P2P interface with a\n+node.\n+\n - `mininode.py` contains all the definitions for objects that pass\n over the network (`CBlock`, `CTransaction`, etc, along with the network-level\n wrappers for them, `msg_block`, `msg_tx`, etc).\n \n - P2P tests have two threads. One thread handles all network communication\n-with the bitcoind(s) being tested (using python's asyncore package); the other\n+with the bitcoind(s) being tested; the other",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457211",
      "id" : 197457211,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1NzIxMQ==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 14,
      "path" : "test/functional/README.md",
      "position" : null,
      "pull_request_review_id" : 131208708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457211",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457490"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can be changed to `from test_framework.messages import CTransaction` :)",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:11:17Z",
      "diff_hunk" : "@@ -15,7 +15,7 @@\n \n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n-from test_framework.mininode import CTransaction, network_thread_start\n+from test_framework.mininode import CTransaction",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457490",
      "id" : 197457490,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1NzQ5MA==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 5,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : null,
      "pull_request_review_id" : 131208708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457490",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457825"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457825"
         }
      },
      "author_association" : "MEMBER",
      "body" : ":tada: ",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:12:26Z",
      "diff_hunk" : "@@ -13,11 +13,10 @@\n P2PInterface: A high-level interface object for communicating to a node over P2P\n P2PDataStore: A p2p interface class that keeps a store of transactions and blocks\n               and can respond correctly to getdata and getheaders messages\"\"\"\n-import asyncore\n+import asyncio",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197457825",
      "id" : 197457825,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1NzgyNQ==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 5,
      "path" : "test/functional/test_framework/mininode.py",
      "position" : 5,
      "pull_request_review_id" : 131208708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197457825",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197458057"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197458057"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Can join to a single line",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:13:07Z",
      "diff_hunk" : "@@ -41,14 +41,14 @@\n )\n from test_framework.mininode import (\n     P2PInterface,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197458057",
      "id" : 197458057,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1ODA1Nw==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 3,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : 3,
      "pull_request_review_id" : 131208708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197458057",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197459152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459152"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point. I guess there is no overhead in running an event loop with no events.",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:16:27Z",
      "diff_hunk" : "@@ -71,23 +71,23 @@ P2P messages. These can be found in the following source files:\n \n #### Using the P2P interface\n \n+- Set `setup_mininode_event_loop = True` in `set_test_params()` to spawn a thread",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197459152",
      "id" : 197459152,
      "in_reply_to_id" : 197457162,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTE1Mg==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 4,
      "path" : "test/functional/README.md",
      "position" : null,
      "pull_request_review_id" : 131211201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459152",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197459259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459259"
         }
      },
      "author_association" : "MEMBER",
      "body" : ";)",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:16:45Z",
      "diff_hunk" : "@@ -15,7 +15,7 @@\n \n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.util import *\n-from test_framework.mininode import CTransaction, network_thread_start\n+from test_framework.mininode import CTransaction",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197459259",
      "id" : 197459259,
      "in_reply_to_id" : 197457490,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTI1OQ==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 5,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : null,
      "pull_request_review_id" : 131211355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459259",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197459371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459371"
         }
      },
      "author_association" : "MEMBER",
      "body" : "md renderer will take care of this ;)",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-22T14:17:05Z",
      "diff_hunk" : "@@ -71,23 +71,23 @@ P2P messages. These can be found in the following source files:\n \n #### Using the P2P interface\n \n+- Set `setup_mininode_event_loop = True` in `set_test_params()` to spawn a thread\n+that runs a callback-based event loop to communicate on the P2P interface with a\n+node.\n+\n - `mininode.py` contains all the definitions for objects that pass\n over the network (`CBlock`, `CTransaction`, etc, along with the network-level\n wrappers for them, `msg_block`, `msg_tx`, etc).\n \n - P2P tests have two threads. One thread handles all network communication\n-with the bitcoind(s) being tested (using python's asyncore package); the other\n+with the bitcoind(s) being tested; the other",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197459371",
      "id" : 197459371,
      "in_reply_to_id" : 197457211,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTM3MQ==",
      "original_commit_id" : "563faf7d500bb67c4ad34865832bfe09c5df4076",
      "original_position" : 14,
      "path" : "test/functional/README.md",
      "position" : null,
      "pull_request_review_id" : 131211504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-24T18:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459371",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "aaaaddressed @jnewbery feedback in aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-24T18:30:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-399777162",
      "id" : 399777162,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5OTc3NzE2Mg==",
      "updated_at" : "2018-06-24T18:30:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399777162",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197854344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197854344"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: just remove this comment entirely. It adds no information to the code.",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-25T16:11:43Z",
      "diff_hunk" : "@@ -160,9 +158,8 @@ def run_test(self):\n             self.block_time += 1\n             height += 1\n \n-        # We're adding new connections so terminate the network thread\n+        # We're adding new connections and terminate the old ones",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197854344",
      "id" : 197854344,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzg1NDM0NA==",
      "original_commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "original_position" : 41,
      "path" : "test/functional/feature_assumevalid.py",
      "position" : 41,
      "pull_request_review_id" : 131679630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-25T17:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197854344",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197854740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197854740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: I think `return self._transport is not None` is preferable ",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-25T16:13:11Z",
      "diff_hunk" : "@@ -71,68 +71,58 @@ class P2PConnection(asyncore.dispatcher):\n     sub-classed and the on_message() callback overridden.\"\"\"\n \n     def __init__(self):\n-        # All P2PConnections must be created before starting the NetworkThread.\n-        # assert that the network thread is not running.\n-        assert not network_thread_running()\n-\n-        super().__init__(map=mininode_socket_map)\n-\n-        self._conn_open = False\n+        # The underlying transport of the connection.\n+        # Should only call methods on this from the NetworkThread, c.f. call_soon_threadsafe\n+        self._transport = None\n \n     @property\n     def is_connected(self):\n-        return self._conn_open\n+        return bool(self._transport)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197854740",
      "id" : 197854740,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzg1NDc0MA==",
      "original_commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "original_position" : 41,
      "path" : "test/functional/test_framework/mininode.py",
      "position" : 41,
      "pull_request_review_id" : 131679630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-25T17:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197854740",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197855002"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197855002"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is accessed outside the class, so it shouldn't be marked as private. Prefer `network_event_loop`",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-25T16:14:07Z",
      "diff_hunk" : "@@ -408,56 +368,35 @@ def sync_with_ping(self, timeout=60):\n         self.ping_counter += 1\n \n \n-# Keep our own socket map for asyncore, so that we can track disconnects\n-# ourselves (to work around an issue with closing an asyncore socket when\n-# using select)\n-mininode_socket_map = dict()\n-\n-# One lock for synchronizing all data access between the networking thread (see\n+# One lock for synchronizing all data access between the network event loop (see\n # NetworkThread below) and the thread running the test logic.  For simplicity,\n-# P2PConnection acquires this lock whenever delivering a message to a P2PInterface,\n-# and whenever adding anything to the send buffer (in send_message()).  This\n-# lock should be acquired in the thread running the test logic to synchronize\n+# P2PConnection acquires this lock whenever delivering a message to a P2PInterface.\n+# This lock should be acquired in the thread running the test logic to synchronize\n # access to any data shared with the P2PInterface or P2PConnection.\n mininode_lock = threading.RLock()\n \n+\n class NetworkThread(threading.Thread):\n+    _network_event_loop = None\n+\n     def __init__(self):\n         super().__init__(name=\"NetworkThread\")\n+        # There is only one event loop and no more than one thread must be created\n+        assert not self._network_event_loop\n+\n+        NetworkThread._network_event_loop = asyncio.new_event_loop()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197855002",
      "id" : 197855002,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzg1NTAwMg==",
      "original_commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "original_position" : 218,
      "path" : "test/functional/test_framework/mininode.py",
      "position" : 218,
      "pull_request_review_id" : 131679630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-25T17:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197855002",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197855424"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197855424"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: prefer `transport` as the argument name",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-25T16:15:32Z",
      "diff_hunk" : "@@ -71,68 +71,58 @@ class P2PConnection(asyncore.dispatcher):\n     sub-classed and the on_message() callback overridden.\"\"\"\n \n     def __init__(self):\n-        # All P2PConnections must be created before starting the NetworkThread.\n-        # assert that the network thread is not running.\n-        assert not network_thread_running()\n-\n-        super().__init__(map=mininode_socket_map)\n-\n-        self._conn_open = False\n+        # The underlying transport of the connection.\n+        # Should only call methods on this from the NetworkThread, c.f. call_soon_threadsafe\n+        self._transport = None\n \n     @property\n     def is_connected(self):\n-        return self._conn_open\n+        return bool(self._transport)\n \n     def peer_connect(self, dstaddr, dstport, net=\"regtest\"):\n+        assert not self.is_connected\n         self.dstaddr = dstaddr\n         self.dstport = dstport\n-        self.create_socket(socket.AF_INET, socket.SOCK_STREAM)\n-        self.socket.setsockopt(socket.IPPROTO_TCP, socket.TCP_NODELAY, 1)\n-        self.sendbuf = b\"\"\n+        # The initial message to send after the connection was made:\n+        self.on_connection_send_msg = None\n         self.recvbuf = b\"\"\n-        self._asyncore_pre_connection = True\n         self.network = net\n-        self.disconnect = False\n-\n         logger.debug('Connecting to Bitcoin Node: %s:%d' % (self.dstaddr, self.dstport))\n \n-        try:\n-            self.connect((dstaddr, dstport))\n-        except:\n-            self.handle_close()\n+        loop = NetworkThread._network_event_loop\n+        conn_gen_unsafe = loop.create_connection(lambda: self, host=self.dstaddr, port=self.dstport)\n+        conn_gen = lambda: loop.call_soon_threadsafe(loop.create_task, conn_gen_unsafe)\n+        return conn_gen\n \n     def peer_disconnect(self):\n         # Connection could have already been closed by other end.\n-        if self.is_connected:\n-            self.disconnect = True  # Signal asyncore to disconnect\n+        NetworkThread._network_event_loop.call_soon_threadsafe(lambda: self._transport and self._transport.abort())\n \n     # Connection and disconnection methods\n \n-    def handle_connect(self):\n-        \"\"\"asyncore callback when a connection is opened.\"\"\"\n-        if not self.is_connected:\n-            logger.debug(\"Connected & Listening: %s:%d\" % (self.dstaddr, self.dstport))\n-            self._conn_open = True\n-            self._asyncore_pre_connection = False\n-            self.on_open()\n-\n-    def handle_close(self):\n-        \"\"\"asyncore callback when a connection is closed.\"\"\"\n+    def connection_made(self, _transport):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197855424",
      "id" : 197855424,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzg1NTQyNA==",
      "original_commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "original_position" : 86,
      "path" : "test/functional/test_framework/mininode.py",
      "position" : 86,
      "pull_request_review_id" : 131679630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-25T17:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197855424",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197855610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197855610"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: this should be in an else branch to avoid log repetition",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-25T16:16:07Z",
      "diff_hunk" : "@@ -71,68 +71,58 @@ class P2PConnection(asyncore.dispatcher):\n     sub-classed and the on_message() callback overridden.\"\"\"\n \n     def __init__(self):\n-        # All P2PConnections must be created before starting the NetworkThread.\n-        # assert that the network thread is not running.\n-        assert not network_thread_running()\n-\n-        super().__init__(map=mininode_socket_map)\n-\n-        self._conn_open = False\n+        # The underlying transport of the connection.\n+        # Should only call methods on this from the NetworkThread, c.f. call_soon_threadsafe\n+        self._transport = None\n \n     @property\n     def is_connected(self):\n-        return self._conn_open\n+        return bool(self._transport)\n \n     def peer_connect(self, dstaddr, dstport, net=\"regtest\"):\n+        assert not self.is_connected\n         self.dstaddr = dstaddr\n         self.dstport = dstport\n-        self.create_socket(socket.AF_INET, socket.SOCK_STREAM)\n-        self.socket.setsockopt(socket.IPPROTO_TCP, socket.TCP_NODELAY, 1)\n-        self.sendbuf = b\"\"\n+        # The initial message to send after the connection was made:\n+        self.on_connection_send_msg = None\n         self.recvbuf = b\"\"\n-        self._asyncore_pre_connection = True\n         self.network = net\n-        self.disconnect = False\n-\n         logger.debug('Connecting to Bitcoin Node: %s:%d' % (self.dstaddr, self.dstport))\n \n-        try:\n-            self.connect((dstaddr, dstport))\n-        except:\n-            self.handle_close()\n+        loop = NetworkThread._network_event_loop\n+        conn_gen_unsafe = loop.create_connection(lambda: self, host=self.dstaddr, port=self.dstport)\n+        conn_gen = lambda: loop.call_soon_threadsafe(loop.create_task, conn_gen_unsafe)\n+        return conn_gen\n \n     def peer_disconnect(self):\n         # Connection could have already been closed by other end.\n-        if self.is_connected:\n-            self.disconnect = True  # Signal asyncore to disconnect\n+        NetworkThread._network_event_loop.call_soon_threadsafe(lambda: self._transport and self._transport.abort())\n \n     # Connection and disconnection methods\n \n-    def handle_connect(self):\n-        \"\"\"asyncore callback when a connection is opened.\"\"\"\n-        if not self.is_connected:\n-            logger.debug(\"Connected & Listening: %s:%d\" % (self.dstaddr, self.dstport))\n-            self._conn_open = True\n-            self._asyncore_pre_connection = False\n-            self.on_open()\n-\n-    def handle_close(self):\n-        \"\"\"asyncore callback when a connection is closed.\"\"\"\n+    def connection_made(self, _transport):\n+        \"\"\"asyncio callback when a connection is opened.\"\"\"\n+        assert not self._transport\n+        logger.debug(\"Connected & Listening: %s:%d\" % (self.dstaddr, self.dstport))\n+        self._transport = _transport\n+        if self.on_connection_send_msg:\n+            self.send_message(self.on_connection_send_msg)\n+            self.on_connection_send_msg = None  # Never used again\n+        self.on_open()\n+\n+    def connection_lost(self, exc):\n+        \"\"\"asyncio callback when a connection is closed.\"\"\"\n+        if exc:\n+            logger.warning(\"Connection lost to {}:{} due to {}\".format(self.dstaddr, self.dstport, exc))\n         logger.debug(\"Closing connection to: %s:%d\" % (self.dstaddr, self.dstport))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197855610",
      "id" : 197855610,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzg1NTYxMA==",
      "original_commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "original_position" : 100,
      "path" : "test/functional/test_framework/mininode.py",
      "position" : 100,
      "pull_request_review_id" : 131679630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-25T17:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197855610",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197856757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197856757"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: sort imports",
      "commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "created_at" : "2018-06-25T16:20:06Z",
      "diff_hunk" : "@@ -32,6 +32,8 @@\n     sync_blocks,\n     sync_mempools,\n )\n+from .mininode import NetworkThread",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#discussion_r197856757",
      "id" : 197856757,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5Nzg1Njc1Nw==",
      "original_commit_id" : "aaaa4a4b17506f526bebee65b0ea930289f79016",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 4,
      "pull_request_review_id" : 131679630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13517",
      "updated_at" : "2018-06-25T17:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197856757",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Force pushed to address feedback",
      "created_at" : "2018-06-25T18:14:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-400045797",
      "id" : 400045797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDA0NTc5Nw==",
      "updated_at" : "2018-06-25T18:14:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400045797",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK fa87da2f172ae2e6dc15e9ed156a3564a8ecfbdd",
      "created_at" : "2018-06-25T18:47:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-400055754",
      "id" : 400055754,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDA1NTc1NA==",
      "updated_at" : "2018-06-25T18:47:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400055754",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13467 ([Tests] Make p2p_segwit easier to debug by jnewbery)\n* #13054 (tests: Enable automatic detection of undefined names in Python tests scripts. Remove wildcard imports. by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-06-26T11:19:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-400272043",
      "id" : 400272043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDI3MjA0Mw==",
      "updated_at" : "2018-06-28T09:34:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400272043",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fa87da2f172ae2e6dc15e9ed156a3564a8ecfbdd",
      "created_at" : "2018-06-29T16:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13517#issuecomment-401401304",
      "id" : 401401304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13517",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTQwMTMwNA==",
      "updated_at" : "2018-06-29T16:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401401304",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
