[
   {
      "author_association" : "MEMBER",
      "body" : "Excerpt from when the bug occurs:\r\n\r\n\r\n```\r\n...\r\n test  2023-01-09T12:22:23.228000Z TestFramework (DEBUG): Check that node[1] will send the tx to node[0] even though it is already in the mempool\r\n node1 2023-01-09T12:22:23.228783Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:48608\r\n node1 2023-01-09T12:22:23.228986Z [httpworker.0] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n node0 2023-01-09T12:22:23.231535Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:40640\r\n node0 2023-01-09T12:22:23.231734Z [httpworker.3] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n node1 2023-01-09T12:22:23.233267Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:48608\r\n node1 2023-01-09T12:22:23.233445Z [httpworker.1] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=addnode user=__cookie__\r\n node1 2023-01-09T12:22:23.233642Z [httpworker.1] [net.cpp:456] [ConnectNode] [net:debug] trying connection 127.0.0.1:11180 lastseen=0.0hrs\r\n node1 2023-01-09T12:22:23.234022Z [httpworker.1] [net.cpp:2763] [CNode] [net] Added connection peer=1\r\n node0 2023-01-09T12:22:23.234192Z [net] [net.cpp:2763] [CNode] [net] Added connection peer=1\r\n node1 2023-01-09T12:22:23.234279Z [httpworker.1] [net.cpp:2776] [PushMessage] [net] sending version (114 bytes) peer=1\r\n node0 2023-01-09T12:22:23.234381Z [net] [net.cpp:1037] [CreateNodeFromAcceptedSocket] [net] connection from 127.0.0.1:42510 accepted\r\n node1 2023-01-09T12:22:23.234458Z [httpworker.1] [net_processing.cpp:1396] [PushNodeVersion] [net] send version message: version 70016, blocks=100, txrelay=1, peer=1\r\n node0 2023-01-09T12:22:23.234721Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: version (114 bytes) peer=1\r\n node0 2023-01-09T12:22:23.234817Z [msghand] [net.cpp:2776] [PushMessage] [net] sending version (114 bytes) peer=1\r\n node0 2023-01-09T12:22:23.234991Z [msghand] [net_processing.cpp:1396] [PushNodeVersion] [net] send version message: version 70016, blocks=100, txrelay=1, peer=1\r\n node1 2023-01-09T12:22:23.235034Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:48608\r\n node0 2023-01-09T12:22:23.235044Z [msghand] [net.cpp:2776] [PushMessage] [net] sending wtxidrelay (0 bytes) peer=1\r\n node0 2023-01-09T12:22:23.235153Z [msghand] [net.cpp:2776] [PushMessage] [net] sending sendaddrv2 (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.235220Z [httpworker.2] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n node0 2023-01-09T12:22:23.237171Z [msghand] [net.cpp:2776] [PushMessage] [net] sending verack (0 bytes) peer=1\r\n node0 2023-01-09T12:22:23.237312Z [msghand] [net_processing.cpp:3352] [ProcessMessage] [net] receive version message: /Satoshi:24.99.0(testnode1)/: version 70016, blocks=100, us=[::]:0, txrelay=1, peer=1\r\n node1 2023-01-09T12:22:23.277409Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: version (114 bytes) peer=1\r\n node1 2023-01-09T12:22:23.277514Z [msghand] [net.cpp:2776] [PushMessage] [net] sending wtxidrelay (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.277691Z [msghand] [net.cpp:2776] [PushMessage] [net] sending sendaddrv2 (0 bytes) peer=1\r\n node0 2023-01-09T12:22:23.278071Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: wtxidrelay (0 bytes) peer=1\r\n node0 2023-01-09T12:22:23.278225Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: sendaddrv2 (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.279894Z [msghand] [net.cpp:2776] [PushMessage] [net] sending verack (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.288745Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:48608\r\n node1 2023-01-09T12:22:23.288981Z [httpworker.3] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n node1 2023-01-09T12:22:23.292375Z [msghand] [net.cpp:2776] [PushMessage] [net] sending getaddr (0 bytes) peer=1\r\n node0 2023-01-09T12:22:23.292524Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: verack (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.292533Z [msghand] [net_processing.cpp:3352] [ProcessMessage] [net] receive version message: /Satoshi:24.99.0(testnode0)/: version 70016, blocks=100, us=[::]:0, txrelay=1, peer=1\r\n node0 2023-01-09T12:22:23.292608Z [msghand] [net.cpp:2776] [PushMessage] [net] sending sendcmpct (9 bytes) peer=1\r\n node1 2023-01-09T12:22:23.292609Z [msghand] [timedata.cpp:57] [AddTimeData] [net] added time data, samples 2, offset +0 (+0 minutes)\r\n node0 2023-01-09T12:22:23.292856Z [msghand] [net.cpp:2776] [PushMessage] [net] sending ping (8 bytes) peer=1\r\n node0 2023-01-09T12:22:23.293028Z [msghand] [net.cpp:2776] [PushMessage] [net] sending getheaders (613 bytes) peer=1\r\n node0 2023-01-09T12:22:23.293179Z [msghand] [net_processing.cpp:5416] [SendMessages] [net] initial getheaders (99) to peer=1 (startheight:100)\r\n node0 2023-01-09T12:22:23.293354Z [msghand] [net.cpp:2776] [PushMessage] [net] sending feefilter (8 bytes) peer=1\r\n node0 2023-01-09T12:22:23.293634Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: getaddr (0 bytes) peer=1\r\n node0 2023-01-09T12:22:23.294846Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:40640\r\n node0 2023-01-09T12:22:23.295037Z [httpworker.0] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n node1 2023-01-09T12:22:23.297221Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:48608\r\n node1 2023-01-09T12:22:23.297634Z [httpworker.0] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n node1 2023-01-09T12:22:23.298425Z [httpworker.0] [logging/timer.h:57] [Log] [lock] Enter: lock contention m_peer_mutex, net_processing.cpp:1537 started\r\n node1 2023-01-09T12:22:23.298514Z [httpworker.0] [logging/timer.h:57] [Log] [lock] Enter: lock contention m_peer_mutex, net_processing.cpp:1537 completed (27Î¼s)\r\n node0 2023-01-09T12:22:23.300825Z [http] [httpserver.cpp:239] [http_request_cb] [http] Received a POST request for / from 127.0.0.1:40640\r\n node0 2023-01-09T12:22:23.300993Z [httpworker.2] [rpc/request.cpp:179] [parse] [rpc] ThreadRPCServer method=getpeerinfo user=__cookie__\r\n test  2023-01-09T12:22:23.303000Z TestFramework.p2p (DEBUG): Send message to 127.0.0.1:11181: msg_tx(tx=CTransaction(nVersion=2 vin=[CTxIn(prevout=COutPoint(hash=d925626975d73bd782c38ce1eed34aed6eee030680271e7982197873289c747f n=0) scriptSig= nSequence=4294967295)] vout=[CTxOut(nValue=5.00000000 scriptPubKey=00204ae81572f06e1b88fd5ced7a1a000945432e83e1551e6f721ee9c00b8cc33260)] wit=CTxWitness(CScriptWitness(51)) nLockTime=0))\r\n test  2023-01-09T12:22:23.303000Z TestFramework.p2p (DEBUG): Send message to 127.0.0.1:11181: msg_ping(nonce=00000003)\r\n node1 2023-01-09T12:22:23.303821Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: tx (99 bytes) peer=0\r\n test  2023-01-09T12:22:23.304000Z TestFramework.p2p (DEBUG): Received message from 127.0.0.1:11181: msg_pong(nonce=00000003)\r\n node1 2023-01-09T12:22:23.304012Z [msghand] [net_processing.cpp:4020] [ProcessMessage] Force relaying tx 15d85d00f224f10cecaa12a6eba4994045f2abbe0f929e1c16bba06cfc0ddc39 from peer=0\r\n node1 2023-01-09T12:22:23.304267Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: wtxidrelay (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.304402Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: sendaddrv2 (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.304502Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: ping (8 bytes) peer=0\r\n node1 2023-01-09T12:22:23.304562Z [msghand] [net.cpp:2776] [PushMessage] [net] sending pong (8 bytes) peer=0\r\n node1 2023-01-09T12:22:23.305109Z [msghand] [net_processing.cpp:3155] [ProcessMessage] [net] received: verack (0 bytes) peer=1\r\n node1 2023-01-09T12:22:23.305702Z [msghand] [net_processing.cpp:3395] [ProcessMessage] New outbound peer connected: version: 70016, blocks=100, peer=1 (manual)\r\n node1 2023-01-09T12:22:23.305759Z [msghand] [net.cpp:2776] [PushMessage] [net] sending sendcmpct (9 bytes) peer=1\r\n node1 2023-01-09T12:22:23.305930Z [msghand] [net.cpp:2776] [PushMessage] [net] sending ping (8 bytes) peer=1\r\n...",
      "created_at" : "2023-01-09T14:13:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26852#issuecomment-1375685353",
      "id" : 1375685353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26852",
      "node_id" : "IC_kwDOABII585R_0rp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1375685353/reactions"
      },
      "updated_at" : "2023-01-09T14:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1375685353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
