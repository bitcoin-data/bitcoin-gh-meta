{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "picking up #20411 (rebased onto master)\r\n\r\nThere is a discrepancy in the implementation of our p2p protocol between\r\nbitcoind and the testing framework.  The fRelay field is an optional\r\nfield at the end of a version message as of protocol version 70001.\r\nHowever, when deserializing a message in bitcoind, we don't check the\r\nversion to see if it should have an fRelay field or not.  Instead, we\r\nunconditionally attempt to deserialize into the field.\r\n\r\nThis commit brings the testing framework in line with the implementation\r\nin core.\r\n\r\nThis matters for a version message with the following fields:\r\n\r\nVersion = 60000\r\nfRelay = 1\r\n\r\nBitcoind would deserialize this into a version message with\r\nVersion=60000 and fRelay=1, whereas (before this commit) our testing\r\nframework would deserialize this into a version message with\r\nVersion=60000 and fRelay=0.",
   "closed_at" : "2021-03-24T18:30:11Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21357/comments",
   "created_at" : "2021-03-04T06:52:32Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21357/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/21357",
   "id" : 821820288,
   "labels" : [
      {
         "color" : "d4c5f9",
         "default" : false,
         "description" : null,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21357/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NTg0NTQ0NDEw",
   "number" : 21357,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/21357.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21357",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/21357.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21357"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "test: Unconditionally check for fRelay field in test framework",
   "updated_at" : "2021-03-24T18:31:49Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21357",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/23396902?v=4",
      "events_url" : "https://api.github.com/users/jarolrod/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jarolrod/followers",
      "following_url" : "https://api.github.com/users/jarolrod/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jarolrod/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jarolrod",
      "id" : 23396902,
      "login" : "jarolrod",
      "node_id" : "MDQ6VXNlcjIzMzk2OTAy",
      "organizations_url" : "https://api.github.com/users/jarolrod/orgs",
      "received_events_url" : "https://api.github.com/users/jarolrod/received_events",
      "repos_url" : "https://api.github.com/users/jarolrod/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jarolrod/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jarolrod"
   }
}
