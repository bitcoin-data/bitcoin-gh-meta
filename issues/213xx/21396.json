{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Another macOS build problem, shocking right?\r\n\r\n_Update 1:_ I was on the v0.21 branch, will retry on master and maybe open a new issue.\r\n_Update 2:_ it also happens on master, reinstalling `llvm` improved things, but see below\r\n\r\nI can build fine with the built in compiler, but I'm trying to build with llvm from homebrew in order to get fuzzing to work.\r\n\r\nmacOS 11.2.1 Big Sur\r\nllvm: stable 11.1.0 (via Homebrew)\r\nclang(++) version 11.0.0\r\nProcessor type: x86_64h (Intel x86-64h Haswell)\r\n\r\n```\r\n./autogen.sh\r\n./configure CC=/usr/local/opt/llvm/bin/clang CXX=/usr/local/opt/llvm/bin/clang++\r\n...\r\nconfigure: error: C++ compiler cannot create executables\r\n```\r\n\r\nThe `CC` and `CXX` commands exist.\r\n\r\nFull log: https://gist.github.com/Sjors/dd7920d3f242a5ae75a3fb8232f33987\r\n\r\nPotentially relevant log fragment:\r\n```\r\nconfigure:4204: /usr/local/opt/llvm/bin/clang++ -qversion >&5\r\nclang-11: error: unknown argument '-qversion'; did you mean '--version'?\r\nclang-11: error: no input files\r\nconfigure:4215: $? = 1\r\nconfigure:4235: checking whether the C++ compiler works\r\nconfigure:4257: /usr/local/opt/llvm/bin/clang++  -I/usr/local/opt/zlib/include -I/usr/local/opt/bzip2/include  -L/usr/local/opt/openssl@1.1/lib -L/usr/local/opt/readline/lib -L/usr/local/opt/zlib/lib -L/usr/local/opt/bzip2/lib conftest.cpp  >&5\r\nld: warning: directory not found for option '-L/usr/local/opt/bzip2/lib'\r\nld: library not found for -lc++\r\nclang-11: error: linker command failed with exit code 1 (use -v to see invocation)\r\nconfigure:4261: $? = 1\r\nconfigure:4299: result: no\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME \"Bitcoin Core\"\r\n| #define PACKAGE_TARNAME \"bitcoin\"\r\n| #define PACKAGE_VERSION \"21.99.0\"\r\n| #define PACKAGE_STRING \"Bitcoin Core 21.99.0\"\r\n| #define PACKAGE_BUGREPORT \"https://github.com/bitcoin/bitcoin/issues\"\r\n| #define PACKAGE_URL \"https://bitcoincore.org/\"\r\n| /* end confdefs.h.  */\r\n| \r\n| int\r\n| main ()\r\n| {\r\n| \r\n|   ;\r\n|   return 0;\r\n| }\r\n```",
   "closed_at" : "2022-01-21T02:23:47Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 8,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21396/comments",
   "created_at" : "2021-03-09T10:39:01Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21396/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/21396",
   "id" : 825703725,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21396/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU4MjU3MDM3MjU=",
   "number" : 21396,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21396/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21396/timeline",
   "title" : "Unable to build with llvm 11.1 on macOS Big Sur",
   "updated_at" : "2022-01-21T02:23:47Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21396",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
