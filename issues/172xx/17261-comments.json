[
   {
      "author_association" : "MEMBER",
      "body" : "The final diff is very similar to #16341 just with some things dropped as they were deemed unnecessary.",
      "created_at" : "2019-10-26T05:17:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-546570620",
      "id" : 546570620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjU3MDYyMA==",
      "updated_at" : "2019-10-26T05:17:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546570620",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For comparison, my last [ACK](https://github.com/bitcoin/bitcoin/pull/16341#issuecomment-546274939) on the original was for c37be15. That code was identical to @ryanofsky's [branch](https://github.com/ryanofsky/bitcoin/commits/pr/keyman) at  299296e51f6ea0e416aa84d7fc139195be96a58d, just using a different set of commits to get there.   This PR rebases that on master @25d7e2e78137d07eb612c44d19b0d496050c947a, with the last two commits (952ba99a447b619e353816cac429f825cb3bcaff & 299296e51f6ea0e416aa84d7fc139195be96a58d) dropped.  The result is f47ffe0a88111a63e1d7d98c25fbe2184215dbbe here (minus two linter changes).",
      "created_at" : "2019-10-26T08:35:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-546582908",
      "id" : 546582908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjU4MjkwOA==",
      "updated_at" : "2019-10-26T08:36:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546582908",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17954](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17954.html) (wallet: Remove calls to Chain::Lock methods by ryanofsky)\n* [#17878](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17878.html) (wip: zmq: Support -zmqpubwallettx by promag)\n* [#17786](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17786.html) (refactor: Nuke policy/fees->mempool circular dependencies by hebasto)\n* [#17681](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17681.html) (wallet: Keep inactive seeds after sethdseed and derive keys from them as needed by achow101)\n* [#17484](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17484.html) (wallet: add cached m_is_ibd to remove Chain::isInitialBlockDownload by ariard)\n* [#17443](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17443.html) (Drop checkFinalTx and use Median Time Past to check finality of wallet transactions by ariard)\n* [#17211](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17211.html) (Allow fundrawtransaction and walletcreatefundedpsbt to take external inputs by achow101)\n* [#16946](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16946.html) (wallet: include a checksum of encrypted private keys by achow101)\n* [#16910](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16910.html) (wallet: reduce loading time by using unordered maps by achow101)\n* [#16698](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16698.html) (Mempool: rework rebroadcast logic to improve privacy by amitiuttarwar)\n* [#16528](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16528.html) ([WIP] Native Descriptor Wallets (take 2) by achow101)\n* [#16440](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16440.html) (BIP-322: Generic signed message format by kallewoof)\n* [#16224](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16224.html) (gui: Bilingual GUI error messages by hebasto)\n* [#15761](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15761.html) (Replace -upgradewallet startup option with upgradewallet RPC by achow101)\n* [#15719](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15719.html) (Drop Chain::requestMempoolTransactions method by ryanofsky)\n* [#10443](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10443.html) (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-26T11:55:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-546596120",
      "id" : 546596120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjU5NjEyMA==",
      "updated_at" : "2020-01-29T22:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546596120",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Suggestion: there's a cluster of fairly trivial refactoring commits in this PR that I think could be pulled out into a separate PR and merged pretty quickly. Doing this would reduce the number of commits here by almost half:\r\n\r\n- [ ] b318219c51e316cfb75639f0820cc1b8017bfdfd MOVEONLY: Reorder LegacyScriptPubKeyMan methods (4/36)\r\n- [ ] 8c7eac4de3e94adcf3ec8a0358c410a198b8b844 Refactor: Declare LegacyScriptPubKeyMan methods as virtual (5/36)\r\n- [ ] f0339ba0b3a9d54f04b0e5f0ec80a9f791567caa Refactor: Add new ScriptPubKeyMan virtual methods (6/36)\r\n- [ ] 5321cf7eb565834a7e69331d690543375890d516 Refactor: Move SetAddressBook call out of LegacyScriptPubKeyMan::GetNewDestination (7/36)\r\n- [ ] 44f524e6c2116a4c57e9e47c4b130efe751cf5a7 Refactor: Move SetWalletFlag out of LegacyScriptPubKeyMan::UpgradeKeyMetadata (8/36)\r\n- [ ] 2b92e87104868e11be9a0e2129d1340677ebc81c Refactor: Remove UnsetWalletFlag call from LegacyScriptPubKeyMan::SetHDSeed (9/36)\r\n- [ ] 802dfb95abf9465efe34d16ece4f7e6dc8349177 Refactor: Move SetAddressBookWithDB call out of LegacyScriptPubKeyMan::ImportScriptPubKeys (10/36)\r\n- [ ] d8d2d31e55a53bfeb3860f278e47692970bdcd84 Refactor: Move LoadKey LegacyScriptPubKeyMan method definition (11/36)\r\n- [ ] 9f20667b5bb4f7939efa2cf16e3f12abf34ebbe5 Refactor: Move GetMetadata code out of getaddressinfo (12/36)\r\n- [ ] 309ee44cc663c8d753729d94100bbbe694c2e091 Refactor: Move MarkUnusedAddresses code out of CWallet::AddToWalletIfInvolvingMe (13/36)\r\n- [ ] 1ffce090c62ca340e09ace89d859843b995b0ee9 Refactor: Move Upgrade code out of CWallet::CreateWalletFromFile (14/36)\r\n- [ ] f09be4ff1cc00390fc50147c63260983a2d98d71 Refactor: Move HavePrivateKeys code out of CWallet::CreateWalletFromFile (15/36)\r\n- [ ] 25d904ce890f2989cbd3f677972be59d1381e98c Refactor: Move SetupGeneration code out of CWallet (16/36)\r\n- [ ] a207dbc464a647342c55cfd3c81e9866c063cdce Refactor: Move RewriteDB code out of CWallet (17/36)\r\n- [ ] 1cca908e4d1f855e961eb513ff87deda6a615323 Refactor: Move GetKeypoolSize code out of CWallet (18/36)\r\n- [ ] 23008f4c36d3bd982dcdb70698b6dc05b673c4e0 Refactor: Move nTimeFirstKey accesses out of CWallet (19/36)\r\n\r\n@achow101, would you want to pull out the commits above into a separate PR? I'd also be happy to make the PR if it would be more convenient.\r\n",
      "created_at" : "2019-10-29T18:39:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-547570983",
      "id" : 547570983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzU3MDk4Mw==",
      "updated_at" : "2019-10-29T18:40:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547570983",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky Done as #17304 ",
      "created_at" : "2019-10-29T19:03:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-547581348",
      "id" : 547581348,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzU4MTM0OA==",
      "updated_at" : "2019-10-29T19:03:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547581348",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  fanquake added this to Blockers in High-priority for review 5 hours ago \r\n\r\nWhy? I thought that high-prio could only be used once per week per contributor.",
      "created_at" : "2019-10-29T20:15:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-547609311",
      "id" : 547609311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzYwOTMxMQ==",
      "updated_at" : "2019-10-29T20:15:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547609311",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Achow requested it via IRC. He didn't have anything in high-prio.\n\nOn Tue, 29 Oct 2019 at 16:15, MarcoFalke <notifications@github.com> wrote:\n\n> fanquake added this to Blockers in High-priority for review 5 hours ago\n>\n> Why?\n>\n> â\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/17261?email_source=notifications&email_token=AAGS34SKBDHCRX7QCH2LWVLQRCKWDA5CNFSM4JFL4BW2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOECR5VXY#issuecomment-547609311>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAGS34RIQ5JLGSG4BKV3SCTQRCKWDANCNFSM4JFL4BWQ>\n> .\n>\n",
      "created_at" : "2019-10-29T20:24:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-547613017",
      "id" : 547613017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzYxMzAxNw==",
      "updated_at" : "2019-10-29T20:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547613017",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "https://github.com/bitcoin/bitcoin/pull/17260#event-2751955233 was in for this week, but fair enough",
      "created_at" : "2019-10-30T00:36:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-547688818",
      "id" : 547688818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzY4ODgxOA==",
      "updated_at" : "2019-10-30T00:36:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547688818",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-30T12:10:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-547871126",
      "id" : 547871126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Nzg3MTEyNg==",
      "updated_at" : "2019-10-30T12:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547871126",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-31T19:18:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-548529344",
      "id" : 548529344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0ODUyOTM0NA==",
      "updated_at" : "2019-10-31T19:18:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/548529344",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In case its useful, rebased branch [`pr/keyman`](https://github.com/ryanofsky/bitcoin/commits/pr/keyman) 9e776722b902d8f6d095d06053b12746065baa46 -> 6ff0b88d5a98465eb79a02ceb7a46afb31d43708 ([`pr/keyman.9`](https://github.com/ryanofsky/bitcoin/commits/pr/keyman.9) -> [`pr/keyman.10`](https://github.com/ryanofsky/bitcoin/commits/pr/keyman.10)) after #17300 and #17304",
      "created_at" : "2019-11-04T16:51:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-549445203",
      "id" : 549445203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0OTQ0NTIwMw==",
      "updated_at" : "2019-11-04T16:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549445203",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated branch [`pr/keyman`](https://github.com/ryanofsky/bitcoin/commits/pr/keyman) 6ff0b88d5a98465eb79a02ceb7a46afb31d43708 -> 72df6f1050d27a13435fab77f20c1a0e08fdbf51 ([`pr/keyman.10`](https://github.com/ryanofsky/bitcoin/commits/pr/keyman.10) -> [`pr/keyman.11`](https://github.com/ryanofsky/bitcoin/commits/pr/keyman.11), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/keyman.10..pr/keyman.11)) to fix exception in `CWallet::GetLegacyScriptPubKeyMan()` caused by being called from `CWallet::UpgradeKeyMetadata()` early in initialization. This makes tests pass.",
      "created_at" : "2019-11-04T17:59:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-549473896",
      "id" : 549473896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0OTQ3Mzg5Ng==",
      "updated_at" : "2019-11-04T17:59:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549473896",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2019-11-04T18:31:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-549486714",
      "id" : 549486714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0OTQ4NjcxNA==",
      "updated_at" : "2019-11-04T18:31:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549486714",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Now that most of code movement is done, to make more progress on this, I'd say the following individual commits are complicated enough to be their own PRs which could all be reviewed and merged in parallel:\r\n\r\n- [ ] b5f456eb91e687ed39bc38e5b9b4e5aca0434515 Always try to sign for all pubkeys in multisig (2/20)\r\n- [ ] a1297615cce13bba3c16412418e0522e3f7f9eff Store p2sh scripts in AddAndGetDestinationForScript (3/20)\r\n- [ ] 09d99fc720998c892b60c26ff02e7dc11f69fee4 Refactor: Move encryption code between KeyMan and Wallet (4/20)\r\n- [ ] 11157cffc8925fe129d045d0238106db3bfb444a Refactor: Allow LegacyScriptPubKeyMan to be null (6/20)\r\n- [ ] a0b524c10f6944195f8fffa2a6558e002647fe23 Refactor: Require scriptPubKey to get wallet SigningProvider (7/20)\r\n- [ ] ac8cbde93df8cf365a08f472d2018f9667fae7c9 IsMine: Set state to WATCH_ONLY if we can get the pubkey (14/20)\r\n\r\nThen there is a set of keypool tweaks and fixes, which could go in a single PR (reviewed in parallel with PRs above):\r\n\r\n- [ ] 71f1a7ff10408211b7f86ee3c932a3d264441643 Key pool: Move CanGetAddresses call (8/20)\r\n- [ ] 5733cc0303673d58e887313965e5fb045f08e472 Key pool: Move LearnRelated and GetDestination calls (9/20)\r\n- [ ] 922252b6ff74a9d0da60c7bd87217eb5b938e220 Key pool: Move TopUp call (10/20)\r\n- [ ] 4fb82dcb7fac2f3684b9c4345946956488066d7a Key pool: Change ReturnDestination interface to take address instead of key (11/20)\r\n- [ ] 0c823e4d5c687fe116d2de550888558a3005b184 Key pool: Make TopUp fail if unexpected wallet flags are set (12/20)\r\n- [ ] 68a35f25bf3036d3390243c1a06887681d144586 Key pool: Fix omitted pre-split count in GetKeyPoolSize (13/20)\r\n\r\nAfter the encryption change above is in (09d99fc720998c892b60c26ff02e7dc11f69fee4), the cs_wallet/cs_keystore locking change could be a quick followup PR:\r\n\r\n- [ ] 558e0bb42cc0336bde941fb3a6e871e98a96962f Locking: Lock cs_KeyStore instead of cs_main in legacy keyman (5/20)\r\n\r\nAfter that, the remaining commits in this PR would add the new key manager maps and lookup code, and do final cleanups and tweaks:\r\n\r\n- [ ] fbcf6ad0ee6a87ac718c3ee2d9fa7663e18495a2 List output types in an array in order to be iterated over (1/20)\r\n- [ ] 85a1bb8e3a363eeca8f15505b716d6c04733cd11 HD Split: Avoid redundant upgrades (15/20)\r\n- [ ] 2fa9e854da0641d289b5d975ab3d15449fe59deb Box the wallet: Add multiple keyman maps and loops (16/20)\r\n- [ ] dd447f855324d5c6cebc2054db03d2fb5fdc4149 Refactor: Copy CWallet signals and print function to LegacyScriptPubKeyMan (17/20)\r\n- [ ] ddf78847a8abc62b3339fe98aea467a2fce894c6 Cleanup: Update message strings and comments (18/20)\r\n- [ ] 32ec05d7aec6574928f5ca019c61ce24dccb1c25 Cleanup: Drop unused GUI learnRelatedScripts method (19/20)\r\n- [ ] 72df6f1050d27a13435fab77f20c1a0e08fdbf51 Refactor: Replace SigningProvider pointers with unique_ptrs (20/20)",
      "created_at" : "2019-11-04T18:33:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-549487627",
      "id" : 549487627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0OTQ4NzYyNw==",
      "updated_at" : "2019-11-04T18:33:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549487627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r342210748"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342210748"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Locking: Lock cs_KeyStore instead of cs_main in legacy keyman\" (90287119f4bab55e3ffb8e5b9139d19f11eebd61):\r\n\r\nLooks like comment this line was unintentionally deleted (mistake during rebase)\r\n",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-04T18:50:09Z",
      "diff_hunk" : "@@ -292,8 +292,7 @@ class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProv\n \n     void MarkUnusedAddresses(const CScript& script) override;\n \n-    //! Upgrade stored CKeyMetadata objects to store key origin info as KeyOriginInfo",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r342210748",
      "id" : 342210748,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjIxMDc0OA==",
      "original_commit_id" : "90287119f4bab55e3ffb8e5b9139d19f11eebd61",
      "original_position" : 59,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : 97,
      "pull_request_review_id" : 311281404,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342210748",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r342224444"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342224444"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added it back in.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-04T19:19:46Z",
      "diff_hunk" : "@@ -292,8 +292,7 @@ class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProv\n \n     void MarkUnusedAddresses(const CScript& script) override;\n \n-    //! Upgrade stored CKeyMetadata objects to store key origin info as KeyOriginInfo",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r342224444",
      "id" : 342224444,
      "in_reply_to_id" : 342210748,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MjIyNDQ0NA==",
      "original_commit_id" : "90287119f4bab55e3ffb8e5b9139d19f11eebd61",
      "original_position" : 59,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : 97,
      "pull_request_review_id" : 311299018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/342224444",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "\"Refactor: Move encryption code between KeyMan and Wallet\" was split into #17369\r\n\r\n\"Refactor: Require scriptPubKey to get wallet SigningProvider\" was split into #17371 \r\n\r\nThe Keypool commits were split into #17373\r\n\r\n\"IsMine: Set state to WATCH_ONLY if we can get the pubkey\" was split into #17374\r\n\r\nI had some issues with making \"Refactor: Allow LegacyScriptPubKeyMan to be null\" standalone, there were some segfaults and other conflicting changes since it comes after the locking and encryption commits. So I don't think I will make this standalone.\r\n\r\nBoth \"Always try to sign for all pubkeys in multisig\" and \"Store p2sh scripts in AddAndGetDestinationForScript\" aren't needed until \"Box the wallet: Add multiple keyman maps and loops\". I don't think they make sense by themselves, and they aren't really complicated. So I would prefer to bundle them with \"Box the wallet: Add multiple keyman maps and loops\".\r\n\r\nI'll PR the locking commit after the encryption commit is merged.",
      "created_at" : "2019-11-04T23:46:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-549598810",
      "id" : 549598810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0OTU5ODgxMA==",
      "updated_at" : "2019-11-04T23:46:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/549598810",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343629024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343629024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "3499674136167f662e5b0ef0b599c02f5a959558\r\n\r\nYou gave ACK in #17237 so I wonder why is this here?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-07T12:40:18Z",
      "diff_hunk" : "@@ -278,6 +278,8 @@ bool LegacyScriptPubKeyMan::GetReservedDestination(const OutputType type, bool i\n     if (!ReserveKeyFromKeyPool(index, keypool, internal)) {\n         return false;\n     }\n+    LearnRelatedScripts(keypool.vchPubKey, type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343629024",
      "id" : 343629024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzYyOTAyNA==",
      "original_commit_id" : "3499674136167f662e5b0ef0b599c02f5a959558",
      "original_position" : 13,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 313310038,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343629024",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343645137"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343645137"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> [3499674](https://github.com/bitcoin/bitcoin/commit/3499674136167f662e5b0ef0b599c02f5a959558)\r\n> \r\n> You gave ACK in #17237 so I wonder why is this here?\r\n\r\nBetter to ask this question in #17373 where this commit was moved than this PR. Specifically [17373/commits/35c37b5](https://github.com/bitcoin/bitcoin/pull/17373/commits/35c37b59c5bb918c15aca3092b6506ef3974e50c)\r\n\r\nProbably this code change just precedes your PR",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-07T13:21:13Z",
      "diff_hunk" : "@@ -278,6 +278,8 @@ bool LegacyScriptPubKeyMan::GetReservedDestination(const OutputType type, bool i\n     if (!ReserveKeyFromKeyPool(index, keypool, internal)) {\n         return false;\n     }\n+    LearnRelatedScripts(keypool.vchPubKey, type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343645137",
      "id" : 343645137,
      "in_reply_to_id" : 343629024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzY0NTEzNw==",
      "original_commit_id" : "3499674136167f662e5b0ef0b599c02f5a959558",
      "original_position" : 13,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 313331747,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343645137",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe say at the top of the PR description that this builds on #17369, #17371, #17373, and those PRs should be reviewed first to avoid misplaced review comments here.\r\n\r\nCan also link to the descriptor wallet project url which lists all PRs https://github.com/bitcoin/bitcoin/projects/12",
      "created_at" : "2019-11-07T13:27:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-551078486",
      "id" : 551078486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MTA3ODQ4Ng==",
      "updated_at" : "2019-11-07T13:27:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551078486",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343667539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343667539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for pointing to the right PR, I think I'll just wait for this get merged.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-07T14:06:37Z",
      "diff_hunk" : "@@ -278,6 +278,8 @@ bool LegacyScriptPubKeyMan::GetReservedDestination(const OutputType type, bool i\n     if (!ReserveKeyFromKeyPool(index, keypool, internal)) {\n         return false;\n     }\n+    LearnRelatedScripts(keypool.vchPubKey, type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343667539",
      "id" : 343667539,
      "in_reply_to_id" : 343629024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzY2NzUzOQ==",
      "original_commit_id" : "3499674136167f662e5b0ef0b599c02f5a959558",
      "original_position" : 13,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 313361226,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343667539",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343671731"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343671731"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It would be nice to get more review on #17373, even if this question won't be raised. The changes there are confusing to me, and might be more straightforward to you. (The changes there are minor and seem safe but I don't understand why they are made.)",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-07T14:14:50Z",
      "diff_hunk" : "@@ -278,6 +278,8 @@ bool LegacyScriptPubKeyMan::GetReservedDestination(const OutputType type, bool i\n     if (!ReserveKeyFromKeyPool(index, keypool, internal)) {\n         return false;\n     }\n+    LearnRelatedScripts(keypool.vchPubKey, type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343671731",
      "id" : 343671731,
      "in_reply_to_id" : 343629024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzY3MTczMQ==",
      "original_commit_id" : "3499674136167f662e5b0ef0b599c02f5a959558",
      "original_position" : 13,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 313366994,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343671731",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343679653"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343679653"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You mean #17373, not #17237 right? If so I'll review the first.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-11-07T14:29:44Z",
      "diff_hunk" : "@@ -278,6 +278,8 @@ bool LegacyScriptPubKeyMan::GetReservedDestination(const OutputType type, bool i\n     if (!ReserveKeyFromKeyPool(index, keypool, internal)) {\n         return false;\n     }\n+    LearnRelatedScripts(keypool.vchPubKey, type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r343679653",
      "id" : 343679653,
      "in_reply_to_id" : 343629024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzY3OTY1Mw==",
      "original_commit_id" : "3499674136167f662e5b0ef0b599c02f5a959558",
      "original_position" : 13,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 313377733,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/343679653",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-11-08T11:04:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-551589152",
      "id" : 551589152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MTU4OTE1Mg==",
      "updated_at" : "2019-11-08T11:04:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/551589152",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-11-20T22:27:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-556485330",
      "id" : 556485330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NjQ4NTMzMA==",
      "updated_at" : "2019-11-20T22:27:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/556485330",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-11-26T17:16:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-558730984",
      "id" : 558730984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODczMDk4NA==",
      "updated_at" : "2019-11-26T17:16:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558730984",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For those interested in helping out, please review #17369, #17537 and #17261.",
      "created_at" : "2019-11-27T13:35:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-559089495",
      "id" : 559089495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTA4OTQ5NQ==",
      "updated_at" : "2019-11-27T13:35:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559089495",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> For those interested in helping out, please review #17369, #17537 and #17261.\r\n\r\nWould add #17373. You can also check https://github.com/bitcoin/bitcoin/projects/12 for the latest list of descriptor wallet pull requests.\r\n",
      "created_at" : "2019-11-27T13:50:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-559095239",
      "id" : 559095239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTA5NTIzOQ==",
      "updated_at" : "2019-11-27T13:50:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559095239",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-12-16T21:54:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-566261304",
      "id" : 566261304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NjI2MTMwNA==",
      "updated_at" : "2019-12-16T21:54:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/566261304",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r360091041"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360091041"
         }
      },
      "author_association" : "MEMBER",
      "body" : "little confused; the commit says `cs_main` and I see `cs_wallet` being deleted. Fix commit message?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-19T20:21:09Z",
      "diff_hunk" : "@@ -141,8 +141,7 @@ void TestGUI(interfaces::Node& node)\n     {\n         auto spk_man = wallet->GetLegacyScriptPubKeyMan();\n         auto locked_chain = wallet->chain().lock();\n-        LOCK(wallet->cs_wallet);\n-        AssertLockHeld(spk_man->cs_wallet);\n+        LOCK2(wallet->cs_wallet, spk_man->cs_KeyStore);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r360091041",
      "id" : 360091041,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MDA5MTA0MQ==",
      "original_commit_id" : "a5e0d06d4b39acbf902428ec2b38caeca9f2a618",
      "original_position" : 6,
      "path" : "src/qt/test/wallettests.cpp",
      "position" : 9,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/360091041",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362041319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362041319"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`s/can/is sufficient/` since the wallet itself may actually be unable to sign(watchonly)\r\n\r\n",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T17:03:49Z",
      "diff_hunk" : "@@ -196,8 +196,16 @@ class ScriptPubKeyMan\n \n     virtual int64_t GetTimeFirstKey() const { return 0; }\n \n-    //! Return address metadata\n     virtual const CKeyMetadata* GetMetadata(const CTxDestination& dest) const { return nullptr; }\n+\n+    virtual const SigningProvider* GetSigningProvider(const CScript& script) const { return nullptr; }\n+\n+    /** Whether this ScriptPubKeyMan can provide a SigningProvider (via GetSigningProvider) that, combined with\n+      * sigdata, can produce a valid signature.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362041319",
      "id" : 362041319,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA0MTMxOQ==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 10,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : 10,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362041319",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362043257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362043257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Let's make a constant like `CWalletTx::ABANDON_HASH`, or rename that one since it's the same constant...",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T17:12:03Z",
      "diff_hunk" : "@@ -491,6 +519,11 @@ const CKeyMetadata* LegacyScriptPubKeyMan::GetMetadata(const CTxDestination& des\n     return nullptr;\n }\n \n+uint256 LegacyScriptPubKeyMan::GetID() const\n+{\n+    return uint256S(\"0000000000000000000000000000000000000000000000000000000000000001\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362043257",
      "id" : 362043257,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA0MzI1Nw==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 41,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362043257",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362045611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362045611"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For keypool checks do we want to assert that these are only being used for LegacySPKM?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T17:20:52Z",
      "diff_hunk" : "@@ -3073,7 +3076,7 @@ size_t CWallet::KeypoolCountExternalKeys()\n     AssertLockHeld(cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362045611",
      "id" : 362045611,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA0NTYxMQ==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 123,
      "path" : "src/wallet/wallet.cpp",
      "position" : 243,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362045611",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362049084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362049084"
         }
      },
      "author_association" : "MEMBER",
      "body" : "could make this function roughly half the code by making a temporary reference `spk_managers` which points to internal(or not) based on the argument, which avoids code copying/pasting.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T17:35:02Z",
      "diff_hunk" : "@@ -4056,24 +4061,81 @@ bool CWallet::Unlock(const CKeyingMaterial& vMasterKeyIn, bool accept_no_keys)\n     return true;\n }\n \n+std::set<ScriptPubKeyMan*> CWallet::GetActiveScriptPubKeyMans() const\n+{\n+    std::set<ScriptPubKeyMan*> spk_mans;\n+    for (bool internal : {false, true}) {\n+        for (OutputType t : OUTPUT_TYPES) {\n+            auto spk_man = GetScriptPubKeyMan(t, internal);\n+            if (spk_man) {\n+                spk_mans.insert(spk_man);\n+            }\n+        }\n+    }\n+    return spk_mans;\n+}\n+\n+ScriptPubKeyMan* CWallet::GetScriptPubKeyMan(const OutputType& type, bool internal) const\n+{\n+    if (internal) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362049084",
      "id" : 362049084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA0OTA4NA==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 250,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362049084",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362050426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362050426"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/De-duplicates and returns all ScriptPubKeyMans/Returns all unique ScriptPubKeyMans/",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T17:40:34Z",
      "diff_hunk" : "@@ -1116,13 +1123,22 @@ class CWallet final : public WalletStorage, private interfaces::Chain::Notificat\n         LogPrintf((\"%s \" + fmt).c_str(), GetDisplayName(), parameters...);\n     };\n \n+    //! De-duplicates and returns all ScriptPubKeyMans in m_internal_spk_managers and m_external_spk_managers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362050426",
      "id" : 362050426,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA1MDQyNg==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 18,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362050426",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362057697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362057697"
         }
      },
      "author_association" : "MEMBER",
      "body" : "comment is now out of date",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T18:12:41Z",
      "diff_hunk" : "@@ -3297,21 +3297,21 @@ UniValue signrawtransactionwithwallet(const JSONRPCRequest& request)\n     // Parse the prevtxs array\n     ParsePrevouts(request.params[1], nullptr, coins);\n \n-    std::set<const SigningProvider*> providers;\n+    std::set<std::shared_ptr<SigningProvider>> providers;\n     for (const std::pair<COutPoint, Coin> coin_pair : coins) {\n-        const SigningProvider* provider = pwallet->GetSigningProvider(coin_pair.second.out.scriptPubKey);\n+        std::unique_ptr<SigningProvider> provider = pwallet->GetSigningProvider(coin_pair.second.out.scriptPubKey);\n         if (provider) {\n             providers.insert(std::move(provider));\n         }\n     }\n     if (providers.size() == 0) {\n         // When there are no available providers, use DUMMY_SIGNING_PROVIDER so we can check if the tx is complete",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362057697",
      "id" : 362057697,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA1NzY5Nw==",
      "original_commit_id" : "16c36d85811631c166b9be4c562e8f69cdfcfdb4",
      "original_position" : 41,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 334908426,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362057697",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362068459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362068459"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is that not stated by the \"combined with sigdata\" part?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T18:59:39Z",
      "diff_hunk" : "@@ -196,8 +196,16 @@ class ScriptPubKeyMan\n \n     virtual int64_t GetTimeFirstKey() const { return 0; }\n \n-    //! Return address metadata\n     virtual const CKeyMetadata* GetMetadata(const CTxDestination& dest) const { return nullptr; }\n+\n+    virtual const SigningProvider* GetSigningProvider(const CScript& script) const { return nullptr; }\n+\n+    /** Whether this ScriptPubKeyMan can provide a SigningProvider (via GetSigningProvider) that, combined with\n+      * sigdata, can produce a valid signature.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362068459",
      "id" : 362068459,
      "in_reply_to_id" : 362041319,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA2ODQ1OQ==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 10,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : 10,
      "pull_request_review_id" : 337205922,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362068459",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362078899"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362078899"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, they still apply to other SPKMs.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T19:44:18Z",
      "diff_hunk" : "@@ -3073,7 +3076,7 @@ size_t CWallet::KeypoolCountExternalKeys()\n     AssertLockHeld(cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362078899",
      "id" : 362078899,
      "in_reply_to_id" : 362045611,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA3ODg5OQ==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 123,
      "path" : "src/wallet/wallet.cpp",
      "position" : 243,
      "pull_request_review_id" : 337218258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362078899",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081526"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081526"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T19:56:03Z",
      "diff_hunk" : "@@ -141,8 +141,7 @@ void TestGUI(interfaces::Node& node)\n     {\n         auto spk_man = wallet->GetLegacyScriptPubKeyMan();\n         auto locked_chain = wallet->chain().lock();\n-        LOCK(wallet->cs_wallet);\n-        AssertLockHeld(spk_man->cs_wallet);\n+        LOCK2(wallet->cs_wallet, spk_man->cs_KeyStore);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081526",
      "id" : 362081526,
      "in_reply_to_id" : 360091041,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA4MTUyNg==",
      "original_commit_id" : "a5e0d06d4b39acbf902428ec2b38caeca9f2a618",
      "original_position" : 6,
      "path" : "src/qt/test/wallettests.cpp",
      "position" : 9,
      "pull_request_review_id" : 337221504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081526",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since this value of one is used in a couple of other places,  I've added a commit refactor those uses and adding a constant `UINT256_ONE` to uint256.h. So we use that constant and so do the other places that use that value of one.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T19:57:01Z",
      "diff_hunk" : "@@ -491,6 +519,11 @@ const CKeyMetadata* LegacyScriptPubKeyMan::GetMetadata(const CTxDestination& des\n     return nullptr;\n }\n \n+uint256 LegacyScriptPubKeyMan::GetID() const\n+{\n+    return uint256S(\"0000000000000000000000000000000000000000000000000000000000000001\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081740",
      "id" : 362081740,
      "in_reply_to_id" : 362043257,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA4MTc0MA==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 41,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 337221734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081740",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081774"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T19:57:11Z",
      "diff_hunk" : "@@ -4056,24 +4061,81 @@ bool CWallet::Unlock(const CKeyingMaterial& vMasterKeyIn, bool accept_no_keys)\n     return true;\n }\n \n+std::set<ScriptPubKeyMan*> CWallet::GetActiveScriptPubKeyMans() const\n+{\n+    std::set<ScriptPubKeyMan*> spk_mans;\n+    for (bool internal : {false, true}) {\n+        for (OutputType t : OUTPUT_TYPES) {\n+            auto spk_man = GetScriptPubKeyMan(t, internal);\n+            if (spk_man) {\n+                spk_mans.insert(spk_man);\n+            }\n+        }\n+    }\n+    return spk_mans;\n+}\n+\n+ScriptPubKeyMan* CWallet::GetScriptPubKeyMan(const OutputType& type, bool internal) const\n+{\n+    if (internal) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081774",
      "id" : 362081774,
      "in_reply_to_id" : 362049084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA4MTc3NA==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 250,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 337221775,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081774",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081802"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T19:57:18Z",
      "diff_hunk" : "@@ -1116,13 +1123,22 @@ class CWallet final : public WalletStorage, private interfaces::Chain::Notificat\n         LogPrintf((\"%s \" + fmt).c_str(), GetDisplayName(), parameters...);\n     };\n \n+    //! De-duplicates and returns all ScriptPubKeyMans in m_internal_spk_managers and m_external_spk_managers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081802",
      "id" : 362081802,
      "in_reply_to_id" : 362050426,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA4MTgwMg==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 18,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 337221812,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081802",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081945"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081945"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Updated",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2019-12-30T19:57:59Z",
      "diff_hunk" : "@@ -3297,21 +3297,21 @@ UniValue signrawtransactionwithwallet(const JSONRPCRequest& request)\n     // Parse the prevtxs array\n     ParsePrevouts(request.params[1], nullptr, coins);\n \n-    std::set<const SigningProvider*> providers;\n+    std::set<std::shared_ptr<SigningProvider>> providers;\n     for (const std::pair<COutPoint, Coin> coin_pair : coins) {\n-        const SigningProvider* provider = pwallet->GetSigningProvider(coin_pair.second.out.scriptPubKey);\n+        std::unique_ptr<SigningProvider> provider = pwallet->GetSigningProvider(coin_pair.second.out.scriptPubKey);\n         if (provider) {\n             providers.insert(std::move(provider));\n         }\n     }\n     if (providers.size() == 0) {\n         // When there are no available providers, use DUMMY_SIGNING_PROVIDER so we can check if the tx is complete",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362081945",
      "id" : 362081945,
      "in_reply_to_id" : 362057697,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjA4MTk0NQ==",
      "original_commit_id" : "16c36d85811631c166b9be4c562e8f69cdfcfdb4",
      "original_position" : 41,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 337221988,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362081945",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/17261/commits/db4a741d30a44ebd975c905cef0f9578c816e8f2\r\n\r\nupdates are as requested",
      "created_at" : "2020-01-03T21:29:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-570703818",
      "id" : 570703818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MDcwMzgxOA==",
      "updated_at" : "2020-01-03T21:29:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570703818",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362967421"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362967421"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If I think of better wording I'll let you know.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-03T21:29:52Z",
      "diff_hunk" : "@@ -196,8 +196,16 @@ class ScriptPubKeyMan\n \n     virtual int64_t GetTimeFirstKey() const { return 0; }\n \n-    //! Return address metadata\n     virtual const CKeyMetadata* GetMetadata(const CTxDestination& dest) const { return nullptr; }\n+\n+    virtual const SigningProvider* GetSigningProvider(const CScript& script) const { return nullptr; }\n+\n+    /** Whether this ScriptPubKeyMan can provide a SigningProvider (via GetSigningProvider) that, combined with\n+      * sigdata, can produce a valid signature.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r362967421",
      "id" : 362967421,
      "in_reply_to_id" : 362041319,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2NzQyMQ==",
      "original_commit_id" : "9020b9f0b19fc6caef17bec92c8d41c8a28b4ba9",
      "original_position" : 10,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : 10,
      "pull_request_review_id" : 338283291,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/362967421",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "85901a994ea00a6fa9af44eeaed418b968829f26 `Refactor: Allow LegacyScriptPubKeyMan to be null` breaks `sethdseed` for blank wallets, because of the `EnsureLegacyScriptPubKeyMan` check. None of the tests catch this.\r\n\r\nI'm also seeing `\"keypoololdest\": 1578118989` (instead of `0`) for blank wallets, not when created, but after a restart. That may be a pre-existing issue.",
      "created_at" : "2020-01-04T06:24:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-570761068",
      "id" : 570761068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MDc2MTA2OA==",
      "updated_at" : "2020-01-04T06:24:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570761068",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363021586"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363021586"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit a92b77e82f4905e8a0568b3de6b53345356dbf58 (\"List output types in an array in order to be iterated over\"):\r\n\r\nNit: leave newline at end of file (or am I misreading this diff?)",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T07:35:47Z",
      "diff_hunk" : "@@ -47,4 +50,3 @@ std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key);\n CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore, const CScript& script, OutputType);\n \n #endif // BITCOIN_OUTPUTTYPE_H\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363021586",
      "id" : 363021586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzAyMTU4Ng==",
      "original_commit_id" : "a92b77e82f4905e8a0568b3de6b53345356dbf58",
      "original_position" : 21,
      "path" : "src/outputtype.h",
      "position" : 21,
      "pull_request_review_id" : 338341981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363021586",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363021754"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363021754"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit 50145c8ad53c604713689ae587badbb0a473471a (\"Store p2sh scripts in AddAndGetDestinationForScript\"):\r\n\r\nWhy add brackets?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T07:40:42Z",
      "diff_hunk" : "@@ -80,22 +80,30 @@ CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore,\n {\n     // Add script to keystore\n     keystore.AddCScript(script);\n+    ScriptHash sh(script);\n     // Note that scripts over 520 bytes are not yet supported.\n     switch (type) {\n-    case OutputType::LEGACY:\n-        return ScriptHash(script);\n+    case OutputType::LEGACY: {\n+        keystore.AddCScript(GetScriptForDestination(sh));\n+        return sh;\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363021754",
      "id" : 363021754,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzAyMTc1NA==",
      "original_commit_id" : "50145c8ad53c604713689ae587badbb0a473471a",
      "original_position" : 12,
      "path" : "src/outputtype.cpp",
      "position" : null,
      "pull_request_review_id" : 338341981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363021754",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363021900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363021900"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit 50145c8ad53c604713689ae587badbb0a473471a (\"Store p2sh scripts in AddAndGetDestinationForScript\"):\r\n\r\nI think this could use a comment explaining why the `sh` dest is added to `keystore` when `witprog` is not solvable.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T07:43:34Z",
      "diff_hunk" : "@@ -80,22 +80,30 @@ CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore,\n {\n     // Add script to keystore\n     keystore.AddCScript(script);\n+    ScriptHash sh(script);\n     // Note that scripts over 520 bytes are not yet supported.\n     switch (type) {\n-    case OutputType::LEGACY:\n-        return ScriptHash(script);\n+    case OutputType::LEGACY: {\n+        keystore.AddCScript(GetScriptForDestination(sh));\n+        return sh;\n+    }\n     case OutputType::P2SH_SEGWIT:\n     case OutputType::BECH32: {\n         CTxDestination witdest = WitnessV0ScriptHash(script);\n         CScript witprog = GetScriptForDestination(witdest);\n         // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n-        if (!IsSolvable(keystore, witprog)) return ScriptHash(script);\n+        if (!IsSolvable(keystore, witprog)) {\n+            keystore.AddCScript(GetScriptForDestination(sh));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363021900",
      "id" : 363021900,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzAyMTkwMA==",
      "original_commit_id" : "50145c8ad53c604713689ae587badbb0a473471a",
      "original_position" : 20,
      "path" : "src/outputtype.cpp",
      "position" : 28,
      "pull_request_review_id" : 338341981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363021900",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363027478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363027478"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is fine while there's only one (legacy) scriptPubKeyManager, but with descriptor wallets this would cause the seed to be reset three times. In the current descriptor wallet PR there's a separate code branch for descriptor wallets: https://github.com/bitcoin/bitcoin/pull/16528/files#diff-b2bb174788c7409b671c46ccc86034bdR580\r\n\r\nInstead of a loop, maybe just call the `LegacyScriptPubkeyMan`?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T10:22:07Z",
      "diff_hunk" : "@@ -572,9 +573,9 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Unlock(strWalletPassphrase);\n \n         // if we are using HD, replace the HD seed with a new one\n-        if (auto spk_man = m_spk_man.get()) {\n-            if (spk_man->IsHDEnabled()) {\n-                if (!spk_man->SetupGeneration(true)) {\n+        for (const auto& spk_man_pair : m_spk_managers) {\n+            if (spk_man_pair.second->IsHDEnabled()) {\n+                if (!spk_man_pair.second->SetupGeneration(true)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363027478",
      "id" : 363027478,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzAyNzQ3OA==",
      "original_commit_id" : "426ca7efd8e407e340610325de87c722db0def33",
      "original_position" : 28,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 338347019,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363027478",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm also seeing \"keypoololdest\": 1578118989 (instead of 0) for blank wallets, not when created, but after a restart. That may be a pre-existing issue.\r\n\r\nFrom my reading of the code that's what it's \"supposed\" to do when the keypool is empty on master; it will just use current clock time. Help should probably detail that.",
      "created_at" : "2020-01-04T19:06:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-570810888",
      "id" : 570810888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MDgxMDg4OA==",
      "updated_at" : "2020-01-04T19:06:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570810888",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363058528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363058528"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not simply make this `extern uint256 UINT256_ONE;` instead of a function? ",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T22:31:53Z",
      "diff_hunk" : "@@ -144,4 +144,6 @@ inline uint256 uint256S(const std::string& str)\n     return rv;\n }\n \n+uint256& UINT256_ONE();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363058528",
      "id" : 363058528,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1ODUyOA==",
      "original_commit_id" : "20a5c56d2f958bdd62e75bf9a5b4b3b95a7c2235",
      "original_position" : 4,
      "path" : "src/uint256.h",
      "position" : 4,
      "pull_request_review_id" : 338341981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363058528",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363059635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363059635"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This looks like debug leftovers.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T23:06:39Z",
      "diff_hunk" : "@@ -1876,7 +1876,7 @@ static UniValue keypoolrefill(const JSONRPCRequest& request)\n     pwallet->TopUpKeyPool(kpSize);\n \n     if (pwallet->GetKeyPoolSize() < kpSize) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Error refreshing keypool.\");\n+        throw JSONRPCError(RPC_WALLET_ERROR, strprintf(\"Error refreshing keypool. %d\", pwallet->GetKeyPoolSize()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363059635",
      "id" : 363059635,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA1OTYzNQ==",
      "original_commit_id" : "15488dfc3efefe8d1517237b99fb0e778ed675fc",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 338373239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363059635",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363060157"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363060157"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Call it `m_spk_man` and avoid `a(a)` â `m_spk_man(spk_man)` ?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-04T23:22:52Z",
      "diff_hunk" : "@@ -442,4 +442,20 @@ class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProv\n     std::set<CKeyID> GetKeys() const override;\n };\n \n+/** Wraps a LegacyScriptPubKeyMan so that it can be returned in a new unique_ptr */\n+class LegacySigningProvider : public SigningProvider\n+{\n+private:\n+    const LegacyScriptPubKeyMan& spk_man;\n+public:\n+    LegacySigningProvider(const LegacyScriptPubKeyMan& spk_man) : spk_man(spk_man) {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363060157",
      "id" : 363060157,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA2MDE1Nw==",
      "original_commit_id" : "ea610db77da7f4ffa67792e31e8f824add178c33",
      "original_position" : 28,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : null,
      "pull_request_review_id" : 338373239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363060157",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@instagibbs \r\n> From my reading of the code that's what it's \"supposed\" to do when the keypool is empty on master; it will just use current clock time. Help should probably detail that.\r\n\r\nI think the problem here is that it is `0` before restart, not that it uses current clock time.",
      "created_at" : "2020-01-05T00:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-570832827",
      "id" : 570832827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MDgzMjgyNw==",
      "updated_at" : "2020-01-05T00:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570832827",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK db4a741d30a44ebd975c905cef0f9578c816e8f2\r\n\r\nTested on top of signet patch. Received and sent funds. All seems to work a-OK. (Did not test GUI.)",
      "created_at" : "2020-01-05T01:18:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-570834864",
      "id" : 570834864,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MDgzNDg2NA==",
      "updated_at" : "2020-01-05T01:18:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570834864",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363425800"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363425800"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There's an extra newline that's being removed.\r\n\r\nTechnically an unnecessary change, but oh well.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T18:42:19Z",
      "diff_hunk" : "@@ -47,4 +50,3 @@ std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key);\n CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore, const CScript& script, OutputType);\n \n #endif // BITCOIN_OUTPUTTYPE_H\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363425800",
      "id" : 363425800,
      "in_reply_to_id" : 363021586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQyNTgwMA==",
      "original_commit_id" : "a92b77e82f4905e8a0568b3de6b53345356dbf58",
      "original_position" : 21,
      "path" : "src/outputtype.h",
      "position" : 21,
      "pull_request_review_id" : 338819302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363425800",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363430301"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363430301"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Clang didn't like it. Something about static initialization order resulting in a potential uninitialized object access. There's a failed travis build you can check for the error.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T18:52:44Z",
      "diff_hunk" : "@@ -144,4 +144,6 @@ inline uint256 uint256S(const std::string& str)\n     return rv;\n }\n \n+uint256& UINT256_ONE();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363430301",
      "id" : 363430301,
      "in_reply_to_id" : 363058528,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzMDMwMQ==",
      "original_commit_id" : "20a5c56d2f958bdd62e75bf9a5b4b3b95a7c2235",
      "original_position" : 4,
      "path" : "src/uint256.h",
      "position" : 4,
      "pull_request_review_id" : 338825153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363430301",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436115"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T19:06:28Z",
      "diff_hunk" : "@@ -572,9 +573,9 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Unlock(strWalletPassphrase);\n \n         // if we are using HD, replace the HD seed with a new one\n-        if (auto spk_man = m_spk_man.get()) {\n-            if (spk_man->IsHDEnabled()) {\n-                if (!spk_man->SetupGeneration(true)) {\n+        for (const auto& spk_man_pair : m_spk_managers) {\n+            if (spk_man_pair.second->IsHDEnabled()) {\n+                if (!spk_man_pair.second->SetupGeneration(true)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436115",
      "id" : 363436115,
      "in_reply_to_id" : 363027478,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzNjExNQ==",
      "original_commit_id" : "426ca7efd8e407e340610325de87c722db0def33",
      "original_position" : 28,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 338832698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436115",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436223"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436223"
         }
      },
      "author_association" : "MEMBER",
      "body" : "They were needed in a previous iteration. Removed.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T19:06:42Z",
      "diff_hunk" : "@@ -80,22 +80,30 @@ CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore,\n {\n     // Add script to keystore\n     keystore.AddCScript(script);\n+    ScriptHash sh(script);\n     // Note that scripts over 520 bytes are not yet supported.\n     switch (type) {\n-    case OutputType::LEGACY:\n-        return ScriptHash(script);\n+    case OutputType::LEGACY: {\n+        keystore.AddCScript(GetScriptForDestination(sh));\n+        return sh;\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436223",
      "id" : 363436223,
      "in_reply_to_id" : 363021754,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzNjIyMw==",
      "original_commit_id" : "50145c8ad53c604713689ae587badbb0a473471a",
      "original_position" : 12,
      "path" : "src/outputtype.cpp",
      "position" : null,
      "pull_request_review_id" : 338832817,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436223",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436265"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T19:06:48Z",
      "diff_hunk" : "@@ -80,22 +80,30 @@ CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore,\n {\n     // Add script to keystore\n     keystore.AddCScript(script);\n+    ScriptHash sh(script);\n     // Note that scripts over 520 bytes are not yet supported.\n     switch (type) {\n-    case OutputType::LEGACY:\n-        return ScriptHash(script);\n+    case OutputType::LEGACY: {\n+        keystore.AddCScript(GetScriptForDestination(sh));\n+        return sh;\n+    }\n     case OutputType::P2SH_SEGWIT:\n     case OutputType::BECH32: {\n         CTxDestination witdest = WitnessV0ScriptHash(script);\n         CScript witprog = GetScriptForDestination(witdest);\n         // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n-        if (!IsSolvable(keystore, witprog)) return ScriptHash(script);\n+        if (!IsSolvable(keystore, witprog)) {\n+            keystore.AddCScript(GetScriptForDestination(sh));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436265",
      "id" : 363436265,
      "in_reply_to_id" : 363021900,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzNjI2NQ==",
      "original_commit_id" : "50145c8ad53c604713689ae587badbb0a473471a",
      "original_position" : 20,
      "path" : "src/outputtype.cpp",
      "position" : 28,
      "pull_request_review_id" : 338832858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436265",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T19:06:52Z",
      "diff_hunk" : "@@ -1876,7 +1876,7 @@ static UniValue keypoolrefill(const JSONRPCRequest& request)\n     pwallet->TopUpKeyPool(kpSize);\n \n     if (pwallet->GetKeyPoolSize() < kpSize) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Error refreshing keypool.\");\n+        throw JSONRPCError(RPC_WALLET_ERROR, strprintf(\"Error refreshing keypool. %d\", pwallet->GetKeyPoolSize()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436303",
      "id" : 363436303,
      "in_reply_to_id" : 363059635,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzNjMwMw==",
      "original_commit_id" : "15488dfc3efefe8d1517237b99fb0e778ed675fc",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 338832899,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436303",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-06T19:06:57Z",
      "diff_hunk" : "@@ -442,4 +442,20 @@ class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProv\n     std::set<CKeyID> GetKeys() const override;\n };\n \n+/** Wraps a LegacyScriptPubKeyMan so that it can be returned in a new unique_ptr */\n+class LegacySigningProvider : public SigningProvider\n+{\n+private:\n+    const LegacyScriptPubKeyMan& spk_man;\n+public:\n+    LegacySigningProvider(const LegacyScriptPubKeyMan& spk_man) : spk_man(spk_man) {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363436342",
      "id" : 363436342,
      "in_reply_to_id" : 363060157,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQzNjM0Mg==",
      "original_commit_id" : "ea610db77da7f4ffa67792e31e8f824add178c33",
      "original_position" : 28,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : null,
      "pull_request_review_id" : 338832949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363436342",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed the sethdseed problem.\r\n\r\nEdit: I changed the fix so that it also has the `import*` RPCs work with blank wallets too.",
      "created_at" : "2020-01-06T19:07:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-571268922",
      "id" : 571268922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTI2ODkyMg==",
      "updated_at" : "2020-01-06T19:26:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571268922",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363561777"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363561777"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh, I misread then. +1 removing extra NL.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-07T01:50:49Z",
      "diff_hunk" : "@@ -47,4 +50,3 @@ std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key);\n CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore, const CScript& script, OutputType);\n \n #endif // BITCOIN_OUTPUTTYPE_H\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363561777",
      "id" : 363561777,
      "in_reply_to_id" : 363021586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU2MTc3Nw==",
      "original_commit_id" : "a92b77e82f4905e8a0568b3de6b53345356dbf58",
      "original_position" : 21,
      "path" : "src/outputtype.h",
      "position" : 21,
      "pull_request_review_id" : 338994112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363561777",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363562064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363562064"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Weird. :/ I've seen that once before too. Sounds like a compiler bug tbh.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-07T01:52:17Z",
      "diff_hunk" : "@@ -144,4 +144,6 @@ inline uint256 uint256S(const std::string& str)\n     return rv;\n }\n \n+uint256& UINT256_ONE();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363562064",
      "id" : 363562064,
      "in_reply_to_id" : 363058528,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU2MjA2NA==",
      "original_commit_id" : "20a5c56d2f958bdd62e75bf9a5b4b3b95a7c2235",
      "original_position" : 4,
      "path" : "src/uint256.h",
      "position" : 4,
      "pull_request_review_id" : 338994441,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363562064",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review re-ACK b5afe999206ee6982fd555b490fae6dd50a1c0c3\r\n\r\nI assume we don't want to  add a `LegacyScriptPubKeyMan` to a (future) descriptor based wallet. That's working correctly I believe, because  `EnsureLegacyScriptPubKeyMan(*wallet, true)` calls `SetupLegacyScriptPubKeyMan` which fails if any other `ScriptPubKeyMan` types exist. But I would prefer if `EnsureLegacyScriptPubKeyMan` checked this directly.",
      "created_at" : "2020-01-07T07:29:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-571469973",
      "id" : 571469973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTQ2OTk3Mw==",
      "updated_at" : "2020-01-07T07:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571469973",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is b5afe999206ee6982fd555b490fae6dd50a1c0c3 not meant to be squashed into d8a3c7830e1292c8b7d52b5a02fdd1d2459de3ef?",
      "created_at" : "2020-01-07T08:27:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-571486095",
      "id" : 571486095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTQ4NjA5NQ==",
      "updated_at" : "2020-01-07T08:30:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571486095",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363792482"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363792482"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Are we not going to replace the seed for descriptor wallets?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-07T15:08:16Z",
      "diff_hunk" : "@@ -569,7 +574,7 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Unlock(strWalletPassphrase);\n \n         // if we are using HD, replace the HD seed with a new one\n-        if (auto spk_man = m_spk_man.get()) {\n+        if (auto spk_man = GetLegacyScriptPubKeyMan()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363792482",
      "id" : 363792482,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzc5MjQ4Mg==",
      "original_commit_id" : "b5afe999206ee6982fd555b490fae6dd50a1c0c3",
      "original_position" : 58,
      "path" : "src/wallet/wallet.cpp",
      "position" : 58,
      "pull_request_review_id" : 339295117,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363792482",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> EnsureLegacyScriptPubKeyMan(*wallet, true) calls SetupLegacyScriptPubKeyMan which fails if any other ScriptPubKeyMan types exist\r\n\r\nIt'll hit asserts, right? Yeah I'd rather things be explicitly checked and handled instead if possible.",
      "created_at" : "2020-01-07T15:18:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-571630835",
      "id" : 571630835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTYzMDgzNQ==",
      "updated_at" : "2020-01-07T15:18:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571630835",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363851907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363851907"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, descriptor wallets have a different way of doing it.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-07T17:05:38Z",
      "diff_hunk" : "@@ -569,7 +574,7 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Unlock(strWalletPassphrase);\n \n         // if we are using HD, replace the HD seed with a new one\n-        if (auto spk_man = m_spk_man.get()) {\n+        if (auto spk_man = GetLegacyScriptPubKeyMan()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r363851907",
      "id" : 363851907,
      "in_reply_to_id" : 363792482,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg1MTkwNw==",
      "original_commit_id" : "b5afe999206ee6982fd555b490fae6dd50a1c0c3",
      "original_position" : 58,
      "path" : "src/wallet/wallet.cpp",
      "position" : 58,
      "pull_request_review_id" : 339375414,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/363851907",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I assume we don't want to add a `LegacyScriptPubKeyMan` to a (future) descriptor based wallet. That's working correctly I believe, because `EnsureLegacyScriptPubKeyMan(*wallet, true)` calls `SetupLegacyScriptPubKeyMan` which fails if any other `ScriptPubKeyMan` types exist. But I would prefer if `EnsureLegacyScriptPubKeyMan` checked this directly.\r\n\r\nWhat do you mean by \"checked this directly\"? Have the same wallet flag check or something else?\r\n\r\n> It'll hit asserts, right? Yeah I'd rather things be explicitly checked and handled instead if possible.\r\n\r\nThe descriptor wallet PR checks the wallet flag and will return early if the descriptor wallet flag is set. No asserts.\r\n\r\n> Is [b5afe99](https://github.com/bitcoin/bitcoin/commit/b5afe999206ee6982fd555b490fae6dd50a1c0c3) not meant to be squashed into [d8a3c78](https://github.com/bitcoin/bitcoin/commit/d8a3c7830e1292c8b7d52b5a02fdd1d2459de3ef)?\r\n\r\nI guess it can be. Hadn't really noticed that.\r\n\r\n\r\n",
      "created_at" : "2020-01-07T17:11:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-571681499",
      "id" : 571681499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTY4MTQ5OQ==",
      "updated_at" : "2020-01-07T17:11:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571681499",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The descriptor wallet PR checks the wallet flag and will return early if the descriptor wallet flag is set. No asserts.\r\n\r\nIt's good that `EnsureLegacyScriptPubKeyMan` never gets called for a descriptor wallet, but it would be better if it explicitly checked that there is no other `ScriptPubKeyMan` out there. Currently it only checks that there's no `LegacyScriptPubKeyMan` out there, but then hit an assert later on if it wasn't the only `ScriptPubKeyMan`.",
      "created_at" : "2020-01-08T06:26:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-571909471",
      "id" : 571909471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTkwOTQ3MQ==",
      "updated_at" : "2020-01-08T06:26:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571909471",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > The descriptor wallet PR checks the wallet flag and will return early if the descriptor wallet flag is set. No asserts.\r\n> \r\n> It's good that `EnsureLegacyScriptPubKeyMan` never gets called for a descriptor wallet, but it would be better if it explicitly checked that there is no other `ScriptPubKeyMan` out there. Currently it only checks that there's no `LegacyScriptPubKeyMan` out there, but then hit an assert later on if it wasn't the only `ScriptPubKeyMan`.\r\n\r\nI don't quite understand what you want me to do here. We don't have any other `ScriptPubKeyMan`s yet, so we can't check if it is something else. And if there are other `ScriptPubKeyMan`s in a wallet that has a `LegacyScriptPubKeyMan`, then it definitely should assert and crash because that's not a safe or consistent state for the wallet to be in.",
      "created_at" : "2020-01-10T17:34:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-573131579",
      "id" : 573131579,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MzEzMTU3OQ==",
      "updated_at" : "2020-01-10T17:34:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/573131579",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Instead of:\r\n```cpp\r\n LegacyScriptPubKeyMan* spk_man = nullptr;\r\n if (also_create) {\r\n     spk_man = wallet.GetOrCreateLegacyScriptPubKeyMan();\r\n } else {\r\n     spk_man = wallet.GetLegacyScriptPubKeyMan();\r\n }\r\n```\r\n\r\nThis seems more clear:\r\n```cpp\r\n LegacyScriptPubKeyMan* spk_man = wallet.GetLegacyScriptPubKeyMan();\r\n if (!spk_man && also_create) {\r\n     spk_man = wallet.GetOrCreateLegacyScriptPubKeyMan();\r\n }\r\n```\r\n\r\nAnd instead of:\r\n```cpp\r\nvoid CWallet::SetupLegacyScriptPubKeyMan()\r\n{\r\n    if (m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty()) {\r\n        auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this));\r\n```\r\n\r\nTry:\r\n```cpp\r\nvoid CWallet::SetupLegacyScriptPubKeyMan()\r\n{\r\n    if(m_internal_spk_managers.count(OutputType::LEGACY) > 0) {\r\n        return;\r\n    }\r\n    assert(m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty());\r\n    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this));\r\n```\r\n\r\n(this top `if` statement might be avoidable by having a separate `CreateLegacyScriptPubKeyMan()`)",
      "created_at" : "2020-01-15T02:20:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-574464622",
      "id" : 574464622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDQ2NDYyMg==",
      "updated_at" : "2020-01-15T02:20:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574464622",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2020-01-15T06:03:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-574510200",
      "id" : 574510200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDUxMDIwMA==",
      "updated_at" : "2020-01-15T06:03:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574510200",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.\r\n\r\n@Sjors Done. I changed your suggestion for `SetupLegacyScriptPubKeyMan` to check whether any of the `*spk_managers` maps has a `ScriptPubKeyMan`.",
      "created_at" : "2020-01-15T17:40:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-574771817",
      "id" : 574771817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDc3MTgxNw==",
      "updated_at" : "2020-01-15T17:40:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574771817",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367091529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367091529"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What's the general usage for this new boolean? I see it's set to true for most importing, but not for `addmultisigaddress` for instance. A guiding comment on usage would be helpful.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T20:30:17Z",
      "diff_hunk" : "@@ -124,9 +124,12 @@ void EnsureWalletIsUnlocked(const CWallet* pwallet)\n     }\n }\n \n-LegacyScriptPubKeyMan& EnsureLegacyScriptPubKeyMan(CWallet& wallet)\n+LegacyScriptPubKeyMan& EnsureLegacyScriptPubKeyMan(CWallet& wallet, bool also_create)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367091529",
      "id" : 367091529,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA5MTUyOQ==",
      "original_commit_id" : "cb90d1b6f9d92fb8aaabb76ff129e001aae89e6b",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 6,
      "pull_request_review_id" : 343500995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367091529",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367094287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367094287"
         }
      },
      "author_association" : "MEMBER",
      "body" : "micro-nit: wsh is a bit of a minsnomer, it's `sh_w`, or something",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T20:36:43Z",
      "diff_hunk" : "@@ -80,22 +80,30 @@ CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore,\n {\n     // Add script to keystore\n     keystore.AddCScript(script);\n+    ScriptHash sh(script);\n     // Note that scripts over 520 bytes are not yet supported.\n     switch (type) {\n     case OutputType::LEGACY:\n-        return ScriptHash(script);\n+        keystore.AddCScript(GetScriptForDestination(sh));\n+        return sh;\n     case OutputType::P2SH_SEGWIT:\n     case OutputType::BECH32: {\n         CTxDestination witdest = WitnessV0ScriptHash(script);\n         CScript witprog = GetScriptForDestination(witdest);\n         // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n-        if (!IsSolvable(keystore, witprog)) return ScriptHash(script);\n+        if (!IsSolvable(keystore, witprog)) {\n+            // Since the wsh is invalid, add and return the sh instead.\n+            keystore.AddCScript(GetScriptForDestination(sh));\n+            return sh;\n+        }\n         // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n         keystore.AddCScript(witprog);\n         if (type == OutputType::BECH32) {\n             return witdest;\n         } else {\n-            return ScriptHash(witprog);\n+            ScriptHash wsh = ScriptHash(witprog);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367094287",
      "id" : 367094287,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA5NDI4Nw==",
      "original_commit_id" : "28cea92c227b7fdcc1b39caf5bfc9efb8b63141d",
      "original_position" : 28,
      "path" : "src/outputtype.cpp",
      "position" : null,
      "pull_request_review_id" : 343500995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367094287",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367095280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367095280"
         }
      },
      "author_association" : "MEMBER",
      "body" : "any way to actually use the constant rather than referring to it and hoping the value never changes?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T20:39:10Z",
      "diff_hunk" : "@@ -384,7 +384,7 @@ bool LegacyScriptPubKeyMan::Upgrade(int prev_version, std::string& error)\n         hd_upgrade = true;\n     }\n     // Upgrade to HD chain split if necessary\n-    if (m_storage.CanSupportFeature(FEATURE_HD_SPLIT)) {\n+    if (m_storage.CanSupportFeature(FEATURE_HD_SPLIT) && hdChain.nVersion < 2 /* VERSION_HD_CHAIN_SPLIT */) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367095280",
      "id" : 367095280,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA5NTI4MA==",
      "original_commit_id" : "c5842c171b9f94411ae826ac6214ec819f8bdda1",
      "original_position" : 5,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 343500995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367095280",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367165331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367165331"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a comment.\r\n\r\nIt's to be used for RPCs that make a blank wallet no longer blank. `addmultisigaddress` wasn't doing this before, although I suppose the expected behavior of it with a blank wallet isn't really known (i.e. what do we want it to do?).",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T23:44:19Z",
      "diff_hunk" : "@@ -124,9 +124,12 @@ void EnsureWalletIsUnlocked(const CWallet* pwallet)\n     }\n }\n \n-LegacyScriptPubKeyMan& EnsureLegacyScriptPubKeyMan(CWallet& wallet)\n+LegacyScriptPubKeyMan& EnsureLegacyScriptPubKeyMan(CWallet& wallet, bool also_create)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367165331",
      "id" : 367165331,
      "in_reply_to_id" : 367091529,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE2NTMzMQ==",
      "original_commit_id" : "cb90d1b6f9d92fb8aaabb76ff129e001aae89e6b",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 6,
      "pull_request_review_id" : 343595873,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367165331",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367165372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367165372"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T23:44:28Z",
      "diff_hunk" : "@@ -80,22 +80,30 @@ CTxDestination AddAndGetDestinationForScript(FillableSigningProvider& keystore,\n {\n     // Add script to keystore\n     keystore.AddCScript(script);\n+    ScriptHash sh(script);\n     // Note that scripts over 520 bytes are not yet supported.\n     switch (type) {\n     case OutputType::LEGACY:\n-        return ScriptHash(script);\n+        keystore.AddCScript(GetScriptForDestination(sh));\n+        return sh;\n     case OutputType::P2SH_SEGWIT:\n     case OutputType::BECH32: {\n         CTxDestination witdest = WitnessV0ScriptHash(script);\n         CScript witprog = GetScriptForDestination(witdest);\n         // Check if the resulting program is solvable (i.e. doesn't use an uncompressed key)\n-        if (!IsSolvable(keystore, witprog)) return ScriptHash(script);\n+        if (!IsSolvable(keystore, witprog)) {\n+            // Since the wsh is invalid, add and return the sh instead.\n+            keystore.AddCScript(GetScriptForDestination(sh));\n+            return sh;\n+        }\n         // Add the redeemscript, so that P2WSH and P2SH-P2WSH outputs are recognized as ours.\n         keystore.AddCScript(witprog);\n         if (type == OutputType::BECH32) {\n             return witdest;\n         } else {\n-            return ScriptHash(witprog);\n+            ScriptHash wsh = ScriptHash(witprog);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367165372",
      "id" : 367165372,
      "in_reply_to_id" : 367094287,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE2NTM3Mg==",
      "original_commit_id" : "28cea92c227b7fdcc1b39caf5bfc9efb8b63141d",
      "original_position" : 28,
      "path" : "src/outputtype.cpp",
      "position" : null,
      "pull_request_review_id" : 343595940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367165372",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367165559"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367165559"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes. the proper header is being imported now, so no need for this hack. Changed it.\r\n\r\nAlso, the value should never change because its persisted to wallet files and changing it would break backwards compatibility.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T23:45:13Z",
      "diff_hunk" : "@@ -384,7 +384,7 @@ bool LegacyScriptPubKeyMan::Upgrade(int prev_version, std::string& error)\n         hd_upgrade = true;\n     }\n     // Upgrade to HD chain split if necessary\n-    if (m_storage.CanSupportFeature(FEATURE_HD_SPLIT)) {\n+    if (m_storage.CanSupportFeature(FEATURE_HD_SPLIT) && hdChain.nVersion < 2 /* VERSION_HD_CHAIN_SPLIT */) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367165559",
      "id" : 367165559,
      "in_reply_to_id" : 367095280,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE2NTU1OQ==",
      "original_commit_id" : "c5842c171b9f94411ae826ac6214ec819f8bdda1",
      "original_position" : 5,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 343596188,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367165559",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367166645"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367166645"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hm, yeah it would be a weird non-blank wallet. I'm fine as-is for now.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-15T23:49:13Z",
      "diff_hunk" : "@@ -124,9 +124,12 @@ void EnsureWalletIsUnlocked(const CWallet* pwallet)\n     }\n }\n \n-LegacyScriptPubKeyMan& EnsureLegacyScriptPubKeyMan(CWallet& wallet)\n+LegacyScriptPubKeyMan& EnsureLegacyScriptPubKeyMan(CWallet& wallet, bool also_create)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367166645",
      "id" : 367166645,
      "in_reply_to_id" : 367091529,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE2NjY0NQ==",
      "original_commit_id" : "cb90d1b6f9d92fb8aaabb76ff129e001aae89e6b",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 6,
      "pull_request_review_id" : 343597483,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367166645",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/17261/commits/bbf50a006410bd3e56908983664c5a1a0b475c2c",
      "created_at" : "2020-01-15T23:49:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-574911385",
      "id" : 574911385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDkxMTM4NQ==",
      "updated_at" : "2020-01-15T23:49:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574911385",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK bbf50a006410bd3e56908983664c5a1a0b475c2c",
      "created_at" : "2020-01-16T12:38:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-575133163",
      "id" : 575133163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NTEzMzE2Mw==",
      "updated_at" : "2020-01-16T12:38:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/575133163",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2020-01-17T01:49:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-575428392",
      "id" : 575428392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NTQyODM5Mg==",
      "updated_at" : "2020-01-17T01:49:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/575428392",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2020-01-17T02:10:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-575432835",
      "id" : 575432835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NTQzMjgzNQ==",
      "updated_at" : "2020-01-17T02:10:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/575432835",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK c985aea9be828c0a49eb81f5a5d54b42147ef20c; just a rebase with merged #17843 content dropped.",
      "created_at" : "2020-01-17T09:12:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-575540707",
      "id" : 575540707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NTU0MDcwNw==",
      "updated_at" : "2020-01-17T09:12:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/575540707",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367837892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367837892"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment doesn't make sense referring to \"all of these are empty\" now.\r\n\r\nEDIT: it makes slightly more sense after later commit, but it would be better to explicitly say \"all the SPK managers are empty\"",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T09:23:31Z",
      "diff_hunk" : "@@ -2993,10 +2993,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n         }\n     }\n \n+    // This wallet is in its first run if all of these are empty and this isn't blank or no privkeys",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367837892",
      "id" : 367837892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNzg5Mg==",
      "original_commit_id" : "6c953ae84f4272d036602d5c7cf19456d9f39863",
      "original_position" : 4,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344450791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367837892",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367840645"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367840645"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't understand the purpose of this change, more explanation pls?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T09:29:52Z",
      "diff_hunk" : "@@ -1056,7 +1055,7 @@ bool LegacyScriptPubKeyMan::NewKeyPool()\n         if (!TopUp()) {\n             return false;\n         }\n-        WalletLogPrintf(\"LegacyScriptPubKeyMan::NewKeyPool rewrote keypool\\n\");\n+        WalletLogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367840645",
      "id" : 367840645,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0MDY0NQ==",
      "original_commit_id" : "0c4cb4956003c83706c812dfd699f5b22ab58d44",
      "original_position" : 24,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 344450791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367840645",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367855853"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367855853"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This assert seems a little unnecessary considering the if-statement above",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T10:02:52Z",
      "diff_hunk" : "@@ -4135,7 +4188,26 @@ LegacyScriptPubKeyMan* CWallet::GetOrCreateLegacyScriptPubKeyMan()\n \n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n-    if (!m_spk_man) m_spk_man = MakeUnique<LegacyScriptPubKeyMan>(*this);\n+    if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty()) {\n+        return;\n+    }\n+\n+    assert(m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367855853",
      "id" : 367855853,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg1NTg1Mw==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 312,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344450791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367855853",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367859220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367859220"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In what case would these asserts ever be hit, directly following the setup code? Is there a scenario you can think of?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T10:10:27Z",
      "diff_hunk" : "@@ -4135,7 +4188,26 @@ LegacyScriptPubKeyMan* CWallet::GetOrCreateLegacyScriptPubKeyMan()\n \n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n-    if (!m_spk_man) m_spk_man = MakeUnique<LegacyScriptPubKeyMan>(*this);\n+    if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty()) {\n+        return;\n+    }\n+\n+    assert(m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty());\n+    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this));\n+    for (const auto& type : OUTPUT_TYPES) {\n+        m_internal_spk_managers[type] = spk_manager.get();\n+        m_external_spk_managers[type] = spk_manager.get();\n+    }\n+    m_spk_managers[spk_manager->GetID()] = std::move(spk_manager);\n+\n+    // These all need to exist and be the same\n+    assert(m_internal_spk_managers.count(OutputType::LEGACY) > 0);\n+    ScriptPubKeyMan* spk_man = m_internal_spk_managers.at(OutputType::LEGACY);\n+    for (const auto& type : OUTPUT_TYPES) {\n+        assert(m_internal_spk_managers.at(type) == spk_man);\n+        assert(m_external_spk_managers.at(type) == spk_man);\n+    }\n+    assert(m_spk_managers.size() == 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367859220",
      "id" : 367859220,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg1OTIyMA==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 327,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344450791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367859220",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367861313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367861313"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why only check the \"active\" SPKMans here?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T10:15:17Z",
      "diff_hunk" : "@@ -3906,7 +3910,7 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n         // No need to read and scan block if block was created before\n         // our wallet birthday (as adjusted for block time variability)\n         Optional<int64_t> time_first_key;\n-        if (auto spk_man = walletInstance->m_spk_man.get()) {\n+        for (auto spk_man : walletInstance->GetActiveScriptPubKeyMans()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367861313",
      "id" : 367861313,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg2MTMxMw==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 210,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344450791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367861313",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943118"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Edited the comment.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T13:48:51Z",
      "diff_hunk" : "@@ -2993,10 +2993,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n         }\n     }\n \n+    // This wallet is in its first run if all of these are empty and this isn't blank or no privkeys",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943118",
      "id" : 367943118,
      "in_reply_to_id" : 367837892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MzExOA==",
      "original_commit_id" : "6c953ae84f4272d036602d5c7cf19456d9f39863",
      "original_position" : 4,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344587768,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943118",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943252"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943252"
         }
      },
      "author_association" : "MEMBER",
      "body" : "On further examination, that entire commit doesn't make sense, so I've dropped it.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T13:49:09Z",
      "diff_hunk" : "@@ -1056,7 +1055,7 @@ bool LegacyScriptPubKeyMan::NewKeyPool()\n         if (!TopUp()) {\n             return false;\n         }\n-        WalletLogPrintf(\"LegacyScriptPubKeyMan::NewKeyPool rewrote keypool\\n\");\n+        WalletLogPrintf(\"CWallet::NewKeyPool rewrote keypool\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943252",
      "id" : 367943252,
      "in_reply_to_id" : 367840645,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MzI1Mg==",
      "original_commit_id" : "0c4cb4956003c83706c812dfd699f5b22ab58d44",
      "original_position" : 24,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 344587973,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943252",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943290"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T13:49:16Z",
      "diff_hunk" : "@@ -4135,7 +4188,26 @@ LegacyScriptPubKeyMan* CWallet::GetOrCreateLegacyScriptPubKeyMan()\n \n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n-    if (!m_spk_man) m_spk_man = MakeUnique<LegacyScriptPubKeyMan>(*this);\n+    if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty()) {\n+        return;\n+    }\n+\n+    assert(m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943290",
      "id" : 367943290,
      "in_reply_to_id" : 367855853,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MzI5MA==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 312,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344588036,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943290",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943387"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943387"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think so. I've removed these asserts.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T13:49:29Z",
      "diff_hunk" : "@@ -4135,7 +4188,26 @@ LegacyScriptPubKeyMan* CWallet::GetOrCreateLegacyScriptPubKeyMan()\n \n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n-    if (!m_spk_man) m_spk_man = MakeUnique<LegacyScriptPubKeyMan>(*this);\n+    if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty()) {\n+        return;\n+    }\n+\n+    assert(m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty());\n+    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this));\n+    for (const auto& type : OUTPUT_TYPES) {\n+        m_internal_spk_managers[type] = spk_manager.get();\n+        m_external_spk_managers[type] = spk_manager.get();\n+    }\n+    m_spk_managers[spk_manager->GetID()] = std::move(spk_manager);\n+\n+    // These all need to exist and be the same\n+    assert(m_internal_spk_managers.count(OutputType::LEGACY) > 0);\n+    ScriptPubKeyMan* spk_man = m_internal_spk_managers.at(OutputType::LEGACY);\n+    for (const auto& type : OUTPUT_TYPES) {\n+        assert(m_internal_spk_managers.at(type) == spk_man);\n+        assert(m_external_spk_managers.at(type) == spk_man);\n+    }\n+    assert(m_spk_managers.size() == 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943387",
      "id" : 367943387,
      "in_reply_to_id" : 367859220,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MzM4Nw==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 327,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344588193,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943387",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943443"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed to check all.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T13:49:36Z",
      "diff_hunk" : "@@ -3906,7 +3910,7 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n         // No need to read and scan block if block was created before\n         // our wallet birthday (as adjusted for block time variability)\n         Optional<int64_t> time_first_key;\n-        if (auto spk_man = walletInstance->m_spk_man.get()) {\n+        for (auto spk_man : walletInstance->GetActiveScriptPubKeyMans()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r367943443",
      "id" : 367943443,
      "in_reply_to_id" : 367861313,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MzQ0Mw==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 210,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344588259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/367943443",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368050039"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368050039"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think a better solution would be to have this return a bool, but that's an improvement we can make in the future as it's really a belt-and-suspenders check. And also have this check sameness check somewhere.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T17:25:29Z",
      "diff_hunk" : "@@ -4135,7 +4188,26 @@ LegacyScriptPubKeyMan* CWallet::GetOrCreateLegacyScriptPubKeyMan()\n \n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n-    if (!m_spk_man) m_spk_man = MakeUnique<LegacyScriptPubKeyMan>(*this);\n+    if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty()) {\n+        return;\n+    }\n+\n+    assert(m_internal_spk_managers.empty() && m_external_spk_managers.empty() && m_spk_managers.empty());\n+    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this));\n+    for (const auto& type : OUTPUT_TYPES) {\n+        m_internal_spk_managers[type] = spk_manager.get();\n+        m_external_spk_managers[type] = spk_manager.get();\n+    }\n+    m_spk_managers[spk_manager->GetID()] = std::move(spk_manager);\n+\n+    // These all need to exist and be the same\n+    assert(m_internal_spk_managers.count(OutputType::LEGACY) > 0);\n+    ScriptPubKeyMan* spk_man = m_internal_spk_managers.at(OutputType::LEGACY);\n+    for (const auto& type : OUTPUT_TYPES) {\n+        assert(m_internal_spk_managers.at(type) == spk_man);\n+        assert(m_external_spk_managers.at(type) == spk_man);\n+    }\n+    assert(m_spk_managers.size() == 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368050039",
      "id" : 368050039,
      "in_reply_to_id" : 367859220,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODA1MDAzOQ==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 327,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344728927,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368050039",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368059107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368059107"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not sure this was needed, but it's a safe change",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-17T17:48:46Z",
      "diff_hunk" : "@@ -3906,7 +3910,7 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n         // No need to read and scan block if block was created before\n         // our wallet birthday (as adjusted for block time variability)\n         Optional<int64_t> time_first_key;\n-        if (auto spk_man = walletInstance->m_spk_man.get()) {\n+        for (auto spk_man : walletInstance->GetActiveScriptPubKeyMans()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368059107",
      "id" : 368059107,
      "in_reply_to_id" : 367861313,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODA1OTEwNw==",
      "original_commit_id" : "b4c48fbd5602f57e9bc59de83c6c256fdd0f2d71",
      "original_position" : 210,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 344741034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368059107",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 126d6945e38cdc47b1227cdacfaa456714efcdf5",
      "created_at" : "2020-01-19T11:23:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-575994760",
      "id" : 575994760,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NTk5NDc2MA==",
      "updated_at" : "2020-01-19T11:23:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/575994760",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368691383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368691383"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Doesn't defining the value of non-primitive constants in the header file potentially cause linker issues in C++ (or duplication, as this literal data will be included in multiple files)?. I think it's better to only declare the variable here then initialize the value in the `cpp`.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-20T19:03:02Z",
      "diff_hunk" : "@@ -27,6 +28,8 @@ enum class OutputType {\n     CHANGE_AUTO,\n };\n \n+const std::array<OutputType, 3> OUTPUT_TYPES = {OutputType::LEGACY, OutputType::P2SH_SEGWIT, OutputType::BECH32};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368691383",
      "id" : 368691383,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODY5MTM4Mw==",
      "original_commit_id" : "126d6945e38cdc47b1227cdacfaa456714efcdf5",
      "original_position" : 12,
      "path" : "src/outputtype.h",
      "position" : null,
      "pull_request_review_id" : 345490342,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368691383",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368739441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368739441"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think this would cause any issues since it's const. I also haven't seen any linker warnings or errors about this. I think there would only be some duplication, but isn't that the same for any constant global variable that is defined in a header?",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-20T22:01:51Z",
      "diff_hunk" : "@@ -27,6 +28,8 @@ enum class OutputType {\n     CHANGE_AUTO,\n };\n \n+const std::array<OutputType, 3> OUTPUT_TYPES = {OutputType::LEGACY, OutputType::P2SH_SEGWIT, OutputType::BECH32};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368739441",
      "id" : 368739441,
      "in_reply_to_id" : 368691383,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODczOTQ0MQ==",
      "original_commit_id" : "126d6945e38cdc47b1227cdacfaa456714efcdf5",
      "original_position" : 12,
      "path" : "src/outputtype.h",
      "position" : null,
      "pull_request_review_id" : 345549285,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368739441",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368766440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368766440"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you are fine trusting the word of [Microsoft](https://docs.microsoft.com/en-us/cpp/cpp/const-cpp?view=vs-2019),\r\n\r\n> In C, constant values default to external linkage, so they can appear only in source files. In C++, constant values default to internal linkage, which allows them to appear in header files.\r\n\r\nAnother source said C++ does not normally create storage for consts, which I assume means they work like #defines, in which case there shouldn't be wasted duplicate data entries either.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-21T00:28:25Z",
      "diff_hunk" : "@@ -27,6 +28,8 @@ enum class OutputType {\n     CHANGE_AUTO,\n };\n \n+const std::array<OutputType, 3> OUTPUT_TYPES = {OutputType::LEGACY, OutputType::P2SH_SEGWIT, OutputType::BECH32};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r368766440",
      "id" : 368766440,
      "in_reply_to_id" : 368691383,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc2NjQ0MA==",
      "original_commit_id" : "126d6945e38cdc47b1227cdacfaa456714efcdf5",
      "original_position" : 12,
      "path" : "src/outputtype.h",
      "position" : null,
      "pull_request_review_id" : 345581846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/368766440",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r370316391"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370316391"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you replace the {...} initializer with a function call, and then have the constant in multiple translation units, the function will get called once for each.",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-23T19:39:20Z",
      "diff_hunk" : "@@ -27,6 +28,8 @@ enum class OutputType {\n     CHANGE_AUTO,\n };\n \n+const std::array<OutputType, 3> OUTPUT_TYPES = {OutputType::LEGACY, OutputType::P2SH_SEGWIT, OutputType::BECH32};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r370316391",
      "id" : 370316391,
      "in_reply_to_id" : 368691383,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMxNjM5MQ==",
      "original_commit_id" : "126d6945e38cdc47b1227cdacfaa456714efcdf5",
      "original_position" : 12,
      "path" : "src/outputtype.h",
      "position" : null,
      "pull_request_review_id" : 347557798,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370316391",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r370377070"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370377070"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I moved the initialization to the cpp file",
      "commit_id" : "3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-23T21:58:46Z",
      "diff_hunk" : "@@ -27,6 +28,8 @@ enum class OutputType {\n     CHANGE_AUTO,\n };\n \n+const std::array<OutputType, 3> OUTPUT_TYPES = {OutputType::LEGACY, OutputType::P2SH_SEGWIT, OutputType::BECH32};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#discussion_r370377070",
      "id" : 370377070,
      "in_reply_to_id" : 368691383,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM3NzA3MA==",
      "original_commit_id" : "126d6945e38cdc47b1227cdacfaa456714efcdf5",
      "original_position" : 12,
      "path" : "src/outputtype.h",
      "position" : null,
      "pull_request_review_id" : 347636494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17261",
      "updated_at" : "2020-01-23T21:58:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370377070",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK https://github.com/bitcoin/bitcoin/pull/17261/commits/3f373659d732a5b1e5fdc692a45b2b8179f66bec",
      "created_at" : "2020-01-23T22:15:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-577903160",
      "id" : 577903160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NzkwMzE2MA==",
      "updated_at" : "2020-01-23T22:15:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577903160",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 3f373659d732a5b1e5fdc692a45b2b8179f66bec (it still compiles on macOS after https://github.com/bitcoin/bitcoin/pull/17261#discussion_r370377070)",
      "created_at" : "2020-01-24T08:38:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-578040227",
      "id" : 578040227,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3ODA0MDIyNw==",
      "updated_at" : "2020-01-24T08:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/578040227",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested re-ACK 3f373659d732a5b1e5fdc692a45b2b8179f66bec\r\n\r\nI think this is ready to go in",
      "created_at" : "2020-01-30T04:20:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17261#issuecomment-580076232",
      "id" : 580076232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17261",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MDA3NjIzMg==",
      "updated_at" : "2020-01-30T04:20:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/580076232",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   }
]
