[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20476#discussion_r532467597"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20476"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/532467597"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/emfd_create/memfd_create",
      "commit_id" : "afc20c234fb995f8baaf68fef57e4ebaacf2c070",
      "created_at" : "2020-11-30T09:50:40Z",
      "diff_hunk" : "@@ -0,0 +1,88 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+'''\n+Test script for symbol-check.py\n+'''\n+import subprocess\n+import unittest\n+\n+def call_symbol_check(cc, source, executable, options):\n+    subprocess.run([cc,source,'-o',executable] + options, check=True)\n+    p = subprocess.run(['./contrib/devtools/symbol-check.py',executable], stdout=subprocess.PIPE, universal_newlines=True)\n+    return (p.returncode, p.stdout.rstrip())\n+\n+def get_machine(cc):\n+    p = subprocess.run([cc,'-dumpmachine'], stdout=subprocess.PIPE, universal_newlines=True)\n+    return p.stdout.rstrip()\n+\n+class TestSymbolChecks(unittest.TestCase):\n+    def test_ELF(self):\n+        source = 'test1.c'\n+        executable = 'test1'\n+        cc = 'gcc'\n+\n+        # there's no way to do this test for RISC-V at the moment; bionic's libc is 2.27\n+        # and we allow all symbols from 2.27.\n+        if 'riscv' in get_machine(cc):\n+            self.skipTest(\"test not available for RISC-V\")\n+\n+        # emfd_create was introduced in GLIBC 2.27, so is newer than the upper limit of",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20476#discussion_r532467597",
      "id" : 532467597,
      "line" : 31,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ2NzU5Nw==",
      "original_commit_id" : "afc20c234fb995f8baaf68fef57e4ebaacf2c070",
      "original_line" : 31,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "contrib/devtools/test-symbol-check.py",
      "position" : 31,
      "pull_request_review_id" : 540746442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20476",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-30T09:54:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/532467597",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I added a test for macOS if you wanted to pull that in as well: https://github.com/fanquake/bitcoin/commit/9e6e59b01e1e4e3325bab59cf97139b462b42651.",
      "created_at" : "2020-12-02T10:04:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20476#issuecomment-737127210",
      "id" : 737127210,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20476",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNzEyNzIxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-02T10:04:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737127210",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit f17e8ba3a17b6516a1b1fb7f45d506a339e99f90<br>(master) | commit 58120ed529ce61f9e09bdfe52fcebad03950b874<br>(master and this pull) |\n|--|--|--|\n| bitcoin-core-linux-22-res.yml | [`6f0b719c784eefe4...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-core-linux-22-res.yml) | [`55a00a6e623803dc...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-core-linux-22-res.yml) |\n| bitcoin-core-osx-22-res.yml | [`e4d32d3c0842638c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-core-osx-22-res.yml) | [`aa14c0ca3ce99331...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-core-osx-22-res.yml) |\n| bitcoin-core-win-22-res.yml | [`56db8c3b379f620c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-core-win-22-res.yml) | [`4b619f8a164f9262...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-core-win-22-res.yml) |\n| *-aarch64-linux-gnu-debug.tar.gz | [`4c8388193af8a61e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-aarch64-linux-gnu-debug.tar.gz) | [`8c9337c0cdd2cc9f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`1835e3b9ae2ec936...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-aarch64-linux-gnu.tar.gz) | [`bf60e150e5709440...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`fbc6bac8916983ea...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-arm-linux-gnueabihf-debug.tar.gz) | [`eacb8039b37bc5e5...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`e7cfe2f2cdffaf3b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-arm-linux-gnueabihf.tar.gz) | [`1e0db55d171e6a30...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-arm-linux-gnueabihf.tar.gz) |\n| *-osx-unsigned.dmg | [`e781b8468665316d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-osx-unsigned.dmg) | [`f9304c7e594bf969...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-osx-unsigned.dmg) |\n| *-osx64.tar.gz | [`35c3793544745d8a...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-osx64.tar.gz) | [`1d5170d14bf24676...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-osx64.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`941c0cea0da48faa...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-riscv64-linux-gnu-debug.tar.gz) | [`4ee7bfca69772615...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`37c303be1611e51c...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-riscv64-linux-gnu.tar.gz) | [`5ae21c1c4998aadf...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-riscv64-linux-gnu.tar.gz) |\n| *-win64-debug.zip | [`66de372db25058b4...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-win64-debug.zip) | [`b54ed786ad75109b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-win64-debug.zip) |\n| *-win64-setup-unsigned.exe | [`4b6c333acd3f9cba...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-win64-setup-unsigned.exe) | [`2405901747f545b6...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-win64-setup-unsigned.exe) |\n| *-win64.zip | [`1173f4205ab9a460...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-win64.zip) | [`e3f2e95699e8e89d...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-win64.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`816ba486d4fe35ab...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-x86_64-linux-gnu-debug.tar.gz) | [`a845822e431f9626...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`b4ce0ce1137cc11f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b-x86_64-linux-gnu.tar.gz) | [`7570a844384fe303...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`161acebcdfc94552...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/bitcoin-f17e8ba3a17b.tar.gz) | [`106717564a806f45...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-58120ed529ce.tar.gz) |\n| linux-build.log | [`f43d56b96440d9eb...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/linux-build.log) | [`58e03fbd38ecfa64...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/linux-build.log) |\n| osx-build.log | [`2b6266bbc3875f3e...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/osx-build.log) | [`2d9018917095b586...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/osx-build.log) |\n| win-build.log | [`8d1eb99e0ca0cb32...`](https://drahtbot.space/gitian/bitcoin/bitcoin/f17e8ba3a17b6516a1b1fb7f45d506a339e99f90/win-build.log) | [`e7e1c919de0a5c1b...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/win-build.log) |\n| bitcoin-core-linux-22-res.yml.diff |  | [`3cf2077e2009bce0...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-core-linux-22-res.yml.diff) |\n| bitcoin-core-osx-22-res.yml.diff |  | [`d54f1aad8f823e10...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-core-osx-22-res.yml.diff) |\n| bitcoin-core-win-22-res.yml.diff |  | [`4fcda02450718fe2...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/bitcoin-core-win-22-res.yml.diff) |\n| linux-build.log.diff |  | [`8ced788bea660ef8...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/linux-build.log.diff) |\n| osx-build.log.diff |  | [`b3e0bc4bcfb475dc...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/osx-build.log.diff) |\n| win-build.log.diff |  | [`c240bd4de2f025e3...`](https://drahtbot.space/gitian/bitcoin/bitcoin/58120ed529ce61f9e09bdfe52fcebad03950b874/win-build.log.diff) |\n\n",
      "created_at" : "2020-12-02T13:28:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20476#issuecomment-737230065",
      "id" : 737230065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20476",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNzIzMDA2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-02T13:28:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737230065",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I added a test for macOS if you wanted to pull that in as well: fanquake@9e6e59b.\r\n\r\nThanks ! I didn't mention macOS in the OP because I (mistakenly) thought we only had a symbol check for windows and linux. Good to have a test for that too.\r\n\r\nI've fixed the comment and cherry-picked that commit.\r\n",
      "created_at" : "2020-12-03T11:17:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20476#issuecomment-737877434",
      "id" : 737877434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20476",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNzg3NzQzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-03T11:17:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737877434",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "(close/ropen was to test the IRC bot)",
      "created_at" : "2020-12-03T23:13:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20476#issuecomment-738441003",
      "id" : 738441003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20476",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODQ0MTAwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-03T23:13:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738441003",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
