[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The onion` rn2rjwuxfjzvjfkg2hmrduc2n7tjjpasrlianfskdhhhhfqqvf7kliyd.onion 8333 `is not reachable as of now over Tor, AFAICS \r\n\r\nCan u give some more hints, i.e. is ur node still running, from where u grabbed this onion address that u suppose is assigned to your running Tor instance and that is assigned to your  bitcoin node?\r\n\r\nAnd most important, before u encountered that problem, did u restart or had to for any reasons had to restart your Bitcoin node with that configuration in the last week or so?",
      "created_at" : "2020-11-21T10:04:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-731557401",
      "id" : 731557401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTU1NzQwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-21T10:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731557401",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Correct, there is currently no service reachable behind that onion address, as all connections between Tor and Core fail\r\n\r\nThe node is still running and up to date, I have connected it to a second node over the local network. Services on top of it (EPS, LND) are also running, LND uses the same Tor Socks proxy at the same port.\r\n\r\nThe problem appeared as I was updating Ubuntu, below you can find a list of packages that were installed. I later also restarted Core and the computer.\r\n\r\n```\r\n2020-11-20 13:44:11 install libdouble-conversion1:amd64 <none> 2.0.1-4ubuntu1\r\n2020-11-20 13:44:11 install libqt5core5a:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:12 install libqt5dbus5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:12 install libqt5network5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:12 install libxcb-xinerama0:amd64 <none> 1.13-2~ubuntu18.04\r\n2020-11-20 13:44:12 install libqt5gui5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:13 install libqt5widgets5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:13 install libqt5svg5:amd64 <none> 5.9.5-0ubuntu1\r\n2020-11-20 13:44:13 install libqt5xml5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:13 install libqt5designer5:amd64 <none> 5.9.5-0ubuntu1\r\n2020-11-20 13:44:13 install libqt5sql5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:14 install libqt5help5:amd64 <none> 5.9.5-0ubuntu1\r\n2020-11-20 13:44:14 install libqt5printsupport5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:14 install libqt5sql5-sqlite:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:14 install libqt5test5:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:14 install libsecp256k1-0:amd64 <none> 0.1~20170810-1\r\n2020-11-20 13:44:14 install python3-sip:amd64 <none> 4.19.7+dfsg-1ubuntu0.1\r\n2020-11-20 13:44:14 install python3-pyqt5:amd64 <none> 5.10.1+dfsg-1ubuntu2\r\n2020-11-20 13:44:15 install qt5-gtk-platformtheme:amd64 <none> 5.9.5+dfsg-0ubuntu2.5\r\n2020-11-20 13:44:15 install qttranslations5-l10n:all <none> 5.9.5-0ubuntu1\r\n```",
      "created_at" : "2020-11-21T10:12:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-731558161",
      "id" : 731558161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTU1ODE2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-21T10:12:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731558161",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/2104935?v=4",
         "events_url" : "https://api.github.com/users/Liongrass/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Liongrass/followers",
         "following_url" : "https://api.github.com/users/Liongrass/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Liongrass/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Liongrass",
         "id" : 2104935,
         "login" : "Liongrass",
         "node_id" : "MDQ6VXNlcjIxMDQ5MzU=",
         "organizations_url" : "https://api.github.com/users/Liongrass/orgs",
         "received_events_url" : "https://api.github.com/users/Liongrass/received_events",
         "repos_url" : "https://api.github.com/users/Liongrass/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Liongrass/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Liongrass/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Liongrass"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The problem appeared as I was updating Ubuntu,\r\n\r\nYup reboot, but probably unrelated to Ubuntu. could u tell me if u created the onion in torrc or with your bitcoins nodes call to the service api of your Tor instance?\r\n\r\nWould u mind to do some tests and not mind if we create a new onion? \r\nAnd I.e could u use` netcat -vv 127.0.0.1 9050 `and tell me if u have a connect?\r\nedit@saibato\r\nDid i read correct,  LND running and has Tor inbound outbound?",
      "created_at" : "2020-11-21T10:23:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-731559344",
      "id" : 731559344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTU1OTM0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-21T10:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731559344",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks for the netcat tip, this appears to be a Tor issue, I will investigate in that direction and close this issue.\r\nAlthough that does raise the issue of how LND is connecting through tor...",
      "created_at" : "2020-11-21T10:30:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-731560129",
      "id" : 731560129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTU2MDEyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-21T10:30:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731560129",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/2104935?v=4",
         "events_url" : "https://api.github.com/users/Liongrass/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Liongrass/followers",
         "following_url" : "https://api.github.com/users/Liongrass/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Liongrass/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Liongrass",
         "id" : 2104935,
         "login" : "Liongrass",
         "node_id" : "MDQ6VXNlcjIxMDQ5MzU=",
         "organizations_url" : "https://api.github.com/users/Liongrass/orgs",
         "received_events_url" : "https://api.github.com/users/Liongrass/received_events",
         "repos_url" : "https://api.github.com/users/Liongrass/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Liongrass/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Liongrass/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Liongrass"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Btw \r\n\r\n> , I will investigate in that direction\r\n\r\nTyi ur node is now up again .with that onion.",
      "created_at" : "2020-11-21T10:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-731561713",
      "id" : 731561713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTU2MTcxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-21T10:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731561713",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yes, turned out to be a torrc config error. Sorry about the trouble, thanks for your help!",
      "created_at" : "2020-11-21T12:10:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-731570538",
      "id" : 731570538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTU3MDUzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-21T12:10:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731570538",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/2104935?v=4",
         "events_url" : "https://api.github.com/users/Liongrass/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Liongrass/followers",
         "following_url" : "https://api.github.com/users/Liongrass/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Liongrass/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Liongrass",
         "id" : 2104935,
         "login" : "Liongrass",
         "node_id" : "MDQ6VXNlcjIxMDQ5MzU=",
         "organizations_url" : "https://api.github.com/users/Liongrass/orgs",
         "received_events_url" : "https://api.github.com/users/Liongrass/received_events",
         "repos_url" : "https://api.github.com/users/Liongrass/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Liongrass/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Liongrass/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Liongrass"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "what was the fix ihave the same issue?\r\n",
      "created_at" : "2021-04-05T07:51:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-813255019",
      "id" : 813255019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzI1NTAxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T07:51:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813255019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/36900242?v=4",
         "events_url" : "https://api.github.com/users/eurobuddha/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eurobuddha/followers",
         "following_url" : "https://api.github.com/users/eurobuddha/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eurobuddha/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eurobuddha",
         "id" : 36900242,
         "login" : "eurobuddha",
         "node_id" : "MDQ6VXNlcjM2OTAwMjQy",
         "organizations_url" : "https://api.github.com/users/eurobuddha/orgs",
         "received_events_url" : "https://api.github.com/users/eurobuddha/received_events",
         "repos_url" : "https://api.github.com/users/eurobuddha/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eurobuddha/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eurobuddha/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eurobuddha"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I have exactly the same problem. I want to connect and accept connections using tor and running everything in docker.\r\n\r\nMy config looks like:\r\n```\r\nmainnet=1\r\n[main]\r\nprinttoconsole=1\r\nrpcallowip=::/0\r\nrpcbind=0.0.0.0:8332\r\nrpcauth=xxx\r\nblockfilterindex=1\r\nmainnet=1\r\nwhitelist=0.0.0.0/0\r\nrpcallowip=0.0.0.0/0\r\nzmqpubrawblock=tcp://0.0.0.0:28332\r\nzmqpubrawtx=tcp://0.0.0.0:28333\r\nlisten=1\r\ndiscover=0\r\ntorpassword=xxx\r\nonlynet=onion\r\nexternalip=xxx.onion\r\ntorcontrol=172.21.0.3:9051\r\nproxy=172.21.0.3:9050\r\n```\r\nWherein `172.21.0.3` is an ip to a docker container which is running tor 0.4.4 .\r\n\r\nWhat I want is a setup wherein only tor is used for inbound as well as outbound connections and run everything in docker.\r\n\r\nSomehow it constantly gives the error:\r\n`connect() to 127.0.0.1:9050 failed after select(): Connection refused (111)`\r\n",
      "created_at" : "2021-04-05T18:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20439#issuecomment-813558181",
      "id" : 813558181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzU1ODE4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T18:24:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813558181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2139439?v=4",
         "events_url" : "https://api.github.com/users/rsdrsd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rsdrsd/followers",
         "following_url" : "https://api.github.com/users/rsdrsd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rsdrsd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rsdrsd",
         "id" : 2139439,
         "login" : "rsdrsd",
         "node_id" : "MDQ6VXNlcjIxMzk0Mzk=",
         "organizations_url" : "https://api.github.com/users/rsdrsd/orgs",
         "received_events_url" : "https://api.github.com/users/rsdrsd/received_events",
         "repos_url" : "https://api.github.com/users/rsdrsd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rsdrsd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rsdrsd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rsdrsd"
      }
   }
]
