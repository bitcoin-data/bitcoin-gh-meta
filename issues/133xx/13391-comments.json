[
   {
      "author_association" : "MEMBER",
      "body" : "Tend towards NACK:\r\n- Changes to `tinyformat.h` should be made upstream.\r\n- A mistake in log message formatting should not crash the entire process. This was the case in the past, and resulted in near DoS vulnerabilities. The current state where a warning is logged instead is on purpose.\r\n\r\nThis basically reverts b651270cd6bfdd6d7c4acf04d1a00c03bf09f03a (#9963) and I disagree with that strongly.",
      "created_at" : "2018-06-04T13:52:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13391#issuecomment-394362166",
      "id" : 394362166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13391",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM2MjE2Ng==",
      "updated_at" : "2018-06-04T13:53:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394362166",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj Thanks for quick feedback. I've now reverted the `tinyformat.h` change to tinyformat code from upstream (the `noexcept` addition).\r\n\r\nCould you describe the issue that resulted in a near DoS vulnerability? As I read it #9963 was more about developer ergonomics? :-)\r\n\r\nCould a middle ground be to make `strprintf(Ã¢ÂÂ¦)` `noexcept` and keep `LogPrintf(...)` as is?\r\n\r\nNone of the callers of `strprintf(Ã¢ÂÂ¦)` handle `tinyformat::format_error` from what I can see. Also, it is the `strprintf(Ã¢ÂÂ¦)` calls that create all the noise when I'm analyzing uncaught exceptions :-)\r\n\r\n",
      "created_at" : "2018-06-04T14:05:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13391#issuecomment-394366599",
      "id" : 394366599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13391",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM2NjU5OQ==",
      "updated_at" : "2018-06-04T14:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394366599",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Could you describe the issue that resulted in a near DoS vulnerability? As I read it #9963 was more about developer ergonomics? :-)\r\n\r\nI think we intentionally didn't mention the issue there.\r\nIt's very simply: have an under-tested error path in the network code with an invalid LogPrintf() spec. Anything that triggers this will crash the process. A little loggable offense turns into a full DoS vector.\r\n\r\n> Could a middle ground be to make strprintf(Ã¢ÂÂ¦) noexcept and keep LogPrintf(...) as is?\r\n\r\nI think that would be a better idea. If the output isn't just used for logging, it's a more serious error in any case.",
      "created_at" : "2018-06-04T14:18:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13391#issuecomment-394371112",
      "id" : 394371112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13391",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM3MTExMg==",
      "updated_at" : "2018-06-04T14:18:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394371112",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj I see. Makes perfect sense. Closing!",
      "created_at" : "2018-06-04T14:20:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13391#issuecomment-394371856",
      "id" : 394371856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13391",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM3MTg1Ng==",
      "updated_at" : "2018-06-04T14:20:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394371856",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift at least for the number of arguments versus number of specifiers, we could have a linter. Though it's harder to do than most of the checks.",
      "created_at" : "2018-06-04T14:24:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13391#issuecomment-394373193",
      "id" : 394373193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13391",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM3MzE5Mw==",
      "updated_at" : "2018-06-04T14:24:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394373193",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj Good idea! I'll look into that when I'm done with my exception handling work :-)",
      "created_at" : "2018-06-04T14:39:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13391#issuecomment-394378524",
      "id" : 394378524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13391",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM3ODUyNA==",
      "updated_at" : "2018-06-04T14:39:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394378524",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
