[
   {
      "author_association" : "MEMBER",
      "body" : "> Occasionally sending a transaction \r\n\r\nAre we talking of GUI or RPC users?",
      "created_at" : "2018-12-10T14:41:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-445838647",
      "id" : 445838647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTgzODY0Nw==",
      "updated_at" : "2018-12-10T14:41:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445838647",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "My case is rpc, but I don't see why it wouldn't apply generally. \r\n\r\nThe ideal solution would be to control it on a per-transaction level, but a global -maxInputs config would be almost as useful. Imagine I have a wallet with a thousand inputs, and trying to make a payment. Creating a transaction that requires $500 of fees is pretty crazy, and definitely not what I want even if it was the best way to avoid change.",
      "created_at" : "2018-12-10T15:38:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-445859666",
      "id" : 445859666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTg1OTY2Ng==",
      "updated_at" : "2018-12-10T15:38:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445859666",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So you mean `-maxtxfee`?",
      "created_at" : "2018-12-10T16:28:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-445878498",
      "id" : 445878498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTg3ODQ5OA==",
      "updated_at" : "2018-12-10T18:34:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445878498",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Maybe! But it'd require a bit of changes to work.\r\n\r\nI literally want to say: \"I want to send X coins to Y and never spend more than Z coins\".  As if I need to spend more than Z coins, I would consider that my wallet needs defraging before I make the payment.\r\n\r\nSo I could emulate that by using `-maxtxfee`, but I run into two problems: Firstly it does not support dynamic adjustment which is essential when fee rates change. And the more pressing problem is that correct me if I'm wrong) the coin selection in unaware of it. So with an aggressive maxfee it will frequently create a coin selection that exceeds the `-maxtxfee`, and then in the final stage core will reject it for exceeding the `maxtxfee`.\r\n\r\nIf the coin selection itself was aware of the maxtxfee constraint, it could make a good effort at avoiding trying to create solutions that would violate it and instead say focus on larger inputs. \r\n\r\n  ",
      "created_at" : "2018-12-10T17:15:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-445895606",
      "id" : 445895606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTg5NTYwNg==",
      "updated_at" : "2018-12-10T17:15:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445895606",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Have you considered `fundrawtransaction` in combination with `listunspents`? ",
      "created_at" : "2018-12-10T18:33:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-445922355",
      "id" : 445922355,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTkyMjM1NQ==",
      "updated_at" : "2018-12-10T18:33:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445922355",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm not sure that helps, unless you're suggesting I do coin selection myself? Which is definitely something I would rather avoid. ",
      "created_at" : "2018-12-10T18:45:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-445926328",
      "id" : 445926328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTkyNjMyOA==",
      "updated_at" : "2018-12-10T18:45:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445926328",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What is the problem of calling `fundrawtransaction` until the input count is less than your maximum and then `sendrawtransaction`?",
      "created_at" : "2018-12-11T01:00:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-446033172",
      "id" : 446033172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjAzMzE3Mg==",
      "updated_at" : "2018-12-11T01:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446033172",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I don't think that works. Let's say my `maxInputCount` I want to use is 3, and `fundrawtransaction` keeps finding a no-change solution that spends N inputs, no amount of polling `fundrawtransaction` is going to change that.",
      "created_at" : "2018-12-11T02:07:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-446045646",
      "id" : 446045646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjA0NTY0Ng==",
      "updated_at" : "2018-12-11T02:07:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446045646",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the concept of max inputs is (partially?) flawed. An input can have a large 7of7 multisig script (or any other large script) or a \"lightweight\" P2WPKH script.\r\n\r\nI'm not sure what you want to achieve by purely limiting the amount of selected inputs. The (new) BnB coin selection is pretty efficient for most use cases.\r\n\r\nIf the internal coin selection is not efficient enough for your use-cases. Try what @promag suggests (manual coin selection) with `fundrawtransaction` or purely with `createrawtransaction`... or use CoinControl over the GUI.",
      "created_at" : "2018-12-11T06:15:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-446085272",
      "id" : 446085272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjA4NTI3Mg==",
      "updated_at" : "2018-12-11T06:15:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446085272",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ok, maybe this is a bit too controversial. I'll close this issue, and create one about improving the existing maxtxfee",
      "created_at" : "2018-12-11T16:27:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14896#issuecomment-446266773",
      "id" : 446266773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14896",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjI2Njc3Mw==",
      "updated_at" : "2018-12-11T16:27:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446266773",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   }
]
