[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hi @valerio-vaccaro, deliberately choosing to correctly create the transaction, it looks i fixed this issue in https://github.com/isghe/bitcoin/tree/fix-createrawtransaction-master (and in https://github.com/isghe/bitcoin/tree/fix-createrawtransaction-v0.17.0.1 ). In my tests looks to be ok. Please can you check too? \r\n\r\n```\r\n$ ./src/bitcoin-cli createrawtransaction \"[]\" \"[{\\\"mguLQ6eGCHpnmRrDwAjbPpYAHjxY6GneeQ\\\":\\\"0.1\\\"}, {\\\"data\\\":\\\"ee\\\"}, {\\\"muLYgM1L3gCzLs1bPX5cVzx3ax1f4vBcpN\\\":\\\"0.2\\\"},{\\\"data\\\":\\\"ff\\\"}]\" | xargs ./src/bitcoin-cli decoderawtransaction\r\n{\r\n  \"txid\": \"54c6fbd3b3266a4aec43ca2ed0829ac9f419dfe4a7f751a037859453f47a070a\",\r\n  \"hash\": \"54c6fbd3b3266a4aec43ca2ed0829ac9f419dfe4a7f751a037859453f47a070a\",\r\n  \"version\": 2,\r\n  \"size\": 102,\r\n  \"vsize\": 102,\r\n  \"weight\": 408,\r\n  \"locktime\": 0,\r\n  \"vin\": [\r\n  ],\r\n  \"vout\": [\r\n    {\r\n      \"value\": 0.10000000,\r\n      \"n\": 0,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 0f33ba85fcad50a78088c115ec65b0a7ab30e3de OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"hex\": \"76a9140f33ba85fcad50a78088c115ec65b0a7ab30e3de88ac\",\r\n        \"reqSigs\": 1,\r\n        \"type\": \"pubkeyhash\",\r\n        \"addresses\": [\r\n          \"mguLQ6eGCHpnmRrDwAjbPpYAHjxY6GneeQ\"\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"value\": 0.00000000,\r\n      \"n\": 1,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_RETURN -110\",\r\n        \"hex\": \"6a01ee\",\r\n        \"type\": \"nulldata\"\r\n      }\r\n    },\r\n    {\r\n      \"value\": 0.20000000,\r\n      \"n\": 2,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_DUP OP_HASH160 9799e353a07f1d08ab8d191408cd509ff772eabb OP_EQUALVERIFY OP_CHECKSIG\",\r\n        \"hex\": \"76a9149799e353a07f1d08ab8d191408cd509ff772eabb88ac\",\r\n        \"reqSigs\": 1,\r\n        \"type\": \"pubkeyhash\",\r\n        \"addresses\": [\r\n          \"muLYgM1L3gCzLs1bPX5cVzx3ax1f4vBcpN\"\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"value\": 0.00000000,\r\n      \"n\": 3,\r\n      \"scriptPubKey\": {\r\n        \"asm\": \"OP_RETURN -127\",\r\n        \"hex\": \"6a01ff\",\r\n        \"type\": \"nulldata\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```",
      "created_at" : "2018-12-04T20:32:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14868#issuecomment-444247435",
      "id" : 444247435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDI0NzQzNQ==",
      "updated_at" : "2018-12-04T22:48:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444247435",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1006078?v=4",
         "events_url" : "https://api.github.com/users/isghe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isghe/followers",
         "following_url" : "https://api.github.com/users/isghe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isghe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isghe",
         "id" : 1006078,
         "login" : "isghe",
         "node_id" : "MDQ6VXNlcjEwMDYwNzg=",
         "organizations_url" : "https://api.github.com/users/isghe/orgs",
         "received_events_url" : "https://api.github.com/users/isghe/received_events",
         "repos_url" : "https://api.github.com/users/isghe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isghe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isghe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isghe"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@valerio-vaccaro it would be interesting to try the sequence explained in `$ bitcoin-cli help fundrawtransaction`:\r\n\r\n```\r\nExamples:\r\n\r\nCreate a transaction with no inputs\r\n> bitcoin-cli createrawtransaction \"[]\" \"{\\\"myaddress\\\":0.01}\"\r\n\r\nAdd sufficient unsigned inputs to meet the output value\r\n> bitcoin-cli fundrawtransaction \"rawtransactionhex\"\r\n\r\nSign the transaction\r\n> bitcoin-cli signrawtransaction \"fundedtransactionhex\"\r\n\r\nSend the transaction\r\n> bitcoin-cli sendrawtransaction \"signedtransactionhex\"\r\n```",
      "created_at" : "2018-12-04T22:24:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14868#issuecomment-444282443",
      "id" : 444282443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDI4MjQ0Mw==",
      "updated_at" : "2018-12-04T22:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444282443",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1006078?v=4",
         "events_url" : "https://api.github.com/users/isghe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isghe/followers",
         "following_url" : "https://api.github.com/users/isghe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isghe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isghe",
         "id" : 1006078,
         "login" : "isghe",
         "node_id" : "MDQ6VXNlcjEwMDYwNzg=",
         "organizations_url" : "https://api.github.com/users/isghe/orgs",
         "received_events_url" : "https://api.github.com/users/isghe/received_events",
         "repos_url" : "https://api.github.com/users/isghe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isghe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isghe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isghe"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks @isghe, the patch work well (tested on MacOS and Linux) and generate the right transaction; `fundrawtransaction` and `signrawtransaction` correctly works on the generated transaction. ",
      "created_at" : "2018-12-06T12:15:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14868#issuecomment-444852080",
      "id" : 444852080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDg1MjA4MA==",
      "updated_at" : "2018-12-06T12:15:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444852080",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2773110?v=4",
         "events_url" : "https://api.github.com/users/valerio-vaccaro/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valerio-vaccaro/followers",
         "following_url" : "https://api.github.com/users/valerio-vaccaro/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valerio-vaccaro/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valerio-vaccaro",
         "id" : 2773110,
         "login" : "valerio-vaccaro",
         "node_id" : "MDQ6VXNlcjI3NzMxMTA=",
         "organizations_url" : "https://api.github.com/users/valerio-vaccaro/orgs",
         "received_events_url" : "https://api.github.com/users/valerio-vaccaro/received_events",
         "repos_url" : "https://api.github.com/users/valerio-vaccaro/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valerio-vaccaro/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valerio-vaccaro/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valerio-vaccaro"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I renamed the branch to `fix-createrawtransaction-multi-OP_RETURN`, proceed with PR",
      "created_at" : "2018-12-06T18:18:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14868#issuecomment-444975048",
      "id" : 444975048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDk3NTA0OA==",
      "updated_at" : "2018-12-06T18:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444975048",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1006078?v=4",
         "events_url" : "https://api.github.com/users/isghe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isghe/followers",
         "following_url" : "https://api.github.com/users/isghe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isghe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isghe",
         "id" : 1006078,
         "login" : "isghe",
         "node_id" : "MDQ6VXNlcjEwMDYwNzg=",
         "organizations_url" : "https://api.github.com/users/isghe/orgs",
         "received_events_url" : "https://api.github.com/users/isghe/received_events",
         "repos_url" : "https://api.github.com/users/isghe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isghe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isghe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isghe"
      }
   }
]
