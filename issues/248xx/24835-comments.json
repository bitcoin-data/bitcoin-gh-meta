[
   {
      "author_association" : "MEMBER",
      "body" : "That's a commit from 2012 :eyes: We probably need some discussion here what would be the impact of this change to behavior other than `-netinfo`.",
      "created_at" : "2022-04-13T14:45:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1098141561",
      "id" : 1098141561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585BdE95",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098141561/reactions"
      },
      "updated_at" : "2022-04-13T14:45:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098141561",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the meaning of `-onlynet` (previously `-blocknet`) changed over the years? In commit 91dace35a1c7821675c369d60d1e88b2ed638842 listening on blocked networks was disabled (and with that 1653f97c8f3c37cd96e03cf397c31c5caf81af08 makes sense) but nowadays incoming connections are not affected, which is also stated in the description of `-onlynet`.",
      "created_at" : "2022-04-14T09:12:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1098904177",
      "id" : 1098904177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585Bf_Jx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098904177/reactions"
      },
      "updated_at" : "2022-04-14T09:12:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098904177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mzumsande @jnewbery @sipa any opinions here?",
      "created_at" : "2022-04-20T10:14:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1103761220",
      "id" : 1103761220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585Byg9E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103761220/reactions"
      },
      "updated_at" : "2022-04-20T10:14:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1103761220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree with @laanwj that the focus should be on the behavioral changes, not so much `-netinfo`.\r\nIt would be good to have more info on the rationale of https://github.com/bitcoin/bitcoin/commit/1653f97c8f3c37cd96e03cf397c31c5caf81af08 - was there a PR for this that I'm unable to find?\r\n\r\nIf removing the `IsReachable` call from `AddLocal()`, I think that  `IsPeerAddrLocalGood()` should be adjusted too for consistency.\r\n\r\nI'm unsure about this, but remember a discussion about the same topic with @vasild in #22834:\r\nI [asked](https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-913233420):\r\n> IsPeerAddrLocalGood() and AddLocal() both call IsReachable() and therefore might be affected. Considering that they deal with the address used for self-advertising (and thus for getting incoming connections) I don't really understand why they make use of `IsReachable()` in the first place. Shouldn't this affect only outbound connection logic?\r\n\r\nvasild's [answer](https://github.com/bitcoin/bitcoin/pull/22834#issuecomment-914265670):\r\n\r\n> I think the logic is this - if a network is not reachable then we cannot accept connections from it. \"Reachable\" in the broader English word meaning, not the stricter -onlynet meaning. For example, a host/OS may have support for both IPv4 and IPv6 but its ISP may only support IPv4. So, an operator would run -onlynet=ipv4 to avoid attempting connections to IPv6 hosts and from advertising an IPv6 address to which the rest of the world cannot connect.",
      "created_at" : "2022-04-24T23:36:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1107939994",
      "id" : 1107939994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585CCdKa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1107939994/reactions"
      },
      "updated_at" : "2022-04-24T23:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1107939994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It would be good to have more info on the rationale of https://github.com/bitcoin/bitcoin/commit/1653f97c8f3c37cd96e03cf397c31c5caf81af08 - was there a PR for this that I'm unable to find?\r\n\r\nInteresting. Looks like there was no PR. One (or the) descendant commit (5e794a9ab7449cee8ea9f2d2e23ff764f71a91c9) with unrelated content is not a merge commit, indicating (but not proving) that a merge commit may not exist.\r\n\r\nThe commit itself (1653f97c8f3c37cd96e03cf397c31c5caf81af08) was likely written at 3pm. While an unrelated pull on the same day (https://github.com/bitcoin/bitcoin/pull/1284) was opened at 11am, possibly rebased(?), merged at 6pm, and included 1653f97c8f3c37cd96e03cf397c31c5caf81af08 in its base.",
      "created_at" : "2022-04-25T07:03:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1108152066",
      "id" : 1108152066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585CDQ8C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108152066/reactions"
      },
      "updated_at" : "2022-04-25T07:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108152066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> if a network is not reachable then we cannot accept connections from it\r\n\r\napparently, this is not the case for @dergoegge. If we bind and listen on an address that is omitted from `-onlynet`, then there are downsides either way:\r\n\r\n1. As it is currently in `master`:\r\n* we will not show the listening address in `-netinfo` or in `getnetworkinfo` (bad if peers can reach that address, good otherwise)\r\n* we will not advertise it to other peers (good?)\r\n\r\n2. With this PR:\r\n* we will show the listening address in `-netinfo` or in `getnetworkinfo` (good if peers can reach that address, bad otherwise)\r\n* we will advertise it to other peers (bad? or at least a significant change in behavior)\r\n\r\nI prefer 1. because the \"bad\" is only a display issue. Other options could be to include a new section in the display: \"listening but not advertised addresses\". Or to stop bind/listening on addresses omitted from `-onlynet` (increase its scope as it currently only affects outgoing connections).\r\n\r\nPS: actually, we don't know if peers can even reach our address that is omitted from `-onlynet`. It could be the case as mentioned above that a host/OS has e.g. IPv6 support (and a configured address for some local purposes, maybe), but ISP does not support IPv6. `bitcoind` can't distinguish between this case and @dergoegge's case. It assumes the former, which looks reasonable to me.",
      "created_at" : "2022-04-25T12:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1108523732",
      "id" : 1108523732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585CErrU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108523732/reactions"
      },
      "updated_at" : "2022-04-25T12:53:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1108523732",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> if a network is not reachable then we cannot accept connections from it\r\n> apparently, this is not the case for @dergoegge.\r\n\r\n@vasild for context: I was playing around with `-onlynet` and used `-onlynet=ipv4` because i wanted my node to only make outbound ipv4 connections but keep getting Tor, ipv6 and ipv4 inbound connections. I wanted to double check with `-netinfo` but to my surprise only my ipv4 address was shown. However, I noticed that I was still receiving inbound connections on my onion address (i was previously running the node without `-onlynet`). That seemed inconsistent to me so I opened this PR.\r\n\r\n> we will advertise it to other peers (bad? or at least a significant change in behavior)\r\n\r\nWould we though? afaict we try to announce the address that is best reachable for our peer. So for example, if we connect to a peer through IPv4 and we have a local IPv4 and IPv6 address, we won't announce the IPv6 address to that peer (See [GetLocal](https://github.com/bitcoin/bitcoin/blob/e88a52e9a2fda971d34425bb80e42ad2d6623d68/src/net.cpp#L158) and [GetReachable](https://github.com/bitcoin/bitcoin/blob/e88a52e9a2fda971d34425bb80e42ad2d6623d68/src/netaddress.cpp#L748), we sort by reachability). TBH it does not seem super obvious to me which address we choose for advertising so i might be wrong.\r\n\r\nThe description of `-onlynet` states \"Inbound and manual connections are not affected by this option.\" but not advertising an address does affect inbound connections (you won't get any or only a few if you previously advertised your address).\r\n\r\nI think my main problem was the display issue and adding a \"listening but not advertised addresses\" section seems OK to me.",
      "created_at" : "2022-04-26T09:06:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1109544484",
      "id" : 1109544484,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585CIk4k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109544484/reactions"
      },
      "updated_at" : "2022-04-26T09:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109544484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would we though? afaict we try to announce the address that is best reachable for our peer.\r\n\r\nWe would at least for any existing inbound peers. So there could be the effect that if your address that is known to the network and you use `-onlynet` with another network, you'd keep on advertising it to inbound peers - if you are not known and don't get inbound connections, that won't change.\r\n\r\nCurrent behavior is that once you switch to -onlynet, you won't advertise other addresses at all, so inbound connections could become more infrequent over time (although GETDATA relay of the existing address by others is not affected).",
      "created_at" : "2022-04-27T12:59:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1110970156",
      "id" : 1110970156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585COA8s",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110970156/reactions"
      },
      "updated_at" : "2022-04-27T13:00:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110970156",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm afraid I don't remember 1653f97c8f3c37cd96e03cf397c31c5caf81af08 or its rationale at all. It appears to even have committed  directly to the master branch without going through a pull request...",
      "created_at" : "2022-04-27T13:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1111003324",
      "id" : 1111003324,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585COJC8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111003324/reactions"
      },
      "updated_at" : "2022-04-27T13:28:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111003324",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2022-06-02T20:52:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1145330237",
      "id" : 1145330237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585ERFo9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145330237/reactions"
      },
      "updated_at" : "2022-06-15T10:53:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145330237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing this because, based on the feedback here, it looks like my approach isn't the right one. Addressing the `-netinfo` display issue (e.g. by adding a \"listening but not advertised addresses\" section) seems like a better idea.",
      "created_at" : "2022-06-29T12:18:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1169910500",
      "id" : 1169910500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585Fu2rk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169910500/reactions"
      },
      "updated_at" : "2022-06-29T12:18:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169910500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nThinking about this more, it looks now to me that it makes sense to remove `IsReachable()` from both `AddLocal()` and from `IsPeerAddrLocalGood()`. Why? Because there is an easy way to restrict where `bitcoind` is listening using `-bind=` and thus if your `bitcoind` is listening on network X, then you want to accept incoming connections on network X (otherwise you would use `-bind=` to not listen on network X). Thus you also want to advertise your listening address for the network X (because listening on an address that nobody knows because it is not advertised makes little sense).\r\n\r\nTo answer myself:\r\n\r\n> I think the logic is this - if a network is not reachable then we cannot accept connections from it. \"Reachable\" in the broader English word meaning, not the stricter -onlynet meaning. For example, a host/OS may have support for both IPv4 and IPv6 but its ISP may only support IPv4. So, an operator would run -onlynet=ipv4 to avoid attempting connections to IPv6 hosts and from advertising an IPv6 address to which the rest of the world cannot connect.\r\n\r\nIn this case the operator, in addition to `-onlynet=ipv4`, should also use `-bind=1.2.3.4:8333` to avoid listening on the IPv6 address of his machine.\r\n\r\nI guess the initial semantic of `-onlynet` was to apply for both outgoing and incoming connections. Like \"don't touch this network at all\". But it never actually did that and morphed into \"apply to outgoing only\" over time. Maybe it should be renamed.\r\n\r\nThis PR (plus adjusting `IsPeerAddrLocalGood()`) would resolve:\r\n1. https://github.com/bitcoin/bitcoin/issues/25669\r\n2. https://github.com/bitcoin/bitcoin/issues/25336\r\n3. the display issue described in the OP of this PR\r\n\r\nA duplicate of this PR:\r\n* https://github.com/bitcoin/bitcoin/pull/25690",
      "created_at" : "2022-07-28T11:15:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24835#issuecomment-1198005944",
      "id" : 1198005944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24835",
      "node_id" : "IC_kwDOABII585HaB64",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198005944/reactions"
      },
      "updated_at" : "2022-07-28T11:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1198005944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
