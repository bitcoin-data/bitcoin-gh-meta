[
   {
      "author_association" : "MEMBER",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/26991#pullrequestreview-1275471307) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-01-30T11:12:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26991#issuecomment-1408432692",
      "id" : 1408432692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26991",
      "node_id" : "IC_kwDOABII585T8vo0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408432692/reactions"
      },
      "updated_at" : "2023-01-30T16:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408432692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090490653"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090490653"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Might be good to use the value referred to by the RPC or manpage, not the internal fragile symbol name",
      "commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "created_at" : "2023-01-30T11:16:23Z",
      "diff_hunk" : "@@ -18,7 +18,7 @@ The size of some in-memory caches can be reduced. As caches trade off memory usa\n \n - Since `0.14.0`, unused memory allocated to the mempool (default: 300MB) is shared with the UTXO cache, so when trying to reduce memory usage you should limit the mempool, with the `-maxmempool` command line argument.\n \n-- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from whitelisted peers and as part of blocks.\n+- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from peers who have `NetpermissionFlags::Relay` set (e.g. whitelisted peers), and as part of blocks.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090490653",
      "id" : 1090490653,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A_5Ed",
      "original_commit_id" : "4b6080cd84a3c0d17a53dd91fb41e8b354e59b57",
      "original_line" : 21,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/reduce-memory.md",
      "position" : null,
      "pull_request_review_id" : 1274955422,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090490653/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-01-30T11:16:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090490653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090497464"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090497464"
         }
      },
      "author_association" : "MEMBER",
      "body" : "OK I switched to the RPC permission. ",
      "commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "created_at" : "2023-01-30T11:23:35Z",
      "diff_hunk" : "@@ -18,7 +18,7 @@ The size of some in-memory caches can be reduced. As caches trade off memory usa\n \n - Since `0.14.0`, unused memory allocated to the mempool (default: 300MB) is shared with the UTXO cache, so when trying to reduce memory usage you should limit the mempool, with the `-maxmempool` command line argument.\n \n-- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from whitelisted peers and as part of blocks.\n+- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from peers who have `NetpermissionFlags::Relay` set (e.g. whitelisted peers), and as part of blocks.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090497464",
      "id" : 1090497464,
      "in_reply_to_id" : 1090490653,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A_6u4",
      "original_commit_id" : "4b6080cd84a3c0d17a53dd91fb41e8b354e59b57",
      "original_line" : 21,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/reduce-memory.md",
      "position" : null,
      "pull_request_review_id" : 1274965347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090497464/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-01-30T11:23:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090497464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090807842"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090807842"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\nThe `-blocksonly` configuration option reduces the default mempool memory usage from 300MB to 5MB, as it makes bitcoind opt out of receiving and relaying transactions except (a) as part of blocks and (b) from peers who have the `relay` permission set (e.g. whitelisted peers). These allow for a smaller mempool and lower default memory allocation.\r\n```\r\n\r\nSuggest beginning with the memory usage that relates to this document and dropping the \"disable mempool functionality\" part in favor of concretely stating what the config option does and how that allows for a smaller default mempool size.",
      "commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "created_at" : "2023-01-30T15:48:21Z",
      "diff_hunk" : "@@ -18,7 +18,7 @@ The size of some in-memory caches can be reduced. As caches trade off memory usa\n \n - Since `0.14.0`, unused memory allocated to the mempool (default: 300MB) is shared with the UTXO cache, so when trying to reduce memory usage you should limit the mempool, with the `-maxmempool` command line argument.\n \n-- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from whitelisted peers and as part of blocks.\n+- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from peers who have the `relay` permission set (e.g. whitelisted peers), and as part of blocks.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090807842",
      "id" : 1090807842,
      "line" : 21,
      "node_id" : "PRRC_kwDOABII585BBGgi",
      "original_commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "original_line" : 21,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/reduce-memory.md",
      "position" : 5,
      "pull_request_review_id" : 1275438633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090807842/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-01-30T15:48:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090807842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090928377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090928377"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This helps explain the motivation for developers, but for a user, there is no cause and effect relationship between what transactions might be relayed and what the default maximum capacity is.",
      "commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "created_at" : "2023-01-30T17:25:28Z",
      "diff_hunk" : "@@ -18,7 +18,7 @@ The size of some in-memory caches can be reduced. As caches trade off memory usa\n \n - Since `0.14.0`, unused memory allocated to the mempool (default: 300MB) is shared with the UTXO cache, so when trying to reduce memory usage you should limit the mempool, with the `-maxmempool` command line argument.\n \n-- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from whitelisted peers and as part of blocks.\n+- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from peers who have the `relay` permission set (e.g. whitelisted peers), and as part of blocks.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090928377",
      "id" : 1090928377,
      "in_reply_to_id" : 1090807842,
      "line" : 21,
      "node_id" : "PRRC_kwDOABII585BBj75",
      "original_commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "original_line" : 21,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/reduce-memory.md",
      "position" : 5,
      "pull_request_review_id" : 1275618006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090928377/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-01-30T17:25:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090928377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090945963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090945963"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think there is a clear relationship between fewer transactions to relay and less memory needed, but can drop the second sentence if that seems unclear.  The main suggestion is to begin with the memory usage, as it is the topic of the document, rather than the \"disable mempool functionality\" phrase (which seems a bit misleading as well).",
      "commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "created_at" : "2023-01-30T17:40:51Z",
      "diff_hunk" : "@@ -18,7 +18,7 @@ The size of some in-memory caches can be reduced. As caches trade off memory usa\n \n - Since `0.14.0`, unused memory allocated to the mempool (default: 300MB) is shared with the UTXO cache, so when trying to reduce memory usage you should limit the mempool, with the `-maxmempool` command line argument.\n \n-- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from whitelisted peers and as part of blocks.\n+- To disable most of the mempool functionality there is the `-blocksonly` option. This will reduce the default memory usage to 5MB and make the client opt out of receiving (and thus relaying) transactions, except from peers who have the `relay` permission set (e.g. whitelisted peers), and as part of blocks.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26991#discussion_r1090945963",
      "id" : 1090945963,
      "in_reply_to_id" : 1090807842,
      "line" : 21,
      "node_id" : "PRRC_kwDOABII585BBoOr",
      "original_commit_id" : "47c174d8ce4c5f36c41203aedde86c5f0da90217",
      "original_line" : 21,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/reduce-memory.md",
      "position" : 5,
      "pull_request_review_id" : 1275642352,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26991",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090945963/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-01-30T17:42:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1090945963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
