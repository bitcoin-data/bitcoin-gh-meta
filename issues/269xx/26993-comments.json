[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "1. I am not totally sure why the output was chosen to be like this for the input scriptSigs. I do note though that you can further decode a script using e.g.:\r\n\r\n```fish\r\nâ bitcoin-cli decodescript \"483045022100dceb566dec99cf195aba5d6313f1e95eb7bfc74c93a794c4bfd6dd9f4082d8a002203b495b70b917b3dffdcbe70fc6ff7de910d1697efccc14f3eea6944bda87d21c01410445554717c4d3240d818f400ab66fd4de438f2fd9174641ea76480b95cd6e883ec274a10b0691d85ac2cb87dcb9eef58b3abb8ee4bd277c8d6fea09eace2bc24a\"\r\n{\r\n  \"asm\": \"3045022100dceb566dec99cf195aba5d6313f1e95eb7bfc74c93a794c4bfd6dd9f4082d8a002203b495b70b917b3dffdcbe70fc6ff7de910d1697efccc14f3eea6944bda87d21c01 0445554717c4d3240d818f400ab66fd4de438f2fd9174641ea76480b95cd6e883ec274a10b0691d85ac2cb87dcb9eef58b3abb8ee4bd277c8d6fea09eace2bc24a\",\r\n  \"desc\": \"raw(483045022100dceb566dec99cf195aba5d6313f1e95eb7bfc74c93a794c4bfd6dd9f4082d8a002203b495b70b917b3dffdcbe70fc6ff7de910d1697efccc14f3eea6944bda87d21c01410445554717c4d3240d818f400ab66fd4de438f2fd9174641ea76480b95cd6e883ec274a10b0691d85ac2cb87dcb9eef58b3abb8ee4bd277c8d6fea09eace2bc24a)#dcqn8yev\",\r\n  \"type\": \"nonstandard\",\r\n  \"p2sh\": \"3ADYqKp8owLNmKiGHw3NVqzCuHi3nzbRAV\",\r\n  \"segwit\": {\r\n    \"asm\": \"0 ca6146c398fa98e0ac0a332056ce0f8d0f4cd023cde04980739b1c9f850d532c\",\r\n    \"desc\": \"addr(bc1qefs5dsucl2vwptq2xvs9dns03585e5prehsynqrnnvwflpgd2vkq2pvxy3)#9emuhxa6\",\r\n    \"hex\": \"0020ca6146c398fa98e0ac0a332056ce0f8d0f4cd023cde04980739b1c9f850d532c\",\r\n    \"address\": \"bc1qefs5dsucl2vwptq2xvs9dns03585e5prehsynqrnnvwflpgd2vkq2pvxy3\",\r\n    \"type\": \"witness_v0_scripthash\",\r\n    \"p2sh-segwit\": \"32yY6f1MeGVNnsuwxzzTg89fJhJpUpY7j6\"\r\n  }\r\n}\r\n```\r\n\r\n2. Regarding `[ALL]` in the output, this refers to the sighash type which the signature should be verified against. You can see in the blockstream.info they have left the SIGHASH_ALL in at the end of the data, represented by hex `0x01`. IMO `[ALL]` is actually clearer here, but it's subjective I suppose.",
      "created_at" : "2023-01-30T14:01:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26993#issuecomment-1408678093",
      "id" : 1408678093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26993",
      "node_id" : "IC_kwDOABII585T9rjN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408678093/reactions"
      },
      "updated_at" : "2023-01-30T14:01:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408678093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@willcl-ark :\r\nAfter reading your post it is a bit more clear to me. However, as I am still learning the Bitcoin's serialization protocol (and I am still at the stage of serializing/deserializing byte code for Bitcoin's VM), I have a rather naive question...\r\n\r\nCan I summarize your 2nd point as below?:\r\n\r\n1. if a byte array ends with `0x01`, it will be replaced by `[ALL]`; Or\r\n2. if `bitcoin-cli`'s `scriptSig`.`asm` contains `[ALL]`, I can assume it is from `0x01`.\r\n\r\nThe point of the question is, I want to cross-check my bitcoin library's serialization/deserialization output with `bitcoin-cli`'s, so I want follow the convention used by `bitcoin-cli`. \r\n",
      "created_at" : "2023-01-30T15:05:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26993#issuecomment-1408789923",
      "id" : 1408789923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26993",
      "node_id" : "IC_kwDOABII585T-G2j",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408789923/reactions"
      },
      "updated_at" : "2023-01-30T15:05:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408789923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14042129?v=4",
         "events_url" : "https://api.github.com/users/alex-lt-kong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/alex-lt-kong/followers",
         "following_url" : "https://api.github.com/users/alex-lt-kong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/alex-lt-kong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/alex-lt-kong",
         "id" : 14042129,
         "login" : "alex-lt-kong",
         "node_id" : "MDQ6VXNlcjE0MDQyMTI5",
         "organizations_url" : "https://api.github.com/users/alex-lt-kong/orgs",
         "received_events_url" : "https://api.github.com/users/alex-lt-kong/received_events",
         "repos_url" : "https://api.github.com/users/alex-lt-kong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/alex-lt-kong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/alex-lt-kong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/alex-lt-kong"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "You can see roughly how the text is inserted between the square brackets here: \r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/82903a7a8dc327f94eff0bbbb97d8a0eb04e9044/src/core_write.cpp#L127-L128\r\n\r\nAnd find the sighash type string casts here:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/82903a7a8dc327f94eff0bbbb97d8a0eb04e9044/src/core_write.cpp#L75-L82\r\n\r\nAnd finally the sighash flags here:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/82903a7a8dc327f94eff0bbbb97d8a0eb04e9044/src/script/interpreter.h#L25-L36",
      "created_at" : "2023-01-30T17:05:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26993#issuecomment-1408992714",
      "id" : 1408992714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26993",
      "node_id" : "IC_kwDOABII585T-4XK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408992714/reactions"
      },
      "updated_at" : "2023-01-30T17:05:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408992714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "ah yes, this solves my issue. Thanks!",
      "created_at" : "2023-01-31T13:15:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26993#issuecomment-1410331103",
      "id" : 1410331103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26993",
      "node_id" : "IC_kwDOABII585UD_Hf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410331103/reactions"
      },
      "updated_at" : "2023-01-31T13:15:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410331103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14042129?v=4",
         "events_url" : "https://api.github.com/users/alex-lt-kong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/alex-lt-kong/followers",
         "following_url" : "https://api.github.com/users/alex-lt-kong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/alex-lt-kong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/alex-lt-kong",
         "id" : 14042129,
         "login" : "alex-lt-kong",
         "node_id" : "MDQ6VXNlcjE0MDQyMTI5",
         "organizations_url" : "https://api.github.com/users/alex-lt-kong/orgs",
         "received_events_url" : "https://api.github.com/users/alex-lt-kong/received_events",
         "repos_url" : "https://api.github.com/users/alex-lt-kong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/alex-lt-kong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/alex-lt-kong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/alex-lt-kong"
      }
   }
]
