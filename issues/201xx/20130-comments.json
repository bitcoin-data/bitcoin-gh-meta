[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503355259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503355259"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: for new variables the naming convention is `snake_case`.",
      "commit_id" : "135afa749c6e835ea33b8678cdb35da9640eede8",
      "created_at" : "2020-10-12T14:59:58Z",
      "diff_hunk" : "@@ -305,20 +305,20 @@ BerkeleyDatabase::~BerkeleyDatabase()\n     }\n }\n \n-BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const char* pszMode, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)\n+BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const bool fReadOnly, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503355259",
      "id" : 503355259,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM1NTI1OQ==",
      "original_commit_id" : "334eadec38afd0a34edb990322fda0825118ec76",
      "original_line" : 308,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : null,
      "pull_request_review_id" : 506696987,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-13T11:44:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503355259",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-10-12T15:00:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707173135",
      "id" : 707173135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzE3MzEzNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-12T15:00:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707173135",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> read-only flag. Never used on connection level.\r\n\r\n*Should* we have a way to open databases read-only? It seems this would be useful in some cases, e.g. in the past I remember discussion about the bitcoin-wallet tool for purely informational commands, which should be able to leave a database unmodified otherwise (or be able to act on a read-only file system).",
      "created_at" : "2020-10-12T16:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707209939",
      "id" : 707209939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzIwOTkzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-12T16:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707209939",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> _Should_ we have a way to open databases read-only? It seems this would be useful in some cases, e.g. in the past I remember discussion about the bitcoin-wallet tool for purely informational commands, which should be able to leave a database unmodified otherwise (or be able to act on a read-only file system).\r\n\r\nI think that it would be useful to have a read-only mode in the future, but it should be implemented differently from this mode string that we currently have. So this PR is at least a first step towards that, and we can add read-only mode for when we need it.",
      "created_at" : "2020-10-12T16:12:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707213049",
      "id" : 707213049,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzIxMzA0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-12T16:12:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707213049",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20125 (rpc, wallet: Expose database format in getwalletinfo by promag)\n* #20096 (wallet: Remove WalletDatabase refcounting and enforce only one Batch access the database at a time by achow101)\n* #19980 (refactor: Some wallet cleanups by promag)\n* #18842 (wallet: Mark replaced tx to not be in the mempool anymore by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-12T17:01:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707237899",
      "id" : 707237899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzIzNzg5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-12T17:01:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707237899",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503530581"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503530581"
         }
      },
      "author_association" : "MEMBER",
      "body" : "334eadec38afd0a34edb990322fda0825118ec76\r\n\r\nð and drop `this->` below.\r\n\r\nBTW, why not just drop member `fReadOnly` since it's always `false`?",
      "commit_id" : "135afa749c6e835ea33b8678cdb35da9640eede8",
      "created_at" : "2020-10-12T21:02:27Z",
      "diff_hunk" : "@@ -305,20 +305,20 @@ BerkeleyDatabase::~BerkeleyDatabase()\n     }\n }\n \n-BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const char* pszMode, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)\n+BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const bool fReadOnly, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503530581",
      "id" : 503530581,
      "in_reply_to_id" : 503355259,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzUzMDU4MQ==",
      "original_commit_id" : "334eadec38afd0a34edb990322fda0825118ec76",
      "original_line" : 308,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : null,
      "pull_request_review_id" : 506915059,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-13T11:44:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503530581",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503884104"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503884104"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed the name and dropped `this->`\r\n\r\n> BTW, why not just drop member fReadOnly since it's always false?\r\n\r\nI kept it, because it's set to `true` in `BerkeleyDatabase::Rewrite`.",
      "commit_id" : "135afa749c6e835ea33b8678cdb35da9640eede8",
      "created_at" : "2020-10-13T11:46:05Z",
      "diff_hunk" : "@@ -305,20 +305,20 @@ BerkeleyDatabase::~BerkeleyDatabase()\n     }\n }\n \n-BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const char* pszMode, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)\n+BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const bool fReadOnly, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503884104",
      "id" : 503884104,
      "in_reply_to_id" : 503355259,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg4NDEwNA==",
      "original_commit_id" : "334eadec38afd0a34edb990322fda0825118ec76",
      "original_line" : 308,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : null,
      "pull_request_review_id" : 507346258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-13T11:46:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503884104",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503886184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503886184"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Where?",
      "commit_id" : "135afa749c6e835ea33b8678cdb35da9640eede8",
      "created_at" : "2020-10-13T11:49:49Z",
      "diff_hunk" : "@@ -305,20 +305,20 @@ BerkeleyDatabase::~BerkeleyDatabase()\n     }\n }\n \n-BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const char* pszMode, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)\n+BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const bool fReadOnly, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r503886184",
      "id" : 503886184,
      "in_reply_to_id" : 503355259,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg4NjE4NA==",
      "original_commit_id" : "334eadec38afd0a34edb990322fda0825118ec76",
      "original_line" : 308,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : null,
      "pull_request_review_id" : 507348786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-13T11:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503886184",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > read-only flag. Never used on connection level.\r\n> \r\n> _Should_ we have a way to open databases read-only? It seems this would be useful in some cases, e.g. in the past I remember discussion about the bitcoin-wallet tool for purely informational commands, which should be able to leave a database unmodified otherwise (or be able to act on a read-only file system).\r\n\r\nThough I agree we might want to have it I think it's better not to keep unused functionality in the code. Also, current implementation is pretty limited. We use one connection per wallet and this prevents us from opening a true read-only connection, because it will break some wallet functionality. I guess this is why read-only mode was never used in practice.\r\n\r\nIf we want to introduce proper read-only mode we need to discuss different design trade-offs. One option would be to look at the possibility to bring it to a wallet level (for example load wallet in read-only mode). Alternatively for a command-level read-only mode we need to: a) either manage it on a batch level b) create separate read-write and read-only connections c) reconnect when needed d) other ideas..\r\n\r\nI'll be happy to continue the work if there is strong demand for the feature.",
      "created_at" : "2020-10-13T12:04:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707693254",
      "id" : 707693254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzY5MzI1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T12:04:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707693254",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag thanks for the quick review! I fixed the comment and squashed the commits.\r\n\r\nSide node: I don't know what is the accepted practice here, but I usually do small commits as it's easier to squash than split. I also believe it sometimes can be useful as it provides more information on implementation.",
      "created_at" : "2020-10-13T12:07:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707694556",
      "id" : 707694556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzY5NDU1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T12:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707694556",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r504065200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/504065200"
         }
      },
      "author_association" : "MEMBER",
      "body" : "https://github.com/bitcoin/bitcoin/pull/20130/files#diff-b06753f6e4621f5bcd6cd27fed4137e70a262596b08f7f3a1416ea21977c53d4R467",
      "commit_id" : "135afa749c6e835ea33b8678cdb35da9640eede8",
      "created_at" : "2020-10-13T15:51:11Z",
      "diff_hunk" : "@@ -305,20 +305,20 @@ BerkeleyDatabase::~BerkeleyDatabase()\n     }\n }\n \n-BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const char* pszMode, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)\n+BerkeleyBatch::BerkeleyBatch(BerkeleyDatabase& database, const bool fReadOnly, bool fFlushOnCloseIn) : pdb(nullptr), activeTxn(nullptr), m_cursor(nullptr), m_database(database)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#discussion_r504065200",
      "id" : 504065200,
      "in_reply_to_id" : 503355259,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA2NTIwMA==",
      "original_commit_id" : "334eadec38afd0a34edb990322fda0825118ec76",
      "original_line" : 308,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.cpp",
      "position" : null,
      "pull_request_review_id" : 507586860,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20130",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-13T15:51:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/504065200",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 135afa749c6e835ea33b8678cdb35da9640eede8",
      "created_at" : "2020-10-13T16:05:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-707846061",
      "id" : 707846061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzg0NjA2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T16:05:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707846061",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think that it would be useful to have a read-only mode in the future, but it should be implemented differently from this mode string that we currently have. So this PR is at least a first step towards that, and we can add read-only mode for when we need it.\r\n\r\nFair enough, concept ACK then.",
      "created_at" : "2020-10-14T08:45:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20130#issuecomment-708255855",
      "id" : 708255855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20130",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwODI1NTg1NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-14T08:45:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/708255855",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
