[
   {
      "author_association" : "MEMBER",
      "body" : "Probably @ mentions should be removed from the OP.",
      "created_at" : "2020-10-09T18:59:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706351504",
      "id" : 706351504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjM1MTUwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T18:59:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706351504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes. Removed @ mentions.",
      "created_at" : "2020-10-09T18:59:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706351783",
      "id" : 706351783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjM1MTc4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T18:59:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706351783",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK f639a88e720eb30c170e84710341b9c64ccf4ce4\r\n\r\nBuild, ran functional & unit tests, used `-netinfo` on testnet and signet.",
      "created_at" : "2020-10-09T19:49:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706372153",
      "id" : 706372153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjM3MjE1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T19:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706372153",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: I'm a big fan of `-netinfo` - thanks for improving!",
      "created_at" : "2020-10-09T21:39:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706413337",
      "id" : 706413337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjQxMzMzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T21:39:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706413337",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19064 (refactor: Cleanup thread ctor calls by hebasto)\n* #16439 (cli/gui: support \"@height\" in place of blockhash for getblock on client side by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-10T02:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706472287",
      "id" : 706472287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjQ3MjI4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-25T18:31:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706472287",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503724577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503724577"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This produces the following output with `bitcoin-cli -testnet -netinfo` for me\r\n\r\n```\r\nBitcoin Core v0.20.99.0-8b0aa43e2 testnet - 70016/Satoshi:0.20.99/\r\n\r\n        ipv4    ipv6   onion   total  block-relay\r\nin         0       0       0       0       0\r\nout        9       0       1      10       2\r\ntotal      9       0       1      10       2\r\n\r\nnetworks: ipv4 ipv6 onion - local addresses:\r\n2002:b10c:b10c:0:1234::5057     port  18333    score      1\r\n2002:b10c:b10c:0:1234::33ed     port  18333    score      1\r\nb10cabcdefaqqqhf.onion          port  18333    score     13\r\n```\r\n\r\nI'm not sure if this adds that much in its current form. Someone, who didn't look at the code, wouldn't know that `ipv4 ipv6 onion` is dynamically constructed from `networkinfo` and not just a constant. Additionally, it's for 1) quite hidden and 2) not self-explanatory that these are the reachable networks. \r\n\r\nSomething like the following might be better:\r\n```\r\nreachable networks: ipv4 ipv6 onion\r\nlocal addresses:\r\n2002:b10c:b10c:0:1234::5057     port  18333    score      1\r\n2002:b10c:b10c:0:1234::33ed     port  18333    score      1\r\nb10cabcdefaqqqhf.onion          port  18333    score     13\r\n```",
      "commit_id" : "398045ba8b3694931069f88ec95553b3207dd1a6",
      "created_at" : "2020-10-13T07:27:32Z",
      "diff_hunk" : "@@ -491,11 +491,16 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         result += strprintf(\"out    %5i   %5i   %5i   %5i   %5i\\n\", ipv4_o, ipv6_o, onion_o, total_o, block_relay_o);\n         result += strprintf(\"total  %5i   %5i   %5i   %5i   %5i\\n\", ipv4_i + ipv4_o, ipv6_i + ipv6_o, onion_i + onion_o, total_i + total_o, block_relay_i + block_relay_o);\n \n-        // Report local addresses, ports, and scores.\n-        result += \"\\nLocal addresses\";\n+        // Report reachable networks and local addresses info.\n+        result += \"\\nnetworks:\";\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            const std::string name{network[\"name\"].get_str()};\n+            if (!name.empty() && network[\"reachable\"].get_bool()) result += \" \" + name;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503724577",
      "id" : 503724577,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcyNDU3Nw==",
      "original_commit_id" : "8b0aa43e290e5944335cab65d9b3477f73d57648",
      "original_line" : 461,
      "original_position" : 11,
      "original_start_line" : 495,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 507140932,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-25T15:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503724577",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503780665"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503780665"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for the testing and feedback, @0xB10C. I'm not sure it would add much either. Dropped the commit to not invalidate your previous ACK. Thanks!",
      "commit_id" : "398045ba8b3694931069f88ec95553b3207dd1a6",
      "created_at" : "2020-10-13T08:53:56Z",
      "diff_hunk" : "@@ -491,11 +491,16 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         result += strprintf(\"out    %5i   %5i   %5i   %5i   %5i\\n\", ipv4_o, ipv6_o, onion_o, total_o, block_relay_o);\n         result += strprintf(\"total  %5i   %5i   %5i   %5i   %5i\\n\", ipv4_i + ipv4_o, ipv6_i + ipv6_o, onion_i + onion_o, total_i + total_o, block_relay_i + block_relay_o);\n \n-        // Report local addresses, ports, and scores.\n-        result += \"\\nLocal addresses\";\n+        // Report reachable networks and local addresses info.\n+        result += \"\\nnetworks:\";\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            const std::string name{network[\"name\"].get_str()};\n+            if (!name.empty() && network[\"reachable\"].get_bool()) result += \" \" + name;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503780665",
      "id" : 503780665,
      "in_reply_to_id" : 503724577,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc4MDY2NQ==",
      "original_commit_id" : "8b0aa43e290e5944335cab65d9b3477f73d57648",
      "original_line" : 461,
      "original_position" : 11,
      "original_start_line" : 495,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 507212308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-25T15:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503780665",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-15T17:25:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-709474780",
      "id" : 709474780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTQ3NDc4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T17:25:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709474780",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested ACK 43ee49f2c42f078763be55d666161507a2d7707b\r\n\r\nBuild and used -netinfo on mainnet, testnet and signet.",
      "created_at" : "2020-10-24T13:27:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-715915074",
      "id" : 715915074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTkxNTA3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T13:27:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715915074",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1223908?v=4",
         "events_url" : "https://api.github.com/users/Emzy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Emzy/followers",
         "following_url" : "https://api.github.com/users/Emzy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Emzy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Emzy",
         "id" : 1223908,
         "login" : "Emzy",
         "node_id" : "MDQ6VXNlcjEyMjM5MDg=",
         "organizations_url" : "https://api.github.com/users/Emzy/orgs",
         "received_events_url" : "https://api.github.com/users/Emzy/received_events",
         "repos_url" : "https://api.github.com/users/Emzy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Emzy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Emzy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Emzy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511590265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511590265"
         }
      },
      "author_association" : "MEMBER",
      "body" : "43ee49f2c42f078763be55d666161507a2d7707b\r\n\r\n`#include <tinyformat.h>` ?",
      "commit_id" : "398045ba8b3694931069f88ec95553b3207dd1a6",
      "created_at" : "2020-10-25T12:26:59Z",
      "diff_hunk" : "@@ -419,13 +422,13 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += \"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk    age \";\n+            result += strprintf(\"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk %*s \", m_max_age_length, \"age\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511590265",
      "id" : 511590265,
      "line" : 427,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5MDI2NQ==",
      "original_commit_id" : "43ee49f2c42f078763be55d666161507a2d7707b",
      "original_line" : 427,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 98,
      "pull_request_review_id" : 516353851,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-25T15:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511590265",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for reviewing!\r\n\r\n> f3e30bf1b2231ba3abb65f59be1c5d923ca3dc91: isn't the https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.21.0-Release-Notes-Draft designed for this purpose?\r\n\r\nYes, that wiki was not yet created when the PR was opened. I'm not sure what the process is in this case. Edit: dropped the release note.\r\n\r\n> 43ee49f2c42f078763be55d666161507a2d7707b: does `id` column require variable-width too?\r\n\r\nYes, it's already variable-width.\r\n",
      "created_at" : "2020-10-25T12:49:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-716142967",
      "id" : 716142967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjE0Mjk2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-25T16:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716142967",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > [43ee49f](https://github.com/bitcoin/bitcoin/commit/43ee49f2c42f078763be55d666161507a2d7707b): does `id` column require variable-width too?\r\n> \r\n> Yes, it's already variable-width.\r\n\r\nIndeed :) Sorry for noise.",
      "created_at" : "2020-10-25T12:51:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-716143175",
      "id" : 716143175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjE0MzE3NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-25T12:51:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716143175",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511597468"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511597468"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Well spotted. Will add it if I need to retouch or in the next PR to use the getpeerinfo connection types. There are quite a few `strprintf` in this file since years, so I guess it's not urgent.",
      "commit_id" : "bab058ecb236c69d0f754d12f19bb8d01762a007",
      "created_at" : "2020-10-25T13:29:33Z",
      "diff_hunk" : "@@ -419,13 +422,13 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += \"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk    age \";\n+            result += strprintf(\"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk %*s \", m_max_age_length, \"age\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511597468",
      "id" : 511597468,
      "in_reply_to_id" : 511590265,
      "line" : 426,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5NzQ2OA==",
      "original_commit_id" : "43ee49f2c42f078763be55d666161507a2d7707b",
      "original_line" : 426,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 87,
      "pull_request_review_id" : 516359256,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-25T14:40:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511597468",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511597897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511597897"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hm, age is already a string.\r\n```suggestion\r\n                m_max_age_length = std::max(age.length(), m_max_age_length);\r\n```",
      "commit_id" : "398045ba8b3694931069f88ec95553b3207dd1a6",
      "created_at" : "2020-10-25T13:33:23Z",
      "diff_hunk" : "@@ -398,10 +406,12 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 const double min_ping{peer[\"minping\"].isNull() ? -1 : peer[\"minping\"].get_real()};\n                 const double ping{peer[\"pingtime\"].isNull() ? -1 : peer[\"pingtime\"].get_real()};\n                 const std::string addr{peer[\"addr\"].get_str()};\n+                const std::string age{conn_time == 0 ? \"\" : ToString((m_time_now - conn_time) / 60)};\n                 const std::string sub_version{peer[\"subver\"].get_str()};\n-                m_peers.push_back({peer_id, mapped_as, version, conn_time, last_blck, last_recv, last_send, last_trxn, min_ping, ping, addr, network, sub_version, is_block_relay, is_outbound});\n+                m_peers.push_back({peer_id, mapped_as, version, last_blck, last_recv, last_send, last_trxn, min_ping, ping, addr, age, network, sub_version, is_block_relay, is_outbound});\n                 m_max_id_length = std::max(ToString(peer_id).length(), m_max_id_length);\n                 m_max_addr_length = std::max(addr.length() + 1, m_max_addr_length);\n+                m_max_age_length = std::max(ToString(age).length(), m_max_age_length);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511597897",
      "id" : 511597897,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTU5Nzg5Nw==",
      "original_commit_id" : "43ee49f2c42f078763be55d666161507a2d7707b",
      "original_line" : 414,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 516359570,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-25T15:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511597897",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511605754"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511605754"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "398045ba8b3694931069f88ec95553b3207dd1a6",
      "created_at" : "2020-10-25T14:41:23Z",
      "diff_hunk" : "@@ -398,10 +406,12 @@ class NetinfoRequestHandler : public BaseRequestHandler\n                 const double min_ping{peer[\"minping\"].isNull() ? -1 : peer[\"minping\"].get_real()};\n                 const double ping{peer[\"pingtime\"].isNull() ? -1 : peer[\"pingtime\"].get_real()};\n                 const std::string addr{peer[\"addr\"].get_str()};\n+                const std::string age{conn_time == 0 ? \"\" : ToString((m_time_now - conn_time) / 60)};\n                 const std::string sub_version{peer[\"subver\"].get_str()};\n-                m_peers.push_back({peer_id, mapped_as, version, conn_time, last_blck, last_recv, last_send, last_trxn, min_ping, ping, addr, network, sub_version, is_block_relay, is_outbound});\n+                m_peers.push_back({peer_id, mapped_as, version, last_blck, last_recv, last_send, last_trxn, min_ping, ping, addr, age, network, sub_version, is_block_relay, is_outbound});\n                 m_max_id_length = std::max(ToString(peer_id).length(), m_max_id_length);\n                 m_max_addr_length = std::max(addr.length() + 1, m_max_addr_length);\n+                m_max_age_length = std::max(ToString(age).length(), m_max_age_length);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511605754",
      "id" : 511605754,
      "in_reply_to_id" : 511597897,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYwNTc1NA==",
      "original_commit_id" : "43ee49f2c42f078763be55d666161507a2d7707b",
      "original_line" : 414,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 516365822,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-25T15:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511605754",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511605800"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511605800"
         }
      },
      "author_association" : "MEMBER",
      "body" : "included",
      "commit_id" : "bab058ecb236c69d0f754d12f19bb8d01762a007",
      "created_at" : "2020-10-25T14:41:34Z",
      "diff_hunk" : "@@ -419,13 +422,13 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += \"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk    age \";\n+            result += strprintf(\"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk %*s \", m_max_age_length, \"age\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511605800",
      "id" : 511605800,
      "in_reply_to_id" : 511590265,
      "line" : 426,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYwNTgwMA==",
      "original_commit_id" : "43ee49f2c42f078763be55d666161507a2d7707b",
      "original_line" : 426,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 87,
      "pull_request_review_id" : 516365850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-25T14:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511605800",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thank you @Emzy, @hebasto, @0xB10C and @practicalswift for reviewing and testing. Updated per `git diff 43ee49f 398045b` to add `algorithm` and `tinyformat` headers, remove an unneeded `ToString` type conversion, order the `Peer` struct members by decreasing memory size, fix a bug I found in the local address size handling by adding a local `max_addr_size` variable, and drop the release note (copied it to the PR description).\r\n\r\n<details><summary><code>git diff 43ee49f 398045b</code></summary><p>\r\n\r\n```diff\r\njon@purity:~/projects/bitcoin/bitcoin (netinfo-fixups)$ git diff 43ee49f bab058e\r\ndiff --git a/doc/release-notes.md b/doc/release-notes.md\r\nindex ccd66f9e85..65726f3d5d 100644\r\n--- a/doc/release-notes.md\r\n+++ b/doc/release-notes.md\r\n@@ -207,11 +207,6 @@ Tools and Utilities\r\n \r\n-- A new `bitcoin-cli -netinfo` command returns a network peer connections\r\n-  dashboard that displays data from the `getpeerinfo` and `getnetworkinfo` RPCs\r\n-  in a human-readable format. An optional integer argument from `0` to `4` may\r\n-  be passed to see various levels of detail. (#19643)\r\n-\r\nindex 14ac13632e..2054e991d5 100644\r\n--- a/src/bitcoin-cli.cpp\r\n+++ b/src/bitcoin-cli.cpp\r\n@@ -14,11 +14,13 @@\r\n #include <rpc/request.h>\r\n+#include <tinyformat.h>\r\n #include <util/strencodings.h>\r\n #include <util/system.h>\r\n #include <util/translation.h>\r\n #include <util/url.h>\r\n \r\n+#include <algorithm>\r\n #include <functional>\r\n #include <memory>\r\n #include <stdio.h>\r\n@@ -316,19 +317,19 @@ private:\r\n     struct Peer {\r\n-        int id;\r\n-        int mapped_as;\r\n-        int version;\r\n+        std::string addr;\r\n+        std::string sub_version;\r\n+        std::string network;\r\n+        std::string age;\r\n+        double min_ping;\r\n+        double ping;\r\n         int64_t last_blck;\r\n         int64_t last_recv;\r\n         int64_t last_send;\r\n         int64_t last_trxn;\r\n-        double min_ping;\r\n-        double ping;\r\n-        std::string addr;\r\n-        std::string age;\r\n-        std::string network;\r\n-        std::string sub_version;\r\n+        int id;\r\n+        int mapped_as;\r\n+        int version;\r\n         bool is_block_relay;\r\n         bool is_outbound;\r\n@@ -345,7 +346,7 @@ private:\r\n         const double milliseconds{round(1000 * seconds)};\r\n-        return milliseconds <= 999999 ? ToString(milliseconds) : \"-\";\r\n+        return milliseconds > 999999 ? \"-\" : ToString(milliseconds);\r\n     }\r\n \r\n@@ -408,10 +409,10 @@ public:\r\n                 const std::string sub_version{peer[\"subver\"].get_str()};\r\n-                m_peers.push_back({peer_id, mapped_as, version, last_blck, last_recv, last_send, last_trxn, min_ping, ping, addr, age, network, sub_version, is_block_relay, is_outbound});\r\n-                m_max_id_length = std::max(ToString(peer_id).length(), m_max_id_length);\r\n+                m_peers.push_back({addr, sub_version, network, age, min_ping, ping, last_blck, last_recv, last_send, last_trxn, peer_id, mapped_as, version, is_block_relay, is_outbound});\r\n                 m_max_addr_length = std::max(addr.length() + 1, m_max_addr_length);\r\n-                m_max_age_length = std::max(ToString(age).length(), m_max_age_length);\r\n+                m_max_age_length = std::max(age.length(), m_max_age_length);\r\n+                m_max_id_length = std::max(ToString(peer_id).length(), m_max_id_length);\r\n                 m_is_asmap_on |= (mapped_as != 0);\r\n@@ -464,11 +466,12 @@ public:\r\n         if (local_addrs.empty()) {\r\n             result += \": n/a\\n\";\r\n         } else {\r\n+            size_t max_addr_size{0};\r\n             for (const UniValue& addr : local_addrs) {\r\n-                m_max_addr_length = std::max(addr[\"address\"].get_str().length() + 1, m_max_addr_length);\r\n+                max_addr_size = std::max(addr[\"address\"].get_str().length() + 1, max_addr_size);\r\n             }\r\n             for (const UniValue& addr : local_addrs) {\r\n-                result += strprintf(\"\\n%-*s    port %6i    score %6i\", m_max_addr_length, addr[\"address\"].get_str(), addr[\"port\"].get_int(), addr[\"score\"].get_int());\r\n+                result += strprintf(\"\\n%-*s    port %6i    score %6i\", max_addr_size, addr[\"address\"].get_str(), addr[\"port\"].get_int(), addr[\"score\"].get_int());\r\n             }\r\n         }\r\n```\r\n</p></details>\r\n",
      "created_at" : "2020-10-25T14:45:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-716159660",
      "id" : 716159660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjE1OTY2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-25T16:00:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716159660",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511615614"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511615614"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added the `tinyformat` header, and also `algorithm`, which was missing too. Thanks!",
      "commit_id" : "398045ba8b3694931069f88ec95553b3207dd1a6",
      "created_at" : "2020-10-25T16:03:14Z",
      "diff_hunk" : "@@ -419,13 +422,13 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         // Report detailed peer connections list sorted by direction and minimum ping time.\n         if (DetailsRequested() && !m_peers.empty()) {\n             std::sort(m_peers.begin(), m_peers.end());\n-            result += \"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk    age \";\n+            result += strprintf(\"Peer connections sorted by direction and min ping\\n<-> relay   net  mping   ping send recv  txn  blk %*s \", m_max_age_length, \"age\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r511615614",
      "id" : 511615614,
      "in_reply_to_id" : 511590265,
      "line" : 427,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTYxNTYxNA==",
      "original_commit_id" : "43ee49f2c42f078763be55d666161507a2d7707b",
      "original_line" : 427,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 98,
      "pull_request_review_id" : 516373310,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-25T16:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511615614",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 398045ba8b3694931069f88ec95553b3207dd1a6\r\n\r\nLight code review, tested on MacOS Catalina with Signet and all 0-4 arguments.\r\n\r\nA couple of (very) minor non-urgent observations not relevant for 0.21 (but maybe for a future follow up PR)\r\n\r\n- I expected that as the arguments increased this would strictly increase the amount of the data displayed. Between 2 and 3 it replaces \"address\" with \"version\" only to display both \"address\" and \"version\" for 4. Was there particular thinking around this ie some users would want only one of these and not both?\r\n- I suspect the help message for this tool could be sharpened up a touch.\r\n\r\nCurrently\r\n```\r\n -netinfo\r\n       Get network peer connection information from the remote server. An\r\n       optional integer argument from 0 to 4 can be passed for **different\r\n       peers listings** (default: 0).\r\n```\r\nPotential improvement\r\n```\r\n -netinfo\r\n       Get network peer connection information from the remote server. An\r\n       optional integer argument from 0 to 4 can be passed **for a more\r\n       detailed dashboard** (default: 0).\r\n```\r\n\r\n\r\n\r\n",
      "created_at" : "2020-10-29T00:21:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-718282028",
      "id" : 718282028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODI4MjAyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T00:25:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718282028",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested ACK 398045ba8b3694931069f88ec95553b3207dd1a6\r\n\r\nBuild and used -netinfo on mainnet, testnet and signet on Ubuntu 20.04.1 LTS.",
      "created_at" : "2020-10-29T00:30:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-718285108",
      "id" : 718285108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODI4NTEwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T00:30:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718285108",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1223908?v=4",
         "events_url" : "https://api.github.com/users/Emzy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Emzy/followers",
         "following_url" : "https://api.github.com/users/Emzy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Emzy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Emzy",
         "id" : 1223908,
         "login" : "Emzy",
         "node_id" : "MDQ6VXNlcjEyMjM5MDg=",
         "organizations_url" : "https://api.github.com/users/Emzy/orgs",
         "received_events_url" : "https://api.github.com/users/Emzy/received_events",
         "repos_url" : "https://api.github.com/users/Emzy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Emzy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Emzy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Emzy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for testing and the feedback!\n\n> - I expected that as the arguments increased this would strictly increase the amount of the data displayed. Between 2 and 3 it replaces \"address\" with \"version\" only to display both \"address\" and \"version\" for 4. Was there particular thinking around this ie some users would want only one of these and not both?\n\nYes, flexibility for different buffer/window widths. Especially with the new Tor v3 addresses, which are much longer.\n\nThe \"version\" column actually combines two getpeerinfo fields into one: version and sub-version. So in a way, it's more info ;)",
      "created_at" : "2020-10-29T00:42:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-718288320",
      "id" : 718288320,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODI4ODMyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T00:42:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718288320",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Potential improvement\r\n> \r\n> ```\r\n>  -netinfo\r\n>        Get network peer connection information from the remote server. An\r\n>        optional integer argument from 0 to 4 can be passed **for a more\r\n>        detailed dashboard** (default: 0).\r\n> ```\r\n\r\nThanks @michaelfolkson, I'll do this in the next -netinfo update to use the `connection_type` field in the place of the first two columns.",
      "created_at" : "2020-10-29T20:53:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-719015487",
      "id" : 719015487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxOTAxNTQ4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T20:53:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/719015487",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added the release note in the PR description to the wiki at https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.21.0-Release-Notes-Draft.",
      "created_at" : "2020-11-02T16:46:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-720589871",
      "id" : 720589871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyMDU4OTg3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-02T16:46:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720589871",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
