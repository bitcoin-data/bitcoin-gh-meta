{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Here is a proposed timeline for the move from legacy wallets to descriptor wallets, and at the same time, bdb to sqlite, culminating with the removal of both legacy wallets and bdb. Even though the wallet type and the wallet storage format are orthogonal to each other, as noted in #19077, I would like to tie them together for the sake of simplicity when it comes to how we make new wallets and the migration of one type to another.\r\n\r\nThe 4 combinations of type and format are: legacy-bdb, legacy-sqlite, descriptor-bdb, and descriptor-sqlite. While all 4 types will be supported, we will primarily deal with legacy-bdb and descriptor-sqlite. Setting `descriptors=True` in `createwallet` (or checking the Descriptors option in the GUI) will always make a descriptor-sqlite. Setting that to `False` will always make a legacy-bdb.\r\n\r\n* 0.21 (late 2020)\r\n  * Initial release of descriptor type and sqlite format.\r\n  * Descriptor type is experimental with a warning as such\r\n  * Only legacy-bdb and descriptor-sqlite will be created\r\n* 0.22 (mid 2021)\r\n  * Change descriptor type to non-experimental\r\n  * Implement descriptor exports\r\n  * Legacy type remains default\r\n  * Introduce `dump` and `createfromdump` wallet tool commands with an additional `-format` option to specify the wallet type\r\n    * Users may use `dump` and then `createfromdump` in order to make legacy-sqlite from legacy-bdb\r\n    * Users may use `dump` and then `createfromdump` in order to make descriptor-bdb from descriptor-sqlite\r\n  * If a wallet specified in conf or command line doesn't exist, don't make a wallet and instead warn\r\n* 0.23 (late 2021)\r\n  * Change `createwallet` `descriptors` default to `True`\r\n  * Introduce `migratewallet` command to migrate a legacy-bdb to descriptor-sqlite\r\n* 0.24 (mid 2022)\r\n  * For newly created legacy-bdb wallets, warn that they are deprecated and will soon be unsupported\r\n* 0.25 (late 2022)\r\n  * When loading legacy-bdb, descriptor-bdb, or legacy-sqlite wallets, warn that the legacy type and bdb format will soon be unsupported, as applicable.\r\n  * Reimplement legacy-bdb to descriptor-sqlite migration (maybe as a separate command or in the wallet tool) to be independent of `LegacyScriptPubKeyMan` and BDB\r\n  * For `dump`, implement an independent BDB file loader (this should probably be shared with the previous)\r\n* 0.26 (mid 2023)\r\n  * Stop creating new legacy-bdb wallets\r\n  * Make the loading warning louder\r\n* 0.27 (late 2023)\r\n  * Stop loading legacy-bdb, descriptor-bdb, legacy-sqlite wallet entirely. Inform users how to migrate\r\n  * Remove `LegacyScriptPubKeyMan` except for the independent migration stuff\r\n  * Remove BDB except for independent loading for migration stuff\r\n\r\nThe migration code will probably be around for a long time/forever.\r\n\r\nNote that we expect users who go through the effort to make a legacy-sqlite or descriptor-bdb wallet to suck it up and deal with the consequences of doing something that isn't really supported. Such users should be able to figure out for themselves how to migrate their wallets. (Maybe `migratewallet` can migrate legacy-sqlite to descriptor-sqlite. bdb to sqlite is way easier than legacy to descriptor).",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20160/comments",
   "created_at" : "2020-10-15T22:17:41Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20160/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/20160",
   "id" : 722711719,
   "labels" : [
      {
         "color" : "7cf575",
         "default" : false,
         "description" : null,
         "id" : 64583,
         "name" : "Feature",
         "node_id" : "MDU6TGFiZWw2NDU4Mw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20160/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU3MjI3MTE3MTk=",
   "number" : 20160,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Proposed Timeline for Legacy Wallet and BDB removal",
   "updated_at" : "2020-10-15T22:17:41Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20160",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
      "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
      "followers_url" : "https://api.github.com/users/achow101/followers",
      "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/achow101",
      "id" : 3782274,
      "login" : "achow101",
      "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
      "organizations_url" : "https://api.github.com/users/achow101/orgs",
      "received_events_url" : "https://api.github.com/users/achow101/received_events",
      "repos_url" : "https://api.github.com/users/achow101/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/achow101"
   }
}
