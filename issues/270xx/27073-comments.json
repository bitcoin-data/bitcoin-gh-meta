[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1311461777), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1311522949), [achow101](https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1442456504), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1312172376) |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1293318666), [pinheadmz](https://github.com/bitcoin/bitcoin/pull/27073#pullrequestreview-1293450868) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26177](https://github.com/bitcoin/bitcoin/pull/26177) (refactor / kernel: Move non-gArgs chainparams functionality to kernel by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-02-10T13:26:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1425811391",
      "id" : 1425811391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585U_Ce_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1425811391/reactions"
      },
      "updated_at" : "2023-02-23T21:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1425811391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102860988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102860988"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would take this opportunity to mark the return value of `fs::path& GetDataDir()` as `LIFETIMEBOUND`\r\n```suggestion\r\n    auto& path{GetDataDir(net_specific)};\r\n```\r\nedit: although one could argue that given the small size of the return value, we might instead just not have `GetDataDir()` return by reference entirely.",
      "commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "created_at" : "2023-02-10T14:55:39Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102860988",
      "id" : 1102860988,
      "line" : 444,
      "node_id" : "PRRC_kwDOABII585BvFK8",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 444,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 20,
      "pull_request_review_id" : 1293318666,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102860988/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T18:51:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102860988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102865686"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102865686"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Parameter naming is a bit confusing, they're both paths. `conf_file` is just guaranteed to be the absolute path, whereas `conf_path` may not be. `abs_conf_path` sounds more appropriate to me.\r\n\r\nBut instead, I would simplify this by just returning the absolute path and changing the signature to `fs::path GetConfigFilePath();`. I don't think we need the (current) `conf_path` for anything - (current) `conf_file` seems enough?",
      "commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "created_at" : "2023-02-10T14:59:22Z",
      "diff_hunk" : "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102865686",
      "id" : 1102865686,
      "line" : 970,
      "node_id" : "PRRC_kwDOABII585BvGUW",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 970,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 41,
      "pull_request_review_id" : 1293318666,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102865686/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T15:25:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102865686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102893580"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102893580"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems like this function is only used to call `ArgsManager::CreateDataDirIfNotExists(false)`. Unless I misunderstand, I think it makes more sense to just make `ArgsManager::CreateDataDirIfNotExists` public? It's less code and a more clear intent, imo.\r\n\r\n<details>\r\n<summary>git diff (overlaps a bit with my other comment)</summary>\r\n\r\n```diff\r\ndiff --git a/src/bitcoind.cpp b/src/bitcoind.cpp\r\nindex 3d154961b..49a709628 100644\r\n--- a/src/bitcoind.cpp\r\n+++ b/src/bitcoind.cpp\r\n@@ -153,7 +153,7 @@ static bool AppInit(NodeContext& node, int argc, char* argv[])\r\n         if (!CheckDataDirOption()) {\r\n             return InitError(Untranslated(strprintf(\"Specified data directory \\\"%s\\\" does not exist.\\n\", args.GetArg(\"-datadir\", \"\"))));\r\n         }\r\n-        args.GetOrCreateConfigFilePath();\r\n+        args.CreateDataDirIfNotExists(false);\r\n         if (!args.ReadConfigFiles(error, true)) {\r\n             return InitError(Untranslated(strprintf(\"Error reading configuration file: %s\\n\", error)));\r\n         }\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex f69c4be2d..fa3d0ab92 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -596,7 +596,7 @@ int GuiMain(int argc, char* argv[])\r\n     try {\r\n         /// 6b. Parse bitcoin.conf\r\n         /// - Do not call gArgs.GetDataDirNet() before this step finishes\r\n-        gArgs.GetOrCreateConfigFilePath();\r\n+        gArgs.CreateDataDirIfNotExists(false);\r\n         if (!gArgs.ReadConfigFiles(error, true)) {\r\n             InitError(strprintf(Untranslated(\"Error reading configuration file: %s\\n\"), error));\r\n             QMessageBox::critical(nullptr, PACKAGE_NAME,\r\ndiff --git a/src/util/system.cpp b/src/util/system.cpp\r\nindex 11991f1ab..335630599 100644\r\n--- a/src/util/system.cpp\r\n+++ b/src/util/system.cpp\r\n@@ -967,17 +967,9 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\r\n     return true;\r\n }\r\n \r\n-void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\r\n+fs::path ArgsManager::GetConfigFilePath()\r\n {\r\n-    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\r\n-    conf_file = GetConfigFile(conf_path);\r\n-}\r\n-\r\n-void ArgsManager::GetOrCreateConfigFilePath()\r\n-{\r\n-    fs::path conf_path, conf_file;\r\n-    GetConfigFilePath(conf_path, conf_file);\r\n-    CreateDataDirIfNotExists(false);\r\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));\r\n }\r\n \r\n bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\r\n@@ -988,9 +980,8 @@ bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\r\n         m_config_sections.clear();\r\n     }\r\n \r\n-    fs::path conf_path, conf_file;\r\n-    GetConfigFilePath(conf_path, conf_file);\r\n-    std::ifstream stream{conf_file};\r\n+    auto conf_path{GetConfigFilePath()};\r\n+    std::ifstream stream{conf_path};\r\n \r\n     // not ok to have a config file specified that cannot be opened\r\n     if (IsArgSet(\"-conf\") && !stream.good()) {\r\ndiff --git a/src/util/system.h b/src/util/system.h\r\nindex e3cb56d06..85b1f00d0 100644\r\n--- a/src/util/system.h\r\n+++ b/src/util/system.h\r\n@@ -242,8 +242,7 @@ protected:\r\n     void SelectConfigNetwork(const std::string& network);\r\n \r\n     [[nodiscard]] bool ParseParameters(int argc, const char* const argv[], std::string& error);\r\n-    void GetConfigFilePath(fs::path& conf_path, fs::path& conf_file);\r\n-    void GetOrCreateConfigFilePath();\r\n+    fs::path GetConfigFilePath();\r\n     [[nodiscard]] bool ReadConfigFiles(std::string& error, bool ignore_invalid_keys = false);\r\n \r\n     /**\r\n@@ -477,6 +476,13 @@ protected:\r\n      */\r\n     void LogArgs() const;\r\n \r\n+    /**\r\n+     * Create data directory if it doesn't exist\r\n+     *\r\n+     * @param net_specific Create a network-identified data directory\r\n+     */\r\n+    void CreateDataDirIfNotExists(bool net_specific);\r\n+\r\n private:\r\n     /**\r\n      * Get data directory path\r\n@@ -486,13 +492,6 @@ private:\r\n      */\r\n     const fs::path& GetDataDir(bool net_specific) const;\r\n \r\n-    /**\r\n-     * Create data directory if it doesn't exist\r\n-     *\r\n-     * @param net_specific Create a network-identified data directory\r\n-     */\r\n-    void CreateDataDirIfNotExists(bool net_specific);\r\n-\r\n     // Helper function for LogArgs().\r\n     void logArgsPrefix(\r\n         const std::string& prefix,\r\n```\r\n</details>",
      "commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "created_at" : "2023-02-10T15:23:05Z",
      "diff_hunk" : "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102893580",
      "id" : 1102893580,
      "line" : 976,
      "node_id" : "PRRC_kwDOABII585BvNIM",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 976,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 47,
      "pull_request_review_id" : 1293318666,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102893580/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T15:24:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102893580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102936320"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102936320"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "suggestion, could call this `EnsureDataDir` or `EnsureDirExists`? Actually this is just for the wallet? maybe then `EnsureWalletDir` ?",
      "commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "created_at" : "2023-02-10T15:57:01Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102936320",
      "id" : 1102936320,
      "line" : 442,
      "node_id" : "PRRC_kwDOABII585BvXkA",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 18,
      "pull_request_review_id" : 1293450868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102936320/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T16:33:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102936320",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102941617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102941617"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd suggest renaming this function too, it returns `void` so it's not really a \"getter\"",
      "commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "created_at" : "2023-02-10T16:01:49Z",
      "diff_hunk" : "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1102941617",
      "id" : 1102941617,
      "line" : 976,
      "node_id" : "PRRC_kwDOABII585BvY2x",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 976,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 47,
      "pull_request_review_id" : 1293450868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102941617/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T16:33:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1102941617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1103027063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103027063"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Actually this is just for the wallet?\r\n\r\nIt's not just for the wallet, it's simply shorthand for creating both `datadir/` as well as `datadir/wallets/` - `fs::create_directories` [creates](https://en.cppreference.com/w/cpp/filesystem/create_directory) all the non-existing dirs in path.\r\n\r\nBut I agree: `EnsureDataDir` is probably a better name. Shorter and equally informative. I think `Data` needs to be in there - it's opinionated about which exact directory.",
      "commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "created_at" : "2023-02-10T17:20:30Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1103027063",
      "id" : 1103027063,
      "in_reply_to_id" : 1102936320,
      "line" : 442,
      "node_id" : "PRRC_kwDOABII585Bvtt3",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 18,
      "pull_request_review_id" : 1293645693,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103027063/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-10T17:22:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1103027063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104354933"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104354933"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, I adapted these changes with @pinheadmz name change suggested below",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:40:22Z",
      "diff_hunk" : "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104354933",
      "id" : 1104354933,
      "in_reply_to_id" : 1102893580,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B0x51",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 976,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295476114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104354933/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:40:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104354933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104355153"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355153"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agreed, and renamed.",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:40:35Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::CreateDataDirIfNotExists(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104355153",
      "id" : 1104355153,
      "in_reply_to_id" : 1102936320,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B0x9R",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295476400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355153/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:40:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104355315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355315"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "agreed",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:40:45Z",
      "diff_hunk" : "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104355315",
      "id" : 1104355315,
      "in_reply_to_id" : 1102865686,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B0x_z",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 970,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295476615,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355315/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:40:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104355315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104356262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104356262"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now returns a file path",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:41:44Z",
      "diff_hunk" : "@@ -965,6 +967,19 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+void ArgsManager::GetConfigFilePath(fs::path& conf_path, fs::path& conf_file)\n+{\n+    conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n+    conf_file = GetConfigFile(conf_path);\n+}\n+\n+void ArgsManager::GetOrCreateConfigFilePath()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104356262",
      "id" : 1104356262,
      "in_reply_to_id" : 1102941617,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B0yOm",
      "original_commit_id" : "dd123d37bb201bf84e4b1c41910060b7d2d52729",
      "original_line" : 976,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295478132,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104356262/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:41:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104356262",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @stickies-v & @pinheadmz , I addressed your comments in the new push.",
      "created_at" : "2023-02-13T11:42:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1427800810",
      "id" : 1427800810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VGoLq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1427800810/reactions"
      },
      "updated_at" : "2023-02-13T11:42:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1427800810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104364182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104364182"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit\r\n```suggestion\r\n    const auto path{GetDataDir(net_specific)};\r\n```",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:49:23Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104364182",
      "id" : 1104364182,
      "line" : 444,
      "node_id" : "PRRC_kwDOABII585B00KW",
      "original_commit_id" : "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "original_line" : 444,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 20,
      "pull_request_review_id" : 1295489596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104364182/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104364182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104365397"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104365397"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "sorry, forgot to mark this as `const` in my diff\r\n```suggestion\r\n    const auto conf_path{GetConfigFilePath()};\r\n```",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:50:35Z",
      "diff_hunk" : "@@ -973,8 +980,8 @@ bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\n         m_config_sections.clear();\n     }\n \n-    const fs::path conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n-    std::ifstream stream{GetConfigFile(conf_path)};\n+    auto conf_path{GetConfigFilePath()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104365397",
      "id" : 1104365397,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B00dV",
      "original_commit_id" : "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "original_line" : 983,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295489596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104365397/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104365397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104368899"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104368899"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        args.EnsureDataDir(/*net_specific=*/false);\r\n```",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:54:07Z",
      "diff_hunk" : "@@ -153,6 +153,7 @@ static bool AppInit(NodeContext& node, int argc, char* argv[])\n         if (!CheckDataDirOption()) {\n             return InitError(Untranslated(strprintf(\"Specified data directory \\\"%s\\\" does not exist.\\n\", args.GetArg(\"-datadir\", \"\"))));\n         }\n+        args.EnsureDataDir(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104368899",
      "id" : 1104368899,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B01UD",
      "original_commit_id" : "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "original_line" : 156,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/bitcoind.cpp",
      "position" : null,
      "pull_request_review_id" : 1295489596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104368899/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104368899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104369081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104369081"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        gArgs.EnsureDataDir(/*net_specific=*/false);\r\n```",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T11:54:20Z",
      "diff_hunk" : "@@ -596,6 +596,7 @@ int GuiMain(int argc, char* argv[])\n     try {\n         /// 6b. Parse bitcoin.conf\n         /// - Do not call gArgs.GetDataDirNet() before this step finishes\n+        gArgs.EnsureDataDir(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104369081",
      "id" : 1104369081,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B01W5",
      "original_commit_id" : "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "original_line" : 599,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 1295489596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104369081/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T11:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104369081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2023-02-13T11:56:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1427815930",
      "id" : 1427815930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VGr36",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1427815930/reactions"
      },
      "updated_at" : "2023-02-13T11:56:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1427815930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104375173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104375173"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "sure, also agree",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T12:00:35Z",
      "diff_hunk" : "@@ -973,8 +980,8 @@ bool ArgsManager::ReadConfigFiles(std::string& error, bool ignore_invalid_keys)\n         m_config_sections.clear();\n     }\n \n-    const fs::path conf_path = GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME);\n-    std::ifstream stream{GetConfigFile(conf_path)};\n+    auto conf_path{GetConfigFilePath()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104375173",
      "id" : 1104375173,
      "in_reply_to_id" : 1104365397,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B022F",
      "original_commit_id" : "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "original_line" : 983,
      "original_position" : 55,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295505358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104375173/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T12:00:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104375173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104384205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104384205"
         }
      },
      "author_association" : "MEMBER",
      "body" : "1. Should we care about possible exceptions here?\r\n2. What is the point to run this code when `net_specific == false`?",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T12:10:04Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104384205",
      "id" : 1104384205,
      "line" : 446,
      "node_id" : "PRRC_kwDOABII585B05DN",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 446,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 22,
      "pull_request_review_id" : 1295518847,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104384205/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T12:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104384205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104386865"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104386865"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe introduce two functions: one for `net_specific == true` and the other for `net_specific == true`?\r\n\r\nIt will make code cleaner on the caller sites.",
      "commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "created_at" : "2023-02-13T12:12:45Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104386865",
      "id" : 1104386865,
      "line" : 442,
      "node_id" : "PRRC_kwDOABII585B05sx",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 18,
      "pull_request_review_id" : 1295518847,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104386865/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T12:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104386865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104509569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104509569"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "1. Yes, part of me wanted to add some exception handling here, however the [original code](https://github.com/bitcoin/bitcoin/blob/master/src/util/system.cpp#L435-L444) this was factored out of did not have any, and so my thinking was that this would be OK to leave as-is, happy to be persuaded otherwise though...\r\n2. When run with `net_specific = false`, this will return the general `DataDir`, e.g. `$HOME/.bitcoin` and with `true` will return the network-specific DataDir e.g. `$HOME/.bitcoin/regtest`",
      "commit_id" : "7b69b99f9614c9eb0325bd46731f9f2f6982af52",
      "created_at" : "2023-02-13T14:01:16Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104509569",
      "id" : 1104509569,
      "in_reply_to_id" : 1104384205,
      "line" : 446,
      "node_id" : "PRRC_kwDOABII585B1XqB",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 446,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 22,
      "pull_request_review_id" : 1295702228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104509569/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T14:01:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104509569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104510651"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104510651"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Totally agree there could be two wrapper functions here if desired, `EnsureDataDir` and `EnsureNetDataDir` perhaps? It might just means more duplicated code in the end though?",
      "commit_id" : "7b69b99f9614c9eb0325bd46731f9f2f6982af52",
      "created_at" : "2023-02-13T14:02:11Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104510651",
      "id" : 1104510651,
      "in_reply_to_id" : 1104386865,
      "line" : 442,
      "node_id" : "PRRC_kwDOABII585B1X67",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 18,
      "pull_request_review_id" : 1295703880,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104510651/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T14:02:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104510651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104511719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104511719"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now addressed in f0df9ee5d",
      "commit_id" : "7b69b99f9614c9eb0325bd46731f9f2f6982af52",
      "created_at" : "2023-02-13T14:03:09Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104511719",
      "id" : 1104511719,
      "in_reply_to_id" : 1104364182,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B1YLn",
      "original_commit_id" : "4c14a22876cb2327e03d84a99a8c7fa3cd4c344d",
      "original_line" : 444,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1295705602,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104511719/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T14:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104511719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104520762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104520762"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> 2\\. What is the point to run this code when `net_specific == false`?\r\n\r\n> 2\\. When run with `net_specific = false`, this will return the general `DataDir`, e.g. `$HOME/.bitcoin` and with `true` will return the network-specific DataDir e.g. `$HOME/.bitcoin/regtest`\r\n\r\nSorry, if my question was unclear. My point is whether we are interested in the `wallet` directory when `net_specific = false`?\r\n",
      "commit_id" : "7b69b99f9614c9eb0325bd46731f9f2f6982af52",
      "created_at" : "2023-02-13T14:09:21Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104520762",
      "id" : 1104520762,
      "in_reply_to_id" : 1104384205,
      "line" : 446,
      "node_id" : "PRRC_kwDOABII585B1aY6",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 446,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 22,
      "pull_request_review_id" : 1295718268,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104520762/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T14:10:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104520762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104579180"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104579180"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I did some digging, and I think (would be nice to get more confirmation on this) we can scrap the `net_specific == false` version entirely, we don't seem to need it. `EnsureDataDir` is called 3 times: 2 times right before reading config files - but it looks like we don't actually need to ensure a datadir there. If datadir doesn't exist, by definition no config files can be read (and that's handled gracefully). The only time we need it is where `net_specific==true`.\r\n\r\nIntuitively, this makes sense - it can never hurt to ensure that all the necessary datadirs (both base as well as the more specific net) exist. However, there actually is a pitfall, because `GetDataDir()` [does some caching](https://github.com/bitcoin/bitcoin/blob/8126551d54ffd290ed5767248be4b3d19243787b/src/util/system.cpp#L420-L422), we're [not allowed](https://github.com/bitcoin/bitcoin/blob/8126551d54ffd290ed5767248be4b3d19243787b/src/qt/bitcoin.cpp#L598) to call `GetDatDir(true)` before we've determined the network we're on (which requires us to first read the basedir and check if there's a config file there).\r\n\r\nFor that reason, I think calling it `EnsureDataDirNet` is probably better - and aligns with `GetDataDirNet` naming.\r\n\r\n<details>\r\n<summary>git diff (quick patch just to prototype)</summary>\r\n\r\n```diff\r\ndiff --git a/src/bitcoind.cpp b/src/bitcoind.cpp\r\nindex 3a36ff700..07002cc8a 100644\r\n--- a/src/bitcoind.cpp\r\n+++ b/src/bitcoind.cpp\r\n@@ -153,7 +153,6 @@ static bool AppInit(NodeContext& node, int argc, char* argv[])\r\n         if (!CheckDataDirOption()) {\r\n             return InitError(Untranslated(strprintf(\"Specified data directory \\\"%s\\\" does not exist.\\n\", args.GetArg(\"-datadir\", \"\"))));\r\n         }\r\n-        args.EnsureDataDir(/*net_specific=*/false);\r\n         if (!args.ReadConfigFiles(error, true)) {\r\n             return InitError(Untranslated(strprintf(\"Error reading configuration file: %s\\n\", error)));\r\n         }\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex 80e607f77..59f433749 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -596,7 +596,6 @@ int GuiMain(int argc, char* argv[])\r\n     try {\r\n         /// 6b. Parse bitcoin.conf\r\n         /// - Do not call gArgs.GetDataDirNet() before this step finishes\r\n-        gArgs.EnsureDataDir(/*net_specific=*/false);\r\n         if (!gArgs.ReadConfigFiles(error, true)) {\r\n             InitError(strprintf(Untranslated(\"Error reading configuration file: %s\\n\"), error));\r\n             QMessageBox::critical(nullptr, PACKAGE_NAME,\r\ndiff --git a/src/util/system.cpp b/src/util/system.cpp\r\nindex 329100008..75fd91516 100644\r\n--- a/src/util/system.cpp\r\n+++ b/src/util/system.cpp\r\n@@ -439,9 +439,9 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\r\n     return path;\r\n }\r\n \r\n-void ArgsManager::EnsureDataDir(bool net_specific)\r\n+void ArgsManager::EnsureDataDirNet()\r\n {\r\n-    fs::path path = GetDataDir(net_specific);\r\n+    fs::path path = GetDataDir(true);\r\n     if (!fs::exists(path)) {\r\n         fs::create_directories(path / \"wallets\");\r\n     }\r\n@@ -492,7 +492,7 @@ bool ArgsManager::IsArgSet(const std::string& strArg) const\r\n \r\n bool ArgsManager::InitSettings(std::string& error)\r\n {\r\n-    EnsureDataDir(/*net_specific=*/true);\r\n+    EnsureDataDirNet();\r\n     if (!GetSettingsPath()) {\r\n         return true; // Do nothing if settings file disabled.\r\n     }\r\ndiff --git a/src/util/system.h b/src/util/system.h\r\nindex 3bcbd5c8e..23c15228e 100644\r\n--- a/src/util/system.h\r\n+++ b/src/util/system.h\r\n@@ -478,10 +478,8 @@ protected:\r\n \r\n     /**\r\n      * Create data directory if it doesn't exist\r\n-     *\r\n-     * @param net_specific Create a network-identified data directory\r\n      */\r\n-    void EnsureDataDir(bool net_specific);\r\n+    void EnsureDataDirNet();\r\n \r\n private:\r\n     /**\r\n```\r\n</details>",
      "commit_id" : "7b69b99f9614c9eb0325bd46731f9f2f6982af52",
      "created_at" : "2023-02-13T14:52:24Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1104579180",
      "id" : 1104579180,
      "in_reply_to_id" : 1104386865,
      "line" : 442,
      "node_id" : "PRRC_kwDOABII585B1ops",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 18,
      "pull_request_review_id" : 1295806819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104579180/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-13T14:52:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1104579180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Does/can this also close #16220?",
      "created_at" : "2023-02-13T14:54:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1428074269",
      "id" : 1428074269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VHq8d",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428074269/reactions"
      },
      "updated_at" : "2023-02-13T14:54:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428074269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Does/can this also close #16220?\r\n\r\nI will check this out, specifically w.r.t this comment which I had not been considering:\r\n\r\n> It would be, however the reason that wallets/ is not created when the .bitcoin directory already exists is backwards compatibility. If there is an existing datadir but no wallets directory it's assumed to be an old data directory, and creating wallets would effectively hide the existing wallets in the top level dir, possibly leading to people to suspect loss of funds.",
      "created_at" : "2023-02-13T15:09:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1428104313",
      "id" : 1428104313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VHyR5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428104313/reactions"
      },
      "updated_at" : "2023-02-13T15:09:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1428104313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I will check this out, specifically w.r.t this comment which I had not been considering:\r\n\r\nI don't believe this fully closes the loop on #16220, but I am also not sure that we ever will close that fully whilst also providing backwards-compatibility...\r\n\r\nThere can exist currently two different working wallet configurations:\r\n\r\n1. Legacy: wallets in subfolders in top-level, e.g. `~/.bitcoin/test-wallet/wallet.dat` or `~/.bitcoin/regtest/test-wallet/wallet.dat`\r\n2. Current: wallets in wallets/ subfolder, e.g. `~/.bitcoin/wallets/test-wallet/wallet.dat` or `~/.bitcoin/regtest/wallets/test-wallet/wallet.dat`\r\n\r\nThe current init logic (preserved by this PR) is that we will check for the presence of `.bitcoin/` dir, and if it exists then use it as DataDir and take no further action. If it does not exist, then we will create it, **along with** a `wallets/` subdirectory. This allows old installs to continue without \"disappearing wallets\", as described by #16220.\r\n\r\nWithout implementing some brittle filesystem-checking code as laanwj described, I don't see this as really \"fixable\" (and probably that issue should be closed). One way of doing it could be to recursively check each subdir not called `wallets/` in the datadir for the presence of `*.dat` files, but I don't much like that idea.\r\n\r\n----\r\nsidenote: I notice in testing this that `loadwallet` RPC says that it can take a path to a `wallet.dat` file, to load the wallet, which I found not to work at all, whether or not the wallet was in a wallets/ subdir or not (and IIRC from another recent issue it is not supposed to work like this, so could do with helptext being updated):\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/2c1fe27bf3c1e504864987cbe80f9c24897d3cb1/src/wallet/rpc/wallet.cpp#L203\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```fish\r\nwill@ubuntu in ~/src/bitcoin on î  2022-02-cli-datadir [$â] via ð v3.7.16\r\nâ /home/will/src/bitcoin/src/bitcoin-cli loadwallet ~/.bitcoin/test/wallet.dat\r\nerror code: -4\r\nerror message:\r\nWallet file verification failed. Invalid -wallet path '/home/will/.bitcoin/test/wallet.dat'. -wallet path should point to a directory where wallet.dat and database/log.?????????? files can be stored, a location where such a directory could be created, or (for backwards compatibility) the name of an existing data file in -walletdir (\"/home/will/.bitcoin\")\r\n\r\nwill@ubuntu in ~/src/bitcoin on î  2022-02-cli-datadir [$â] via ð v3.7.16\r\n\r\n####\r\n# Moved wallet from ~/.bitcoin/test/wallet.dat to ~/.bitcoin/wallet.dat\r\n####\r\n\r\nâ /home/will/src/bitcoin/src/bitcoin-cli loadwallet ~/.bitcoin/wallet.dat\r\nerror code: -4\r\nerror message:\r\nWallet file verification failed. Invalid -wallet path '/home/will/.bitcoin/wallet.dat'. -wallet path should point to a directory where wallet.dat and database/log.?????????? files can be stored, a location where such a directory could be created, or (for backwards compatibility) the name of an existing data file in -walletdir (\"/home/will/.bitcoin\")\r\n```\r\n\r\n</details>\r\n",
      "created_at" : "2023-02-14T09:47:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429434184",
      "id" : 1429434184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VM29I",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429434184/reactions"
      },
      "updated_at" : "2023-02-14T09:47:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429434184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1105549095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105549095"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, I have updated to `EnsureDataDirNet` as suggested",
      "commit_id" : "41e9a810837b1c1eb497c2c22a6fa9873f379836",
      "created_at" : "2023-02-14T09:49:17Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1105549095",
      "id" : 1105549095,
      "in_reply_to_id" : 1104386865,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585B5Vcn",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 442,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 1297201075,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105549095/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-14T09:49:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105549095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1105552243"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105552243"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now updated to `EnsureDataDirNet` which always creates the `wallets/` path if it's creating a new DataDir, but otherwise doesn't.",
      "commit_id" : "41e9a810837b1c1eb497c2c22a6fa9873f379836",
      "created_at" : "2023-02-14T09:52:03Z",
      "diff_hunk" : "@@ -432,20 +432,21 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir(bool net_specific)\n+{\n+    fs::path path = GetDataDir(net_specific);\n+    if (!fs::exists(path)) {\n+        fs::create_directories(path / \"wallets\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1105552243",
      "id" : 1105552243,
      "in_reply_to_id" : 1104384205,
      "line" : 446,
      "node_id" : "PRRC_kwDOABII585B5WNz",
      "original_commit_id" : "08a523829ab39f2570cd5884edfaeef4457f62b8",
      "original_line" : 446,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 22,
      "pull_request_review_id" : 1297205853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105552243/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-14T09:52:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1105552243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't particularly want to feature-creep too much, but another adjacent issue is https://github.com/bitcoin/bitcoin/issues/19990\r\n\r\nWhich could potentially be addressed in this PR too if desired?",
      "created_at" : "2023-02-14T10:35:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429498959",
      "id" : 1429498959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VNGxP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429498959/reactions"
      },
      "updated_at" : "2023-02-14T10:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429498959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I could be wrong, but the current version of this 41e9a810837b1c1eb497c2c22a6fa9873f379836 appears to change behavior by only creating the `<datadir>/<netdir>/wallets` directory, and no longer creating the `<datadir>/wallets` one level up if `<datadir>` did not exist.\r\n\r\nThis seems like a potentially bad thing, because if testnet or signet or regtest bitcoin is started before mainnet bitcoin, mainnet wallets will go be created in `<datadir>` not `<datadir>/wallets` as intended. I think more ideally this PR would just refactor the code as desired without changing behavior.",
      "created_at" : "2023-02-14T16:00:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429983108",
      "id" : 1429983108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VO8-E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429983108/reactions"
      },
      "updated_at" : "2023-02-14T16:01:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1429983108",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @ryanofsky that was unintentional and is now fixed. The only behaviour change is now in `bitcoin-cli`.\r\n\r\nThis does still leave us with the (undesirable) behaviour described in https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1429434184. It seems likely a likely flow that a user might download bitcoin core, create `bitcoin.conf` and then run the application, which results in *not* creating a `wallets/` subdir on mainnet (and technically other networks, but it's unlikely a new user would manually create those subdirectories). E.g. the following:\r\n\r\n```fish\r\n$ mkdir ~/.bitcoin\r\n$ echo \"all_my_settings\" >> ~/.bitcoin/bitcoin.conf\r\n$ bitcoind    # first run\r\n$ find .bitcoin -type d\r\n.bitcoin\r\n.bitcoin/chainstate\r\n.bitcoin/blocks\r\n.bitcoin/blocks/index   # no wallets/ subdir created as datadir already existed\r\n\r\n$ bitcoind -regtest\r\n$ find .bitcoin -type d\r\n.bitcoin\r\n.bitcoin/chainstate\r\n.bitcoin/regtest\r\n.bitcoin/regtest/wallets    # created as regtest subdir did not already exist, even though datadir did\r\n.bitcoin/regtest/chainstate\r\n.bitcoin/regtest/blocks\r\n.bitcoin/regtest/blocks/index\r\n.bitcoin/blocks\r\n.bitcoin/blocks/index\r\n```\r\n\r\nBut I think this is something for a different PR to fix.",
      "created_at" : "2023-02-15T10:42:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1431124511",
      "id" : 1431124511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VTTof",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431124511/reactions"
      },
      "updated_at" : "2023-02-15T10:42:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1431124511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107037794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107037794"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The behavior has been slightly changed:\r\n\r\n- on master:\r\n```\r\n$ ./src/qt/bitcoin-qt -regtest -conf=nothing\r\nError: Error reading configuration file: specified config file \"nothing\" could not be opened.\r\n\r\n```\r\n\r\n- this PR (6207b73e508d6cfc7583483d00261c66b0c348c3):\r\n```\r\n$ ./src/qt/bitcoin-qt -regtest -conf=nothing\r\nError: Error reading configuration file: specified config file \"/home/hebasto/.bitcoin/nothing\" could not be opened.\r\n\r\n```\r\n\r\nIf it is intended, maybe document it?",
      "commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "created_at" : "2023-02-15T12:03:47Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107037794",
      "id" : 1107037794,
      "line" : 975,
      "node_id" : "PRRC_kwDOABII585B_A5i",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 975,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 57,
      "pull_request_review_id" : 1299361908,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107037794/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T12:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107037794",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107231839"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107231839"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Right that's a good catch. We still _behave_ the same as previously, either fetching `conf` from an absolute path or completing the path with default datadir, but now because I simplified [reading the conf into a stream](https://github.com/bitcoin/bitcoin/pull/27073/commits/6207b73e508d6cfc7583483d00261c66b0c348c3#diff-19427b0dd1a791adc728c82e88f267751ba4f1c751e19262cac03cccd2822216L993), we return the full path we were trying in the error.\r\n\r\nI agree that therefore there is a slight behaviour change, and personally I think this is more desirable than previously, where users were not told the absolute path the program was searching on for the config I would prefer to keep it this way, but not sure what documentation you would suggest adding in this case?",
      "commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "created_at" : "2023-02-15T14:53:48Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107231839",
      "id" : 1107231839,
      "in_reply_to_id" : 1107037794,
      "line" : 975,
      "node_id" : "PRRC_kwDOABII585B_wRf",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 975,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 57,
      "pull_request_review_id" : 1299656972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107231839/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T14:53:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107231839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107255177"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107255177"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> ... not sure what documentation you would suggest adding in this case?\r\n\r\nThe PR description? A commit message?",
      "commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "created_at" : "2023-02-15T15:11:21Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107255177",
      "id" : 1107255177,
      "in_reply_to_id" : 1107037794,
      "line" : 975,
      "node_id" : "PRRC_kwDOABII585B_1-J",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 975,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 57,
      "pull_request_review_id" : 1299692412,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107255177/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T15:11:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107255177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107257611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107257611"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm curious now, why functional tests did not catch this change?",
      "commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "created_at" : "2023-02-15T15:13:15Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107257611",
      "id" : 1107257611,
      "in_reply_to_id" : 1107037794,
      "line" : 975,
      "node_id" : "PRRC_kwDOABII585B_2kL",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 975,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 57,
      "pull_request_review_id" : 1299696161,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107257611/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-15T15:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1107257611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1109015893"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109015893"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The reason is that we do not test relative `-conf=` arguments [here](https://github.com/bitcoin/bitcoin/blob/73966f75f67fb797163f0a766292a79d4b2c1b70/test/functional/feature_config_args.py#L287), even though we pass a realtive conf argument in.\r\n\r\nThis means that we are only testing the `os.path.join` sum of default `DataDir` and the relative arg.",
      "commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "created_at" : "2023-02-16T20:57:25Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1109015893",
      "id" : 1109015893,
      "in_reply_to_id" : 1107037794,
      "line" : 975,
      "node_id" : "PRRC_kwDOABII585CGj1V",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 975,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 57,
      "pull_request_review_id" : 1302268033,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109015893/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-16T20:57:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1109015893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1110294446"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110294446"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"util: add ArgsManager datadir helper functions\" (f9ee6df4c08a8ef63900359b6c3564db1d4f5073)\r\n\r\nMaybe add comment about why this is creating wallet directories. Could say something like: \r\n\r\n\"wallets\" subdirectories are created in all new datadirs, because wallet code will create new wallets in the \"wallets\" subdirectory only if exists already, otherwise it will create them in the top-level datadir where they could interfere with other files. Wallet init code currently avoids creating \"wallets\" directories itself for backwards compatibility, but this be changed in the future (https://github.com/bitcoin/bitcoin/issues/16220) and wallet code here could away.",
      "commit_id" : "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "created_at" : "2023-02-17T19:56:35Z",
      "diff_hunk" : "@@ -432,20 +431,25 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir()\n+{\n+    auto path{GetDataDir(false)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1110294446",
      "id" : 1110294446,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII585CLb-u",
      "original_commit_id" : "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "original_line" : 443,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 30,
      "pull_request_review_id" : 1304123788,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110294446/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-18T16:32:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1110294446",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1111053194"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111053194"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1107231839\r\n\r\nAgree new behavior is better than old behavior:\r\n\r\n- Having absolute path of the file that could not be loaded provides more information to users\r\n- Internally, new code avoids confusing side effect of `GetConfigFile` actually creating the datadir directory instead of just returning a path string",
      "commit_id" : "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "created_at" : "2023-02-18T15:54:01Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1111053194",
      "id" : 1111053194,
      "in_reply_to_id" : 1107037794,
      "line" : 975,
      "node_id" : "PRRC_kwDOABII585COVOK",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 975,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 57,
      "pull_request_review_id" : 1304123788,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111053194/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-18T16:30:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111053194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nYou can mark both `GetConfigFilePath` and `EnsureDataDir` as `const`.",
      "created_at" : "2023-02-20T09:37:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1436632437",
      "id" : 1436632437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585VoUV1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436632437/reactions"
      },
      "updated_at" : "2023-02-20T09:37:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436632437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1111781354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111781354"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added in https://github.com/bitcoin/bitcoin/commit/5626101c8d385501a60e231bbbdda9439af5e881",
      "commit_id" : "0af17e161d751b15f90615800411f36e11b3fcde",
      "created_at" : "2023-02-20T10:51:51Z",
      "diff_hunk" : "@@ -432,20 +431,25 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n         path = GetDefaultDataDir();\n     }\n \n-    if (!fs::exists(path)) {\n-        fs::create_directories(path / \"wallets\");\n-    }\n-\n     if (net_specific && !BaseParams().DataDir().empty()) {\n         path /= fs::PathFromString(BaseParams().DataDir());\n-        if (!fs::exists(path)) {\n-            fs::create_directories(path / \"wallets\");\n-        }\n     }\n \n     return path;\n }\n \n+void ArgsManager::EnsureDataDir()\n+{\n+    auto path{GetDataDir(false)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1111781354",
      "id" : 1111781354,
      "in_reply_to_id" : 1110294446,
      "line" : 443,
      "node_id" : "PRRC_kwDOABII585CRG_q",
      "original_commit_id" : "64b812e9a6df8fb4ec96b978a08dc9bde2ada2f0",
      "original_line" : 443,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 30,
      "pull_request_review_id" : 1305531931,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111781354/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-20T10:51:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1111781354",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept ACK\r\n> \r\n> You can mark both `GetConfigFilePath` and `EnsureDataDir` as `const`.\r\n\r\nUpdated in 5626101",
      "created_at" : "2023-02-20T10:52:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1436739879",
      "id" : 1436739879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585Voukn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436739879/reactions"
      },
      "updated_at" : "2023-02-20T10:52:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1436739879",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1114423128"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114423128"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"util: make GetDataDir read-only & create datadir..\" (0af17e161d751b15f90615800411f36e11b3fcde)\r\n\r\nWould be good to move this comment from the `EnsureDataDir` declaration to the `EnsureDataDir` implementation. The comment is trying to explain the confusing `create_directories(\"wallets\")` calls there, so probably more helpful next to those calls.\r\n\r\nIt would be good to have API documentation for the two new functions though. I would move the function descriptions you wrong in the commit message out of the commit message and into `system.h` comments.",
      "commit_id" : "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "created_at" : "2023-02-22T14:43:53Z",
      "diff_hunk" : "@@ -475,6 +476,17 @@ class ArgsManager\n      */\n     void LogArgs() const;\n \n+    /** If datadir does not exist, create it along with wallets/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1114423128",
      "id" : 1114423128,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CbL9Y",
      "original_commit_id" : "5626101c8d385501a60e231bbbdda9439af5e881",
      "original_line" : 479,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 1309386491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114423128/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-22T18:15:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114423128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1115361129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115361129"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Closing as I think this is resolved",
      "commit_id" : "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "created_at" : "2023-02-23T08:29:22Z",
      "diff_hunk" : "@@ -965,6 +970,11 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, const std::string& file\n     return true;\n }\n \n+fs::path ArgsManager::GetConfigFilePath()\n+{\n+    return GetConfigFile(GetPathArg(\"-conf\", BITCOIN_CONF_FILENAME));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1115361129",
      "id" : 1115361129,
      "in_reply_to_id" : 1107037794,
      "line" : 984,
      "node_id" : "PRRC_kwDOABII585Cew9p",
      "original_commit_id" : "6207b73e508d6cfc7583483d00261c66b0c348c3",
      "original_line" : 984,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 66,
      "pull_request_review_id" : 1310799327,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115361129/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-23T08:29:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115361129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1115385741"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115385741"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated in 56e370fbb9413260723c598048392219b1055ad0",
      "commit_id" : "64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "created_at" : "2023-02-23T08:54:48Z",
      "diff_hunk" : "@@ -475,6 +476,17 @@ class ArgsManager\n      */\n     void LogArgs() const;\n \n+    /** If datadir does not exist, create it along with wallets/",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#discussion_r1115385741",
      "id" : 1115385741,
      "in_reply_to_id" : 1114423128,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ce2-N",
      "original_commit_id" : "5626101c8d385501a60e231bbbdda9439af5e881",
      "original_line" : 479,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 1310836196,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27073",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115385741/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-23T08:54:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1115385741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 64c105442ce8c10900ea6fbecdbcfebe42f2d387",
      "created_at" : "2023-02-23T21:29:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27073#issuecomment-1442456504",
      "id" : 1442456504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27073",
      "node_id" : "IC_kwDOABII585V-iO4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1442456504/reactions"
      },
      "updated_at" : "2023-02-23T21:29:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1442456504",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
