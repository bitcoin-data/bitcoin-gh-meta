{
   "active_lock_reason" : "resolved",
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "I believe that the setBestChain-signal should be triggered After we sync the txs.\nI tested in regtest, if we write the chainstate, trigger setBestChain, and\nthen crash before syncing the txs, we dont rescan them.\nThe same test after this patch showed \"Rescanning...\" in the\nlog file.\n\nLooking at old code this was always the case, but has been changed due to refactorings.\nAlso after this patch, the signal is not triggered for disconnectTip(..) anymore.\nI think it doesnt make much sense to trigger there, wasnt the case in old code either.\n",
   "closed_at" : "2014-09-15T08:33:15Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 9,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4798/comments",
   "created_at" : "2014-08-31T03:15:40Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4798/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/4798",
   "id" : 41577250,
   "labels" : [
      {
         "color" : "08a781",
         "default" : false,
         "description" : null,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4798/labels{/name}",
   "locked" : true,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MjA1NDE2MzM=",
   "number" : 4798,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/4798.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4798",
      "merged_at" : "2014-09-15T08:33:15Z",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/4798.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4798"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4798/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4798/timeline",
   "title" : "Move g_signals.SetBestChain(..) below SyncWithWallets",
   "updated_at" : "2021-09-08T10:40:29Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4798",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=4",
      "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
      "followers_url" : "https://api.github.com/users/cozz/followers",
      "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
      "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/cozz",
      "id" : 2814559,
      "login" : "cozz",
      "node_id" : "MDQ6VXNlcjI4MTQ1NTk=",
      "organizations_url" : "https://api.github.com/users/cozz/orgs",
      "received_events_url" : "https://api.github.com/users/cozz/received_events",
      "repos_url" : "https://api.github.com/users/cozz/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/cozz"
   }
}
