[
   {
      "author_association" : "MEMBER",
      "body" : "Nitty suggestion: call it -rpckeepalive with default value 1.\n",
      "created_at" : "2015-01-14T02:06:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69857928",
      "id" : 69857928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODU3OTI4",
      "updated_at" : "2015-01-14T02:06:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69857928",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fair enough.\n",
      "created_at" : "2015-01-14T02:18:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69858895",
      "id" : 69858895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODU4ODk1",
      "updated_at" : "2015-01-14T02:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69858895",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Somehow related to #5526.\n",
      "created_at" : "2015-01-14T04:47:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69868781",
      "id" : 69868781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODY4Nzgx",
      "updated_at" : "2015-01-14T04:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69868781",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is there any practical advantage to having http keep-alive support in Bitcoin Core? \ne.g. the \"pipeline a lot of requests\" case we already support RPC batching.\nRPC is meant as a local mechanism, so any latency for setting up a new TCP connection will be dwarfed by, say, parsing overhead.\n\nLooks like something that is _reasonably_ hard to handle right in client libraries, although OTOH they could just send a `Connection: close` header.\n\nOn the server side, a well-behaved implementation would disconnect if no new request comes in after ~15 seconds. Which we don't.\n\nAlso taking #5526 into account: +1 for nuking this functionality (or at least disabling by default) for now.\n",
      "created_at" : "2015-01-14T07:24:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69878378",
      "id" : 69878378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODc4Mzc4",
      "updated_at" : "2015-01-14T07:32:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69878378",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Because i recently analyzed the http behavior i allow myself to comment on this:\nIMO the problem of blocking or say open connections from/to clients is the missing timeout implementation. Disabling http keep-alive option alone will not prevent from dead-and-open connection because the implementation currently uses the blocking `getline()`. If a malfunction client is not sending a valid http request, it can end up with a never closed connection until a restart of bitcoind.\n\nBut right, the keep-alive option is questionable. I assume most RPC connection are coming from localhost or LAN. IMO there is no big benefit of saving http overhead with keep-alive. Therefor i can ACK disabling keep-alive in general or over the flag.\n\nBut still there is a need for implementing a non-blocking way of handling connection with a proper http timeout according to #5526 (see @jgarzik info there).\n",
      "created_at" : "2015-01-14T08:04:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69881822",
      "id" : 69881822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODgxODIy",
      "updated_at" : "2015-01-14T08:04:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69881822",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Based on conversation with @laanwj I've switched this off by default. This is actually my preference; but I expected to be alone in the opinion that we should just shut it off until it works better, at least for 0.10. \n",
      "created_at" : "2015-01-14T08:35:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69884536",
      "id" : 69884536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODg0NTM2",
      "updated_at" : "2015-01-14T08:35:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69884536",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK\nnit: you need to remove or rewrite the recently added rcp-test (httpbasics.py)\n",
      "created_at" : "2015-01-14T09:43:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69891571",
      "id" : 69891571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODkxNTcx",
      "updated_at" : "2015-01-14T09:43:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69891571",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonaschnelli Looks like the test framework has no easy way to pass extra arguments to bitcoind :( \nAdded it in https://github.com/laanwj/bitcoin/tree/2015_01_fix_tests_for_5655\n\n@gmaxwell you can cherry-pick https://github.com/laanwj/bitcoin/commit/4c65e99ed84cf3da1b91efaabe5e85b11333df1a to make this pass travis again\n",
      "created_at" : "2015-01-14T11:54:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69905986",
      "id" : 69905986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTA1OTg2",
      "updated_at" : "2015-01-14T11:54:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69905986",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj: test looks good but I would recommend to also add a tiny check if keep-alive is disabled when starting a node without the new arg.\n\nI can also add a commit on top of yours if you like to have this additional test but lack of time to do it.\n",
      "created_at" : "2015-01-14T12:16:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69908139",
      "id" : 69908139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTA4MTM5",
      "updated_at" : "2015-01-14T12:16:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69908139",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli more tests is always good, you could e.g. start one of the four nodes without the option (it passes extraargs for every node individually) and then try that out. I don't have time right now.\n",
      "created_at" : "2015-01-14T12:19:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69908435",
      "id" : 69908435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTA4NDM1",
      "updated_at" : "2015-01-14T12:19:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69908435",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5655#discussion_r22938730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5655"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22938730"
         }
      },
      "body" : "Can you please use the format from rpcthreads, which allows changing defaults without the need for re-translating the help message (use ``strprintf``)?",
      "commit_id" : "1dd8ee72afc26191da51d8d3a5590eab7c9368f6",
      "created_at" : "2015-01-14T14:25:08Z",
      "diff_hunk" : "@@ -380,6 +380,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += \"  -rpcport=<port>        \" + strprintf(_(\"Listen for JSON-RPC connections on <port> (default: %u or testnet: %u)\"), 8332, 18332) + \"\\n\";\n     strUsage += \"  -rpcallowip=<ip>       \" + _(\"Allow JSON-RPC connections from specified source. Valid for <ip> are a single IP (e.g. 1.2.3.4), a network/netmask (e.g. 1.2.3.4/255.255.255.0) or a network/CIDR (e.g. 1.2.3.4/24). This option can be specified multiple times\") + \"\\n\";\n     strUsage += \"  -rpcthreads=<n>        \" + strprintf(_(\"Set the number of threads to service RPC calls (default: %d)\"), 4) + \"\\n\";\n+    strUsage += \"  -rpckeepalive          \" + _(\"RPC support for HTTP persistent connections (default: 0)\") + \"\\n\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#discussion_r22938730",
      "id" : 22938730,
      "original_commit_id" : "9ed055ef8f0a94901949b9d77b15ad277cf4ef91",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5655",
      "updated_at" : "2015-01-14T17:50:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22938730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gmaxwell you might also pull in https://github.com/jonasschnelli/bitcoin/commit/c9792d1363c914737aad4bfc727e523d1d68c4cd\nThis will extend the tests.\n",
      "created_at" : "2015-01-14T15:37:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69934417",
      "id" : 69934417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTM0NDE3",
      "updated_at" : "2015-01-14T15:37:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69934417",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Diapolo Thanks for the air-cover on the translation strings.\n",
      "created_at" : "2015-01-14T18:06:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-69961703",
      "id" : 69961703,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTYxNzAz",
      "updated_at" : "2015-01-14T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69961703",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested again ACK.\n",
      "created_at" : "2015-01-15T08:09:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70052219",
      "id" : 70052219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDUyMjE5",
      "updated_at" : "2015-01-15T08:09:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70052219",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Cherry-picked to 0.10 branch via aaf55d25c6191c0effd5fa5dd5d2d0f17e715854\n",
      "created_at" : "2015-01-15T09:19:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70058859",
      "id" : 70058859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDU4ODU5",
      "updated_at" : "2015-01-15T09:19:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70058859",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Did anyone research the reason for adding keep-alive support?\n\nTurning this option on by default will now break those clients that were fixed, yes?\n",
      "created_at" : "2015-01-15T13:39:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70086284",
      "id" : 70086284,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDg2Mjg0",
      "updated_at" : "2015-01-15T13:39:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70086284",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "#1101 is related, was basically merged via https://github.com/luke-jr/bitcoin/commit/7ee8f04aa18052b269c74fc1488ac65b8ce2359b\n\nSee also: https://github.com/bitcoin/bitcoin/pull/214#issuecomment-1491291\n\nOnce there was a open PR of a asio implementation of the RPC server (https://github.com/bitcoin/bitcoin/pull/214 wonder why this never made it to the master).\n",
      "created_at" : "2015-01-15T13:47:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70087275",
      "id" : 70087275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDg3Mjc1",
      "updated_at" : "2015-01-15T13:47:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70087275",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jgarzik The reason clients break is a combination of a bug in the client - not effectively reusing open connections -  and misbehavior at our side - not properly timing out unused connections.\n\nDisabling keep-alive is always safe: clients know that they have to reconnect if the server slams the connection (especially as  the Connection: Close header is sent).\n\nThe option can be safely reenabled by default again as soon as the problems on our side are fixed. Hopefully the client issues are also solved by that time, but it's not necessary as we'll be robust against them.\n\n@jonasschnelli Probably because there was no testing suite for RPC back then. Swapping the RPC server implementation is extremely risky if you are working blindly.\n",
      "created_at" : "2015-01-15T14:14:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70090719",
      "id" : 70090719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDkwNzE5",
      "updated_at" : "2015-01-15T14:14:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70090719",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj \"Disabling keep-alive is always safe\"  Wrong.  This demonstrates the need to **research why a code change was added** before disabling it!\n\nThe keep-alive feature was added [in part] because the repeated open/close cycles of many clients would eventually cause a hang due to so many local sockets in TIME_WAIT.\n\nDisabling keep-alive will resurrect that problem, **introducing hangs** into working client scenarios.\n\nTelling users with working setups to rewrite their working code to use batches is a big request.\n",
      "created_at" : "2015-01-15T19:00:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70140899",
      "id" : 70140899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTQwODk5",
      "updated_at" : "2015-01-15T19:01:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70140899",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jgarzik's concerns sounds realistic to me.\nWhat if we just switch the default for `-rpckeepalive` from the current `false` to `true`?\nThen users with client behaviors after @gmaxwell can still disable it.\n\nBut the long term goal are unclear to me now.\nWould it make sense to rewrite the RPC server into the direction of https://github.com/jgarzik/rpcsrv?\nGavin also wrote today on IRC: \n\n> If we did RPC again, I think a binary zeromq channel would be the way to go. Maybe with a little python listener that did JSON, if you want JSON.....\n\nMaybe there should be a consensus direction to where the RPC implementations should go to so somebody could start working on it.\n",
      "created_at" : "2015-01-15T19:33:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70146563",
      "id" : 70146563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTQ2NTYz",
      "updated_at" : "2015-01-15T19:33:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70146563",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This is an example of a bug that this change **re-introduces** to bitcoind: https://github.com/bitcoin/bitcoin/issues/344\n\nOr just google for bitcoind TIME_WAIT.\n\nMerging this into 0.10 creates obvious regressions.\n",
      "created_at" : "2015-01-15T20:42:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70157929",
      "id" : 70157929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTU3OTI5",
      "updated_at" : "2015-01-15T20:42:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70157929",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Jeff, I believe I read _every_ commit and PR related to the introduction of persistent connections. Not a single one of them mentioned this. I also initially created this a a default no change in behavior in the interest of being conservative, but unfortunately; you can't tell if it's the broken persistent connection support thats breaking you: it just looks like Bitcoin core is unresponsive. \n\nIn the future if a commit fixes a problem it would be helpful if it were mentioned in the commit message. \n\nThe last round of changes that impacted our persistent connections was a massive regression which caused complaints from many users-- many more than the time_wait complaint. Apparently after our failure to do anything about it many people just stuck on 0.8.1. This is particularly problematic because some of the most frequently impacted parties were miners. I've also been told at conferences by various service providers that they'd switched to using hosted APIs due to Bitcoin core being unresponsive, which made no sense to me at the time. In the new light of being reminded why miners were staying stuck on 0.8.1, it finally does make sense.\n\nI'm open to having persist default to on (after all, that was my original PR),  but I think that doing so may be a mistake unless we really have reason to believe the timewait problems are more frequent than the others. I also think persistent connections are not the right solution for timewait in any case: isn't the correct solution SO_REUSEADDR?\n\n(I'm travelling today and won't be submitting any commits, so don't feel like waiting for me is required)\n",
      "created_at" : "2015-01-15T21:14:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70162936",
      "id" : 70162936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTYyOTM2",
      "updated_at" : "2015-01-15T21:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70162936",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The original genesis of keep-alive support is that it was originally written (by JoelKatz?) to work around problems that miners were seeing with the original open/close/open/close behavior that leaves behind reams of TIME_WAIT etc. sockets, eventually leading to a non-responsive bitcoind.\n\nRE `SO_REUSEADDR`, that is for servers restarting, not clients reconnecting.  It does not help this situation, where the server (pre-KA & post-KA) is not closing+reopening the server socket.\n\nDefaulting KA-off in 0.10 with little testing and thought to user impact is not a good choice so late in the release cycle.\n\nFor users whom this will actually break, the only salve we have offered is\n_e.g. the \"pipeline a lot of requests\" case we already support RPC batching._\n\nThat is not what we should be telling production users with code that works today.\n",
      "created_at" : "2015-01-15T21:29:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70165338",
      "id" : 70165338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTY1MzM4",
      "updated_at" : "2015-01-15T21:33:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70165338",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jgarzik \"the only salve we have offered is\"  not so:  \"turn keep alive back on\"-- it's a flag, it's documented in the help output. I'm not making an argument if this is sufficient or not; just pointing it out: I wouldn't introduce a change in behavior like this without at least a switch to get the old behavior back.\r\n\r\nWe have multiple reports that the software is unusable since 0.8.1. We got a rash of complaints even from the few who figured out what was up, to the point where people stopped complaining but stayed with old versions. Doing nothing at all isn't acceptable either.  It's not acceptable for us to do nothing. Again.\r\n\r\nSorry that I'm not maximally up to speed on the issues people saw with sockets in time_wait; it's not super well documented (even on that complaint) what the issue is:  My current understanding is that clients are making connections and closing them. The client's outbound socket sticks around in TIME_WAIT for two minutes (with common TCP settings).  If the client makes more than about 275 connections (32768 high ports vs 120 seconds) per second, they risk running out of ephemeral sockets toward the particular server address:port..   If so, I can see that behavior, but my quick test while on an airplane wasn't able to make enough requests per second to actually observe it running out.\r\n\r\nDo we have a reproduction? The issue this change addressed is easily reproducible and has been reported many times now and considering how tricky it is to figure out the cause (instead of mistaking it for 'bitcoind hags') that is quite concerning.\r\n",
      "created_at" : "2015-01-16T01:45:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70196150",
      "id" : 70196150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTk2MTUw",
      "updated_at" : "2019-03-06T11:48:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70196150",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The reproducer was typically high speed 'getwork' traffic from generation-1 pool server proxies, but non-miners were also able to make it fail with high speed wallet RPCs. 275/second would be a low number versus historical examples.\n\nRE flag:  It's still a behavior change that forces clients to fix their software -- software that has been working for years -- with very little warning.\n\nThis behavior change was merged at the last minute during an -rc cycle.  It is simply too risky to turn keep-alive off by default in 0.10.  For 0.11, with plenty of user warning (\"you might need to change your code\"), it can be considered, sure.\n\nStrong NAK for 0.10 behavior change.  The same default should be kept for 0.10.\n\nIt is a strawman to argue against \"doing nothing\"  Ship the feature in 0.10 if you like, but keep the current default to prevent breaking even more users.  Miners can disable -rpckeepalive just as easily, to prove the new code works better than the old.\n",
      "created_at" : "2015-01-16T01:57:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70197216",
      "id" : 70197216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMTk3MjE2",
      "updated_at" : "2015-01-16T02:03:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70197216",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jgarzik I don't feel like arguing this anymore. Damned if we do, damned if we don't. I get tired of this. Let's keep the option but feel free to change the default to 1 again. I'll ACK it.\n",
      "created_at" : "2015-01-16T08:40:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70223418",
      "id" : 70223418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjIzNDE4",
      "updated_at" : "2015-01-16T08:46:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70223418",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If people want the feature, a properly release-managed plan would _not_ introduce this regression in 0.10 -- particularly so late in the 0.10 release cycle:\n- 0.10 defaults to 0.9.x behavior to prevent further regressions (keep-alive on)\n- Communicate to the users that you are introducing a change that might break their software in 0.11\n- Then turn keep-alive off in master if that's what people want.\n\nFixing/preventing regressions should trump introducing new, speculative fixes based on conference anecdotes.  Lack of Keep-Alive caused problems in 2011, and KA-off clearly reverts back to pre-fix behavior.\n\nShould we address these new concerns?  Absolutely, but _not_ by rushing KA-off into release at the last moment.  Sane release management policy implies KA-on for 0.10.\n",
      "created_at" : "2015-01-16T09:14:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70226888",
      "id" : 70226888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjI2ODg4",
      "updated_at" : "2015-01-16T09:15:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70226888",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "My last words on this: Disabling it was meant as a quick workaround for the problems reported by @gmaxwell.\n\nWe perceived that in its current implementation the keep-alive does more damage than it's worth. I was not aware that the other way around also could break clients. Thanks for pointing to the issue.\n\nHence, I'm fine with changing the default back to 1 for 0.10, and for master too. If this goes into the long haul, might as well fix keep-alive instead instead of having a phase where it's disabled by default.\nPeople experiencing issues can use `-rpckeepalive=0`.\n",
      "created_at" : "2015-01-16T09:21:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70227571",
      "id" : 70227571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjI3NTcx",
      "updated_at" : "2015-01-16T09:22:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70227571",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK on adding the option, bu lt leaving it enabled by default.\n",
      "created_at" : "2015-01-16T10:38:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5655#issuecomment-70236210",
      "id" : 70236210,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5655",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjM2MjEw",
      "updated_at" : "2015-01-16T10:38:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70236210",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
