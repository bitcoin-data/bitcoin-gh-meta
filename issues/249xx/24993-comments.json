[
   {
      "author_association" : "MEMBER",
      "body" : "> When manipulating a file in Python without using with(),\r\n\r\nYou're right, though prefer fixing this by using `with â¦`. Or is there a specific reason to avoid it here?",
      "created_at" : "2022-04-26T18:01:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1110094643",
      "id" : 1110094643,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CKrMz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110094643/reactions"
      },
      "updated_at" : "2022-04-26T18:01:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110094643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> You're right, though prefer fixing this by using with â¦. Or is there a specific reason to avoid it here?\r\n\r\n@laanwj, I didn't do it before because since in other places it closes the file after manipulating it (without using `with`), it would be simple just add a `close()`here, but I 100% prefer `with`, can I modify all the occurances to use `with`? ",
      "created_at" : "2022-04-26T18:09:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1110101689",
      "id" : 1110101689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CKs65",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110101689/reactions"
      },
      "updated_at" : "2022-04-26T18:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110101689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > You're right, though prefer fixing this by using with â¦. Or is there a specific reason to avoid it here?\r\n> \r\n> @laanwj, I didn't do it before because since in other places it closes the file after manipulating it (without using `with`), it would be simple just add a `close()`here, but I 100% prefer `with`, can I modify all the occurances to use `with`?\r\n\r\nConcept ACK on identifying further such cases and fixing them. Especially for small scripts not closing is not a big deal in practice though; here is a nice list of arguments why it it strongly recommended to do it anyway: https://stackoverflow.com/a/25070939\r\n\r\nAssuming that the following used regex is reliable, we have 17 occurences of `open()` calls without the `with` syntax (didn't check them in detail, but I guess many of them never call `close`):\r\n```\r\n$ git grep \"=[ ]*open(\" ./contrib/ ./test | wc -l\r\n      17\r\n$ git grep \"=[ ]*open(\" ./contrib/ ./test\r\ncontrib/devtools/copyright_header.py:    f = open(filename, 'r', encoding=\"utf8\")\r\ncontrib/devtools/copyright_header.py:    f = open(filename, 'w', encoding=\"utf8\")\r\ncontrib/linearize/linearize-data.py:    f = open(settings['hashlist'], \"r\", encoding=\"utf8\")\r\ncontrib/linearize/linearize-data.py:            self.outF = open(self.outFname, \"wb\")\r\ncontrib/linearize/linearize-data.py:                    self.inF = open(fname, \"rb\")\r\ncontrib/linearize/linearize-data.py:    f = open(sys.argv[1], encoding=\"utf8\")\r\ncontrib/linearize/linearize-hashes.py:    f = open(sys.argv[1], encoding=\"utf8\")\r\ncontrib/verify-commits/verify-commits.py:    verified_root = open(dirname + \"/trusted-git-root\", \"r\", encoding=\"utf8\").read().splitlines()[0]\r\ncontrib/verify-commits/verify-commits.py:    verified_sha512_root = open(dirname + \"/trusted-sha512-root-commit\", \"r\", encoding=\"utf8\").read().splitlines()[0]\r\ncontrib/verify-commits/verify-commits.py:    revsig_allowed = open(dirname + \"/allow-revsig-commits\", \"r\", encoding=\"utf-8\").read().splitlines()\r\ncontrib/verify-commits/verify-commits.py:    unclean_merge_allowed = open(dirname + \"/allow-unclean-merge-commits\", \"r\", encoding=\"utf-8\").read().splitlines()\r\ncontrib/verify-commits/verify-commits.py:    incorrect_sha512_allowed = open(dirname + \"/allow-incorrect-sha512-commits\", \"r\", encoding=\"utf-8\").read().splitlines()\r\ntest/functional/feature_config_args.py:        conf_file_contents = open(conf_file, encoding='utf8').read()\r\ntest/functional/feature_versionbits_warning.py:        alert_text = open(self.alert_filename, 'r', encoding='utf8').read()\r\ntest/util/test_runner.py:    raw_data = open(input_filename, encoding=\"utf8\").read()\r\ntest/util/test_runner.py:        inputData = open(filename, encoding=\"utf8\").read()\r\ntest/util/test_runner.py:            outputData = open(os.path.join(testDir, outputFn), encoding=\"utf8\").read()\r\n```\r\n",
      "created_at" : "2022-04-27T12:52:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1110963743",
      "id" : 1110963743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CN_Yf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110963743/reactions"
      },
      "updated_at" : "2022-04-27T12:52:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110963743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> can I modify all the occurances to use with?\r\n\r\nSounds good to me. It removes the burden of having the explicitly think about closing (removes the entire bug class of \"forget to close\") so is very much preferred when it's possible.",
      "created_at" : "2022-04-27T15:06:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1111117364",
      "id" : 1111117364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585COk40",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111117364/reactions"
      },
      "updated_at" : "2022-04-27T15:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111117364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, @laanwj and @theStack. I gonna fix all of them.",
      "created_at" : "2022-04-27T16:51:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1111235272",
      "id" : 1111235272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CPBrI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111235272/reactions"
      },
      "updated_at" : "2022-04-27T16:51:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111235272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing @laanwj and @theStack comments. Just changed the title to address it.",
      "created_at" : "2022-04-27T19:30:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1111399798",
      "id" : 1111399798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CPp12",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111399798/reactions"
      },
      "updated_at" : "2022-04-27T19:30:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111399798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24985](https://github.com/bitcoin/bitcoin/pull/24985) (doc, test: Compilation for 64-bit Windows with msys2 by rnapoles)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-04-28T02:10:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1111662578",
      "id" : 1111662578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CQp_y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111662578/reactions"
      },
      "updated_at" : "2022-04-28T20:22:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111662578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think we could put in the docs a recommendation to use `when` when opening files in Python. What do you think?",
      "created_at" : "2022-04-29T12:34:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1113261143",
      "id" : 1113261143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585CWwRX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113261143/reactions"
      },
      "updated_at" : "2022-04-29T12:34:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113261143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 027aab663aaca32818051d456c3900326377281c\r\n\r\n> I think we could put in the docs a recommendation to use when when opening files in Python. What do you think?\r\n\r\nNot sure. Isn't that like a general Python thing, not specific to our project? I don't think it's worthwhile to maintain a document of basic Python programming language best practices in our project.",
      "created_at" : "2022-05-04T17:51:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24993#issuecomment-1117636533",
      "id" : 1117636533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24993",
      "node_id" : "IC_kwDOABII585Cnce1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117636533/reactions"
      },
      "updated_at" : "2022-05-04T17:51:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1117636533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
