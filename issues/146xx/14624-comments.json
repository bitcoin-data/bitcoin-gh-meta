[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14626](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14626.html) (Select orphan transaction uniformly for eviction by sipa)\n* [#14605](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14605.html) (Return of the Banman by dongcarl)\n* [#13462](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13462.html) (Simplify common case of CHashWriter and drop SerializeHash by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-10-31T23:38:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-434883663",
      "id" : 434883663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNDg4MzY2Mw==",
      "updated_at" : "2018-12-13T03:27:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/434883663",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r229990788"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229990788"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should the `randbytes`, `rand256` and `rand256` tests each get their own pair of `FastRandomContext`:s to properly test for non-determinism? That way the ordering of the test won't matter.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-01T09:58:56Z",
      "diff_hunk" : "@@ -40,9 +40,9 @@ BOOST_AUTO_TEST_CASE(fastrandom_tests)\n     // Check that a nondeterministic ones are not\n     FastRandomContext ctx3;\n     FastRandomContext ctx4;\n+    BOOST_CHECK(ctx3.randbytes(7) != ctx4.randbytes(7));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r229990788",
      "id" : 229990788,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyOTk5MDc4OA==",
      "original_commit_id" : "5b7f3855972dbcea280edfd11108e869bf3f4838",
      "original_position" : 4,
      "path" : "src/test/random_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 170619620,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/229990788",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n@sipa Regarding `randbytes` Ã¢ÂÂ very nice find! How was that issue found?",
      "created_at" : "2018-11-01T10:00:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-434991563",
      "id" : 434991563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNDk5MTU2Mw==",
      "updated_at" : "2018-11-01T10:00:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/434991563",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This also works around a bug in libstdc++ std::shuffle that may cause type::operator=(type&&) to be invoked on itself, which the library's debug mode detects and panics on.\r\n\r\nHow did you trigger this? I've built with `-D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC` in the past and haven't encountered this. I also tried now and I was unable to reproduce.\r\n\r\nAssuming a build with `-D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC` Ã¢ÂÂ would the issue be triggered by `make check` or running the test suite?\r\n\r\nI'm running:\r\n\r\n```\r\n$ g++ --version\r\ng++ (Ubuntu 7.3.0-16ubuntu3) 7.3.0\r\n$ dpkg -l | grep libstd\r\nii  libstdc++-7-dev:amd64                                       7.3.0-16ubuntu3                   amd64        GNU Standard C++ Library v3 (development files)\r\nii  libstdc++6:amd64                                            8-20180414-1ubuntu2               amd64        GNU Standard C++ Library v3\r\n```",
      "created_at" : "2018-11-01T10:12:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-434994801",
      "id" : 434994801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNDk5NDgwMQ==",
      "updated_at" : "2018-11-01T10:14:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/434994801",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Travis failure:\r\n\r\n```\r\n/bin/bash: line 1: 27706 Aborted                 (core dumped) test/test_bitcoin -l test_suite -t \"`cat wallet/test/coinselector_tests.cpp | grep -E \"(BOOST_FIXTURE_TEST_SUITE\\\\(|BOOST_AUTO_TEST_SUITE\\\\()\" | cut -d '(' -f 2 | cut -d ',' -f 1 | cut -d ')' -f 1`\" > wallet/test/coinselector_tests.cpp.log 2>&1\r\nRunning 4 test cases...\r\nTest cases order is shuffled using seed: 1449235911\r\nEntering test module \"Bitcoin Test Suite\"\r\nwallet/test/coinselector_tests.cpp(17): Entering test suite \"coinselector_tests\"\r\nwallet/test/coinselector_tests.cpp(569): Entering test case \"SelectCoins_test\"\r\nwallet/test/coinselector_tests.cpp(569): Leaving test case \"SelectCoins_test\"; testing time: 3726243us\r\nwallet/test/coinselector_tests.cpp(267): Entering test case \"knapsack_solver_test\"\r\n/usr/include/c++/7/debug/safe_iterator.h:374:\r\nError: attempt to advance a past-the-end iterator 1 steps, which falls \r\noutside its valid range.\r\nObjects involved in the operation:\r\n    iterator @ 0x0x7fff06875e20 {\r\n      type = __gnu_debug::_Safe_iterator<__gnu_cxx::__normal_iterator<OutputGroup*, std::__cxx1998::vector<OutputGroup, std::allocator<OutputGroup> > >, std::__debug::vector<OutputGroup, std::allocator<OutputGroup> > > (mutable iterator);\r\n      state = past-the-end;\r\n      references sequence with type 'std::__debug::vector<OutputGroup, std::allocator<OutputGroup> >' @ 0x0x7fff068766e0\r\n    }\r\nunknown location(0): fatal error: in \"coinselector_tests/knapsack_solver_test\": signal: SIGABRT (application abort requested)\r\nwallet/test/coinselector_tests.cpp(281): last checkpoint\r\nwallet/test/coinselector_tests.cpp(267): Leaving test case \"knapsack_solver_test\"; testing time: 78734us\r\nwallet/test/coinselector_tests.cpp(122): Entering test case \"bnb_search_test\"\r\ntest_bitcoin: key.cpp:344: void ECC_Start(): Assertion `secp256k1_context_sign == nullptr' failed.\r\nunknown location(0): fatal error: in \"coinselector_tests/bnb_search_test\": signal: SIGABRT (application abort requested)\r\nwallet/test/coinselector_tests.cpp(122): last checkpoint: \"bnb_search_test\" fixture entry.\r\nwallet/test/coinselector_tests.cpp(122): Leaving test case \"bnb_search_test\"; testing time: 271us\r\nwallet/test/coinselector_tests.cpp(546): Entering test case \"ApproximateBestSubset\"\r\ntest_bitcoin: key.cpp:344: void ECC_Start(): Assertion `secp256k1_context_sign == nullptr' failed.\r\nunknown location(0): fatal error: in \"coinselector_tests/ApproximateBestSubset\": signal: SIGABRT (application abort requested)\r\nwallet/test/coinselector_tests.cpp(546): last checkpoint: \"ApproximateBestSubset\" fixture entry.\r\nwallet/test/coinselector_tests.cpp(546): Leaving test case \"ApproximateBestSubset\"; testing time: 158us\r\nwallet/test/coinselector_tests.cpp(17): Leaving test suite \"coinselector_tests\"; testing time: 3805580us\r\nLeaving test module \"Bitcoin Test Suite\"; testing time: 3805777us\r\n*** 3 failures are detected in the test module \"Bitcoin Test Suite\"",
      "created_at" : "2018-11-01T14:00:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-435049325",
      "id" : 435049325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTA0OTMyNQ==",
      "updated_at" : "2018-11-01T14:00:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435049325",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift \r\n\r\n> @sipa Regarding randbytes Ã¢ÂÂ very nice find! How was that issue found?\r\n\r\nIn a follow-up change I was working on, which replaced more use sites of `GetRand*` functions with `FastRandomContext`s. One unit test failed which tested that the leveldb obfuscation key was not all zeroes...\r\n\r\n> How did you trigger this? I've built with `-D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC` in the past and haven't encountered this. I also tried now and I was unable to reproduce.\r\n\r\n> Assuming a build with `-D_GLIBCXX_DEBUG -D_GLIBCXX_DEBUG_PEDANTIC` Ã¢ÂÂ would the issue be triggered by `make check` or running the test suite?\r\n\r\nTravis failed in an earlier version of this PR, in the Qt (!) unit tests.\r\n\r\n@MarcoFalke \r\n\r\n> Travis failure:\r\n\r\nFixed now.\r\n",
      "created_at" : "2018-11-01T17:18:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-435115618",
      "id" : 435115618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTExNTYxOA==",
      "updated_at" : "2018-11-01T19:30:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435115618",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r230123879"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230123879"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good idea, done.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-01T17:18:59Z",
      "diff_hunk" : "@@ -40,9 +40,9 @@ BOOST_AUTO_TEST_CASE(fastrandom_tests)\n     // Check that a nondeterministic ones are not\n     FastRandomContext ctx3;\n     FastRandomContext ctx4;\n+    BOOST_CHECK(ctx3.randbytes(7) != ctx4.randbytes(7));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r230123879",
      "id" : 230123879,
      "in_reply_to_id" : 229990788,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDEyMzg3OQ==",
      "original_commit_id" : "5b7f3855972dbcea280edfd11108e869bf3f4838",
      "original_position" : 4,
      "path" : "src/test/random_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 170789432,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230123879",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r230286671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230286671"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Mark `noexcept`? Rationale: [\"A throwing move violates most people's reasonably assumptions. A non-throwing move will be used more efficiently by standard-library and language facilities.\"](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#c66-make-move-operations-noexcept)",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-02T07:17:31Z",
      "diff_hunk" : "@@ -463,6 +464,19 @@ FastRandomContext::FastRandomContext(bool fDeterministic) : requires_seed(!fDete\n     rng.SetKey(seed.begin(), 32);\n }\n \n+FastRandomContext& FastRandomContext::operator=(FastRandomContext&& from)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r230286671",
      "id" : 230286671,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDI4NjY3MQ==",
      "original_commit_id" : "66e69f2e93292fd286156db3ad120d48345b7e5d",
      "original_position" : 12,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 170990446,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230286671",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r230286853"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230286853"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Use `nMax` to match declaration, or change declaration to `max`.\r\n\r\nNit: Add space before `{` :-)",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-02T07:18:42Z",
      "diff_hunk" : "@@ -530,8 +530,8 @@ void CAddrMan::SetServices_(const CService& addr, ServiceFlags nServices)\n     info.nServices = nServices;\n }\n \n-int CAddrMan::RandomInt(int nMax){\n-    return GetRandInt(nMax);\n+int CAddrMan::RandomInt(int max){",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r230286853",
      "id" : 230286853,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMDI4Njg1Mw==",
      "original_commit_id" : "66e69f2e93292fd286156db3ad120d48345b7e5d",
      "original_position" : 6,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 170990671,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/230286853",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r232388699"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232388699"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-09T20:47:00Z",
      "diff_hunk" : "@@ -463,6 +464,19 @@ FastRandomContext::FastRandomContext(bool fDeterministic) : requires_seed(!fDete\n     rng.SetKey(seed.begin(), 32);\n }\n \n+FastRandomContext& FastRandomContext::operator=(FastRandomContext&& from)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r232388699",
      "id" : 232388699,
      "in_reply_to_id" : 230286671,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjM4ODY5OQ==",
      "original_commit_id" : "66e69f2e93292fd286156db3ad120d48345b7e5d",
      "original_position" : 12,
      "path" : "src/random.cpp",
      "position" : null,
      "pull_request_review_id" : 173584528,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232388699",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r232428697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232428697"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done, done.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-10T00:15:12Z",
      "diff_hunk" : "@@ -530,8 +530,8 @@ void CAddrMan::SetServices_(const CService& addr, ServiceFlags nServices)\n     info.nServices = nServices;\n }\n \n-int CAddrMan::RandomInt(int nMax){\n-    return GetRandInt(nMax);\n+int CAddrMan::RandomInt(int max){",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r232428697",
      "id" : 232428697,
      "in_reply_to_id" : 230286853,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjQyODY5Nw==",
      "original_commit_id" : "66e69f2e93292fd286156db3ad120d48345b7e5d",
      "original_position" : 6,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 173635056,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232428697",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-11-10T21:39:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-437623342",
      "id" : 437623342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNzYyMzM0Mg==",
      "updated_at" : "2018-11-10T21:39:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437623342",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233529573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233529573"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is it really worth having the wrapper function if it's not a test harness?",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-14T16:49:03Z",
      "diff_hunk" : "@@ -266,8 +266,8 @@ class CAddrMan\n     //! Return a random to-be-evicted tried table address.\n     CAddrInfo SelectTriedCollision_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n-    //! Wraps GetRandInt to allow tests to override RandomInt and make it determinismistic.\n-    virtual int RandomInt(int nMax);\n+    //! Shorthand for insecure_rand.randrange()\n+    int RandomInt(int range);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233529573",
      "id" : 233529573,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzUyOTU3Mw==",
      "original_commit_id" : "0d8797b1c702990423e188bbe4c4336b9fe17379",
      "original_position" : 7,
      "path" : "src/addrman.h",
      "position" : null,
      "pull_request_review_id" : 174965263,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233529573",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233556290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233556290"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "So this is copying, but setting the original context to reseed?",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-14T18:01:09Z",
      "diff_hunk" : "@@ -464,6 +464,20 @@ FastRandomContext::FastRandomContext(bool fDeterministic) : requires_seed(!fDete\n     rng.SetKey(seed.begin(), 32);\n }\n \n+FastRandomContext& FastRandomContext::operator=(FastRandomContext&& from) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233556290",
      "id" : 233556290,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzU1NjI5MA==",
      "original_commit_id" : "8a652f5586af0b8de8b3b0e5ed59007e25059bcf",
      "original_position" : 4,
      "path" : "src/random.cpp",
      "position" : 12,
      "pull_request_review_id" : 174965263,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233556290",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233578141"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233578141"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "but why the using?",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-14T19:00:41Z",
      "diff_hunk" : "@@ -130,6 +130,29 @@ class FastRandomContext {\n     inline uint64_t operator()() { return rand64(); }\n };\n \n+/** More efficient than using std::shuffle on a FastRandomContext.\n+ *\n+ * This is more efficient as std::shuffle will consume entropy in groups of\n+ * 64 bits at the time and throw away most.\n+ *\n+ * This also works around a bug in libstdc++ std::shuffle that may cause\n+ * type::operator=(type&&) to be invoked on itself, which the library's\n+ * debug mode detects and panics on. This is a known issue, see\n+ * https://stackoverflow.com/questions/22915325/avoiding-self-assignment-in-stdshuffle\n+ */\n+template<typename I, typename R>\n+void Shuffle(I first, I last, R&& rng)\n+{\n+    while (first != last) {\n+        size_t j = rng.randrange(last - first);\n+        if (j) {\n+            using std::swap;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233578141",
      "id" : 233578141,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzU3ODE0MQ==",
      "original_commit_id" : "9f92a5551a7bfdfb4aaf62f18e36f4aac408ef41",
      "original_position" : 20,
      "path" : "src/random.h",
      "position" : 35,
      "pull_request_review_id" : 174965263,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233578141",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233605939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233605939"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point. Got rid of it entirely.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-14T20:22:39Z",
      "diff_hunk" : "@@ -266,8 +266,8 @@ class CAddrMan\n     //! Return a random to-be-evicted tried table address.\n     CAddrInfo SelectTriedCollision_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n-    //! Wraps GetRandInt to allow tests to override RandomInt and make it determinismistic.\n-    virtual int RandomInt(int nMax);\n+    //! Shorthand for insecure_rand.randrange()\n+    int RandomInt(int range);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233605939",
      "id" : 233605939,
      "in_reply_to_id" : 233529573,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzYwNTkzOQ==",
      "original_commit_id" : "0d8797b1c702990423e188bbe4c4336b9fe17379",
      "original_position" : 7,
      "path" : "src/addrman.h",
      "position" : null,
      "pull_request_review_id" : 175060930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233605939",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233606539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233606539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed, as documented in the .h file (the state of a moved-from object must be valid but may be unspecified, as it's not supposed to be used again; choosing to set it to reseed is both fast and safe).",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-14T20:24:17Z",
      "diff_hunk" : "@@ -464,6 +464,20 @@ FastRandomContext::FastRandomContext(bool fDeterministic) : requires_seed(!fDete\n     rng.SetKey(seed.begin(), 32);\n }\n \n+FastRandomContext& FastRandomContext::operator=(FastRandomContext&& from) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233606539",
      "id" : 233606539,
      "in_reply_to_id" : 233556290,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzYwNjUzOQ==",
      "original_commit_id" : "8a652f5586af0b8de8b3b0e5ed59007e25059bcf",
      "original_position" : 4,
      "path" : "src/random.cpp",
      "position" : 12,
      "pull_request_review_id" : 175061608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233606539",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233606869"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233606869"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's the suggested idiom, as it brings `std::swap` into scope, but also has access to possible user-defined `swap` implementations outside of `std`.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-14T20:25:06Z",
      "diff_hunk" : "@@ -130,6 +130,29 @@ class FastRandomContext {\n     inline uint64_t operator()() { return rand64(); }\n };\n \n+/** More efficient than using std::shuffle on a FastRandomContext.\n+ *\n+ * This is more efficient as std::shuffle will consume entropy in groups of\n+ * 64 bits at the time and throw away most.\n+ *\n+ * This also works around a bug in libstdc++ std::shuffle that may cause\n+ * type::operator=(type&&) to be invoked on itself, which the library's\n+ * debug mode detects and panics on. This is a known issue, see\n+ * https://stackoverflow.com/questions/22915325/avoiding-self-assignment-in-stdshuffle\n+ */\n+template<typename I, typename R>\n+void Shuffle(I first, I last, R&& rng)\n+{\n+    while (first != last) {\n+        size_t j = rng.randrange(last - first);\n+        if (j) {\n+            using std::swap;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r233606869",
      "id" : 233606869,
      "in_reply_to_id" : 233578141,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzYwNjg2OQ==",
      "original_commit_id" : "9f92a5551a7bfdfb4aaf62f18e36f4aac408ef41",
      "original_position" : 20,
      "path" : "src/random.h",
      "position" : 35,
      "pull_request_review_id" : 175061912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233606869",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r234327744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234327744"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Might as well rename it to `m_insecure_rand`, since it is only used in two places previously.",
      "commit_id" : "e414486d56b9f06af7aeb07ce13e3c3780c2b69b",
      "created_at" : "2018-11-16T19:48:16Z",
      "diff_hunk" : "@@ -473,7 +470,7 @@ class CAddrMan\n     {\n         LOCK(cs);\n         std::vector<int>().swap(vRandom);\n-        nKey = GetRandHash();\n+        nKey = insecure_rand.rand256();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#discussion_r234327744",
      "id" : 234327744,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDMyNzc0NA==",
      "original_commit_id" : "f997e29a24bdf1a3fc1005bcf3730474543fcf57",
      "original_position" : 15,
      "path" : "src/addrman.h",
      "position" : 15,
      "pull_request_review_id" : 175954879,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14624",
      "updated_at" : "2018-12-12T22:32:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234327744",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK",
      "created_at" : "2018-11-21T19:29:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-440783727",
      "id" : 440783727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MDc4MzcyNw==",
      "updated_at" : "2018-11-21T19:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440783727",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2018-11-30T18:27:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-443294972",
      "id" : 443294972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MzI5NDk3Mg==",
      "updated_at" : "2018-11-30T18:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/443294972",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-12-12T05:35:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-446468150",
      "id" : 446468150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjQ2ODE1MA==",
      "updated_at" : "2018-12-12T05:35:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446468150",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2018-12-12T22:32:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-446769422",
      "id" : 446769422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0Njc2OTQyMg==",
      "updated_at" : "2018-12-12T22:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446769422",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "all straightforward changes\r\nutACK e414486d56b9f06af7aeb07ce13e3c3780c2b69b\r\n",
      "created_at" : "2018-12-13T12:58:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14624#issuecomment-446959499",
      "id" : 446959499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0Njk1OTQ5OQ==",
      "updated_at" : "2018-12-13T12:58:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446959499",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
