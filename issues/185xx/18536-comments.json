[
   {
      "author_association" : "MEMBER",
      "body" : "I'm pretty sure this is an issue with Qt and newer versions of `make`. What version are you using here?",
      "created_at" : "2020-04-07T01:58:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-610129581",
      "id" : 610129581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDEyOTU4MQ==",
      "updated_at" : "2020-04-07T01:58:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610129581",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm pretty sure this is an issue with Qt and newer versions of `make`. What version are you using here?\r\n\r\nQt is 5.9.8 as it is built in depends.\r\n\r\n```\r\n$ dpkg --status make | grep Version\r\nVersion: 4.1-9.1ubuntu1\r\n```\r\n\r\nIt seems nothing unusual...",
      "created_at" : "2020-04-07T09:44:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-610287948",
      "id" : 610287948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDI4Nzk0OA==",
      "updated_at" : "2020-04-07T09:44:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610287948",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If you try and build with an older version of `make`, like 3.8x, I'm pretty certain it will work. I have seen this same failure before.",
      "created_at" : "2020-04-07T12:02:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-610346398",
      "id" : 610346398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDM0NjM5OA==",
      "updated_at" : "2020-04-07T12:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610346398",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If you try and build with an older version of `make`, like 3.8x, I'm pretty certain it will work. I have seen this same failure before.\r\n\r\nBuilt and installed the old `make`:\r\n```\r\n$ make --version\r\nGNU Make 3.81\r\nCopyright (C) 2006  Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.\r\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\r\nPARTICULAR PURPOSE.\r\n\r\nThis program built for armv7l-unknown-linux-gnu\r\n```\r\n\r\nbut it didn't help:\r\n```\r\n$ make qt -C depends\r\n...\r\nProject ERROR: Unknown module(s) in QT: xml\r\nmake: *** [/home/hebasto/bitcoin/depends/work/build/armv7l-unknown-linux-gnueabihf/qt/5.9.8-52a02fcd47f/qtbase/.stamp_configured] Error 3\r\nmake: Leaving directory `/home/hebasto/bitcoin/depends'\r\n```\r\n\r\nAnd the log does not mention `funcs.mk:251: ...` now.",
      "created_at" : "2020-04-08T17:53:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-611101440",
      "id" : 611101440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTEwMTQ0MA==",
      "updated_at" : "2020-04-08T17:55:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611101440",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Right, so I guess it's only on macOS where  using an older make fixes the issue. In any case, this seems like something that should be taken upstream to Qts bug tracker. I don't think we need an issue open for it here.",
      "created_at" : "2020-04-08T23:36:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-611247718",
      "id" : 611247718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTI0NzcxOA==",
      "updated_at" : "2020-04-08T23:36:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611247718",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've managed to build Qt in depends on Armbian Focal (on the same ODROID-HC1) with the following diff:\r\n```diff\r\ndiff --git a/depends/packages/qt.mk b/depends/packages/qt.mk\r\nindex 631851855..545f4068e 100644\r\n--- a/depends/packages/qt.mk\r\n+++ b/depends/packages/qt.mk\r\n@@ -110,7 +110,6 @@ $(package)_config_opts += -no-feature-undostack\r\n $(package)_config_opts += -no-feature-undoview\r\n $(package)_config_opts += -no-feature-vnc\r\n $(package)_config_opts += -no-feature-wizard\r\n-$(package)_config_opts += -no-feature-xml\r\n \r\n $(package)_config_opts_darwin = -no-dbus\r\n $(package)_config_opts_darwin += -no-opengl\r\n```\r\n\r\nAlso the build system didn't find `zconf.h` header in the `depends/armv7l-unknown-linux-gnueabihf/include` directory.\r\nSo the following was required:\r\n```\r\n$ sudo apt install zlib1g-dev\r\n```\r\n\r\nEventually,\r\n```\r\n$ make qt -C depends\r\n```",
      "created_at" : "2020-07-06T14:08:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-654261884",
      "id" : 654261884,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NDI2MTg4NA==",
      "updated_at" : "2020-07-06T14:08:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/654261884",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is this fixed after #21376 ?",
      "created_at" : "2021-03-16T12:45:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-800228152",
      "id" : 800228152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMDIyODE1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-16T12:45:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/800228152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake \r\n> Is this fixed after #21376 ?\r\n\r\nNo.\r\n```\r\n$ head -n 4 /etc/armbian.txt\r\n--------------------------------------------------------------------------------\r\nTitle:\t\t\tArmbian 21.02.2 Odroidxu4 Ubuntu focal legacy\r\nKernel:\t\t\tLinux \r\nBuild date:\t\t14.02.2021\r\n$\r\n$ git clean -xdff\r\n$ git rev-parse HEAD\r\n5ef16038a1a8adc25438d77f60d83b2c01738fcf\r\n$\r\n$ make -C depends qt_configured\r\n...\r\nProject ERROR: Unknown module(s) in QT: xml\r\nmake: *** [funcs.mk:276: /home/hebasto/bitcoin/depends/work/build/armv7l-unknown-linux-gnueabihf/qt/5.12.10-6a06b2c1f18/./.stamp_configured] Error 3\r\nmake: Leaving directory '/home/hebasto/bitcoin/depends'\r\n```",
      "created_at" : "2021-03-16T19:43:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-800553001",
      "id" : 800553001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMDU1MzAwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-16T19:43:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/800553001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "FWIW, the following patch did not help:\r\n```diff\r\n--- a/depends/packages/qt.mk\r\n+++ b/depends/packages/qt.mk\r\n@@ -135,6 +135,7 @@ $(package)_config_opts_linux += -no-opengl\r\n $(package)_config_opts_linux += -no-feature-vulkan\r\n $(package)_config_opts_linux += -dbus-runtime\r\n $(package)_config_opts_arm_linux += -platform linux-g++ -xplatform bitcoin-linux-g++\r\n+$(package)_config_opts_armv7l_linux += -platform linux-arm-gnueabihf-g++\r\n $(package)_config_opts_i686_linux  = -xplatform linux-g++-32\r\n $(package)_config_opts_x86_64_linux = -xplatform linux-g++-64\r\n $(package)_config_opts_aarch64_linux = -xplatform linux-aarch64-gnu-g++\r\n@@ -233,6 +234,8 @@ define $(package)_preprocess_cmds\r\n   cp -f $($(package)_patch_dir)/mac-qmake.conf qtbase/mkspecs/macx-clang-linux/qmake.conf && \\\r\n   cp -r qtbase/mkspecs/linux-arm-gnueabi-g++ qtbase/mkspecs/bitcoin-linux-g++ && \\\r\n   sed -i.old \"s/arm-linux-gnueabi-/$(host)-/g\" qtbase/mkspecs/bitcoin-linux-g++/qmake.conf && \\\r\n+  cp -r qtbase/mkspecs/linux-arm-gnueabi-g++ qtbase/mkspecs/linux-arm-gnueabihf-g++ && \\\r\n+  sed -i.old \"s/arm-linux-gnueabi-/arm-linux-gnueabihf-/g\" qtbase/mkspecs/linux-arm-gnueabihf-g++/qmake.conf && \\\r\n   echo \"!host_build: QMAKE_CFLAGS     += $($(package)_cflags) $($(package)_cppflags)\" >> qtbase/mkspecs/common/gcc-base.conf && \\\r\n   echo \"!host_build: QMAKE_CXXFLAGS   += $($(package)_cxxflags) $($(package)_cppflags)\" >> qtbase/mkspecs/common/gcc-base.conf && \\\r\n   echo \"!host_build: QMAKE_LFLAGS     += $($(package)_ldflags)\" >> qtbase/mkspecs/common/gcc-base.conf && \\\r\n```",
      "created_at" : "2021-03-16T20:48:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-800594292",
      "id" : 800594292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMDU5NDI5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-16T20:48:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/800594292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should be fixed in Qt 5.15.x (https://github.com/bitcoin/bitcoin/pull/21589#issuecomment-833381710).",
      "created_at" : "2021-05-06T09:35:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18536#issuecomment-833384663",
      "id" : 833384663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18536",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMzM4NDY2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-06T09:35:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/833384663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
