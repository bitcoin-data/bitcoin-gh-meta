[
   {
      "author_association" : "MEMBER",
      "body" : "I think `make dist` is used for out-of-tree builds, whereas `git archive` is used to export the repo for external use.\r\n\r\nIt might be possible to move the `git archive` before the `make dist`, but I wonder if that is going to preserve the git tag of a version release of Bitcoin Core.",
      "created_at" : "2020-04-06T20:37:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18547#issuecomment-610023556",
      "id" : 610023556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18547",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDAyMzU1Ng==",
      "updated_at" : "2020-04-06T20:37:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610023556",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~So if I'm reading https://github.com/bitcoin/bitcoin/pull/18349#issuecomment-607404517 correctly, we can't ditch `make dist`?~~\r\n\r\n~~I feel somewhat defeated on this topic :disappointed:. It seems to me that the result of all this fiddling is:~~\r\n\r\n~~1. We have now introduced a second way of producing source tarballs without being able to replace the first. We have to maintain both ways.\r\n2. We've changed the relationship between our source tarballs and binary tarballs in that the binary ones are no longer being built from the source ones.~~\r\n\r\n-----\r\n\r\nI believe hebasto has a fix, will wait on him.",
      "created_at" : "2020-04-06T21:16:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18547#issuecomment-610041214",
      "id" : 610041214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18547",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDA0MTIxNA==",
      "updated_at" : "2020-04-06T21:43:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610041214",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "IMO something like:\r\n\r\n1. git archive\r\n2. autogen\r\n3. configure\r\n4. make distclean\r\n\r\n...should ensure the tarball gets all the files it ought to have",
      "created_at" : "2020-04-23T04:31:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18547#issuecomment-618171092",
      "id" : 618171092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18547",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxODE3MTA5Mg==",
      "updated_at" : "2020-04-23T04:31:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618171092",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
