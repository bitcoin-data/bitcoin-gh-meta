[
   {
      "author_association" : "MEMBER",
      "body" : "It seems the following comment could be relevant:\r\nhttps://github.com/bitcoin/bitcoin/blob/1b151e3ffce7c1a2ee46bf280cc1d96775d1f91e/test/functional/test_framework/authproxy.py#L101-L104",
      "created_at" : "2020-04-07T23:03:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18548#issuecomment-610661866",
      "id" : 610661866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18548",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDY2MTg2Ng==",
      "updated_at" : "2020-04-07T23:04:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610661866",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I saw a new instance of this `OSError: [WinError 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted` opening a connection in https://cirrus-ci.com/task/5711752030584832?logs=functional_tests#L2626 in #22937.\r\n\r\nIt looks like the fix that was implemented for this previously tries to get around the problem by retrying the connection, but I guess this may not be effective depending on what the cause of the problem is. From a google search, it seems like maybe another way to prevent this may be to increase \"dynamic port range\". From https://help.socketlabs.com/docs/how-to-fix-error-only-one-usage-of-each-socket-address-protocolnetwork-addressport-is-normally-permitted\r\n\r\n> If you see the error, \"Only one usage of each socket address (protocol/network address/port) is normally permitted\" in the logs when a connection is being made, it means that you are exhausting all the available network ports on the machine. By default the OS only has around 4000 ports available that are not reserved by the system. What happens is that when any network connection is closed it goes into a TIME_WAIT state for 240 seconds and cannot be reused until this wait state is over.\r\n>\r\n>You can fix this by modifying the below values.\r\n>\r\n> 1. One of the ways is to increase the dynamic port range. The max by default is 5000. You can set this up to 65534. ",
      "created_at" : "2021-09-21T12:36:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18548#issuecomment-923944390",
      "id" : 923944390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18548",
      "node_id" : "IC_kwDOABII5843EkXG",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-21T12:36:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923944390",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I wonder if this is happening more frequently? Here is another case: https://cirrus-ci.com/task/4904963898867712?logs=functional_tests#L2583",
      "created_at" : "2021-09-21T16:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18548#issuecomment-924151393",
      "id" : 924151393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18548",
      "node_id" : "IC_kwDOABII5843FW5h",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-21T16:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/924151393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Encountered this in https://github.com/bitcoin/bitcoin/pull/23074#issuecomment-926737249 too",
      "created_at" : "2021-09-25T07:19:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18548#issuecomment-927024718",
      "id" : 927024718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18548",
      "node_id" : "IC_kwDOABII5843QUZO",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-25T07:19:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/927024718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   }
]
