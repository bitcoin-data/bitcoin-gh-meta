[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404353202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404353202"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        WalletLogPrintf(\"%s:%d (%s) called with IsMine address, NOT SUPPORTED. Please report this bug! %s\\n\", __FILE__, __LINE__, __func__, PACKAGE_BUGREPORT);\r\n```\r\n\r\nCould mention where to report the bug?",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:01:49Z",
      "diff_hunk" : "@@ -3221,7 +3221,10 @@ bool CWallet::DelAddressBook(const CTxDestination& address)\n     // If we want to delete receiving addresses, we need to take care that DestData \"used\" (and possibly newer DestData) gets preserved (and the \"deleted\" address transformed into a change entry instead of actually being deleted)\n     // NOTE: This isn't a problem for sending addresses because they never have any DestData yet!\n     // When adding new DestData, it should be considered here whether to retain or delete it (or move it?).\n-    assert(!IsMine(address));\n+    if (IsMine(address)) {\n+        WalletLogPrintf(\"%s called with IsMine address, NOT SUPPORTED. Please report this bug!\\n\", __func__);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404353202",
      "id" : 404353202,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM1MzIwMg==",
      "original_commit_id" : "0ee66579df4514594d3bff6a9b713aa222be5f06",
      "original_line" : 3225,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 388574334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404353202",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404353806"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404353806"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    std::string GetLabel() const { return m_label; }\r\n```\r\n\r\nTo avoid issues related to #17198",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:02:57Z",
      "diff_hunk" : "@@ -185,15 +185,15 @@ class CAddressBookData\n     bool m_change{true};\n     std::string m_label;\n public:\n-    const std::string& name;\n     std::string purpose;\n \n-    CAddressBookData() : name(m_label), purpose(\"unknown\") {}\n+    CAddressBookData() : purpose(\"unknown\") {}\n \n     typedef std::map<std::string, std::string> StringMap;\n     StringMap destdata;\n \n     bool IsChange() const { return m_change; }\n+    const std::string& GetLabel() const { return m_label; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404353806",
      "id" : 404353806,
      "line" : 196,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM1MzgwNg==",
      "original_commit_id" : "0ee66579df4514594d3bff6a9b713aa222be5f06",
      "original_line" : 196,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 388574334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404353806",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404354331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404354331"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        assert_equal(len(out), 1)\r\n```\r\n\r\nTo aid debugging in case of failure",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:03:56Z",
      "diff_hunk" : "@@ -137,6 +138,29 @@ def test_immutable(self):\n         # Unload temp wallet\n         self.nodes[1].unloadwallet(tempwallet)\n \n+    def test_change_remains_change(self, node):\n+        self.log.info(\"Test that change doesn't turn into non-change when spent\")\n+\n+        reset_balance(node, node.getnewaddress())\n+        addr = node.getnewaddress()\n+        txid = node.sendtoaddress(addr, 1)\n+        out = node.listunspent(minconf=0, query_options={'minimumAmount': 2})\n+        assert len(out) == 1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404354331",
      "id" : 404354331,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM1NDMzMQ==",
      "original_commit_id" : "0ee66579df4514594d3bff6a9b713aa222be5f06",
      "original_line" : 148,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/functional/wallet_avoidreuse.py",
      "position" : null,
      "pull_request_review_id" : 388574334,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404354331",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404358162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404358162"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure file/line are meaningful here... Added `PACKAGE_BUGREPORT`",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:11:19Z",
      "diff_hunk" : "@@ -3221,7 +3221,10 @@ bool CWallet::DelAddressBook(const CTxDestination& address)\n     // If we want to delete receiving addresses, we need to take care that DestData \"used\" (and possibly newer DestData) gets preserved (and the \"deleted\" address transformed into a change entry instead of actually being deleted)\n     // NOTE: This isn't a problem for sending addresses because they never have any DestData yet!\n     // When adding new DestData, it should be considered here whether to retain or delete it (or move it?).\n-    assert(!IsMine(address));\n+    if (IsMine(address)) {\n+        WalletLogPrintf(\"%s called with IsMine address, NOT SUPPORTED. Please report this bug!\\n\", __func__);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404358162",
      "id" : 404358162,
      "in_reply_to_id" : 404353202,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM1ODE2Mg==",
      "original_commit_id" : "0ee66579df4514594d3bff6a9b713aa222be5f06",
      "original_line" : 3225,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 388580613,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404358162",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404359344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404359344"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't see how that relates to this. Can you give an example?",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:13:26Z",
      "diff_hunk" : "@@ -185,15 +185,15 @@ class CAddressBookData\n     bool m_change{true};\n     std::string m_label;\n public:\n-    const std::string& name;\n     std::string purpose;\n \n-    CAddressBookData() : name(m_label), purpose(\"unknown\") {}\n+    CAddressBookData() : purpose(\"unknown\") {}\n \n     typedef std::map<std::string, std::string> StringMap;\n     StringMap destdata;\n \n     bool IsChange() const { return m_change; }\n+    const std::string& GetLabel() const { return m_label; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404359344",
      "id" : 404359344,
      "in_reply_to_id" : 404353806,
      "line" : 196,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM1OTM0NA==",
      "original_commit_id" : "0ee66579df4514594d3bff6a9b713aa222be5f06",
      "original_line" : 196,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 388582075,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404359344",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK a7051b046a, only change is adding issue url and a test style fixup ð\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK a7051b046a, only change is adding issue url and a test style fixup ð\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUjnBgwAgCMSg9b7BKGlOp9Lhs+tyN4elzNwljsK69gBnI+0djGfCCWnQ7mw73E+\r\nLhHEVypuQwLFMy5XgEUx5J1yKrfC9M8Z+wuT8GuVOla86XEYsZ5rVRmTIGtfmwwi\r\nTtkxrAT0sg6O/u7vE6DLnTpEdMsd37B/j7t++dmdWjdh5tANWONHUrtL7+G1dnTu\r\nAFVKHFmlacPJc8mVfzqrLjbDKjquFlBVAGf2fxrzjxseJGybsanr9Y+ITiIeJ4vM\r\nba/yYXagM25/RCsd2GMWSiADpOIHjwQ2GXkSFaFevk1K5ySbDmueA/yjukbhW5s7\r\nNMasUWQgU4wqzZanOiXtZO6M2wxmmXQcsWvBNt7loy1XceVV2m3GkL+JgcjhwNmm\r\nWjk0OwS2DBKMPrGeU6en28TfgylbfyRy8Rglsmnqx52jGreaFuXGR6wdKmd5N/lm\r\n7FcH/T0a6BVCGlW3/h+6gEXo8oAqDOCeHxoMT+oa+zg4JO6TXyNXsF4HpVolZlqR\r\nadBcWCOK\r\n=sHmd\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `20931cd3fd37cc3e39e8dda70e27cd4ebf620a0462cabe7b49ab467c15609ce5  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e89294010820931cd3fd37cc3e39e8dda70e27cd4ebf620a0462cabe7b49ab467c15609ce5f010cdc69d34dea91eb565afcaef2d06a1fc08fff010112199587fb7970c79cd9e77a6ed254e08f1045e8b8e45f0081bbde50cba39c1720083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff01057d457802c34feedfaede85c216de01308f1045e8b8e45f008b582da3ef59fdb960083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267f010e0571d4bd636438d6145e240fad0e82808f1045e8b8e45f008a37b285c49298cfe0083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
      "created_at" : "2020-04-06T20:17:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#issuecomment-610014280",
      "id" : 610014280,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18546",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDAxNDI4MA==",
      "updated_at" : "2020-04-06T20:17:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610014280",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404363481"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404363481"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just the general idea that:\r\n\r\n* This doesn't improve performance\r\n* This might lead to use-after-free in future code",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:21:05Z",
      "diff_hunk" : "@@ -185,15 +185,15 @@ class CAddressBookData\n     bool m_change{true};\n     std::string m_label;\n public:\n-    const std::string& name;\n     std::string purpose;\n \n-    CAddressBookData() : name(m_label), purpose(\"unknown\") {}\n+    CAddressBookData() : purpose(\"unknown\") {}\n \n     typedef std::map<std::string, std::string> StringMap;\n     StringMap destdata;\n \n     bool IsChange() const { return m_change; }\n+    const std::string& GetLabel() const { return m_label; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404363481",
      "id" : 404363481,
      "in_reply_to_id" : 404353806,
      "line" : 196,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM2MzQ4MQ==",
      "original_commit_id" : "0ee66579df4514594d3bff6a9b713aa222be5f06",
      "original_line" : 196,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 388587104,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404363481",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404366111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404366111"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Linter fails\r\n\r\n```\r\ntest/functional/wallet_avoidreuse.py:146:9: F841 local variable 'txid' is assigned to but never used",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-06T20:25:46Z",
      "diff_hunk" : "@@ -137,6 +138,29 @@ def test_immutable(self):\n         # Unload temp wallet\n         self.nodes[1].unloadwallet(tempwallet)\n \n+    def test_change_remains_change(self, node):\n+        self.log.info(\"Test that change doesn't turn into non-change when spent\")\n+\n+        reset_balance(node, node.getnewaddress())\n+        addr = node.getnewaddress()\n+        txid = node.sendtoaddress(addr, 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404366111",
      "id" : 404366111,
      "line" : 146,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM2NjExMQ==",
      "original_commit_id" : "a7051b046aa82afd267dd40a95995811c88076ac",
      "original_line" : 146,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/wallet_avoidreuse.py",
      "position" : 17,
      "pull_request_review_id" : 388590244,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404366111",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK 7a2ecf16df, only change is adding an assert_equal in the test ð°\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nre-ACK 7a2ecf16df, only change is adding an assert_equal in the test ð°\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUhbPAwAnxp3dHSnOH/9xKxdNaamDfRFxNnBiwE/BbHRVU79mP3Lned6OILzDgEm\r\nESHtX5jbEI/Ot0ZgVy2KNKU8inVVIsuX3CLo2FyOduzijpesTDCqPBxxPZZW8qqP\r\nieUdoe02jXwrmlAiZTCQOph6XEQv2efI5TyQYAJk5zuFW+w6+si3VycbEbvyuc3u\r\nnV9gd/+0fr0TQQ6+C0HtRpHxNgUsYjPjVuPuEddt/qz4ZyO9oGyRdVl+rpV2pcOA\r\nbkulHqz8VN9WAAms0L2PQ3/3ZAAw7lOmTfUNqJPYd2QjbQAXC8G61eXZ6cqJLS9t\r\n9bFYlgxyYCv/Ok7Y4rBZWFGoAUlplH79U9CSU8q5IABqTTfaqDSnhOgbS8ZL9xmi\r\nGXx9TVSvk05z1J1ACjB+Aj/17rev+TWZyzUQE9N8YXvzXtH4I6F9YrJflvfyIX+a\r\n34rKjjh3PAYBCBdxzV1OiKzQZtLjkQCua9i1KZL4NZy8t2DY029trTgyLt2rE/HL\r\nqrTWKMSm\r\n=d7Nv\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `6dc1f2ac8bbd8dde3e44f0db23fee8262cd7abfa5430c2159ed49a2ea0c0d643  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e8929401086dc1f2ac8bbd8dde3e44f0db23fee8262cd7abfa5430c2159ed49a2ea0c0d643f0108f0958e073eb39e8db25382a59e112f708fff0102fd210112c1cc44b13a0f564b417119b08f1045e8b9703f00886b724c2cdaf593f0083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267fff010797632d6575ed84a9e7976a537404fb908f1045e8b9704f008f9723c33a28f8ea60083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff0107be40a0ab38b85d3510fc8bf0fa6180208f1045e8b9703f00827c4364b9dabc32c0083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6df010d02e1919b840baaf86db4cfba328641408f1045e8b9703f0084bfa6d1246b701870083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n\r\n",
      "created_at" : "2020-04-06T20:55:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#issuecomment-610031813",
      "id" : 610031813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18546",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDAzMTgxMw==",
      "updated_at" : "2020-04-06T20:55:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610031813",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18418 (wallet: Increase OUTPUT_GROUP_MAX_ENTRIES to 100 by fjahr)\n* #17824 (wallet: Prefer full destination groups in coin selection by fjahr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-07T00:53:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#issuecomment-610112192",
      "id" : 610112192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18546",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDExMjE5Mg==",
      "updated_at" : "2020-04-07T00:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610112192",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-07T02:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#issuecomment-610141783",
      "id" : 610141783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18546",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDE0MTc4Mw==",
      "updated_at" : "2020-04-07T02:43:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610141783",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like #18192 actually introduced a bug with its `name`-reference hack: the copy constructor copied the reference to the original object's `m_label`.\r\n\r\n2952c46b923042f2de801f319e03ed5c4c4eb735 is effectively a bugfix for that.\r\n\r\nIf we don't merge this in 0.20, we need to add something like:\r\n\r\n```c++\r\nCAddressBookData(const CAddressBookData& other) : m_change(other.m_change), m_label(other.m_label), name(m_label), purpose(other.purpose) {}\r\n```\r\n\r\n(This bug is why #18550 is failing CI)",
      "created_at" : "2020-04-07T04:48:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#issuecomment-610171177",
      "id" : 610171177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18546",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDE3MTE3Nw==",
      "updated_at" : "2020-04-07T04:48:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610171177",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404761334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404761334"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The test duly fails at this assertion before the changes in #18192.",
      "commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "created_at" : "2020-04-07T12:15:49Z",
      "diff_hunk" : "@@ -137,6 +138,30 @@ def test_immutable(self):\n         # Unload temp wallet\n         self.nodes[1].unloadwallet(tempwallet)\n \n+    def test_change_remains_change(self, node):\n+        self.log.info(\"Test that change doesn't turn into non-change when spent\")\n+\n+        reset_balance(node, node.getnewaddress())\n+        addr = node.getnewaddress()\n+        txid = node.sendtoaddress(addr, 1)\n+        out = node.listunspent(minconf=0, query_options={'minimumAmount': 2})\n+        assert_equal(len(out), 1)\n+        assert_equal(out[0]['txid'], txid)\n+        changeaddr = out[0]['address']\n+\n+        # Make sure it's starting out as change as expected\n+        assert node.getaddressinfo(changeaddr)['ischange']\n+        for logical_tx in node.listtransactions():\n+            assert logical_tx.get('address') != changeaddr\n+\n+        # Spend it\n+        reset_balance(node, node.getnewaddress())\n+\n+        # It should still be change\n+        assert node.getaddressinfo(changeaddr)['ischange']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18546#discussion_r404761334",
      "id" : 404761334,
      "line" : 161,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDc2MTMzNA==",
      "original_commit_id" : "7a2ecf16df938dd95d3130a46082def7a02338eb",
      "original_line" : 161,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/wallet_avoidreuse.py",
      "position" : 32,
      "pull_request_review_id" : 389055739,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-07T12:17:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404761334",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
