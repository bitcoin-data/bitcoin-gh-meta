[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Prior development work subsumed in this request: #3883 #4450 #4484\nGuidance and contributions so far from the following: @gavinandresen @mikehearn @petertodd @SergioDemianLerner @laanwj @sipa @jgarzik @gmaxwell @drak @Diapolo\n",
      "created_at" : "2014-07-22T07:13:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49705678",
      "id" : 49705678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NzA1Njc4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49705678/reactions"
      },
      "updated_at" : "2014-07-22T07:13:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49705678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "UI needs to have a more restrictive idea of what is a double-spend. Make it only trigger the UI display of a double-spend if the double-spend doesn't pay you at least as much as the previous tx.\n\nRight now this warning will be set off by accident in many cases, for instance wallets like GreenAddress.it where dual-factor controls expire after some time period, allowing the txouts to be spent with more than one scriptSig.\n",
      "created_at" : "2014-07-22T20:45:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49798175",
      "id" : 49798175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5Nzk4MTc1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49798175/reactions"
      },
      "updated_at" : "2014-07-22T20:45:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49798175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "node_id" : "MDQ6VXNlcjcwNDI=",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Also there are valid double spend cases employed in contract protocols.  For example, payment channels rely on only-A-or-B-is-valid protocol property to guarantee that the payment channel refund transaction OR the payment channel payment transaction is valid, but not both.\n",
      "created_at" : "2014-07-22T20:57:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49799833",
      "id" : 49799833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5Nzk5ODMz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49799833/reactions"
      },
      "updated_at" : "2014-07-22T20:57:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49799833",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jgarzik Are there double-spend cases where an alert would be undesirable?\n\nFor a payment channel, merchant would get an alert for the known attack where merchant claims payment close to the refund unlock time, then customer broadcasts the refund transaction as a double-spend as soon as it unlocks.\n",
      "created_at" : "2014-07-22T23:42:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49816133",
      "id" : 49816133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODE2MTMz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49816133/reactions"
      },
      "updated_at" : "2014-07-22T23:56:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49816133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@petertodd That is a bit of a minefield.  Consider these 3 transactions \n\n```\n In       Paysme\ntx1-1\n coin1      1\n\ntx1-2\n coin2      1\n\ntx2\n coin1      1\n coin2\n```\n\ntx2 double-spends both tx1-1 and tx1-2.  It pays as much as either one alone, but is not innocuous because it can stop both of them from confirming.  What the UI currently does is highlight both tx1-1 and tx1-2 (conflict seen).  tx2 is displayed (only because it pays us), and is also highlighted because it is a non-clone conflict.\n\nRe: GreenAddress can you connect the dots for me?  How does the script getting more permissive imply it's not important to alert if the coin is spent twice?\n",
      "created_at" : "2014-07-23T01:13:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49822001",
      "id" : 49822001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODIyMDAx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49822001/reactions"
      },
      "updated_at" : "2014-07-23T02:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49822001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dgenr8 I don't think anyone said implementing this correctly would be easy ;)\n",
      "created_at" : "2014-07-23T01:16:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49822207",
      "id" : 49822207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODIyMjA3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49822207/reactions"
      },
      "updated_at" : "2014-07-23T01:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49822207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr It wasn't ;P  The example can be made arbitrarily complex by making overlapping groups of conflicts.  The wording is careful -- another transaction was seen spending the money you think you're getting [unsaid -- there may be a third that you haven't seen].  Best to wait for confirmation.\n",
      "created_at" : "2014-07-23T02:50:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49827373",
      "id" : 49827373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODI3Mzcz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49827373/reactions"
      },
      "updated_at" : "2014-07-23T02:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49827373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@dgenr8 You've also forgotten the case there tx2 spends tx1 and tx1 is double-spent. You're code doesn't right now warn users if they're only paid by tx2. Probably better to remove the UI stuff in this patch for now; make it a separate patch.\n",
      "created_at" : "2014-07-23T03:41:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49829720",
      "id" : 49829720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODI5NzIw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49829720/reactions"
      },
      "updated_at" : "2014-07-23T03:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49829720",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "node_id" : "MDQ6VXNlcjcwNDI=",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dgenr8 Warning users about perfectly reasonable behaviour is not appropriate. And you should always wait for confirmation if you need confirmation, period.\n",
      "created_at" : "2014-07-23T03:53:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49830281",
      "id" : 49830281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODMwMjgx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49830281/reactions"
      },
      "updated_at" : "2014-07-23T03:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49830281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@petertodd Thank you.  Proper alerts for a double-spend of an unconfirmed parent will require adding the branch of unconfirmed parents to the wallet at the time the child is first added.\n\nI'd like to get feedback on whether anyone sees a problem with this.  These parents would be persistent like all wallet txes, and would not be displayed unless they are IsMine/IsFromMe themselves.  They were already allowed into the mempool.\n",
      "created_at" : "2014-07-23T22:32:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-49945425",
      "id" : 49945425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5OTQ1NDI1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49945425/reactions"
      },
      "updated_at" : "2014-12-11T00:27:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49945425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Lately, miners are pretty consistently [not mining respends](http://respends.thinlink.com/) if they occur quickly, apparently up to a day or so after the first spend.\n\nThat is nice, but the network still buries respends.  Accepting 0-conf payments is still susceptible to the following attack, even if all miners are nice:\n\nWhen ready to \"pay,\" attacker first transmits a bunch of transactions tx1 paying self, each from a different coin cX.  Then, at a succession of time offsets, he transmits a respend of each coin to the target.\n\nThe goal is for at least one tx2 to be seen by the _target first_, but the eventual _miner second_.  An additional constant input c0 is included in all the tx2 to ensure that in an adverse scenario for attacker, the target can only be paid once at most.  Change is not shown:\n\n```\nrespends=20  offset=.40s  offset increment=.05s\n\ntx1               elapsed        tx2\nc1 -> self          .40s         c1 + c0 -> target\nc2 -> self          .45s         c2 + c0 -> target\n...\nc20 -> self        1.35s         c20 + c0 -> target\n\nWorst-case value to attacker: -20*fee\nBest-case value to attacker: (value of goods or services) - 19*fee\n```\n\nRespend relay, with a properly monitored alert, is an effective countermeasure to this attack.  Target would be alerted almost immediately to withhold goods or services.\n\nIn addition to tuning the parameters, the attacker can use diverse nodes to gain variability in the timings, helping at least one pair to achieve the goal.\n",
      "created_at" : "2014-08-23T01:22:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-53138831",
      "id" : 53138831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMTM4ODMx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53138831/reactions"
      },
      "updated_at" : "2014-08-26T00:15:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53138831",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4570_d17d9ccf44625207415e6450171579ce8351c99d/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.\n",
      "created_at" : "2014-09-20T21:09:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-56280462",
      "id" : 56280462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjgwNDYy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56280462/reactions"
      },
      "updated_at" : "2014-09-20T21:09:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56280462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=4",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "node_id" : "MDQ6VXNlcjIxMTA5MDc=",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "needs rebase.\n",
      "created_at" : "2015-03-11T12:56:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-78257473",
      "id" : 78257473,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4MjU3NDcz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78257473/reactions"
      },
      "updated_at" : "2015-03-11T12:56:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78257473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Some serious problems with this still: respend checking is performed after IsStandard , so a fraudster need only craft his transactions carefully to defeat this entirely; if the order of this is inverted, you then create a situation where it encourages people who want to send real non-IsStandard transactions to do so as a double spend. I think the only way to resolve this is to remove IsStandard from the policy entirely (and hope enough nodes continue to run with this policy). This is potentially very dangerous.\n\nFurthermore, it appears an attacker can flood the network with double-spends in order to rate limit relaying of some of them. I also see no efforts made to consider the relay costs: since these are double spends, only one or the other will confirm, and thus the fee from the non-confirming one is never paid.\n",
      "created_at" : "2015-03-13T16:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-79124379",
      "id" : 79124379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5MTI0Mzc5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/79124379/reactions"
      },
      "updated_at" : "2015-03-13T16:50:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/79124379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr First to catch up, the \"wait for confirmation\" part of the alert dialog message was removed.  You're right, it's best to stick to the facts.\n\nYou are also correct that this change does not secure unconfirmed spends, and as currently written,  does not help in the construction of a system that does.\n\nWhat this change claims to do, and does, is to stop delaying the moment when interested parties can discover relayable double-spends.  The wallet portion also serves the important function of notifying the user of _successful_ double-spends.\n\nEven people with diametrically opposite views on whether unconfirmed transactions can ever gain more reliability agree that relaying double-spends, when possible, is an improvement.  The reason is that they happened, and that is useful information.\n",
      "created_at" : "2015-03-16T16:09:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-81765652",
      "id" : 81765652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzY1NjUy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/81765652/reactions"
      },
      "updated_at" : "2015-03-16T16:09:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/81765652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.  There is a question of where to put the equivalent-tx-check function.  At the moment there are identical versions in CTransaction and CWalletTx.  See #6365.\n",
      "created_at" : "2015-07-13T00:48:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-120776955",
      "id" : 120776955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDEyMDc3Njk1NQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120776955/reactions"
      },
      "updated_at" : "2015-07-13T00:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120776955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=4",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "node_id" : "MDQ6VXNlcjQyODQxMjQ=",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Observations on this pull request:\n- Zero ACKs after a year\n- Discussion on mailing list, here and IRC indicates concerns remain\n\nGoing to close.  That is perhaps mildly controversial given the current core/xt code fork debates, but it seems within bounds of reasonable project management.\n\nWe can re-open if ACKs suddenly appear or concerns are alleviated, etc.  The overall motivation is simply janitorial, closing pull requests that aren't moving after a long time.\n",
      "created_at" : "2015-07-23T17:58:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4570#issuecomment-124184707",
      "id" : 124184707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4570",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDEyNDE4NDcwNw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124184707/reactions"
      },
      "updated_at" : "2015-07-23T17:58:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124184707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
