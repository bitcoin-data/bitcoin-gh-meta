[
   {
      "body" : "I think defaulting to the number of physical cores is reasonable, not sure if we should change this default. #6361 was done to make issues like #6358 better, where so many threads were created the whole system is overloaded (that was reported a lot at the time!).\r\n\r\nSo any benchmarking here should not just take speed into account but also user experience.",
      "created_at" : "2017-04-25T05:26:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10271#issuecomment-296914021",
      "id" : 296914021,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10271",
      "updated_at" : "2017-04-25T05:26:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/296914021",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK e011c3b\r\n\r\nI'm not sure I understand why using number of hyperthreads instead of number of cores causes issues. In my experience hyperthreads have gotten very good in the last years (not sure about the timeframes, just from my previous laptop to my current one and my desktop). For all purposes I tend to treat the number of hyprethreads as if that was the number of cores I have.\r\n",
      "created_at" : "2017-06-22T22:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10271#issuecomment-310517611",
      "id" : 310517611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10271",
      "updated_at" : "2017-06-22T22:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/310517611",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "> I'm not sure I understand why using number of hyperthreads instead of number of cores causes issues.\r\n\r\nIt might not cause issues for you personally on your specific hardware, but it is clear it caused issues for many people if you read the PRs/issues I linked above.",
      "created_at" : "2017-06-25T18:29:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10271#issuecomment-310919383",
      "id" : 310919383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10271",
      "updated_at" : "2017-06-25T18:29:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/310919383",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.",
      "created_at" : "2018-03-02T15:41:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10271#issuecomment-369956533",
      "id" : 369956533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10271",
      "updated_at" : "2018-03-02T15:41:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369956533",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 937bf4335bc58c443645dc29b8d7ceadc81e74e5\r\n\r\nWith respect to issues like #6358, the right way to handle this on Linux is to use [SCHED_BATCH](http://man7.org/linux/man-pages/man7/sched.7.html) on the `loadblk` thread. I don't know what scheduler options are available on other platforms. I will put up a PR for this, as it can be done separately anyway.",
      "created_at" : "2018-03-06T17:13:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10271#issuecomment-370856011",
      "id" : 370856011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10271",
      "updated_at" : "2018-03-06T17:13:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370856011",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   }
]
