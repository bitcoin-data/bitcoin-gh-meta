[
   {
      "author_association" : "NONE",
      "body" : "A 30-minute follow-up test was conducted from height 4213.\r\nThe result is the same, the state of peer 0 on PC-A has not been updated since the start. \r\nSince there are three peers this time, three figures are attached.\r\n\r\n![bitcoin-net5](https://user-images.githubusercontent.com/7656623/132215044-3a412333-3ee0-441a-a3fe-98efb0114cff.png)\r\n![bitcoin-net6](https://user-images.githubusercontent.com/7656623/132215066-84e42706-ca41-4e96-9cef-10605b74920e.png)\r\n![bitcoin-net7](https://user-images.githubusercontent.com/7656623/132215083-62d3ebaf-6a8f-4f65-93fa-767d860f9b70.png)\r\n\r\n\r\nA part of debug.log of PC-B is shown below.\r\n```\r\n2021-09-06T10:37:59Z received: cmpctblock (261 bytes) peer=0\r\n2021-09-06T10:37:59Z received: blocktxn (33 bytes) peer=0\r\n2021-09-06T10:37:59Z UpdateTip: new best=60d4ec70ce3f1aa955b6bc9ab2334a781d217e3270c749056a4258e027d377c5 height=4336 version=0x20000000 log2_work=13.082482 tx=6354 date='2021-09-06T10:37:59Z' progress=1.000000 cache=0.0MiB(123txo)\r\n2021-09-06T10:37:59Z SendMessages: sending header 60d4ec70ce3f1aa955b6bc9ab2334a781d217e3270c749056a4258e027d377c5 to peer=2\r\n2021-09-06T10:37:59Z sending headers (82 bytes) peer=2\r\n2021-09-06T10:37:59Z SendMessages: sending header 60d4ec70ce3f1aa955b6bc9ab2334a781d217e3270c749056a4258e027d377c5 to peer=1\r\n2021-09-06T10:37:59Z sending headers (82 bytes) peer=1\r\n2021-09-06T10:38:09Z received: cmpctblock (261 bytes) peer=0\r\n2021-09-06T10:38:09Z received: blocktxn (33 bytes) peer=0\r\n2021-09-06T10:38:09Z UpdateTip: new best=3f6f0abf9343d5de4c5378754da63326094d05b0c05aa5bdd87a8ac1ba726141 height=4337 version=0x20000000 log2_work=13.082814 tx=6355 date='2021-09-06T10:38:09Z' progress=1.000000 cache=0.0MiB(124txo)\r\n2021-09-06T10:38:09Z received: headers (82 bytes) peer=1\r\n2021-09-06T10:38:09Z received: headers (82 bytes) peer=2\r\n2021-09-06T10:38:16Z sending ping (8 bytes) peer=2\r\n2021-09-06T10:38:16Z received: pong (8 bytes) peer=2\r\n2021-09-06T10:38:16Z received: ping (8 bytes) peer=2\r\n2021-09-06T10:38:16Z sending pong (8 bytes) peer=2\r\n```\r\n\r\nThe block is always received from peer 0.\r\n\"SendMessages: sending header\" is always executed after \"UpdateTip: new best\".\r\nAt this time, it is transmitted to peers 1 and 2, but never to peer 0.\r\nWhat distinguishes peer 0? Receiving the block is the only factor that distinguishes it from others. Where is this logic written in the code?\r\n\r\n",
      "created_at" : "2021-09-06T12:08:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22898#issuecomment-913597512",
      "id" : 913597512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22898",
      "node_id" : "IC_kwDOABII5842dGRI",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-06T12:08:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913597512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7656623?v=4",
         "events_url" : "https://api.github.com/users/fujicoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fujicoin/followers",
         "following_url" : "https://api.github.com/users/fujicoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fujicoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fujicoin",
         "id" : 7656623,
         "login" : "fujicoin",
         "node_id" : "MDQ6VXNlcjc2NTY2MjM=",
         "organizations_url" : "https://api.github.com/users/fujicoin/orgs",
         "received_events_url" : "https://api.github.com/users/fujicoin/received_events",
         "repos_url" : "https://api.github.com/users/fujicoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fujicoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fujicoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fujicoin"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I have created a PR to solve this problem.\r\nhttps://github.com/bitcoin/bitcoin/pull/22913",
      "created_at" : "2021-09-08T07:02:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22898#issuecomment-914974938",
      "id" : 914974938,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22898",
      "node_id" : "IC_kwDOABII5842iWja",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-08T07:03:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/914974938",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7656623?v=4",
         "events_url" : "https://api.github.com/users/fujicoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fujicoin/followers",
         "following_url" : "https://api.github.com/users/fujicoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fujicoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fujicoin",
         "id" : 7656623,
         "login" : "fujicoin",
         "node_id" : "MDQ6VXNlcjc2NTY2MjM=",
         "organizations_url" : "https://api.github.com/users/fujicoin/orgs",
         "received_events_url" : "https://api.github.com/users/fujicoin/received_events",
         "repos_url" : "https://api.github.com/users/fujicoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fujicoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fujicoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fujicoin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  On PC-A, I ran a python program that generates blocks every 10 seconds for 90 minutes.\r\n\r\nThis is impossible for us to reproduce. Please write a (functional) test, or exact steps to reproduce. (You can start several nodes on `localhost`, so no need for several PCs).\r\n\r\nAlso, is this a GUI issue, an RPC issue, or a P2P issue?",
      "created_at" : "2022-01-03T13:44:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22898#issuecomment-1004102241",
      "id" : 1004102241,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22898",
      "node_id" : "IC_kwDOABII58472WJh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004102241/reactions"
      },
      "updated_at" : "2022-01-03T13:44:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004102241",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@MarcoFalke \r\nThis is a p2p issue.\r\nThe current code is designed not to send headers to the peer from that we received new blocks or headers. Therefore, it looks like this node is delayed from the other node.\r\n\r\nSee # 22913 for more details.\r\n\r\n\r\n\r\n",
      "created_at" : "2022-01-04T06:49:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22898#issuecomment-1004565334",
      "id" : 1004565334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22898",
      "node_id" : "IC_kwDOABII58474HNW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004565334/reactions"
      },
      "updated_at" : "2022-01-04T06:49:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004565334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7656623?v=4",
         "events_url" : "https://api.github.com/users/fujicoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fujicoin/followers",
         "following_url" : "https://api.github.com/users/fujicoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fujicoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fujicoin",
         "id" : 7656623,
         "login" : "fujicoin",
         "node_id" : "MDQ6VXNlcjc2NTY2MjM=",
         "organizations_url" : "https://api.github.com/users/fujicoin/orgs",
         "received_events_url" : "https://api.github.com/users/fujicoin/received_events",
         "repos_url" : "https://api.github.com/users/fujicoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fujicoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fujicoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fujicoin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing for now given the lack of clear steps to reproduce, and the accompanying change was closed: #22913.",
      "created_at" : "2022-08-08T16:37:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22898#issuecomment-1208353183",
      "id" : 1208353183,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22898",
      "node_id" : "IC_kwDOABII585IBgGf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208353183/reactions"
      },
      "updated_at" : "2022-08-08T16:37:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208353183",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
