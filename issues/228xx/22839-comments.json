[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-08-31T09:23:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-909060039",
      "id" : 909060039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5842LyfH",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-31T09:23:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909060039",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-09-04T13:48:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-912977373",
      "id" : 912977373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5842au3d",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-04T13:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912977373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2021-09-07T20:53:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-914622343",
      "id" : 914622343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5842hAeH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/914622343/reactions"
      },
      "updated_at" : "2021-10-16T04:15:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/914622343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r710905950"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710905950"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nits:\r\n1. Say \"of size XYZ entries\" (implying not bytes).\r\n2. Maybe something more specific like \"Selected XYZ entries to be sent in response to GETADDR\"",
      "commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "created_at" : "2021-09-17T09:33:57Z",
      "diff_hunk" : "@@ -573,6 +571,7 @@ void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, size_t max_addresses, size\n \n         vAddr.push_back(ai);\n     }\n+    LogPrint(BCLog::ADDRMAN, \"Created getaddr response of size %d\\n\", vAddr.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r710905950",
      "id" : 710905950,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII584qX5Be",
      "original_commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "original_line" : 574,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 70,
      "pull_request_review_id" : 757262628,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-17T09:33:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710905950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "created_at" : "2021-09-17T09:34:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-921654751",
      "id" : 921654751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII584271Xf",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-17T09:34:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/921654751",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r720737254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720737254"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks - I forgot to answer this - will address it when I push next (i.e. after #22950 is merged and I'll need to rebase anyway).",
      "commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "created_at" : "2021-10-02T22:36:14Z",
      "diff_hunk" : "@@ -573,6 +571,7 @@ void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, size_t max_addresses, size\n \n         vAddr.push_back(ai);\n     }\n+    LogPrint(BCLog::ADDRMAN, \"Created getaddr response of size %d\\n\", vAddr.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r720737254",
      "id" : 720737254,
      "in_reply_to_id" : 710905950,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII584q9ZPm",
      "original_commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "original_line" : 574,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 70,
      "pull_request_review_id" : 769530493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720737254/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-02T22:36:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720737254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r721096973"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721096973"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why so pessimistic? :)\r\nThis already has 3 ACKs, so might bring this up at the meeting? Unless you explicitly want to avoid forcing a rebase on #22950",
      "commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "created_at" : "2021-10-04T07:16:10Z",
      "diff_hunk" : "@@ -573,6 +571,7 @@ void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, size_t max_addresses, size\n \n         vAddr.push_back(ai);\n     }\n+    LogPrint(BCLog::ADDRMAN, \"Created getaddr response of size %d\\n\", vAddr.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r721096973",
      "id" : 721096973,
      "in_reply_to_id" : 710905950,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII584q-xEN",
      "original_commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "original_line" : 574,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 70,
      "pull_request_review_id" : 769935730,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721096973/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-04T07:16:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721096973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r721179473"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721179473"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think that since #22950 is so much larger and requires more time-consuming review, it makes sense to try to merge that first and rebase other PRs on top of it (rather than merge small PRs and force 22950 to be rebased/re-reviewed).",
      "commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "created_at" : "2021-10-04T09:11:40Z",
      "diff_hunk" : "@@ -573,6 +571,7 @@ void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, size_t max_addresses, size\n \n         vAddr.push_back(ai);\n     }\n+    LogPrint(BCLog::ADDRMAN, \"Created getaddr response of size %d\\n\", vAddr.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r721179473",
      "id" : 721179473,
      "in_reply_to_id" : 710905950,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII584q_FNR",
      "original_commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "original_line" : 574,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 70,
      "pull_request_review_id" : 770045463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721179473/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-04T09:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721179473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r721211828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721211828"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, I agree with that. I'd much rather rebase this than go through all the (mostly mechanical) changes of 22950 another time. ",
      "commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "created_at" : "2021-10-04T09:53:59Z",
      "diff_hunk" : "@@ -573,6 +571,7 @@ void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, size_t max_addresses, size\n \n         vAddr.push_back(ai);\n     }\n+    LogPrint(BCLog::ADDRMAN, \"Created getaddr response of size %d\\n\", vAddr.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r721211828",
      "id" : 721211828,
      "in_reply_to_id" : 710905950,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII584q_NG0",
      "original_commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "original_line" : 574,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 70,
      "pull_request_review_id" : 770088176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721211828/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-04T09:53:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721211828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-10-05T15:09:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-934497676",
      "id" : 934497676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5843s02M",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934497676/reactions"
      },
      "updated_at" : "2021-10-05T15:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934497676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r722452306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722452306"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I took your second suggestion, thanks!",
      "commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "created_at" : "2021-10-05T17:20:11Z",
      "diff_hunk" : "@@ -573,6 +571,7 @@ void CAddrMan::GetAddr_(std::vector<CAddress>& vAddr, size_t max_addresses, size\n \n         vAddr.push_back(ai);\n     }\n+    LogPrint(BCLog::ADDRMAN, \"Created getaddr response of size %d\\n\", vAddr.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r722452306",
      "id" : 722452306,
      "in_reply_to_id" : 710905950,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rD79S",
      "original_commit_id" : "632e648fd8a4d7b71be45139a51c75ffff305a1b",
      "original_line" : 574,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 771732863,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722452306/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T17:20:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722452306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and addressed feedback by @naumenkogs .",
      "created_at" : "2021-10-05T17:20:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-934608731",
      "id" : 934608731,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5843tP9b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934608731/reactions"
      },
      "updated_at" : "2021-10-05T17:20:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934608731",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723012957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723012957"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: a mixture of tenses is used: moving, adding, select, selected. ",
      "commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "created_at" : "2021-10-06T08:38:25Z",
      "diff_hunk" : "@@ -780,7 +776,7 @@ std::vector<CAddress> AddrManImpl::GetAddr_(size_t max_addresses, size_t max_pct\n \n         addresses.push_back(ai);\n     }\n-\n+    LogPrint(BCLog::ADDRMAN, \"Selected %d addrman entries to be sent in response to getaddr\\n\", addresses.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723012957",
      "id" : 723012957,
      "line" : 779,
      "node_id" : "PRRC_kwDOABII584rGE1d",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 779,
      "original_position" : 63,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 63,
      "pull_request_review_id" : 772359512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723012957/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-06T09:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723012957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723015165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015165"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: might as well drop \"IP\". \"Moving 10.20.30.40\" is also fine IMO.\r\n\r\n\"Moving IP 2g5qfdkn2vvcbqhzcyvyiitg4ceukybxklraxjnu7atlhd22gdwywaid.onion\" is funny because that is not an IP (address).",
      "commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "created_at" : "2021-10-06T08:41:01Z",
      "diff_hunk" : "@@ -589,8 +583,7 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n             m_tried_collisions.insert(nId);\n         }\n     } else {\n-        LogPrint(BCLog::ADDRMAN, \"Moving %s to tried\\n\", addr.ToString());\n-\n+        LogPrint(BCLog::ADDRMAN, \"Moving IP %s mapped to AS%i to tried bucket %i\\n\", addr.ToString(), addr.GetMappedAS(m_asmap), tried_bucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723015165",
      "id" : 723015165,
      "line" : 586,
      "node_id" : "PRRC_kwDOABII584rGFX9",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 586,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 30,
      "pull_request_review_id" : 772359512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015165/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-06T09:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723015165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723024716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723024716"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since we log the \"add\" operation, would it make sense to also log the \"delete\"?\r\n* `Delete()`: removes an entry from the new table\r\n* `MakeTried()`: may move an entry from tried to new.",
      "commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "created_at" : "2021-10-06T08:52:28Z",
      "diff_hunk" : "@@ -662,6 +655,7 @@ bool AddrManImpl::Add_(const CAddress& addr, const CNetAddr& source, int64_t nTi\n             ClearNew(nUBucket, nUBucketPos);\n             pinfo->nRefCount++;\n             vvNew[nUBucket][nUBucketPos] = nId;\n+            LogPrint(BCLog::ADDRMAN, \"Adding IP %s mapped to AS%i to new bucket %i\\n\", addr.ToString(), addr.GetMappedAS(m_asmap), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723024716",
      "id" : 723024716,
      "line" : 658,
      "node_id" : "PRRC_kwDOABII584rGHtM",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 658,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 38,
      "pull_request_review_id" : 772359512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723024716/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-06T09:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723024716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723040597"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723040597"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Above, on line 581 there is a confusing log which says \"moving\", but it is actually not moving anything - it only adds the ID to a list of collided IDs. The promoted entry remains in the new table (`Good()` fails to promote it to tried) and the existent entry remains in tried.\r\n\r\n```diff\r\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\r\n         // Output the entry we'd be colliding with, for debugging purposes\r\n         auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\r\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\r\n+        LogPrint(\r\n+            BCLog::ADDRMAN,\r\n+            \"Cannot move %s from new to tried due to a collision%s. Collisions=%u.\",\r\n+            addr.ToString(),\r\n+            colliding_entry != mapInfo.end() ? \" with \" + colliding_entry->second.ToString() : \"\",\r\n+            m_tried_collisions.size());\r\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\r\n             m_tried_collisions.insert(nId);\r\n         }\r\n     } else {\r\n```",
      "commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "created_at" : "2021-10-06T09:09:43Z",
      "diff_hunk" : "@@ -589,8 +583,7 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n             m_tried_collisions.insert(nId);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r723040597",
      "id" : 723040597,
      "line" : 583,
      "node_id" : "PRRC_kwDOABII584rGLlV",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 583,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 25,
      "pull_request_review_id" : 772359512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723040597/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-06T09:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/723040597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "created_at" : "2021-10-06T09:49:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-935868318",
      "id" : 935868318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5843yDee",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935868318/reactions"
      },
      "updated_at" : "2021-10-06T09:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935868318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b, but it'd be great to apply what vasild suggested.",
      "created_at" : "2021-10-06T10:23:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-935920096",
      "id" : 935920096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5843yQHg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935920096/reactions"
      },
      "updated_at" : "2021-10-07T05:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935920096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Given this change is quite small, and re-ACKing is easy, I'd suggest addressing the outstanding review comments before we merge this. Rather than having a followup to change the same lines again.\r\n\r\nAlso @naumenkogs I edited your ACK to remove the @ mention, otherwise it would have ended up in the merge message.",
      "created_at" : "2021-10-07T05:42:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-937467868",
      "id" : 937467868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII58434J_c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/937467868/reactions"
      },
      "updated_at" : "2021-10-07T05:43:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/937467868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724603012"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724603012"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I changed it to past in all added logs, but didn't change all existing ones: Sometimes the log describes something that is about to be done after the log.",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-07T23:34:33Z",
      "diff_hunk" : "@@ -780,7 +776,7 @@ std::vector<CAddress> AddrManImpl::GetAddr_(size_t max_addresses, size_t max_pct\n \n         addresses.push_back(ai);\n     }\n-\n+    LogPrint(BCLog::ADDRMAN, \"Selected %d addrman entries to be sent in response to getaddr\\n\", addresses.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724603012",
      "id" : 724603012,
      "in_reply_to_id" : 723012957,
      "line" : 784,
      "node_id" : "PRRC_kwDOABII584rMJCE",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 784,
      "original_position" : 63,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 94,
      "pull_request_review_id" : 774481842,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724603012/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-07T23:34:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724603012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724603132"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724603132"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done as suggested.",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-07T23:34:50Z",
      "diff_hunk" : "@@ -589,8 +583,7 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n             m_tried_collisions.insert(nId);\n         }\n     } else {\n-        LogPrint(BCLog::ADDRMAN, \"Moving %s to tried\\n\", addr.ToString());\n-\n+        LogPrint(BCLog::ADDRMAN, \"Moving IP %s mapped to AS%i to tried bucket %i\\n\", addr.ToString(), addr.GetMappedAS(m_asmap), tried_bucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724603132",
      "id" : 724603132,
      "in_reply_to_id" : 723015165,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rMJD8",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 586,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 774481960,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724603132/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-07T23:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724603132",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724607397"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724607397"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I added a log to `MakeTried()` as suggested.\r\n\r\n>  Delete()`: removes an entry from the new table\r\n\r\nIt only removes from mapAddr and mapInfo:\r\nIf `Add()` attempts to add an unknown addr, which collides with an existing, non-terrible one, `Create()` and `Delete()` are called even though nothing is ever actually added into any new bucket - I don't think `Delete()` should log in this case.\r\nThat's why I added a log entry to `ClearNew()` instead of `Delete()`: \r\n\r\n\r\n",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-07T23:47:41Z",
      "diff_hunk" : "@@ -662,6 +655,7 @@ bool AddrManImpl::Add_(const CAddress& addr, const CNetAddr& source, int64_t nTi\n             ClearNew(nUBucket, nUBucketPos);\n             pinfo->nRefCount++;\n             vvNew[nUBucket][nUBucketPos] = nId;\n+            LogPrint(BCLog::ADDRMAN, \"Adding IP %s mapped to AS%i to new bucket %i\\n\", addr.ToString(), addr.GetMappedAS(m_asmap), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724607397",
      "id" : 724607397,
      "in_reply_to_id" : 723024716,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rMKGl",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 658,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 774486863,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724607397/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-07T23:47:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724607397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724608524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724608524"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I changed this, and also moved the log call after the Insert into `m_tried_collisions` so that the logged `m_tried_collisions.size()` make more sense.\r\n\"Cannot move\" sounds a bit too final, because it might be moved a bit later when evaluating  `m_tried_collisions` so I chose a slightly different wording. ",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-07T23:50:55Z",
      "diff_hunk" : "@@ -589,8 +583,7 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n             m_tried_collisions.insert(nId);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724608524",
      "id" : 724608524,
      "in_reply_to_id" : 723040597,
      "line" : 582,
      "node_id" : "PRRC_kwDOABII584rMKYM",
      "original_commit_id" : "2ac363a1f731b06d3f3c8b2fd7a02d0f846bb39b",
      "original_line" : 582,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 48,
      "pull_request_review_id" : 774488124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724608524/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-07T23:50:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724608524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I addressed @vasild's suggestions, thanks for the review!\r\nNote that now this PR introduces more additional `BCLog::ADDRMAN` log calls. Although I originally had the intention to only log from the functions belonging to the public interface, I think that the entries in `ClearNew` and `MakeTried` can be helpful for debugging.",
      "created_at" : "2021-10-07T23:59:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-938236001",
      "id" : 938236001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII58437Fhh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938236001/reactions"
      },
      "updated_at" : "2021-10-07T23:59:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938236001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724754140"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724754140"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: If the entry is not found, then the log would look like:\r\n```\r\nCollision with  while attempting...\r\n```\r\n\r\nI think the entry will always be found, unless some addrman corruption has happened. The previous log would also look strange in that case.\r\n\r\n```suggestion\r\n        LogPrint(BCLog::ADDRMAN, \"Collision%s while attempting to move %s to tried table. Collisions=%d\\n\",\r\n            colliding_entry != mapInfo.end() ? \" with \" + colliding_entry->second.ToString() : \"\",\r\n```\r\nWould produce either `Collision while...` or `Collision with 1.2.3.4 while...`.",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T07:07:59Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724754140",
      "id" : 724754140,
      "line" : 587,
      "node_id" : "PRRC_kwDOABII584rMt7c",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : 53,
      "pull_request_review_id" : 774663129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724754140/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 586,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-08T07:11:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724754140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724789577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724789577"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This case was unclear for me either. Perhaps `assert != end` is too dangerous, but at least logging that something is wrong explicitly would be great?\r\n",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:03:05Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724789577",
      "id" : 724789577,
      "in_reply_to_id" : 724754140,
      "line" : 587,
      "node_id" : "PRRC_kwDOABII584rM2lJ",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : 53,
      "pull_request_review_id" : 774709992,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724789577/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 586,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-08T08:03:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724789577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724793869"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724793869"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: If you decided to log a bucket, I assume the reason for that is to debug addrman logs in case something goes wrong. \r\nThen, logging a position would also be useful :)",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:08:59Z",
      "diff_hunk" : "@@ -481,6 +475,7 @@ void AddrManImpl::ClearNew(int nUBucket, int nUBucketPos)\n         assert(infoDelete.nRefCount > 0);\n         infoDelete.nRefCount--;\n         vvNew[nUBucket][nUBucketPos] = -1;\n+        LogPrint(BCLog::ADDRMAN, \"Removed %s from new bucket %i\\n\", infoDelete.ToString(), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724793869",
      "id" : 724793869,
      "line" : 478,
      "node_id" : "PRRC_kwDOABII584rM3oN",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 478,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 28,
      "pull_request_review_id" : 774715609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724793869/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-08T08:09:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724793869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724795795"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724795795"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Same kinda question](https://github.com/bitcoin/bitcoin/pull/22839/files#r724793869)",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:11:49Z",
      "diff_hunk" : "@@ -532,6 +527,7 @@ void AddrManImpl::MakeTried(AddrInfo& info, int nId)\n         infoOld.nRefCount = 1;\n         vvNew[nUBucket][nUBucketPos] = nIdEvict;\n         nNew++;\n+        LogPrint(BCLog::ADDRMAN, \"Moved %s from tried to new bucket %i to make space\\n\", infoOld.ToString(), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724795795",
      "id" : 724795795,
      "line" : 530,
      "node_id" : "PRRC_kwDOABII584rM4GT",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 530,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 36,
      "pull_request_review_id" : 774718213,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724795795/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-08T08:11:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724795795",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:15:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-938440234",
      "id" : 938440234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII584373Yq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938440234/reactions"
      },
      "updated_at" : "2021-10-08T08:15:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938440234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724798290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724798290"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah, I also think an assert is too dangerous (and out of the scope of this PR). The methods `Good_()`, `Attempt()_`, `Connected()_` and `SetServices_()` just cancel the current operation without disturbing the entire process (like `assert()` would do) if the unexpected happens (search for `// if not found, bail out`).",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:15:27Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724798290",
      "id" : 724798290,
      "in_reply_to_id" : 724754140,
      "line" : 587,
      "node_id" : "PRRC_kwDOABII584rM4tS",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : 53,
      "pull_request_review_id" : 774721631,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724798290/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 586,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-08T08:15:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724798290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724801501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724801501"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Now, we are doing [feature creep](https://en.wikipedia.org/wiki/Feature_creep) to this PR, so feel free to ignore. But, but, but... what about an uniform `new[i][j]` and `tried[i][j]` all over the place? E.g.\r\n\r\n```\r\nMoving 1.2.3.4 from tried[5][20] to new[4][50]\r\n```",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:20:02Z",
      "diff_hunk" : "@@ -481,6 +475,7 @@ void AddrManImpl::ClearNew(int nUBucket, int nUBucketPos)\n         assert(infoDelete.nRefCount > 0);\n         infoDelete.nRefCount--;\n         vvNew[nUBucket][nUBucketPos] = -1;\n+        LogPrint(BCLog::ADDRMAN, \"Removed %s from new bucket %i\\n\", infoDelete.ToString(), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724801501",
      "id" : 724801501,
      "in_reply_to_id" : 724793869,
      "line" : 478,
      "node_id" : "PRRC_kwDOABII584rM5fd",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 478,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 28,
      "pull_request_review_id" : 774725897,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724801501/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-08T08:20:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724801501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724802503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724802503"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`Assume` could be used",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T08:21:16Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724802503",
      "id" : 724802503,
      "in_reply_to_id" : 724754140,
      "line" : 587,
      "node_id" : "PRRC_kwDOABII584rM5vH",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : 53,
      "pull_request_review_id" : 774727105,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724802503/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 586,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-08T08:21:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724802503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724837395"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724837395"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Like this?\r\n```cpp\r\nAssume(colliding_entry != mapInfo.end());\r\nLogPrint(..., colliding_entry->second.ToString(), ...);\r\n```\r\nin the adverse scenario, in production, the first line would do nothing and the second line would crash.",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T09:07:02Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724837395",
      "id" : 724837395,
      "in_reply_to_id" : 724754140,
      "line" : 587,
      "node_id" : "PRRC_kwDOABII584rNCQT",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : 53,
      "pull_request_review_id" : 774774069,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724837395/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 586,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-08T09:07:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724837395",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724842670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724842670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This seems like a reasonable improvement, but the behavior here is unchanged in this PR. Previously the log was also doing a test on `colliding_entry != mapInfo.end()`. This PR is currently focused entirely on logging improvements, so I think changing this behavior should be left for a different PR.",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T09:14:13Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r724842670",
      "id" : 724842670,
      "in_reply_to_id" : 724754140,
      "line" : 587,
      "node_id" : "PRRC_kwDOABII584rNDiu",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : 53,
      "pull_request_review_id" : 774781165,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724842670/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 586,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-08T09:14:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/724842670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-08T09:14:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-938483131",
      "id" : 938483131,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII58438B27",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938483131/reactions"
      },
      "updated_at" : "2021-10-08T09:14:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938483131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r725489862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725489862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That does sound useful! Might just take a couple more days until I get to it. ",
      "commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "created_at" : "2021-10-09T13:47:39Z",
      "diff_hunk" : "@@ -481,6 +475,7 @@ void AddrManImpl::ClearNew(int nUBucket, int nUBucketPos)\n         assert(infoDelete.nRefCount > 0);\n         infoDelete.nRefCount--;\n         vvNew[nUBucket][nUBucketPos] = -1;\n+        LogPrint(BCLog::ADDRMAN, \"Removed %s from new bucket %i\\n\", infoDelete.ToString(), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r725489862",
      "id" : 725489862,
      "in_reply_to_id" : 724793869,
      "line" : 478,
      "node_id" : "PRRC_kwDOABII584rPhjG",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 478,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 28,
      "pull_request_review_id" : 775580140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725489862/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-09T13:47:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/725489862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r726556505"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726556505"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, I'll leave this as is in this PR.",
      "commit_id" : "12350e1e9894607a7951d79da7b65add321f5cfe",
      "created_at" : "2021-10-11T20:42:53Z",
      "diff_hunk" : "@@ -582,17 +578,19 @@ void AddrManImpl::Good_(const CService& addr, bool test_before_evict, int64_t nT\n \n     // Will moving this address into tried evict another entry?\n     if (test_before_evict && (vvTried[tried_bucket][tried_bucket_pos] != -1)) {\n-        // Output the entry we'd be colliding with, for debugging purposes\n-        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n-        LogPrint(BCLog::ADDRMAN, \"Collision inserting element into tried table (%s), moving %s to m_tried_collisions=%d\\n\", colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\", addr.ToString(), m_tried_collisions.size());\n         if (m_tried_collisions.size() < ADDRMAN_SET_TRIED_COLLISION_SIZE) {\n             m_tried_collisions.insert(nId);\n         }\n+        // Output the entry we'd be colliding with, for debugging purposes\n+        auto colliding_entry = mapInfo.find(vvTried[tried_bucket][tried_bucket_pos]);\n+        LogPrint(BCLog::ADDRMAN, \"Collision with %s while attempting to move %s to tried table. Collisions=%d\\n\",\n+            colliding_entry != mapInfo.end() ? colliding_entry->second.ToString() : \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r726556505",
      "id" : 726556505,
      "in_reply_to_id" : 724754140,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rTl9Z",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 587,
      "original_position" : 53,
      "original_start_line" : 586,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 776648130,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726556505/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-10-11T20:42:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726556505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r726556846"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726556846"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I changed this as suggested by @vasild with the latest push.",
      "commit_id" : "12350e1e9894607a7951d79da7b65add321f5cfe",
      "created_at" : "2021-10-11T20:43:40Z",
      "diff_hunk" : "@@ -481,6 +475,7 @@ void AddrManImpl::ClearNew(int nUBucket, int nUBucketPos)\n         assert(infoDelete.nRefCount > 0);\n         infoDelete.nRefCount--;\n         vvNew[nUBucket][nUBucketPos] = -1;\n+        LogPrint(BCLog::ADDRMAN, \"Removed %s from new bucket %i\\n\", infoDelete.ToString(), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r726556846",
      "id" : 726556846,
      "in_reply_to_id" : 724793869,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rTmCu",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 478,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 776648578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726556846/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-11T20:43:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726556846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r726557063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726557063"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "12350e1e9894607a7951d79da7b65add321f5cfe",
      "created_at" : "2021-10-11T20:44:08Z",
      "diff_hunk" : "@@ -532,6 +527,7 @@ void AddrManImpl::MakeTried(AddrInfo& info, int nId)\n         infoOld.nRefCount = 1;\n         vvNew[nUBucket][nUBucketPos] = nIdEvict;\n         nNew++;\n+        LogPrint(BCLog::ADDRMAN, \"Moved %s from tried to new bucket %i to make space\\n\", infoOld.ToString(), nUBucket);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r726557063",
      "id" : 726557063,
      "in_reply_to_id" : 724795795,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rTmGH",
      "original_commit_id" : "2ceab68079601072a8ab6f084e4b3123025d0463",
      "original_line" : 530,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 776648854,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726557063/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-11T20:44:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/726557063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Latest push: I added the bucket position everywhere where only the bucket was logged before and changed to a consistent notation `new[i][j]`, `tried[i][j]`.",
      "created_at" : "2021-10-11T20:47:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-940429613",
      "id" : 940429613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5844DdEt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/940429613/reactions"
      },
      "updated_at" : "2021-10-11T20:47:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/940429613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r727914155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/727914155"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is the \"tried\" case but would log \"new\". Below, in the \"new\" case we would log \"tried\".",
      "commit_id" : "12350e1e9894607a7951d79da7b65add321f5cfe",
      "created_at" : "2021-10-13T10:18:00Z",
      "diff_hunk" : "@@ -720,6 +722,7 @@ std::pair<CAddress, int64_t> AddrManImpl::Select_(bool newOnly) const\n             assert(it_found != mapInfo.end());\n             const AddrInfo& info{it_found->second};\n             if (insecure_rand.randbits(30) < fChanceFactor * info.GetChance() * (1 << 30)) {\n+                LogPrint(BCLog::ADDRMAN, \"Selected %s from new to connect to\\n\", info.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r727914155",
      "id" : 727914155,
      "line" : 725,
      "node_id" : "PRRC_kwDOABII584rYxar",
      "original_commit_id" : "12350e1e9894607a7951d79da7b65add321f5cfe",
      "original_line" : 725,
      "original_position" : 80,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 80,
      "pull_request_review_id" : 778375050,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/727914155/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-13T10:19:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/727914155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r728497166"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/728497166"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oops, thanks for catching that! Fixed now.",
      "commit_id" : "e1d1788027e1339b0013fc8787e0251862d85117",
      "created_at" : "2021-10-13T22:39:47Z",
      "diff_hunk" : "@@ -720,6 +722,7 @@ std::pair<CAddress, int64_t> AddrManImpl::Select_(bool newOnly) const\n             assert(it_found != mapInfo.end());\n             const AddrInfo& info{it_found->second};\n             if (insecure_rand.randbits(30) < fChanceFactor * info.GetChance() * (1 << 30)) {\n+                LogPrint(BCLog::ADDRMAN, \"Selected %s from new to connect to\\n\", info.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r728497166",
      "id" : 728497166,
      "in_reply_to_id" : 727914155,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584ra_wO",
      "original_commit_id" : "12350e1e9894607a7951d79da7b65add321f5cfe",
      "original_line" : 725,
      "original_position" : 80,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 779150700,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/728497166/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-13T22:39:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/728497166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r729694437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/729694437"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't really like having internal addrman logs including assumptions about how the external interface function is being used. Here, I think it's sufficient to log \"Selected %s from tried\". The calling code is responsible for logging about what it does with the returned data.\r\n\r\nYou could imagine in the future the Select() function being used for a purpose other than to get an address to connect to immediately, in which case this log would be misleading/incorrect.\r\n\r\nSame comment below for the \"to be sent in response to getaddr\" log.",
      "commit_id" : "e1d1788027e1339b0013fc8787e0251862d85117",
      "created_at" : "2021-10-15T10:11:15Z",
      "diff_hunk" : "@@ -720,6 +722,7 @@ std::pair<CAddress, int64_t> AddrManImpl::Select_(bool newOnly) const\n             assert(it_found != mapInfo.end());\n             const AddrInfo& info{it_found->second};\n             if (insecure_rand.randbits(30) < fChanceFactor * info.GetChance() * (1 << 30)) {\n+                LogPrint(BCLog::ADDRMAN, \"Selected %s from tried to connect to\\n\", info.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r729694437",
      "id" : 729694437,
      "line" : 725,
      "node_id" : "PRRC_kwDOABII584rfkDl",
      "original_commit_id" : "e1d1788027e1339b0013fc8787e0251862d85117",
      "original_line" : 725,
      "original_position" : 80,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : 80,
      "pull_request_review_id" : 780679846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/729694437/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-15T10:11:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/729694437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r731360316"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731360316"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed. The reason I had those is to distinguish between GetAddr and Select, which both select addresses from addrman, but for a different purpose, and with a different methodology closely tied to the respective purpose. I removed the description of the purpose but kept the \"getaddr\" keyword to make that difference clear.",
      "commit_id" : "b65a25a84666d41a0af4ad98ffadfa4ac802d1bb",
      "created_at" : "2021-10-18T22:28:33Z",
      "diff_hunk" : "@@ -720,6 +722,7 @@ std::pair<CAddress, int64_t> AddrManImpl::Select_(bool newOnly) const\n             assert(it_found != mapInfo.end());\n             const AddrInfo& info{it_found->second};\n             if (insecure_rand.randbits(30) < fChanceFactor * info.GetChance() * (1 << 30)) {\n+                LogPrint(BCLog::ADDRMAN, \"Selected %s from tried to connect to\\n\", info.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#discussion_r731360316",
      "id" : 731360316,
      "in_reply_to_id" : 729694437,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584rl6w8",
      "original_commit_id" : "e1d1788027e1339b0013fc8787e0251862d85117",
      "original_line" : 725,
      "original_position" : 80,
      "original_start_line" : null,
      "path" : "src/addrman.cpp",
      "position" : null,
      "pull_request_review_id" : 782633953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22839",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731360316/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-18T22:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/731360316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK b65a25a84666d41a0af4ad98ffadfa4ac802d1bb",
      "created_at" : "2021-10-20T08:38:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22839#issuecomment-947451590",
      "id" : 947451590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22839",
      "node_id" : "IC_kwDOABII5844ePbG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/947451590/reactions"
      },
      "updated_at" : "2021-10-20T08:38:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/947451590",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
