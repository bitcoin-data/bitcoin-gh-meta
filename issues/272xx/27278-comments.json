[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/27278#pullrequestreview-1349059745), [dergoegge](https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1477933351) |\n| Concept ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476060387) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26969](https://github.com/bitcoin/bitcoin/pull/26969) (net, refactor: net_processing, add `ProcessCompactBlockTxns` by brunoerg)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-03-19T14:06:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1475271191",
      "id" : 1475271191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585X7toX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475271191/reactions"
      },
      "updated_at" : "2023-03-21T14:24:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475271191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The second commit 8828f03db8fab18d56a638729f4a6afa007c259e (compact blocks) is useful regardless of whether this PR or #27276 makes it in. I'll let you rebase it in the latter case, because if I were to cherry-pick it, it would make my PR less trivial to review :-)",
      "created_at" : "2023-03-19T14:15:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1475273413",
      "id" : 1475273413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585X7uLF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475273413/reactions"
      },
      "updated_at" : "2023-03-19T14:15:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1475273413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141374362"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141374362"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe use `LogPrint(BCLog::VALIDATION,` when in IBD?",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T14:21:17Z",
      "diff_hunk" : "@@ -3832,6 +3832,14 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"saw new valid header hash=%s\\n\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141374362",
      "id" : 1141374362,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EB_2a",
      "original_commit_id" : "8828f03db8fab18d56a638729f4a6afa007c259e",
      "original_line" : 3840,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1347470402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141374362/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T14:21:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141374362",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141377239"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141377239"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good call - done.",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T14:38:31Z",
      "diff_hunk" : "@@ -3832,6 +3832,14 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"saw new valid header hash=%s\\n\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141377239",
      "id" : 1141377239,
      "in_reply_to_id" : 1141374362,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ECAjX",
      "original_commit_id" : "8828f03db8fab18d56a638729f4a6afa007c259e",
      "original_line" : 3840,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1347473084,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141377239/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T14:38:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141377239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141378414"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141378414"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "See https://github.com/bitcoin/bitcoin/pull/27276#discussion_r1141377590 for the updated logging macros to use for these two logging additions.",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T14:45:17Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);\n+    } else {\n+        LogPrint(BCLog::VALIDATION, \"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141378414",
      "id" : 1141378414,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ECA1u",
      "original_commit_id" : "75ee0d4310b4c97b328c3b2e7b233823823f1f2d",
      "original_line" : 3844,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1347474201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141378414/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T14:45:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141378414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141379233"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141379233"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T14:49:59Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);\n+    } else {\n+        LogPrint(BCLog::VALIDATION, \"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141379233",
      "id" : 1141379233,
      "in_reply_to_id" : 1141378414,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ECBCh",
      "original_commit_id" : "75ee0d4310b4c97b328c3b2e7b233823823f1f2d",
      "original_line" : 3844,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1347475009,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141379233/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T14:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141379233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141396013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141396013"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe add an anti-footgun note here, since I almost made that mistake:\r\n\r\n```\r\n// Not all valid headers have a known height, so we don't log pindex->nHeight.\r\n```",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T15:30:32Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141396013",
      "id" : 1141396013,
      "line" : 3835,
      "node_id" : "PRRC_kwDOABII585ECFIt",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3835,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 4,
      "pull_request_review_id" : 1347493783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141396013/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T15:43:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141396013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141399833"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141399833"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It would be nice to use `LogPrintfCategory` here, if you have a category in mind that this fits into. Ideally we'll get rid of `LogPrintf` at some point or rename the former to the latter. (Thanks for updating the second logging call.)",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T15:49:29Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141399833",
      "id" : 1141399833,
      "line" : 3842,
      "node_id" : "PRRC_kwDOABII585ECGEZ",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3842,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 11,
      "pull_request_review_id" : 1347497366,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141399833/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T16:16:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141399833",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141402261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141402261"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also, let's capitalize the log message: `Saw new â¦`\r\n\r\nIf you drop ` hash =` from the message then the hash aligns with `UpdateTip`, which makes the log easier to skim over. Update: no it doesn't :-(",
      "commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "created_at" : "2023-03-19T16:04:54Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141402261",
      "id" : 1141402261,
      "in_reply_to_id" : 1141396013,
      "line" : 3835,
      "node_id" : "PRRC_kwDOABII585ECGqV",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3835,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 4,
      "pull_request_review_id" : 1347499937,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141402261/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-19T16:08:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141402261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141510303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141510303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this `LogPrintf` call isn't safe because the work on the header has not actually been checked, that first happens in `ProcessNewBlockHeaders` below (by \"safe\" i mean that this location could be used to fill our disk with log messages).\r\n\r\nAt this point the header is only claiming to have enough work (i.e. `prev_block->nChainWork + CalculateHeadersWork({cmpctblock.header}) >= GetAntiDoSWorkThreshold()`) but the actual PoW check happens later on.\r\n\r\nYou can move this log location below the `ProcessNewBlockHeaders` call to make this safe.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T00:21:39Z",
      "diff_hunk" : "@@ -4207,8 +4208,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!m_chainman.m_blockman.LookupBlockIndex(cmpctblock.header.GetHash())) {\n+        if (!m_chainman.m_blockman.LookupBlockIndex(blockhash)) {\n             received_new_header = true;\n+            LogPrintf(\"Saw new cmpctblock header hash=%s\\n\", blockhash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141510303",
      "id" : 1141510303,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EChCf",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 4213,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1347624112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141510303/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T10:56:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141510303",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141958384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141958384"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could just make this:\r\n\r\n```c++\r\nconst auto level{(IsIBD() ? BCLog::Level::Info : BCLog::Level::Warning)};\r\nLogPrintf(BCLog::VALIDATION, level, \"saw new ...\", hash.ToString());\r\n```\r\n\r\n(or `None` rather than `Warning` maybe)",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T11:09:01Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141958384",
      "id" : 1141958384,
      "in_reply_to_id" : 1141399833,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEObw",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3842,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348294529,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141958384/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T11:09:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141958384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Retracting ACK because I missed that `CalculateHeadersWork` doesn't _check_ the work, see https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141510303",
      "created_at" : "2023-03-20T11:20:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476049065",
      "id" : 1476049065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585X-rip",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476049065/reactions"
      },
      "updated_at" : "2023-03-20T11:20:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476049065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141977680"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141977680"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah, TIL:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/40e1c4d4024b8ad35f2511b2e10bf80c5531dfde/src/logging.cpp#L127-L131\r\n",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T11:27:43Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141977680",
      "id" : 1141977680,
      "in_reply_to_id" : 1141399833,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EETJQ",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3842,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348323037,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141977680/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T11:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141977680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2023-03-20T11:30:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476060387",
      "id" : 1476060387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585X-uTj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476060387/reactions"
      },
      "updated_at" : "2023-03-20T11:30:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476060387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141986299"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141986299"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jonatack it might be useful to expand the `debug.log` section in developer notes with some guidance. E.g. it seems good practice to always use `LogPrintfCategory`, always pick a category and then use `>= BCLog::Level::Warning` for things you always want in the logs even when the user did not pick the specific `-debug` setting.\r\n\r\n@ajtowns I think `BCLog::Level:None` is off-limits, from the description of f1379aeca9d3a8c4d3528de4d0af8298cb42fee4: \"replace the unused BCLog::Level:None string \"none\" with an empty string as the case will never be hit\"\r\n\r\nThat said, `warning` feels inappropriate* since this message is rarely bad news. Maybe we need a new level above `Info`, like `GlobalInfo`?\r\n\r\n`* =` but not a big enough deal to make this PR needlessly complicated, using `warning` for now seems fine, since we don't actually print the word \"warning\" in the log.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T11:36:44Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141986299",
      "id" : 1141986299,
      "in_reply_to_id" : 1141399833,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEVP7",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3842,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348336496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141986299/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T11:41:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1141986299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142002479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142002479"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How do you have a valid header without a known height? If you don't know all the ancestors, you can't tell if the `nBits` value is valid, which we check in `ContextualCheckBlockHeader` earlier in this function... (A missing prev block should result in `return Invalid(BLOCK_MISSING_PREV)` prior to that) The only case where we don't do all that is if we're looking at the genesis block header, but we know its height is 0... What am I missing here?",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T11:52:49Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142002479",
      "id" : 1142002479,
      "in_reply_to_id" : 1141396013,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEZMv",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3835,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348360870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142002479/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T11:52:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142002479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142007013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142007013"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "- Good idea @Sjors, will do.\n\n- \"None\" is internal-only (like Network::NET_MAX, for iterating through the enums) and IIRC a commit in the severity-level logs parent PR ends up removing it\n\n- \"Info\" is planned to be logged unconditionally in the next step, in addition to Warning and Error.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T11:56:49Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142007013",
      "id" : 1142007013,
      "in_reply_to_id" : 1141399833,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEaTl",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3842,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348367948,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142007013/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T11:58:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142007013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142021516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142021516"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`AddToBlockIndex` checks if `hashPrevBlock` is already in the index, and if not it won't set `pprev` and `nHeight` on the `CBlockIndex` entry it returns. But I didn't check if that condition can ever be reached from the call in `AcceptBlockHeader`.\r\n\r\nUpdate: and indeed `AcceptBlockHeader(` checks for this case and rejects it with `prev-blk-not-found`.\r\n\r\nSo in that case it would be nice to log the height.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T12:11:07Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142021516",
      "id" : 1142021516,
      "in_reply_to_id" : 1141396013,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEd2M",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3835,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348390713,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142021516/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T12:19:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142021516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142032854"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142032854"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The only other call site for `AddToBlockIndex()` is `LoadGenesisBlock()`, so I guess that's the only reason for the (generic looking) check of `hashPrevBlock`.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T12:22:11Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142032854",
      "id" : 1142032854,
      "in_reply_to_id" : 1141396013,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEgnW",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3835,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348408416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142032854/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T12:22:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142032854",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142036850"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142036850"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In most logging systems I've used elsewhere, (i) INFO is the default loglevel, and (ii) the level is configurable via flag/envvar. I guess what I'll do here is use `Warning` and leave a TODO.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T12:25:58Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());\n+\n+    if (!ActiveChainstate().IsInitialBlockDownload()) {\n+        // These messages are valuable for detecting potential\n+        // selfish mining behavior; if multiple displacing headers are seen\n+        // near simultaneously across many nodes in the network, this might be\n+        // an indication of selfish mining.\n+        LogPrintf(\"%s\\n\", msg);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142036850",
      "id" : 1142036850,
      "in_reply_to_id" : 1141399833,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEhly",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3842,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348414376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142036850/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T12:25:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142036850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142037129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142037129"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point! Thanks.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T12:26:13Z",
      "diff_hunk" : "@@ -4207,8 +4208,9 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!m_chainman.m_blockman.LookupBlockIndex(cmpctblock.header.GetHash())) {\n+        if (!m_chainman.m_blockman.LookupBlockIndex(blockhash)) {\n             received_new_header = true;\n+            LogPrintf(\"Saw new cmpctblock header hash=%s\\n\", blockhash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142037129",
      "id" : 1142037129,
      "in_reply_to_id" : 1141510303,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEhqJ",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 4213,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 1348414781,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142037129/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T12:26:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142037129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142037513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142037513"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed this code is pretty ancient (and could use a comment): https://github.com/bitcoin/bitcoin/blame/f3ae51dcced8a16175426051ce888130cc2493af/src/main.cpp#L2056-L2063",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T12:26:37Z",
      "diff_hunk" : "@@ -3832,6 +3832,18 @@ bool ChainstateManager::AcceptBlockHeader(const CBlockHeader& block, BlockValida\n     if (ppindex)\n         *ppindex = pindex;\n \n+    const auto msg = strprintf(\"saw new valid header hash=%s\", hash.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142037513",
      "id" : 1142037513,
      "in_reply_to_id" : 1141396013,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EEhwJ",
      "original_commit_id" : "dbd144206a491e3e16d662d0daeffac71bb5b8c7",
      "original_line" : 3835,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1348415397,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142037513/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T12:26:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142037513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for quick feedback, all. I *think* the latest update should make everyone happy.",
      "created_at" : "2023-03-20T12:41:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476162524",
      "id" : 1476162524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585X_HPc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476162524/reactions"
      },
      "updated_at" : "2023-03-20T12:41:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476162524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142103379"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142103379"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Wouldn't we also want to add the same logging to `ProcessHeadersMessage`? Thinking of BIP 130 block announcements.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T13:20:52Z",
      "diff_hunk" : "@@ -4221,6 +4222,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             }\n         }\n \n+        if (received_new_header) {\n+            LogPrintfCategory(BCLog::NET, \"Saw new cmpctblock header hash=%s peer=%d\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142103379",
      "id" : 1142103379,
      "line" : 4226,
      "node_id" : "PRRC_kwDOABII585EEx1T",
      "original_commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "original_line" : 4226,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 22,
      "pull_request_review_id" : 1348515519,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142103379/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T13:20:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142103379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142125339"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142125339"
         }
      },
      "author_association" : "MEMBER",
      "body" : "My thinking was that legacy/low-bandwidth nodes are uninteresting for these logs in the sense that they are either in IBD or [...whatever prompts a node to be low-bandwidth-cmpctblock using]. And the log message in AcceptBlockHeader() obviously covers those cases too, and the lack of the cmpctblock message tells you that it's LB/legacy.\r\n\r\nAnd it gets a little hairy because if you want to stick a log in ProcessHeadersMessage, you have to exclude the compactblock path because PHM() is called in that case after accepting the header...\r\n\r\nBut now that I'm typing it out, I guess why not add a log to the `NetMsgType::HEADERS` path too...",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T13:33:15Z",
      "diff_hunk" : "@@ -4221,6 +4222,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             }\n         }\n \n+        if (received_new_header) {\n+            LogPrintfCategory(BCLog::NET, \"Saw new cmpctblock header hash=%s peer=%d\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142125339",
      "id" : 1142125339,
      "in_reply_to_id" : 1142103379,
      "line" : 4226,
      "node_id" : "PRRC_kwDOABII585EE3Mb",
      "original_commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "original_line" : 4226,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 22,
      "pull_request_review_id" : 1348551772,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142125339/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T13:33:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142125339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142145002"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142145002"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hm yeah, the trade-off between DoSable log placement and accurate log placement is too complex for me in this case. I'm going to leave the PR as-is and then someone can do a follow-up if they want to do The Good Thinking about logging the non-HB case specifically.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T13:44:48Z",
      "diff_hunk" : "@@ -4221,6 +4222,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             }\n         }\n \n+        if (received_new_header) {\n+            LogPrintfCategory(BCLog::NET, \"Saw new cmpctblock header hash=%s peer=%d\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142145002",
      "id" : 1142145002,
      "in_reply_to_id" : 1142103379,
      "line" : 4226,
      "node_id" : "PRRC_kwDOABII585EE7_q",
      "original_commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "original_line" : 4226,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 22,
      "pull_request_review_id" : 1348584582,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142145002/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T13:44:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142145002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142194524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142194524"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think in terms of DoS risk it is pretty similar as the compact block location. Basically: \"Only log for BIP 130 announcements that told us about new headers meeting our DoS threshold\".\r\n\r\nFrom the logs you shared here: https://twitter.com/jamesob/status/1637191706691903488 it looks like logging for headers announcements would have been useful. Looking at `PeerManagerImpl::NewPoWValidBlock`, we only announce via compact block once per height, so a competing height will be announced via headers.\r\n\r\nI guess the only benefit over the `AcceptBlockHeader` location is that you log the peer id, but that also applies for the compact block path.",
      "commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "created_at" : "2023-03-20T14:20:07Z",
      "diff_hunk" : "@@ -4221,6 +4222,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             }\n         }\n \n+        if (received_new_header) {\n+            LogPrintfCategory(BCLog::NET, \"Saw new cmpctblock header hash=%s peer=%d\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1142194524",
      "id" : 1142194524,
      "in_reply_to_id" : 1142103379,
      "line" : 4226,
      "node_id" : "PRRC_kwDOABII585EFIFc",
      "original_commit_id" : "6d2f4d590ad8aaf10306a69b32c4e218fbcdc4b9",
      "original_line" : 4226,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 22,
      "pull_request_review_id" : 1348658869,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27278",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142194524/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-20T14:20:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1142194524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I [wrote](https://github.com/bitcoin/bitcoin/pull/27278#discussion_r1141986299):\r\n\r\n> using `warning` for now seems fine, since we don't actually print the word \"warning\" in the log.\r\n\r\nI should have tested that, because it actually _does_ print `[validation:warning]` in the log.\r\n\r\nMaybe we should just stick to `fprintf` and change the TODO to say this should be `validation` level `info` once `LogPrintf` prints those by default. ",
      "created_at" : "2023-03-20T16:42:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476580792",
      "id" : 1476580792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585YAtW4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476580792/reactions"
      },
      "updated_at" : "2023-03-20T16:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476580792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That said, it seems quite trivial to just change the default log level: https://github.com/Sjors/bitcoin/commit/0ecb8290eeffcd2a2172c6720a2168404870530b\r\n\r\nSo far that's not generating noise for me.",
      "created_at" : "2023-03-20T16:58:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476604650",
      "id" : 1476604650,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585YAzLq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476604650/reactions"
      },
      "updated_at" : "2023-03-20T16:58:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476604650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> That said, it seems quite trivial to just change the default log level: [Sjors@0ecb829](https://github.com/Sjors/bitcoin/commit/0ecb8290eeffcd2a2172c6720a2168404870530b)\r\n> \r\n> So far that's not generating noise for me.\r\n\r\nI'm happy to do that and revert the revert if people will ACK.",
      "created_at" : "2023-03-20T17:10:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476625515",
      "id" : 1476625515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585YA4Rr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476625515/reactions"
      },
      "updated_at" : "2023-03-20T17:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476625515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I should have tested that, because it actually _does_ print `[validation:warning]` in the log.\r\n> \r\n> Maybe we should just stick to `fprintf` and change the TODO to say this should be `validation` level `info` once `LogPrintf` prints those by default.\r\n\r\nOptionally could just go for `info`, unless it has to be unconditionally logged asap in which case maybe pull in https://github.com/bitcoin/bitcoin/pull/25203/commits/118c7567f62df2b882877590f232242d7c627a05. Making info unconditionally logged is near the top of the next steps in the parent PR #25203 i.e. https://github.com/bitcoin/bitcoin/pull/25203/commits/118c7567f62df2b882877590f232242d7c627a05 (@Sjors, your version doesn't update the docs). Until then, -debug=validation or enabling the validation category with the logging RPC will print it as well.",
      "created_at" : "2023-03-20T18:01:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1476698491",
      "id" : 1476698491,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585YBKF7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476698491/reactions"
      },
      "updated_at" : "2023-03-20T18:08:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476698491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "FWIW I plan to leave this as-is.",
      "created_at" : "2023-03-21T13:56:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1477882937",
      "id" : 1477882937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585YFrQ5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477882937/reactions"
      },
      "updated_at" : "2023-03-21T13:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477882937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 2c3a90f663a61ee147d785167a2902494d81d34d",
      "created_at" : "2023-03-21T14:24:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27278#issuecomment-1477933351",
      "id" : 1477933351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27278",
      "node_id" : "IC_kwDOABII585YF3kn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477933351/reactions"
      },
      "updated_at" : "2023-03-21T14:24:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477933351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   }
]
