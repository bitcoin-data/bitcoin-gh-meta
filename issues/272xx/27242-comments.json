[
   {
      "author_association" : "NONE",
      "body" : "This should help you resolve this issue, I had the same problem\r\n\r\n1. Add the -fPIC option to the CXXFLAGS and LDFLAGS variables in the Makefile generated by the configure script.\r\n\r\n2. Run \"make clean\" followed by \"make\" to rebuild the LevelDB library.\r\n\r\n3. Rebuild your application with the newly constructed LevelDB library.",
      "created_at" : "2023-03-11T19:29:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27242#issuecomment-1464992721",
      "id" : 1464992721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27242",
      "node_id" : "IC_kwDOABII585XUgPR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1464992721/reactions"
      },
      "updated_at" : "2023-03-11T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1464992721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93707197?v=4",
         "events_url" : "https://api.github.com/users/clintonimaroo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/clintonimaroo/followers",
         "following_url" : "https://api.github.com/users/clintonimaroo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/clintonimaroo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/clintonimaroo",
         "id" : 93707197,
         "login" : "clintonimaroo",
         "node_id" : "U_kgDOBZXbvQ",
         "organizations_url" : "https://api.github.com/users/clintonimaroo/orgs",
         "received_events_url" : "https://api.github.com/users/clintonimaroo/received_events",
         "repos_url" : "https://api.github.com/users/clintonimaroo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/clintonimaroo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/clintonimaroo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/clintonimaroo"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> ### Current behaviour\r\n> Building with the `--with-experimental-kernel-lib` configuration option currently leads to linker failures on OpenBSD 7.2. The following compiler/linker/build-tool versions are used:\r\n> \r\n> * clang 13.0.0\r\n> * lld 13.0.0\r\n> * ccache 4.6.3\r\n> * GNU make 4.3\r\n> * autoconf 2.71\r\n> * automake 1.16.5\r\n> \r\n> ### Expected behaviour\r\n> * Building should succeed\r\n> \r\n> ### Steps to reproduce\r\n> ```\r\n> $ ./configure --enable-suppress-external-warnings --with-experimental-kernel-lib MAKE=gmake\r\n> [ ... ]\r\n> $ gmake clean\r\n> $ gmake -j8\r\n> [ ... ]\r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_comparator_t; recompile with -fPIC                  \r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)\r\n> >>> referenced by c.cc:87 (leveldb/db/c.cc:87)                                                                                           \r\n> >>>               libleveldb_la-c.o:(leveldb_comparator_create) in archive leveldb/.libs/libleveldb.a                                    \r\n>                                                                                                                                          \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_filterpolicy_t; recompile with -fPIC                \r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)        \r\n> >>> referenced by c.cc:107 (leveldb/db/c.cc:107) \r\n> >>>               libleveldb_la-c.o:(leveldb_filterpolicy_create) in archive leveldb/.libs/libleveldb.a                                  \r\n>                                                                     \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_filterpolicy_t; recompile with -fPIC                \r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)                                                                             \r\n> >>> referenced by c.cc:108 (leveldb/db/c.cc:108)                                                                                         \r\n> >>>               libleveldb_la-c.o:(leveldb_filterpolicy_create_bloom::Wrapper::~Wrapper()) in archive leveldb/.libs/libleveldb.a       \r\n>                                                                                                                                          \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_filterpolicy_t; recompile with -fPIC                \r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)                                                                             \r\n> >>> referenced by c.cc:108 (leveldb/db/c.cc:108)                                                                                         \r\n> >>>               libleveldb_la-c.o:(leveldb_filterpolicy_create_bloom::Wrapper::~Wrapper()) in archive leveldb/.libs/libleveldb.a\r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_comparator_t; recompile with -fPIC\r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)\r\n> >>> referenced by c.cc:88 (leveldb/db/c.cc:88)\r\n> >>>               libleveldb_la-c.o:(leveldb_comparator_t::~leveldb_comparator_t()) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_comparator_t; recompile with -fPIC\r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)\r\n> >>> referenced by c.cc:88 (leveldb/db/c.cc:88)\r\n> >>>               libleveldb_la-c.o:(leveldb_comparator_t::~leveldb_comparator_t()) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_filterpolicy_t; recompile with -fPIC\r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)\r\n> >>> referenced by c.cc:108 (leveldb/db/c.cc:108)\r\n> >>>               libleveldb_la-c.o:(leveldb_filterpolicy_t::~leveldb_filterpolicy_t()) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for leveldb_filterpolicy_t; recompile with -fPIC\r\n> >>> defined in leveldb/.libs/libleveldb.a(libleveldb_la-c.o)\r\n> >>> referenced by c.cc:108 (leveldb/db/c.cc:108)\r\n> >>>               libleveldb_la-c.o:(leveldb_filterpolicy_t::~leveldb_filterpolicy_t()) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol construction vtable for std::__1::basic_ostream<char, std::__1::char_traits<char> >-in-std::__1::basic_ostringstream<char, std::__1::char_traits<char>, std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by ostream:165 (/usr/include/c++/v1/ostream:165)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol construction vtable for std::__1::basic_ostream<char, std::__1::char_traits<char> >-in-std::__1::basic_ostringstream<char, std::__1::char_traits<char>, std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by ostream:165 (/usr/include/c++/v1/ostream:165)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for std::__1::basic_ostringstream<char, std::__1::char_traits<char>, std::__1::allocator<char> >; recompile with -fPIC\r\n> ar>, std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by iosfwd:139 (/usr/include/c++/v1/iosfwd:139)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for std::__1::basic_stringbuf<char, std::__1::char_traits<char>,\r\n>  std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by iosfwd:133 (/usr/include/c++/v1/iosfwd:133)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol VTT for std::__1::basic_ostringstream<char, std::__1::char_traits<char>\r\n> , std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by iosfwd:139 (/usr/include/c++/v1/iosfwd:139)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for std::__1::basic_ostringstream<char, std::__1::char_traits<ch\r\n> ar>, std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by iosfwd:139 (/usr/include/c++/v1/iosfwd:139)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for std::__1::basic_ostringstream<char, std::__1::char_traits<ch\r\n> ar>, std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by iosfwd:139 (/usr/include/c++/v1/iosfwd:139)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: relocation R_X86_64_PC32 cannot be used against symbol vtable for std::__1::basic_stringbuf<char, std::__1::char_traits<char>, std::__1::allocator<char> >; recompile with -fPIC\r\n> >>> defined in .libs/libbitcoinkernel_la-chain.o\r\n> >>> referenced by iosfwd:133 (/usr/include/c++/v1/iosfwd:133)\r\n> >>>               libleveldb_la-dbformat.o:(leveldb::ParsedInternalKey::DebugString() const) in archive leveldb/.libs/libleveldb.a\r\n> \r\n> ld: error: too many errors emitted, stopping now (use -error-limit=0 to see all errors)\r\n> c++: error: linker command failed with exit code 1 (use -v to see invocation)\r\n> gmake[2]: *** [Makefile:7030: libbitcoinkernel.la] Error 1\r\n> gmake[1]: *** [Makefile:19397: all-recursive] Error 1\r\n> gmake: *** [Makefile:814: all-recursive] Error 1\r\n> ```\r\n> \r\n> ### Relevant log output\r\n> The ./configure output can be found here: https://pastebin.com/XzrZKe7D\r\n> \r\n> ### How did you obtain Bitcoin Core\r\n> Compiled from source\r\n> \r\n> ### What version of Bitcoin Core are you using?\r\n> master branch (commit [40d0b0a](https://github.com/bitcoin/bitcoin/commit/40d0b0a524dfe8cc70cc116a6c76a3f834824fe5))\r\n> \r\n> ### Operating system and version\r\n> OpenBSD 7.2 (amd64)\r\n> \r\n> ### Machine specifications\r\n> _No response_\r\n\r\nor you can run the configure script with the âwith-pic option to enable position-independent code generation for the LevelDB library.",
      "created_at" : "2023-03-11T19:30:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27242#issuecomment-1464993103",
      "id" : 1464993103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27242",
      "node_id" : "IC_kwDOABII585XUgVP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1464993103/reactions"
      },
      "updated_at" : "2023-03-11T19:30:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1464993103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93707197?v=4",
         "events_url" : "https://api.github.com/users/clintonimaroo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/clintonimaroo/followers",
         "following_url" : "https://api.github.com/users/clintonimaroo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/clintonimaroo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/clintonimaroo",
         "id" : 93707197,
         "login" : "clintonimaroo",
         "node_id" : "U_kgDOBZXbvQ",
         "organizations_url" : "https://api.github.com/users/clintonimaroo/orgs",
         "received_events_url" : "https://api.github.com/users/clintonimaroo/received_events",
         "repos_url" : "https://api.github.com/users/clintonimaroo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/clintonimaroo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/clintonimaroo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/clintonimaroo"
      }
   }
]
