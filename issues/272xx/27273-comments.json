[
   {
      "author_association" : "MEMBER",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-03-16T22:02:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#issuecomment-1472810063",
      "id" : 1472810063,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27273",
      "node_id" : "IC_kwDOABII585XyUxP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472810063/reactions"
      },
      "updated_at" : "2023-03-27T23:12:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1472810063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "https://github.com/bitcoin/bitcoin/pull/27273/checks?check_run_id=12065322378\r\n```bash\r\n********* Start testing of OptionTests *********\r\nConfig: Using QtTest library 5.15.5, Qt 5.15.5 (x86_64-little_endian-lp64 static release build; by Clang 8.0.1 (tags/RELEASE_801/final)), debian 10\r\nPASS   : OptionTests::initTestCase()\r\nPASS   : OptionTests::migrateSettings()\r\nPASS   : OptionTests::integerGetArgBug()\r\nPASS   : OptionTests::parametersInteraction()\r\nPASS   : OptionTests::extractFilter()\r\nQWARN  : OptionTests::initDataDir() This plugin does not support propagateSizeHints()\r\nQWARN  : OptionTests::initDataDir() This plugin does not support propagateSizeHints()\r\n\r\n=== Received signal at function time: 299728ms, total time: 300005ms, dumping stack ===\r\n=== End of stack trace ===\r\nQFATAL : OptionTests::initDataDir() Test function timed out\r\nFAIL!  : OptionTests::initDataDir() Received a fatal error.\r\n   Loc: [Unknown file(0)]\r\nTotals: 5 passed, 1 failed, 0 skipped, 0 blacklisted, 300009ms\r\n********* Finished testing of OptionTests *********\r\nFAIL qt/test/test_bitcoin-qt (exit status: 134)\r\n```",
      "created_at" : "2023-03-17T09:34:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#issuecomment-1473520297",
      "id" : 1473520297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27273",
      "node_id" : "IC_kwDOABII585X1CKp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473520297/reactions"
      },
      "updated_at" : "2023-03-17T09:34:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1473520297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27273#discussion_r1147632734"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27273"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147632734"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \"system: allow GUI to initialize default data dir\" (7a9b786e00a5275ba012bc37a3796d1d35491161)\r\n\r\nThis `if` statement no longer does anything and could be dropped. Just calling `InitDefaultDataDir` unconditionally would have the same effect and be easier to understand. Also the comment above needs to be updated. Could replace \"Only override -datadir if different from the default, to make it possible [...]\" with \"Set chosen directory as the default datadir. It is possible [...]\"",
      "commit_id" : "7a9b786e00a5275ba012bc37a3796d1d35491161",
      "created_at" : "2023-03-24T14:10:50Z",
      "diff_hunk" : "@@ -260,8 +260,8 @@ bool Intro::showIfNeeded(bool& did_show_intro, int64_t& prune_MiB)\n      * override -datadir in the bitcoin.conf file in the default data directory\n      * (to be consistent with bitcoind behavior)\n      */\n-    if(dataDir != GUIUtil::getDefaultDataDirectory()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#discussion_r1147632734",
      "id" : 1147632734,
      "line" : 263,
      "node_id" : "PRRC_kwDOABII585EZ3xe",
      "original_commit_id" : "7a9b786e00a5275ba012bc37a3796d1d35491161",
      "original_line" : 263,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/qt/intro.cpp",
      "position" : 4,
      "pull_request_review_id" : 1356786774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27273",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147632734/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-24T14:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147632734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27273#discussion_r1147642262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27273"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147642262"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \"system: allow GUI to initialize default data dir\" (7a9b786e00a5275ba012bc37a3796d1d35491161)\r\n\r\nThis `if` statment is unnecessary and causes `InitDefaultDataDir` to do nothing if it is called a second time. Would be saner to rename `InitDefaultDataDir` `SetDefaultDataDir` and just set the path unconditionally without unnecessary stickiness and no way of knowing whether the path was set.",
      "commit_id" : "7a9b786e00a5275ba012bc37a3796d1d35491161",
      "created_at" : "2023-03-24T14:17:13Z",
      "diff_hunk" : "@@ -438,6 +438,13 @@ const fs::path& ArgsManager::GetDataDir(bool net_specific) const\n     return path;\n }\n \n+void ArgsManager::InitDefaultDataDir(const fs::path path)\n+{\n+    LOCK(cs_args);\n+    if (m_init_default_datadir_path.empty())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#discussion_r1147642262",
      "id" : 1147642262,
      "line" : 444,
      "node_id" : "PRRC_kwDOABII585EZ6GW",
      "original_commit_id" : "7a9b786e00a5275ba012bc37a3796d1d35491161",
      "original_line" : 444,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : 16,
      "pull_request_review_id" : 1356786774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27273",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147642262/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-24T14:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147642262",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> * I doubt anybody really needs to configure the GUI to locate `bitcoin.conf` in a non-default second location, and then have that `bitcoin.conf` set a datadir in a third location.\r\n\r\nWasn't that the user story in https://github.com/bitcoin/bitcoin/issues/27246#issuecomment-1468646427 ?\r\n\r\nEither way I see your point about the compatibility issues.\r\n\r\nWhat actually might be more useful for that user or related cases is the option in the GUI to clear the QSettings and so the user can re-set the \"initial directory\" which \"should\" include a bitcoin.conf but doesn't need to be the actual datdir or blocksdir. While testing this out on macOS I found it extremely hard to clear the plist data which is cached by OS and not easy to bust.\r\n\r\n",
      "created_at" : "2023-03-24T15:54:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#issuecomment-1483034785",
      "id" : 1483034785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27273",
      "node_id" : "IC_kwDOABII585YZVCh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1483034785/reactions"
      },
      "updated_at" : "2023-03-24T15:54:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1483034785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > * I doubt anybody really needs to configure the GUI to locate `bitcoin.conf` in a non-default second location, and then have that `bitcoin.conf` set a datadir in a third location.\r\n> \r\n> Wasn't that the user story in [#27246 (comment)](https://github.com/bitcoin/bitcoin/issues/27246#issuecomment-1468646427) ?\r\n\r\nYes but I think a better alternative for that user would be to use -includeconf which works today (or symlinks) rather than datadir daisy chaining which doesn't work and would need to be implemented, and could cause compatibility issues, and as far as we know would not be the simplest solution for the problem they are trying to solve.\r\n\r\n> What actually might be more useful for that user or related cases is the option in the GUI to clear the QSettings and so the user can re-set the \"initial directory\" which \"should\" include a bitcoin.conf but doesn't need to be the actual datdir or blocksdir. While testing this out on macOS I found it extremely hard to clear the plist data which is cached by OS and not easy to bust.\r\n\r\nThis could be a good idea, but it would depend a lot on the specific details. There is -resetguisettings option which can help too.",
      "created_at" : "2023-03-24T16:15:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#issuecomment-1483067013",
      "id" : 1483067013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27273",
      "node_id" : "IC_kwDOABII585YZc6F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1483067013/reactions"
      },
      "updated_at" : "2023-03-24T16:15:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1483067013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing for now, `strDataDir` is a bit annoying and we should consider getting rid of it.",
      "created_at" : "2023-03-28T15:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27273#issuecomment-1487075138",
      "id" : 1487075138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27273",
      "node_id" : "IC_kwDOABII585YovdC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1487075138/reactions"
      },
      "updated_at" : "2023-03-28T15:09:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1487075138",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   }
]
