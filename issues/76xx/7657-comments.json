[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "What are you switching from?\n\nNothing in coinselection should have changed. There are unit tests which should detect it if it did. \n",
      "created_at" : "2016-03-09T07:51:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194167063",
      "id" : 194167063,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDE2NzA2Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194167063/reactions"
      },
      "updated_at" : "2016-03-09T07:51:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194167063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There was a really minor change to the coin selection #4906 but this should only trigger in really rare edge cases. A quick look at the sorted list of amounts does not imply #4906 had any impact on this.\n",
      "created_at" : "2016-03-09T09:27:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194203806",
      "id" : 194203806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDIwMzgwNg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194203806/reactions"
      },
      "updated_at" : "2016-03-09T09:27:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194203806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If it helps, during the time period I have received about 2.6x as many transactions as I have sent. The average receive amount was 0.11 BTC, and average send 0.26 BTC.\n\nWouldn't it make sense if you receive a lot of \"small\" inputs and only send a few \"large\" outputs, that the number of outputs in your wallet increases? (Coin selection does not select a set of coins such that the utxo is reduced but rather a set of coins that \"fits best\" to the output value)\n",
      "created_at" : "2016-03-09T09:34:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194207820",
      "id" : 194207820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDIwNzgyMA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194207820/reactions"
      },
      "updated_at" : "2016-03-09T09:34:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194207820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> What are you switching from?\n\nSwitching from 11.2\n\n> There was a really minor change to the coin selection #4906 but this should only trigger in really rare edge cases.\n\nLooking at #4906 it might actually be the reason for the observed difference. If before it was using lots of extraneous inputs, it would've kept the unspent set in check.\n\nRight now, since last night the set has continued to grow:\n\n> $ bitcoin-cli listunspent | grep amount | wc -l\n> 786\n\nWhich gives me the impression that it is almost trying to converge on `100*$amountOfBitcoins` outputs, which is clearly extremely unideal.\n\nDoing a quick skim of the code, it seems the situation could be improved a lot by making bitcoin aggressively attempt to make transactions without a change output, remembering that there are potentially three extra costs associated with creating a change output:\na) The cost associated with the extra transaction size\nb) The cost associated with how in the future, that output will need to be spent\nc) Privacy (normally change addresses are super easy to determine, which then get spent-linked with the rest of your wallet)\n\nAnd lets say you figure the extra associated cost of a change output to be ~80.00 bits, a side benefit of forgoing that change output to save 79.00 bits, would be that extra money is going to mining fees, and might help confirm faster. \n\nI'm also not convinced that trying to make change outputs at least 0.01 BTC is particularly useful once you factor into the cost of creating change outputs For instance some extra dust outputs is actually essential in helping sourcing the exact amount of inputs required.\n",
      "created_at" : "2016-03-09T16:27:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194377451",
      "id" : 194377451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDM3NzQ1MQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194377451/reactions"
      },
      "updated_at" : "2016-03-09T16:27:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194377451",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Doing a quick skim of the code, it seems the situation could be improved a lot by making bitcoin aggressively attempt to make transactions without a change output\n\nThis would require you to always have appropriately sized coins in your wallet or just \"donate\" the change via the fee and the try to minimize the additional fee/change.\n\n>  a) The cost associated with the extra transaction size\n\nTrue, but right now the wallet code is not \"aware\" of the transaction size and does not optimize in this direction. Related: #5782\n\n>  c) Privacy (normally change addresses are super easy to determine, which then get spent-linked with the rest of your wallet)\n\nI agree it is trivial to determine the change output on random transactions that are not yours. There was some discussion in   #6569\n\n> I'm also not convinced that trying to make change outputs at least 0.01 BTC is particularly useful once you factor into the cost of creating change outputs For instance some extra dust outputs is actually essential in helping sourcing the exact amount of inputs required.\n\nPlease check #7615 which makes it 0.001 BTC\n",
      "created_at" : "2016-03-09T16:45:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194390230",
      "id" : 194390230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDM5MDIzMA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194390230/reactions"
      },
      "updated_at" : "2016-03-09T16:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194390230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This would require you to always have appropriately sized coins in your wallet or just \"donate\" the change via the fee and the try to minimize the additional fee/change.\n\nYeah. My thoughts were that the code should run coin selection twice. Once for a transaction with no change output (trying to minimize for the extraneous mining fee), and once for a transaction with a change output. \n\nThen you can compare the mining fee of the two transactions (but applying a X penalty to the one with a change output)  and pick the one with a smaller mining fee. \n\n(I think X will be around ~50 bits, but you can more scientifically calculate it by figuring out the extra fee increase transaction by increase a transaction size of +1 output and +1 transaction input)\n",
      "created_at" : "2016-03-09T16:58:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194396282",
      "id" : 194396282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDM5NjI4Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194396282/reactions"
      },
      "updated_at" : "2016-03-09T16:59:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194396282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke ah, darn, I missed that that was merged. That change amplifying dust was a concern I raised with it.\n\n> Doing a quick skim of the code, it seems the situation could be improved a lot by making bitcoin aggressively attempt to make transactions without a change output,\n\nIt really does try to avoid a change output; it could be more aggressive-- but I think few would be happy with it throwing out $4 in BTC in fees to avoid it. :)\n\nMore importantly, if it cannot avoid change it should probably use the opportunity to sweep up many (if not all) of the other coins that are already linked.\n",
      "created_at" : "2016-03-09T21:35:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194515921",
      "id" : 194515921,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDUxNTkyMQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194515921/reactions"
      },
      "updated_at" : "2016-03-09T21:35:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194515921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> $ bitcoin-cli listunspent | grep amount | wc -l \n> 806\n\nIt's still growing, despite the value of the wallet actually having decreased 10 BTC since yesterday. It's quite a huge difference compared to 11.2, where it was always quite a small unspent set (like under 20). But perhaps it's not such a big deal, because the transaction I did make probably had less fees (so it's sort of just pushing the problem off), and I'm guessing as it keeps growing, the coin selection is going to become less and less efficient which will force it into cleaning up after itself to some degree.\n\n> It really does try to avoid a change output; it could be more aggressive-- but I think few would be happy with it throwing out $4 in BTC in fees to avoid it. :)\n\n$4, no. But if it was $0.02 (50 bits) more in fees to avoid an extra output, it would likely be worth it.\n",
      "created_at" : "2016-03-09T22:16:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194534991",
      "id" : 194534991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDUzNDk5MQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194534991/reactions"
      },
      "updated_at" : "2016-03-09T22:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194534991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It is really hard for me to believe that #4906 has such a huge impact.\n\n@RHavar Could you try to create a list of transaction sizes using `listtransactions \"*\" $hugeNumber 0|grep txid` and then feeding those lines into `getrawtransaction` and finally into `python -c 'print len(bytearray.fromhex(\"'$raw_tx'\"))`?\n",
      "created_at" : "2016-03-09T22:52:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194552843",
      "id" : 194552843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDU1Mjg0Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194552843/reactions"
      },
      "updated_at" : "2016-03-09T22:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194552843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke Did you see the simulation results in #4906? under some usage patterns it resulted in double the number of UTXO.\n\n> $4, no. But if it was $0.02 (50 bits) more in fees to avoid an extra output, it would likely be worth it.\n\nAlready the strategy of bitcoin core is to try to construct a changeless output, if at all possible. The only way to directly reduce the amount of change created from the current state is to burn change as fees more often. Less directly, the wallet could try to create change amounts which are more likely to be useful without change in the future; though the potential for that is fairly modest in most cases.\n\nIf indeed #4906's change is the cause of what you're seeing and not something else, then it's likely that issue isn't that it's creating more change, the issue is that it's avoiding sweeping up outputs that it otherwise would sweep up.\n",
      "created_at" : "2016-03-09T22:59:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194556293",
      "id" : 194556293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDU1NjI5Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194556293/reactions"
      },
      "updated_at" : "2016-03-09T22:59:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194556293",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke I can share it with you privately if you like, but I do not want to publish it openly. My email address is in my profile\n",
      "created_at" : "2016-03-09T23:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194557062",
      "id" : 194557062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDU1NzA2Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194557062/reactions"
      },
      "updated_at" : "2016-03-09T23:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194557062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gmaxwell It's not clear to me that the simulation results also cover the patch that was finally merged. Also, I have not reviewed the simulation code itself. (Note: It appears that the simulation code would create small non-standard dust outputs, which makes transferring the results to Bitcoin questionable)\n",
      "created_at" : "2016-03-09T23:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194560053",
      "id" : 194560053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDU2MDA1Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194560053/reactions"
      },
      "updated_at" : "2016-03-09T23:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194560053",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Already the strategy of bitcoin core is to try to construct a changeless output, if at all possible.\n\nI sent the full data to Marco, but in the last 30 days I've made 4485 sends of which only 11 don't have a change ouput. Surely it can do better than that. \n",
      "created_at" : "2016-03-10T00:09:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194580631",
      "id" : 194580631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDU4MDYzMQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194580631/reactions"
      },
      "updated_at" : "2016-03-10T00:09:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194580631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "For there to be no change the inputs must match the output value pretty much exactly. This turns out to be pretty rare. \n\n@MarcoFalke I think you might underestimate the effect:  Consider, adding just one extra input to a transaction counteracts the UTXO-count impact of the transaction creating change. It also means that the average value of utxo in your wallet would strictly increase. If extra inputs aren't added, we would expect the average value of UTXO in your wallet to decrease over time.  Low value UTXO are not as likely to be selected in the future, because the selection algorithm generally tries to minimize the number of inputs used.\n",
      "created_at" : "2016-03-10T00:14:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-194582567",
      "id" : 194582567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NDU4MjU2Nw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194582567/reactions"
      },
      "updated_at" : "2016-03-10T00:14:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/194582567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I couldn't find anything meaningful in the data. It's probably best to run 0.11 and 0.12 on a predefined set of transactions and compare the result.\n",
      "created_at" : "2016-03-14T00:18:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-196086852",
      "id" : 196086852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NjA4Njg1Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196086852/reactions"
      },
      "updated_at" : "2016-03-14T00:18:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196086852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I downgraded to 0.11 and it cleaned it up pretty fast, so it probably is a 0.12 regression (at least for my specific use-case). I'm guessing if I sent more often than I received the problem wouldn't really exist.\n\nThat said, I'm not sure how bad the problem is. If it's just #7664  it would means that I'm paying the fees later instead of right away, which isn't so terrible. The real problem is that it's generating so many outputs of 0.01 BTC, which is totally useless. Having a lot of dust outputs would in fact be more useful (e.g. for when i need to send dust, a common case :P) \n\nAlso, is it just my imagination or does 0.11 have better estimatefee logic too? I've never once on bitcoin 0.12  see  `bitcoin-cli estimatefee 1` return anything but -1, and it seems to give significantly more expensive estimates than before. \n",
      "created_at" : "2016-03-14T00:52:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-196091784",
      "id" : 196091784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NjA5MTc4NA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196091784/reactions"
      },
      "updated_at" : "2016-03-14T00:52:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196091784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> does 0.11 have better estimatefee logic too?\n\nI think #6134 (e92377f) changed the threshold to .95 as well as making `estimatefee` return `-1` when estimates can not be given.\n",
      "created_at" : "2016-03-14T01:10:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-196093508",
      "id" : 196093508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NjA5MzUwOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196093508/reactions"
      },
      "updated_at" : "2016-03-14T01:10:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196093508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing in favor of #7664, to have this discussion in one place\n",
      "created_at" : "2016-03-14T09:47:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7657#issuecomment-196230004",
      "id" : 196230004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7657",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE5NjIzMDAwNA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196230004/reactions"
      },
      "updated_at" : "2016-03-14T09:47:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/196230004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
