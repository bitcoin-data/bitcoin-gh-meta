[
   {
      "author_association" : "MEMBER",
      "body" : "was that a deliberate `bocks`/`blocks` typo?",
      "created_at" : "2018-03-29T14:31:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-377253900",
      "id" : 377253900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "updated_at" : "2018-03-29T14:31:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377253900",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery fixed typos...",
      "created_at" : "2018-03-29T15:13:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-377268368",
      "id" : 377268368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "updated_at" : "2018-03-29T15:14:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377268368",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I forgot about this, but then noticed it again today as I was playing with [Docker](https://github.com/Sjors/docker-bitcoin-core). When allocating a separate volume for block storage, which is very useful, the files end up in a `blocks` directory inside that volume rather than at the root. Not the end of the world, but not a quirk I'd like to support for eternity.",
      "created_at" : "2018-05-06T19:20:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-386905989",
      "id" : 386905989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "updated_at" : "2018-05-06T19:20:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386905989",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Actually this behavior makes sense, but could be better documented:\r\n\r\nIf you enable testnet, it will use `blocksdir/testnet3/blocks`, so `blocksdir/blocks` is appropriate for mainnet. But maybe it should be called `blockstorageroot` or something.",
      "created_at" : "2018-07-25T14:08:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-407766735",
      "id" : 407766735,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNzc2NjczNQ==",
      "updated_at" : "2018-07-25T14:08:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/407766735",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, if the help string doesn't mention that yet, then maybe it should.",
      "created_at" : "2018-07-29T17:46:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-408693766",
      "id" : 408693766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwODY5Mzc2Ng==",
      "updated_at" : "2018-07-29T17:46:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408693766",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\n  -blocksdir=<dir>\r\n       Specify blocks directory (default: <datadir>/blocks)\r\n```\r\n\r\nThat's not very clear, though not sure how to rephrase it.",
      "created_at" : "2018-07-30T09:04:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-408796833",
      "id" : 408796833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwODc5NjgzMw==",
      "updated_at" : "2018-07-30T09:04:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408796833",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Sjors I am still experiencing issues with this... I set `blocksdir=/Users/me/Desktop` in my conf and yet when I boot up it still creates a new block dir in the default location and tells me I need to reindex :( v22.0\r\n\r\nIt seems to completely ignore the config setting, please see log output:\r\n\r\n```\r\n2021-09-23T14:05:52Z Bitcoin Core version v22.0.0 (release build)\r\n2021-09-23T14:05:52Z InitParameterInteraction: parameter interaction: -proxy set -> setting -upnp=0\r\n2021-09-23T14:05:52Z InitParameterInteraction: parameter interaction: -proxy set -> setting -natpmp=0\r\n2021-09-23T14:05:52Z Assuming ancestors of block 00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad have valid signatures.\r\n2021-09-23T14:05:52Z Setting nMinimumChainWork=00000000000000000000000000000000000000001fa4663bbbe19f82de910280\r\n2021-09-23T14:05:52Z Prune configured to target 10000 MiB on disk for block and undo files.\r\n2021-09-23T14:05:52Z Using the 'sse4(1way),sse41(4way)' SHA256 implementation\r\n2021-09-23T14:05:52Z Default data directory /Users/fontaine/Library/Application Support/Bitcoin\r\n2021-09-23T14:05:52Z Using data directory /Users/fontaine/Library/Application Support/Bitcoin\r\n2021-09-23T14:05:52Z Config file: /Users/fontaine/Library/Application Support/Bitcoin/bitcoin.conf\r\n2021-09-23T14:05:52Z Config file arg: blocksdir=\"/Users/fontaine/Desktop\"\r\n2021-09-23T14:05:52Z Config file arg: dbcache=\"3816\"\r\n2021-09-23T14:05:52Z Config file arg: disablewallet=\"0\"\r\n2021-09-23T14:05:52Z Config file arg: discover=\"0\"\r\n2021-09-23T14:05:52Z Config file arg: fallbackfee=\"0.00009\"\r\n2021-09-23T14:05:52Z Config file arg: listen=\"1\"\r\n2021-09-23T14:05:52Z Config file arg: maxconnections=\"20\"\r\n2021-09-23T14:05:52Z Config file arg: maxuploadtarget=\"500\"\r\n2021-09-23T14:05:52Z Config file arg: onlynet=\"onion\"\r\n2021-09-23T14:05:52Z Config file arg: proxy=\"127.0.0.1:19150\"\r\n2021-09-23T14:05:52Z Config file arg: prune=\"10000\"\r\n2021-09-23T14:05:52Z Config file arg: rpcallowip=\"127.0.0.1\"\r\n2021-09-23T14:05:52Z Config file arg: rpcpassword=****\r\n2021-09-23T14:05:52Z Config file arg: rpcuser=****\r\n2021-09-23T14:05:52Z Config file arg: server=\"1\"\r\n2021-09-23T14:05:52Z Config file arg: txindex=\"0\"\r\n2021-09-23T14:05:52Z Config file arg: [main] externalip=\"rgvn57j6b6ldwg3o55rqykgmli4idpagkvdaj2nlhlekxrqle2fo5mqd.onion\"\r\n2021-09-23T14:05:52Z Config file arg: [main] rpcport=\"8332\"\r\n2021-09-23T14:05:52Z Config file arg: [main] rpcwhitelist=\"reCAfdl6WO:importdescriptors, getblockcount, abortrescan, listlockunspent, lockunspent, getbestblockhash, getaddressesbylabel, listlabels, decodescript, combinepsbt, utxoupdatepsbt, listaddressgroupings, converttopsbt, getaddressinfo, analyzepsbt, createpsbt, joinpsbts, getmempoolinfo, signrawtransactionwithkey, listwallets, unloadwallet, rescanblockchain, listwalletdir, loadwallet, createwallet, finalizepsbt, walletprocesspsbt, decodepsbt, walletcreatefundedpsbt, fundrawtransaction, uptime, importmulti, getdescriptorinfo, deriveaddresses, getrawtransaction, decoderawtransaction, getnewaddress, gettransaction, signrawtransactionwithwallet, createrawtransaction, getrawchangeaddress, getwalletinfo, getblockchaininfo, getbalance, getunconfirmedbalance, listtransactions, listunspent, bumpfee, importprivkey, abandontransaction, getpeerinfo, getnetworkinfo, getmininginfo, estimatesmartfee, sendrawtransaction, importaddress, signmessagewithprivkey, verifymessage, signmessage, encryptwallet, walletpassphrase, walletlock, walletpassphrasechange, gettxoutsetinfo, help, stop, gettxout, getblockhash\"\r\n2021-09-23T14:05:52Z Config file arg: [regtest] rpcport=\"18443\"\r\n2021-09-23T14:05:52Z Config file arg: [signet] externalip=\"s5txouexalzkifm4mc2xiic2el32w45aaowh4dly57p6d6vbggwwbgyd.onion\"\r\n2021-09-23T14:05:52Z Config file arg: [signet] rpcport=\"38332\"\r\n2021-09-23T14:05:52Z Config file arg: [test] externalip=\"zwlxnu6yds26jovfl3wb7xfcefcuq72rmc37o762inbdfijdrj4z5pqd.onion\"\r\n2021-09-23T14:05:52Z Config file arg: [test] rpcport=\"18332\"\r\n2021-09-23T14:05:52Z Command-line arg: daemon=\"\"\r\n2021-09-23T14:05:52Z Using at most 20 automatic connections (188898 file descriptors available)\r\n2021-09-23T14:05:52Z Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2021-09-23T14:05:52Z Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2021-09-23T14:05:52Z Script verification uses 7 additional threads\r\n2021-09-23T14:05:52Z scheduler thread start\r\n2021-09-23T14:05:52Z WARNING: option -rpcallowip was specified without -rpcbind; this doesn't usually make sense\r\n2021-09-23T14:05:52Z HTTP: creating work queue of depth 16\r\n2021-09-23T14:05:52Z Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to use cookie-based auth, or may be replaced with rpcauth. Please see share/rpcauth for rpcauth auth generation.\r\n2021-09-23T14:05:52Z HTTP: starting 4 worker threads\r\n2021-09-23T14:05:52Z Using wallet directory /Users/fontaine/Library/Application Support/Bitcoin\r\n2021-09-23T14:05:52Z init message: Verifying wallet(s)â¦\r\n2021-09-23T14:05:52Z init message: Loading banlistâ¦\r\n2021-09-23T14:05:52Z SetNetworkActive: true\r\n2021-09-23T14:05:52Z AddLocal(rgvn57j6b6ldwg3o55rqykgmli4idpagkvdaj2nlhlekxrqle2fo5mqd.onion:8333,4)\r\n2021-09-23T14:05:52Z Using /16 prefix for IP bucketing\r\n2021-09-23T14:05:52Z Cache configuration:\r\n2021-09-23T14:05:52Z * Using 2.0 MiB for block index database\r\n2021-09-23T14:05:52Z * Using 8.0 MiB for chain state database\r\n2021-09-23T14:05:52Z * Using 3806.0 MiB for in-memory UTXO set (plus up to 286.1 MiB of unused mempool space)\r\n2021-09-23T14:05:52Z init message: Loading block indexâ¦\r\n2021-09-23T14:05:52Z Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n2021-09-23T14:05:52Z Opening LevelDB in /Users/fontaine/Library/Application Support/Bitcoin/blocks/index\r\n2021-09-23T14:05:52Z Opened LevelDB successfully\r\n2021-09-23T14:05:52Z Using obfuscation key for /Users/fontaine/Library/Application Support/Bitcoin/blocks/index: 0000000000000000\r\n2021-09-23T14:05:52Z LoadBlockIndexDB: last block file = 0\r\n2021-09-23T14:05:52Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=0, size=0, heights=0...0, time=1970-01-01...1970-01-01)\r\n2021-09-23T14:05:52Z Checking all blk files are present...\r\n2021-09-23T14:05:52Z Initializing databases...\r\n2021-09-23T14:05:52Z Opening LevelDB in /Users/fontaine/Library/Application Support/Bitcoin/chainstate\r\n2021-09-23T14:05:52Z Opened LevelDB successfully\r\n2021-09-23T14:05:52Z Using obfuscation key for /Users/fontaine/Library/Application Support/Bitcoin/chainstate: 9ef4d9c82c4d78f0\r\n2021-09-23T14:05:52Z : Error initializing block database.\r\nPlease restart with -reindex or -reindex-chainstate to recover.\r\n2021-09-23T14:05:52Z Aborted block database rebuild. Exiting.\r\n2021-09-23T14:05:52Z Shutdown: In progress...\r\n2021-09-23T14:05:52Z scheduler thread exit\r\n2021-09-23T14:05:52Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) started\r\n2021-09-23T14:05:52Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) completed (0.00s)\r\n2021-09-23T14:05:52Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) started\r\n2021-09-23T14:05:52Z FlushStateToDisk: write coins cache to disk (0 coins, 0kB) completed (0.00s)\r\n2021-09-23T14:05:52Z Shutdown: done\r\n```",
      "created_at" : "2021-09-23T14:12:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-925854178",
      "id" : 925854178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "node_id" : "IC_kwDOABII5843L2ni",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-23T14:17:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/925854178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/30832395?v=4",
         "events_url" : "https://api.github.com/users/Fonta1n3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fonta1n3/followers",
         "following_url" : "https://api.github.com/users/Fonta1n3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fonta1n3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fonta1n3",
         "id" : 30832395,
         "login" : "Fonta1n3",
         "node_id" : "MDQ6VXNlcjMwODMyMzk1",
         "organizations_url" : "https://api.github.com/users/Fonta1n3/orgs",
         "received_events_url" : "https://api.github.com/users/Fonta1n3/received_events",
         "repos_url" : "https://api.github.com/users/Fonta1n3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fonta1n3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fonta1n3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fonta1n3"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ah... I did the same thing as Sjors, I had ignorantly moved my existing blocks folder, the fix is moving the index folder from within the actual blocks folder to the dummy blocks folder in the default location.",
      "created_at" : "2021-09-23T14:24:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12828#issuecomment-925864969",
      "id" : 925864969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12828",
      "node_id" : "IC_kwDOABII5843L5QJ",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-23T14:24:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/925864969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/30832395?v=4",
         "events_url" : "https://api.github.com/users/Fonta1n3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fonta1n3/followers",
         "following_url" : "https://api.github.com/users/Fonta1n3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fonta1n3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fonta1n3",
         "id" : 30832395,
         "login" : "Fonta1n3",
         "node_id" : "MDQ6VXNlcjMwODMyMzk1",
         "organizations_url" : "https://api.github.com/users/Fonta1n3/orgs",
         "received_events_url" : "https://api.github.com/users/Fonta1n3/received_events",
         "repos_url" : "https://api.github.com/users/Fonta1n3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fonta1n3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fonta1n3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fonta1n3"
      }
   }
]
