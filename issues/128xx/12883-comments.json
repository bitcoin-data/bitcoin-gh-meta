[
   {
      "author_association" : "MEMBER",
      "body" : "More broadly, I'd like to see some sort of warning if an incoming transaction is replaced by one with a reduced (or zero) amount going to the wallet.",
      "created_at" : "2018-04-04T15:45:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-378647860",
      "id" : 378647860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "updated_at" : "2018-04-04T15:45:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378647860",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Related scenario:\r\n\r\n* 2 regtest nodes; node0 and node1\r\n* node0 sends 10 BTC to node1 (~40 BTC change) in tx0A\r\n* node0 RBF-doublespends ~50 BTC to itself in tx0B that conflicts with tx0A\r\n* node0 spends the output of tx0B to send 5 BTC to node1, ~45 BTC change in tx1B\r\n\r\nOutcome:\r\n* 5 BTC pending balance in node1 (expected)\r\n* node1 has 2 incoming transactions; tx0A and tx1B, these are not in each other's `walletconflicts` because only tx1B's parent (tx0B) spends the same outputs as tx0A and is therefore \"directly conflicting\"\r\n\r\nExpected:\r\n* node1's incoming transactions (tx0A and tx1B) should be in each other's `walletconflicts` since they are wallet-touching transactions that are mutually conflicting.",
      "created_at" : "2018-04-06T10:29:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-379214402",
      "id" : 379214402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "updated_at" : "2018-04-06T11:47:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379214402",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37372069?v=4",
         "events_url" : "https://api.github.com/users/setpill/events{/privacy}",
         "followers_url" : "https://api.github.com/users/setpill/followers",
         "following_url" : "https://api.github.com/users/setpill/following{/other_user}",
         "gists_url" : "https://api.github.com/users/setpill/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/setpill",
         "id" : 37372069,
         "login" : "setpill",
         "organizations_url" : "https://api.github.com/users/setpill/orgs",
         "received_events_url" : "https://api.github.com/users/setpill/received_events",
         "repos_url" : "https://api.github.com/users/setpill/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/setpill/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/setpill/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/setpill"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Adding the sending address as watch-only using `importaddress` is an effective (but ugly) workaround; pending balance goes to zero on an RBF-doublespend, `walletconflicts` is filled.",
      "created_at" : "2018-04-09T10:46:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-379711112",
      "id" : 379711112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "updated_at" : "2018-04-09T10:46:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379711112",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37372069?v=4",
         "events_url" : "https://api.github.com/users/setpill/events{/privacy}",
         "followers_url" : "https://api.github.com/users/setpill/followers",
         "following_url" : "https://api.github.com/users/setpill/following{/other_user}",
         "gists_url" : "https://api.github.com/users/setpill/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/setpill",
         "id" : 37372069,
         "login" : "setpill",
         "organizations_url" : "https://api.github.com/users/setpill/orgs",
         "received_events_url" : "https://api.github.com/users/setpill/received_events",
         "repos_url" : "https://api.github.com/users/setpill/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/setpill/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/setpill/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/setpill"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Have any progress for this kind of issue...??",
      "created_at" : "2019-06-08T09:12:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-500109217",
      "id" : 500109217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMDEwOTIxNw==",
      "updated_at" : "2019-06-08T09:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/500109217",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/43856875?v=4",
         "events_url" : "https://api.github.com/users/salmanfarisk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/salmanfarisk/followers",
         "following_url" : "https://api.github.com/users/salmanfarisk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/salmanfarisk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/salmanfarisk",
         "id" : 43856875,
         "login" : "salmanfarisk",
         "node_id" : "MDQ6VXNlcjQzODU2ODc1",
         "organizations_url" : "https://api.github.com/users/salmanfarisk/orgs",
         "received_events_url" : "https://api.github.com/users/salmanfarisk/received_events",
         "repos_url" : "https://api.github.com/users/salmanfarisk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/salmanfarisk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/salmanfarisk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/salmanfarisk"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure if this feature will be of any use. You shouldn't be trusting txs signed by a third party until they are confirmed sufficiently.\r\n\r\nAlso, there are other reasons why a transaction can leave the mempool. See https://github.com/bitcoin/bitcoin/blob/dc9d6626835ec2864dfa747c12071dabdc95b919/src/txmempool.h#L349\r\n\r\nAlso, if the replacement tx is replaced itself again, do you also want to keep that tx in your wallet even though it has no effect on it and will only bloat your wallet?",
      "created_at" : "2022-08-14T10:09:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214326141",
      "id" : 1214326141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "node_id" : "IC_kwDOABII585IYSV9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214326141/reactions"
      },
      "updated_at" : "2022-08-14T10:09:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214326141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Agreed wrt. shouldn't trust unmined 3rd party txes. But as described in the original report, the wallet shows inaccurate information, and it would be nice to have a warning that a pending incoming tx was replaced.\r\n\r\n> Also, if the replacement tx is replaced itself again, do you also want to keep that tx in your wallet even though it has no effect on it and will only bloat your wallet?\r\n\r\nNo, that wouldn't be desirable, hence why the workaround is ugly.",
      "created_at" : "2022-08-15T08:32:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214753803",
      "id" : 1214753803,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "node_id" : "IC_kwDOABII585IZ6wL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214753803/reactions"
      },
      "updated_at" : "2022-08-15T08:32:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214753803",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/37372069?v=4",
         "events_url" : "https://api.github.com/users/setpill/events{/privacy}",
         "followers_url" : "https://api.github.com/users/setpill/followers",
         "following_url" : "https://api.github.com/users/setpill/following{/other_user}",
         "gists_url" : "https://api.github.com/users/setpill/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/setpill",
         "id" : 37372069,
         "login" : "setpill",
         "node_id" : "MDQ6VXNlcjM3MzcyMDY5",
         "organizations_url" : "https://api.github.com/users/setpill/orgs",
         "received_events_url" : "https://api.github.com/users/setpill/received_events",
         "repos_url" : "https://api.github.com/users/setpill/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/setpill/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/setpill/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/setpill"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd say that `walletconflicts`, `replaced_by_txid`, and `replaces_txid` are only meaningful and valid for txs that were signed by your own wallet, for example for a a fee bump. Not sure if this can be improved with documentation.\r\n\r\nMaybe you could explain the use case you need this for, and why let's say `\"trusted\"` isn't enough to check.",
      "created_at" : "2022-08-15T09:06:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12883#issuecomment-1214779706",
      "id" : 1214779706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12883",
      "node_id" : "IC_kwDOABII585IaBE6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214779706/reactions"
      },
      "updated_at" : "2022-08-15T09:06:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1214779706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
