[
   {
      "author_association" : "MEMBER",
      "body" : "I may be mistaken, but you have\r\n```\r\n2018-04-02 23:21:01 Received a POST request for / from 127.0.0.1:38448\r\n2018-04-02 23:21:01 ThreadRPCServer method=stop\r\n```\r\nwhich indicates you are somehow sending a `stop` RPC command, which would explain why it shuts down.",
      "created_at" : "2018-04-04T08:45:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12865#issuecomment-378526729",
      "id" : 378526729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12865",
      "updated_at" : "2018-04-04T08:45:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378526729",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "That's weird. \r\nAnd is both in debug.log from node 2 and node 3.",
      "created_at" : "2018-04-04T13:47:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12865#issuecomment-378605680",
      "id" : 378605680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12865",
      "updated_at" : "2018-04-04T13:47:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378605680",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/35741715?v=4",
         "events_url" : "https://api.github.com/users/InserirAquiNome/events{/privacy}",
         "followers_url" : "https://api.github.com/users/InserirAquiNome/followers",
         "following_url" : "https://api.github.com/users/InserirAquiNome/following{/other_user}",
         "gists_url" : "https://api.github.com/users/InserirAquiNome/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/InserirAquiNome",
         "id" : 35741715,
         "login" : "InserirAquiNome",
         "organizations_url" : "https://api.github.com/users/InserirAquiNome/orgs",
         "received_events_url" : "https://api.github.com/users/InserirAquiNome/received_events",
         "repos_url" : "https://api.github.com/users/InserirAquiNome/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/InserirAquiNome/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/InserirAquiNome/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/InserirAquiNome"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I get a sample bitcoin.conf from \r\nhttps://wiki.bitcoin.com/w/Running_Bitcoin#Sample_Bitcoin.conf\r\n\r\nAnd tested it on node 2.\r\n\r\nAnd didn't change anything. This is my ~/.bitcoin/bitcoin.conf\r\nhttps://pastebin.com/EE9Mnybe\r\n\r\nI get this ~/.bitcoin/debug.log\r\nhttps://pastebin.com/Nqq5CQJn\r\n\r\nThere is not enough debug settings on ~/.bitcoin/bitcoin.con and so I added this\r\n```\r\n# Output debug options: all, default, net, tor\r\ndebug=1\r\n#debug=0\r\n#debug=net\r\n#debug=tor\r\n```\r\n\r\nAnd this is the new ~/.bitcoin/debug.log\r\nhttps://pastebin.com/sQ1fqTUN\r\n\r\nStill get \r\n\r\n``` \r\n2018-04-04 14:31:01 Received a POST request for / from 127.0.0.1:59422\r\n2018-04-04 14:31:01 ThreadRPCServer method=stop\r\n```\r\n",
      "created_at" : "2018-04-04T14:38:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12865#issuecomment-378623182",
      "id" : 378623182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12865",
      "updated_at" : "2018-04-04T14:38:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/378623182",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/35741715?v=4",
         "events_url" : "https://api.github.com/users/InserirAquiNome/events{/privacy}",
         "followers_url" : "https://api.github.com/users/InserirAquiNome/followers",
         "following_url" : "https://api.github.com/users/InserirAquiNome/following{/other_user}",
         "gists_url" : "https://api.github.com/users/InserirAquiNome/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/InserirAquiNome",
         "id" : 35741715,
         "login" : "InserirAquiNome",
         "organizations_url" : "https://api.github.com/users/InserirAquiNome/orgs",
         "received_events_url" : "https://api.github.com/users/InserirAquiNome/received_events",
         "repos_url" : "https://api.github.com/users/InserirAquiNome/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/InserirAquiNome/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/InserirAquiNome/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/InserirAquiNome"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I ran with your bitcoin.conf file and did not see a shutdown. I did an initial block download though, on a fresh datadir. Are you running against a synced up state?",
      "created_at" : "2018-04-06T07:00:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12865#issuecomment-379166212",
      "id" : 379166212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12865",
      "updated_at" : "2018-04-06T07:00:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379166212",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I already nailed... the problem was the user aka me!\r\n\r\nI created two bash scripts long time ago\r\nrun_lload.sh\r\n```\r\n#!/bin/bash\r\n\r\n\r\nfunction bitcoin () {\r\n\r\n  now_is=$(date +%A_%d-%b-%Y_%H:%M:%S)\r\n\r\n  CPU_LOAD=$(uptime | cut -d\",\" -f4 | cut -d\":\" -f2 | cut -d\" \" -f2 | sed -e \"s/\\.//g\")\r\n  CPU_THRESHOLD=250\r\n\r\n  process=bitcoind \r\n  \r\n  pidof -s \"$process\" > /dev/null 2>&1\r\n  status=$?\r\n  \r\n  if [[ \"$status\" -eq 0 ]]; then\r\n    echo \"\"$process\" running at \"$now_is\" The CPU Load is $CPU_LOAD and the limit is $CPU_THRESHOLD.\"\r\n    echo \"\"$process\" running at \"$now_is\" The CPU Load is $CPU_LOAD and the limit is $CPU_THRESHOLD.\" >> $_DIR/lload.log\r\n  else\r\n    echo \"$process is NOT running\"\r\n  fi\r\n\r\n  if [[ \"$status\" -ne 0 ]] && [[ \"$CPU_LOAD\" -lt \"$CPU_THRESHOLD\" ]] ; then\r\n    echo \"$process is NOT running\"\r\n    bitcoind -daemon -disablewallet\r\n    echo \"Started at \"$now_is\" The CPU Load was $CPU_LOAD and the limit to run $process is $CPU_THRESHOLD.\"\r\n    echo \"Started at \"$now_is\" The CPU Load was $CPU_LOAD and the limit to run $process is $CPU_THRESHOLD.\" >> $_DIR/lload_run.log\r\n    sleep 5m\r\n  else\r\n    echo \"It's running or CPU Load is above limit to start it.\"\r\n  fi\r\n\r\n}\r\n\r\nsource ~/.bash_profile\r\n\r\n_DIR=$( echo $PWD )\r\n\r\nbitcoin\r\n```\r\nkill_hload.sh\r\n```\r\n#!/bin/bash\r\n\r\n\r\nfunction bitcoin () {\r\n\r\n  now_is=$(date +%A_%d-%b-%Y_%H:%M:%S)\r\n\r\n  CPU_LOAD=$(uptime | cut -d\",\" -f4 | cut -d\":\" -f2 | cut -d\" \" -f2 | sed -e \"s/\\.//g\")\r\n  CPU_THRESHOLD=1100\r\n#  CPU_THRESHOLD=0  # test\r\n\r\n  process=bitcoind\r\n\r\n  pidof -s \"$process\" > /dev/null 2>&1\r\n  status=$?\r\n \r\n  if [[ \"$status\" -eq 0 ]]; then\r\n    echo \"\"$process\" running at \"$now_is\" The CPU Load is $CPU_LOAD and the limit to kill is $CPU_THRESHOLD.\"\r\n    echo \"\"$process\" $Running at \"$now_is\" The CPU Load is $CPU_LOAD and the limit to kill is $CPU_THRESHOLD.\" >> $_DIR/hload.log\r\n  else \r\n    echo \"$process is NOT running\"\r\n  fi\r\n\r\n  if [[ \"$status\" -eq 0 ]] && [[ \"$CPU_LOAD\" -gt \"$CPU_THRESHOLD\" ]] ; then\r\n    echo \"$process is running\"\r\n    echo \"$process load is $CPU_LOAD\"\r\n    bitcoin-cli stop\r\n    echo \"Killed at \"$now_is\" The CPU Load was $CPU_LOAD and the limit to kill $process is $CPU_THRESHOLD.\"\r\n    echo \"Killed at \"$now_is\" The CPU Load was $CPU_LOAD and the limit to kill $process is $CPU_THRESHOLD.\" >> $_DIR/hload_kill.log\r\n  else \r\n    echo \"It's NOT running or CPU Load is below limits to kill it.\"\r\n  fi\r\n\r\n}\r\n\r\nsource ~/.bash_profile\r\n\r\n_DIR=$( echo $PWD )\r\n\r\nbitcoin\r\n```\r\n\r\nAnd I have them on my 3 machines running with cron.\r\n```\r\n* * * * *     /home/user/kill_hload.sh > /dev/null 2>&1\r\n*/2 * * * *   /home/user/run_lload.sh > /dev/null 2>&1\r\n```\r\n\r\nAnd in node 2 and node 3 somehow I edited the kill_hload.sh and the line \r\n\r\n```\r\n  if [[ \"$status\" -eq 0 ]] && [[ \"$CPU_LOAD\" -gt \"$CPU_THRESHOLD\" ]] ; then\r\n```\r\nwas like this\r\n\r\n```\r\n  if [[ \"$status\" -eq 0 ]] && [[ \"$CPU_LOAD -gt $CPU_THRESHOLD\" ]] ; then\r\n```\r\n\r\nAnd of course this was shunting down the node.\r\nYour tip on debug.log alerted me for a problem on this two machines in particular.\r\nAnd I tried to remember what I had running that could send an RPC call to shutdown the node and commenting the 2 lines on cron the problem was solved.  \r\n\r\nSorry for posting this in here. But I totally missed those two missing \".\r\nBut \" hey! damn you core\" .... :P \r\nKeep doing the amazing job that you guys do.\r\nI can run a full node on RPi3 and that is amazing.\r\nMany thanks to you all.",
      "created_at" : "2018-04-07T18:06:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12865#issuecomment-379488254",
      "id" : 379488254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12865",
      "updated_at" : "2018-04-07T18:06:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379488254",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/35741715?v=4",
         "events_url" : "https://api.github.com/users/InserirAquiNome/events{/privacy}",
         "followers_url" : "https://api.github.com/users/InserirAquiNome/followers",
         "following_url" : "https://api.github.com/users/InserirAquiNome/following{/other_user}",
         "gists_url" : "https://api.github.com/users/InserirAquiNome/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/InserirAquiNome",
         "id" : 35741715,
         "login" : "InserirAquiNome",
         "organizations_url" : "https://api.github.com/users/InserirAquiNome/orgs",
         "received_events_url" : "https://api.github.com/users/InserirAquiNome/received_events",
         "repos_url" : "https://api.github.com/users/InserirAquiNome/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/InserirAquiNome/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/InserirAquiNome/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/InserirAquiNome"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@InserirAquiNome Good to hear that it is fixed",
      "created_at" : "2018-04-07T18:19:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12865#issuecomment-379489096",
      "id" : 379489096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12865",
      "updated_at" : "2018-04-07T18:19:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379489096",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
