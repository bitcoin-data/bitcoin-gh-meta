[
   {
      "author_association" : "MEMBER",
      "body" : "Ping @vasild.",
      "created_at" : "2020-08-30T20:02:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683463838",
      "id" : 683463838,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzQ2MzgzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-30T20:02:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683463838",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice!",
      "created_at" : "2020-08-30T20:15:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683465384",
      "id" : 683465384,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzQ2NTM4NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-30T20:15:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683465384",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19145 (Add hash_type MUHASH for gettxoutsetinfo by fjahr)\n* #19055 (Add MuHash3072 implementation by fjahr)\n* #18014 (lib: Optimizing siphash implementation by elichai)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-08-31T01:17:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683502823",
      "id" : 683502823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzUwMjgyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T17:41:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683502823",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on this approach to adding a Keccak/SHA3 implementation.",
      "created_at" : "2020-08-31T02:25:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683517258",
      "id" : 683517258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzUxNzI1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T02:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683517258",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK as a requirement for Torv3.",
      "created_at" : "2020-08-31T07:22:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683611775",
      "id" : 683611775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzYxMTc3NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T07:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683611775",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nNice simple implementation: will fuzz it to see if I'm able to reject that it is as robust as it looks :)",
      "created_at" : "2020-08-31T09:46:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683679414",
      "id" : 683679414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzY3OTQxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T09:46:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683679414",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is a nice compact implementation of KeccaK/SHA3 (even after the unrolling).\r\nCode review ACK 2263ab190e625f81d154ce6581f37adcdb31ef8b",
      "created_at" : "2020-08-31T13:31:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683779932",
      "id" : 683779932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Mzc3OTkzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T13:39:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683779932",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild FWIW, you should be able to use `hasher.Write(MakeUCharSpan(\".onion checksum\"))`.\r\n\r\nRegarding speed: the SHA256 implementations we have take advantage of SSE4/AVX2/SHA-NI instructions when available. I didn't use any of those for SHA3 as it seems unnecessary for its current use case. In an optimized build, but with HW accelerations for SHA256 disabled, the SHA3 code here is very close to SHA256:\r\n\r\n|             ns/byte |              byte/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|                1.69 |      590,913,173.58 |    0.1% |      0.02 | `SHA1`\r\n|                4.12 |      242,749,791.96 |    0.0% |      0.05 | `SHA256`\r\n|                4.11 |      243,277,749.23 |    0.9% |      0.04 | `SHA3_256_1M`\r\n|                2.90 |      344,486,900.54 |    0.1% |      0.03 | `SHA512`\r\n\r\nOn the same system (which has SHA-NI), with hardware accelerations enabled it is of course:\r\n\r\n|             ns/byte |              byte/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|                0.63 |    1,586,480,646.52 |    0.0% |      0.01 | `SHA256`\r\n",
      "created_at" : "2020-08-31T17:26:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683918636",
      "id" : 683918636,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MzkxODYzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T18:46:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683918636",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, all is good. And SHA3-256 [is supposed to be slower than SHA256](https://crypto.stackexchange.com/questions/68307/what-is-the-difference-between-sha-3-and-sha-256).",
      "created_at" : "2020-08-31T19:37:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-683991055",
      "id" : 683991055,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Mzk5MTA1NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-31T19:37:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/683991055",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Verdict: likely it works correctly and there may be room for performance improvement, but this is not relevant for the TORv3 code.\r\n\r\nAs it is not relevant to our use case, I don't think this is worth it. I wouldn't like to see the added complication of assembly implementations and special intrinsics just for computing an address checksum (it would be different if it was for *packet* checksums). Brevity (and of course correctness) of the implementation is the important thing here.",
      "created_at" : "2020-09-01T09:10:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-684628931",
      "id" : 684628931,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDYyODkzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T09:10:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684628931",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theStack Agree about `array`, it doesn't seem to be used at all. Wouldnt' stdint.h be necessary for sized integer types such as `uint32_t`? (yes, it's probably included indirectly somehow, but we like to be explicit about dependencies)",
      "created_at" : "2020-09-03T10:14:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-686392527",
      "id" : 686392527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjM5MjUyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T10:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686392527",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @theStack Agree about `array`, it doesn't seem to be used at all. Wouldnt' stdint.h be necessary for sized integer types such as `uint32_t`? (yes, it's probably included indirectly somehow, but we like to be explicit about dependencies)\r\n\r\n @laanwj: Oh indeed, you are right. For some reason I forgot that sized integer types and `size_t` are not integral part of the language but defined in headers... ð¤¦ââï¸ so both `<stdint.h>` are `<stdlib.h>` are needed indeed (though one could probably use the C++ counterparts `<cstdint>` and `<cstdlib>` instead, but that'd be more of a general discussion not related only to this PR).",
      "created_at" : "2020-09-03T10:37:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-686403096",
      "id" : 686403096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjQwMzA5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T10:37:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686403096",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I added `<array>` to get access to `std::begin` and `std::end`.",
      "created_at" : "2020-09-03T23:10:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-686809308",
      "id" : 686809308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjgwOTMwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T23:10:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686809308",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I forgot that sized integer types and size_t are not integral part of the language but defined in headers... man_facepalming \r\n\r\nHaah. I try to forget that sometimes â¦\r\n\r\n> I added <array> to get access to std::begin and std::end.\r\n\r\nOh, of course!\r\n",
      "created_at" : "2020-09-04T10:09:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-687055182",
      "id" : 687055182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzA1NTE4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T10:09:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687055182",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I added `<array>` to get access to `std::begin` and `std::end`.\r\n\r\nAh, I wasn't aware those are declared in `<array>`. Sorry for the noise.\r\n\r\nFor reviewing this PR, I thought it would be nice to validate this implementation against a standard one with random input data  (in addition to only the test vectors). I decided for python's `hashlib` which has `sha3_256` available since Version 3.6. Thanks to [pybind11](https://github.com/pybind/pybind11) it's super-easy to create Python bindings for C++ code. With less than 20 LOC binding code, SHA3_256 can be used in Python in a natural way: \r\n```\r\nimport sha3_sipa\r\n\r\n\r\ndef sha3_256_sipa(input):\r\n    return sha3_sipa.SHA3_256().Write(input).Finalize()\r\n```\r\nThe whole mini-project with Makefile and the comparison test with random input data is on my branch https://github.com/theStack/bitcoin/tree/test-sha3_256-against-python3-implementation\r\nIf anyone wants to try out, the following instructions should work on any recent Ubuntu with Python3.6+:\r\n```\r\n$ sudo apt-get install python3-dev\r\n$ sudo pip3 install pybind11\r\n$ cd sha3_test\r\n$ make\r\n$ ./sha3_test.py\r\n```\r\nRunning this already for a few hours, with millions of random inputs (random length up to 1 MB) and as expected, all of them passed. Will as next step code-review the PR tomorrow.",
      "created_at" : "2020-09-05T21:53:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-687667841",
      "id" : 687667841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzY2Nzg0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-05T21:53:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687667841",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I like how compact this is :)",
      "created_at" : "2020-09-06T19:46:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-687882850",
      "id" : 687882850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Nzg4Mjg1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T19:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687882850",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Improved the tests and comments a bit.\r\n\r\n@theStack Nice, that's pretty neat!\r\n\r\n@elichai It was much more compact before unrolling, but I couldn't resist a 4.9x speedup with such a simple change (even though it really doesn't matter here...).\r\n\r\n@practicalswift You're of course welcome to do any testing you like, but I don't think fuzzing for *robustness* is all that useful here. The KeccakF function has completely fixed code path and memory accesses, so it either fails for everything or for nothing. The only input-dependent behavior is in `SHA3_256::Write`, but even there the only thing that matters is the length of the inputs, which is well-covered by the included tests. It'd be slightly more useful to test that hashing the same data, chopped up in differently sized chunks, gives the same result.",
      "created_at" : "2020-09-07T01:42:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-687971355",
      "id" : 687971355,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Nzk3MTM1NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T01:42:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687971355",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @elichai It was much more compact before unrolling, but I couldn't resist a 4.9x speedup with such a simple change (even though it really doesn't matter here...).\r\n\r\nhaha, you could instead add `#pragma unroll 5/24/25` :P\r\n",
      "created_at" : "2020-09-07T10:29:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-688233025",
      "id" : 688233025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODIzMzAyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T10:31:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688233025",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> haha, you could instead add #pragma unroll 5/24/25 :P\r\n\r\nI tried that. Numbers I get:\r\n\r\n|             ns/byte |              byte/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|               28.88 |       34,630,178.09 |    1.0% |      0.33 |  3f01ddb01bfffd49dfa131898d1c674ac5d0ac99 (before unrolling)\r\n|                5.88 |      170,120,654.67 |    0.8% |      0.07 | ab654c7d587b33d62230394663020439f80cee28 (after unrolling)\r\n|                5.60 |      178,667,398.49 |    0.4% |      0.06 | 3f01ddb01bfffd49dfa131898d1c674ac5d0ac99, but with pragmas to unroll everything in one round\r\n\r\nSo that means it's (on GCC 9.3.0, on x86_64 Linux) possible to get slightly better performance with forced unrolling, but also a lot more fragile (pragmas may work different across compilers and without the pragmas the code is a lot worse).\r\n\r\nI prefer keeping the code as-is. It's still very readable (I think), is platform neutral, and has close to ideal performance.",
      "created_at" : "2020-09-07T19:01:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-688476563",
      "id" : 688476563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODQ3NjU2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T19:01:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688476563",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I prefer keeping the code as-is. It's still very readable (I think), is platform neutral, and has close to ideal performance.\r\n\r\nYeah it probably won't work on MSVC",
      "created_at" : "2020-09-08T08:42:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-688717559",
      "id" : 688717559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODcxNzU1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T08:42:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688717559",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK ab654c7d587b33d62230394663020439f80cee28 -- patch looks correct and no sanitizer complaints when doing some basic fuzz testing of the added code (remember: **don't trust: fuzz!**) :)\r\n",
      "created_at" : "2020-09-10T05:43:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-689999386",
      "id" : 689999386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4OTk5OTM4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-10T05:43:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/689999386",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @theStack. I have run your cross-verification for a while here as well, no errors came up.\r\n\r\nI would prefer to keep the code as-is, with an explicit unroll. Even though a pragma would make the code shorter, it's non standard C++ functionality.\r\n\r\nre-ACK ab654c7d587b33d62230394663020439f80cee28",
      "created_at" : "2020-09-10T13:46:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19841#issuecomment-690299906",
      "id" : 690299906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19841",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDI5OTkwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-10T13:48:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690299906",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
