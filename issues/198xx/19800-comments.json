[
   {
      "author_association" : "MEMBER",
      "body" : "Requested by @jnewbery in https://github.com/bitcoin/bitcoin/pull/19315#discussion_r476310077",
      "created_at" : "2020-08-25T12:34:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-679997008",
      "id" : 679997008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTk5NzAwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T12:34:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679997008",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476415076"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476415076"
         }
      },
      "author_association" : "MEMBER",
      "body" : "do you think this should live in wallet_util (the docstring says \"Useful util functions for testing the wallet\") or should it be in its own module?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T12:38:32Z",
      "diff_hunk" : "@@ -119,6 +134,44 @@ def test_address(node, address, **kwargs):\n         elif addr_info[key] != value:\n             raise AssertionError(\"key {} value {} did not match expected value {}\".format(key, addr_info[key], value))\n \n+\n+class MiniWallet():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476415076",
      "id" : 476415076,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNTA3Ng==",
      "original_commit_id" : "faa2aa276d26cee0a5fcc999db153fe2751fc511",
      "original_line" : 138,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet_util.py",
      "position" : null,
      "pull_request_review_id" : 474437363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476415076",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476418161"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476418161"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think a new `wallet.py` makes sense. Any objections?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T12:43:46Z",
      "diff_hunk" : "@@ -119,6 +134,44 @@ def test_address(node, address, **kwargs):\n         elif addr_info[key] != value:\n             raise AssertionError(\"key {} value {} did not match expected value {}\".format(key, addr_info[key], value))\n \n+\n+class MiniWallet():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476418161",
      "id" : 476418161,
      "in_reply_to_id" : 476415076,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxODE2MQ==",
      "original_commit_id" : "faa2aa276d26cee0a5fcc999db153fe2751fc511",
      "original_line" : 138,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet_util.py",
      "position" : null,
      "pull_request_review_id" : 474441385,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476418161",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476418877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476418877"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No objections!",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T12:44:53Z",
      "diff_hunk" : "@@ -119,6 +134,44 @@ def test_address(node, address, **kwargs):\n         elif addr_info[key] != value:\n             raise AssertionError(\"key {} value {} did not match expected value {}\".format(key, addr_info[key], value))\n \n+\n+class MiniWallet():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476418877",
      "id" : 476418877,
      "in_reply_to_id" : 476415076,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxODg3Nw==",
      "original_commit_id" : "faa2aa276d26cee0a5fcc999db153fe2751fc511",
      "original_line" : 138,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet_util.py",
      "position" : null,
      "pull_request_review_id" : 474442286,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476418877",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "nowallet build passed: https://travis-ci.org/github/bitcoin/bitcoin/jobs/720986253#L3238",
      "created_at" : "2020-08-25T13:44:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-680033957",
      "id" : 680033957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDAzMzk1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T13:44:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680033957",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476461408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476461408"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: sort",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T13:47:10Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    CTransaction,\n+    CTxIn,\n+    COutPoint,\n+    CTxOut,\n+    CTxInWitness,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476461408",
      "id" : 476461408,
      "line" : 14,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ2MTQwOA==",
      "original_commit_id" : "faf4f21da20885e4b0803cb0f98480259a39bbd5",
      "original_line" : 14,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 14,
      "pull_request_review_id" : 474497791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476461408",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476461751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476461751"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\nclass MiniWallet:\r\n```",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T13:47:35Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    CTransaction,\n+    CTxIn,\n+    COutPoint,\n+    CTxOut,\n+    CTxInWitness,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476461751",
      "id" : 476461751,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ2MTc1MQ==",
      "original_commit_id" : "faf4f21da20885e4b0803cb0f98480259a39bbd5",
      "original_line" : 28,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 474497791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476461751",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476475450"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476475450"
         }
      },
      "author_association" : "MEMBER",
      "body" : "no need for quotes?\r\n\r\n```suggestion\r\n        vsize = Decimal(96)\r\n```",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T14:05:45Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    CTransaction,\n+    CTxIn,\n+    COutPoint,\n+    CTxOut,\n+    CTxInWitness,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet():\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node=None):\n+        if from_node is None:\n+            from_node = self._test_node\n+        self._utxos = sorted(self._utxos, key=lambda k: -k['value'])\n+        largest_utxo = self._utxos.pop()  # Pick the largest utxo and hope it covers the fee\n+        vsize = Decimal('96')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476475450",
      "id" : 476475450,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ3NTQ1MA==",
      "original_commit_id" : "faf4f21da20885e4b0803cb0f98480259a39bbd5",
      "original_line" : 50,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 474497791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476475450",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476489184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476489184"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx. fixed all nits",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T14:23:24Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    CTransaction,\n+    CTxIn,\n+    COutPoint,\n+    CTxOut,\n+    CTxInWitness,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476489184",
      "id" : 476489184,
      "in_reply_to_id" : 476461408,
      "line" : 14,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ4OTE4NA==",
      "original_commit_id" : "faf4f21da20885e4b0803cb0f98480259a39bbd5",
      "original_line" : 14,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 14,
      "pull_request_review_id" : 474533654,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476489184",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476515840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476515840"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems like the \"wallet\" doesn't know which funds are mature?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T14:57:43Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476515840",
      "id" : 476515840,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUxNTg0MA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 40,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 40,
      "pull_request_review_id" : 474568172,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476515840",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK!! very nice :) ",
      "created_at" : "2020-08-25T15:57:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-680113935",
      "id" : 680113935,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDExMzkzNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-25T15:57:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680113935",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476576757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476576757"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The wallet will \"sign\" any transaction you ask it to sign. Also, coin selection is deterministic, so if immature funds are spent, it will be noticed when writing the test.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T16:24:17Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476576757",
      "id" : 476576757,
      "in_reply_to_id" : 476515840,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU3Njc1Nw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 40,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 40,
      "pull_request_review_id" : 474648347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476576757",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476579829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476579829"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think the real answer is you're relying on FIFO which picks oldest first.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T16:28:51Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476579829",
      "id" : 476579829,
      "in_reply_to_id" : 476515840,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU3OTgyOQ==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 40,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 40,
      "pull_request_review_id" : 474652163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476579829",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476582353"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476582353"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The wallet doesn't currently query the chain in any way, so it has no notion of number of confirmations.\r\n\r\nIf this is ever needed, it can be added later",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-08-25T16:32:42Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r476582353",
      "id" : 476582353,
      "in_reply_to_id" : 476515840,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MjM1Mw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 40,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 40,
      "pull_request_review_id" : 474655359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/476582353",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2020-08-26T04:07:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-680555006",
      "id" : 680555006,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDU1NTAwNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T04:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680555006",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would be good to make progress here, so that the mockwallet can be used in new tests",
      "created_at" : "2020-09-07T06:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-688065974",
      "id" : 688065974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODA2NTk3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T06:26:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688065974",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484362539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484362539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: standard library imports before local imports",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:06:56Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484362539",
      "id" : 484362539,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2MjUzOQ==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 25,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484362539",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484363093"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484363093"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why is the `_address` member needed? Why not always just use the `ADDRESS_BCRT1_P2WSH_OP_TRUE` constant directly?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:08:11Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484363093",
      "id" : 484363093,
      "line" : 32,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2MzA5Mw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 32,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 32,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484363093",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484364988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484364988"
         }
      },
      "author_association" : "MEMBER",
      "body" : "May not be needed (unless you expect individual tests to use this in future)?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:12:12Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484364988",
      "id" : 484364988,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2NDk4OA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 42,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484364988",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484365773"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484365773"
         }
      },
      "author_association" : "MEMBER",
      "body" : "use named argument `verbosity=2` for clarity?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:13:32Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484365773",
      "id" : 484365773,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2NTc3Mw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 38,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484365773",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484366255"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484366255"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe add a function docstring: \"Generate blocks with an anyone-can-spend coinbase outputs, and add outputs to internal list to spend later\" or similar.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:14:39Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484366255",
      "id" : 484366255,
      "line" : 35,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2NjI1NQ==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 35,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484366255",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484367276"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484367276"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Rather than hoping, can you assert that send_value below is +ve, for a more helpful error message.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:16:52Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node):\n+        self._utxos = sorted(self._utxos, key=lambda k: -k['value'])\n+        largest_utxo = self._utxos.pop()  # Pick the largest utxo and hope it covers the fee",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484367276",
      "id" : 484367276,
      "line" : 46,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2NzI3Ng==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 46,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 46,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484367276",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484367838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484367838"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Add a docstring. What's the guarantee to the caller here? That the transaction's feerate will be strictly greater than the fee_rate parameter provided?",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:18:11Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484367838",
      "id" : 484367838,
      "line" : 43,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2NzgzOA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 43,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 43,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484367838",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484368547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484368547"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It feels to me like the transaction construction/signing should be separated from the relaying. ie this function's responsibility should be to return a serialized transaction that the caller can then submit from any node (or manually over a p2p connection)",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:19:48Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484368547",
      "id" : 484368547,
      "line" : 43,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2ODU0Nw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 43,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 43,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484368547",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484372207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484372207"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this can just be `generate(1)` since the output UTXO can always be used in subsequent tests.\r\n\r\nCould probably do with a comment so it's obvious why two different generate commands are being used here.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T11:27:33Z",
      "diff_hunk" : "@@ -83,27 +77,27 @@ def test_feefilter_forcerelay(self):\n     def test_feefilter(self):\n         node1 = self.nodes[1]\n         node0 = self.nodes[0]\n+        miniwallet = MiniWallet(node1)\n+        miniwallet.generate(5)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484372207",
      "id" : 484372207,
      "line" : 82,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM3MjIwNw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 82,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 37,
      "pull_request_review_id" : 483469444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484372207",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484411593"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484411593"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:47:14Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484411593",
      "id" : 484411593,
      "in_reply_to_id" : 484362539,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMTU5Mw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 25,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 483529233,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484411593",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484412944"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484412944"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If the address is changed in the future, it might be easier if there is only one occurrence of `ADDRESS_BCRT1_P2WSH_OP_TRUE`. Not sure though",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:49:48Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484412944",
      "id" : 484412944,
      "in_reply_to_id" : 484363093,
      "line" : 32,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMjk0NA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 32,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 32,
      "pull_request_review_id" : 483530894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484412944",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413094"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx removed",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:50:04Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413094",
      "id" : 484413094,
      "in_reply_to_id" : 484364988,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMzA5NA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 42,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 483531079,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413094",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413287"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx changed",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:50:24Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413287",
      "id" : 484413287,
      "in_reply_to_id" : 484365773,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMzI4Nw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 38,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : null,
      "pull_request_review_id" : 483531312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413287",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413402"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, added docstring",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:50:38Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413402",
      "id" : 484413402,
      "in_reply_to_id" : 484366255,
      "line" : 35,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMzQwMg==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 35,
      "pull_request_review_id" : 483531454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413402",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413580"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413580"
         }
      },
      "author_association" : "MEMBER",
      "body" : "added assert",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:50:58Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node):\n+        self._utxos = sorted(self._utxos, key=lambda k: -k['value'])\n+        largest_utxo = self._utxos.pop()  # Pick the largest utxo and hope it covers the fee",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413580",
      "id" : 484413580,
      "in_reply_to_id" : 484367276,
      "line" : 46,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMzU4MA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 46,
      "original_position" : 47,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 46,
      "pull_request_review_id" : 483531694,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413580",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413807"
         }
      },
      "author_association" : "MEMBER",
      "body" : "tx fee will be exact (or off by at most one satoshi). Added docstring",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:51:23Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484413807",
      "id" : 484413807,
      "in_reply_to_id" : 484367838,
      "line" : 43,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxMzgwNw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 43,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 43,
      "pull_request_review_id" : 483531984,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484413807",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484414479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484414479"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree, but I can't have the asserts here without `testmempoolaccept` returning the vsize and fee. I will fix this when the functionality is needed.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:52:41Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE\n+        self._scriptPubKey = hex_str_to_bytes(self._test_node.validateaddress(self._address)['scriptPubKey'])\n+\n+    def generate(self, num_blocks):\n+        blocks = self._test_node.generatetoaddress(num_blocks, self.getnewaddress())\n+        for b in blocks:\n+            cb_tx = self._test_node.getblock(b, 2)['tx'][0]\n+            self._utxos.append({'txid': cb_tx['txid'], 'vout': 0, 'value': cb_tx['vout'][0]['value']})\n+        return blocks\n+\n+    def getnewaddress(self):\n+        return self._address\n+\n+    def send_self_transfer(self, *, fee_rate, from_node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484414479",
      "id" : 484414479,
      "in_reply_to_id" : 484368547,
      "line" : 43,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNDQ3OQ==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 43,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 43,
      "pull_request_review_id" : 483532774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484414479",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484414857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484414857"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure if we want package fee rats in this test. I've kept the previous behavior (packets of size 1)",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:53:30Z",
      "diff_hunk" : "@@ -83,27 +77,27 @@ def test_feefilter_forcerelay(self):\n     def test_feefilter(self):\n         node1 = self.nodes[1]\n         node0 = self.nodes[0]\n+        miniwallet = MiniWallet(node1)\n+        miniwallet.generate(5)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484414857",
      "id" : 484414857,
      "in_reply_to_id" : 484372207,
      "line" : 82,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNDg1Nw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 82,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 37,
      "pull_request_review_id" : 483533282,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484414857",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Force pushed second commit to address @jnewbery's feedback",
      "created_at" : "2020-09-07T12:54:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-688306632",
      "id" : 688306632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODMwNjYzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T12:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688306632",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fae0de34945dce7582ac53c90c7b84e1c478a8bc",
      "created_at" : "2020-09-07T12:58:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-688309247",
      "id" : 688309247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODMwOTI0Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T12:58:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688309247",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484418037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484418037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's easy either way, and best not to add code until it's needed. Doesn't make a big difference though",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T12:59:34Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"A limited-functionality wallet, which may replace a real wallet in tests\"\"\"\n+\n+from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n+from test_framework.messages import (\n+    COIN,\n+    COutPoint,\n+    CTransaction,\n+    CTxIn,\n+    CTxInWitness,\n+    CTxOut,\n+)\n+from test_framework.script import (\n+    CScript,\n+    OP_TRUE,\n+)\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes,\n+    satoshi_round,\n+)\n+from decimal import Decimal\n+\n+\n+class MiniWallet:\n+    def __init__(self, test_node):\n+        self._test_node = test_node\n+        self._utxos = []\n+        self._address = ADDRESS_BCRT1_P2WSH_OP_TRUE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484418037",
      "id" : 484418037,
      "in_reply_to_id" : 484363093,
      "line" : 32,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxODAzNw==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 32,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 32,
      "pull_request_review_id" : 483537212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484418037",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484418429"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484418429"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I still think a comment would be useful for people reading this file for the first time. Not essential though.",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T13:00:22Z",
      "diff_hunk" : "@@ -83,27 +77,27 @@ def test_feefilter_forcerelay(self):\n     def test_feefilter(self):\n         node1 = self.nodes[1]\n         node0 = self.nodes[0]\n+        miniwallet = MiniWallet(node1)\n+        miniwallet.generate(5)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484418429",
      "id" : 484418429,
      "in_reply_to_id" : 484372207,
      "line" : 82,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxODQyOQ==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 82,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 37,
      "pull_request_review_id" : 483537721,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484418429",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484421900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484421900"
         }
      },
      "author_association" : "MEMBER",
      "body" : "added comment",
      "commit_id" : "fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T13:07:30Z",
      "diff_hunk" : "@@ -83,27 +77,27 @@ def test_feefilter_forcerelay(self):\n     def test_feefilter(self):\n         node1 = self.nodes[1]\n         node0 = self.nodes[0]\n+        miniwallet = MiniWallet(node1)\n+        miniwallet.generate(5)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#discussion_r484421900",
      "id" : 484421900,
      "in_reply_to_id" : 484372207,
      "line" : 82,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQyMTkwMA==",
      "original_commit_id" : "fa170e5a24b7001344bd3c9ec187192ee637d736",
      "original_line" : 82,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 37,
      "pull_request_review_id" : 483542247,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19800",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-07T13:07:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484421900",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fa188c9c59b8c3e43c31be01797f073e27a7bc10",
      "created_at" : "2020-09-07T13:08:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19800#issuecomment-688314934",
      "id" : 688314934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19800",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODMxNDkzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T13:08:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688314934",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
