[
   {
      "author_association" : "MEMBER",
      "body" : "have you seen #7964?\n",
      "created_at" : "2016-05-01T09:52:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7983#issuecomment-216031888",
      "id" : 216031888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7983",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxNjAzMTg4OA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216031888/reactions"
      },
      "updated_at" : "2016-05-01T09:52:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216031888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, this contains parts of my patch, but not the `WorkQueue` change.  I suggest to rebase this once #7964 is merged.\n",
      "created_at" : "2016-05-01T09:59:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7983#issuecomment-216032124",
      "id" : 216032124,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7983",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxNjAzMjEyNA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216032124/reactions"
      },
      "updated_at" : "2016-05-01T09:59:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216032124",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Perhaps also see #7966.\n",
      "created_at" : "2016-05-01T10:01:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7983#issuecomment-216032218",
      "id" : 216032218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7983",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxNjAzMjIxOA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216032218/reactions"
      },
      "updated_at" : "2016-05-01T10:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216032218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "diff between the existing pulls and this one:\n\n``` diff\ndiff --git a/src/chain.h b/src/chain.h\nindex 017d4fe..5b9605a 100644\n--- a/src/chain.h\n+++ b/src/chain.h\n@@ -54,7 +54,7 @@ struct CDiskBlockPos\n\n };\n\n-enum BlockStatus: uint32_t {\n+enum BlockStatus {\n     //! Unused.\n     BLOCK_VALID_UNKNOWN      =    0,\n\ndiff --git a/src/httpserver.cpp b/src/httpserver.cpp\nindex 55c81c1..64a0c31 100644\n--- a/src/httpserver.cpp\n+++ b/src/httpserver.cpp\n@@ -34,6 +34,10 @@\n #endif\n #endif\n\n+#include <deque>\n+#include <memory>\n+#include <utility>\n+\n #include <boost/algorithm/string/case_conv.hpp> // for to_lower()\n #include <boost/foreach.hpp>\n #include <boost/scoped_ptr.hpp>\n@@ -100,20 +104,14 @@ public:\n                                  numThreads(0)\n     {\n     }\n-    /*( Precondition: worker threads have all stopped\n-     * (call WaitExit)\n-     */\n-    ~WorkQueue()\n-    {\n-    }\n     /** Enqueue a work item */\n-    bool Enqueue(std::unique_ptr<WorkItem> item)\n+    bool Enqueue(WorkItem* item)\n     {\n         boost::unique_lock<boost::mutex> lock(cs);\n         if (queue.size() >= maxDepth) {\n             return false;\n         }\n-        queue.push_back(std::move(item));\n+        queue.push_back(std::unique_ptr<WorkItem>(item));\n         cond.notify_one();\n         return true;\n     }\n@@ -284,7 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n     if (i != iend) {\n         std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (!workQueue->Enqueue(std::move(item)))\n+        if (workQueue->Enqueue(item.get()))\n+            item.release(); /* if true, queue took ownership */\n+        else\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");\n     } else {\n         hreq->WriteReply(HTTP_NOTFOUND);\ndiff --git a/src/miner.cpp b/src/miner.cpp\nindex eaf29a7..d4aec3c 100644\n--- a/src/miner.cpp\n+++ b/src/miner.cpp\n@@ -27,6 +27,7 @@\n\n #include <boost/thread.hpp>\n #include <boost/tuple/tuple.hpp>\n+#include <memory>\n #include <queue>\n\n using namespace std;\ndiff --git a/src/rpc/mining.cpp b/src/rpc/mining.cpp\nindex 9a7d9d5..eeb8675 100644\n--- a/src/rpc/mining.cpp\n+++ b/src/rpc/mining.cpp\n@@ -21,6 +21,7 @@\n #include \"utilstrencodings.h\"\n #include \"validationinterface.h\"\n\n+#include <memory>\n #include <stdint.h>\n\n #include <boost/assign/list_of.hpp>\n```\n",
      "created_at" : "2016-05-01T10:23:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7983#issuecomment-216033036",
      "id" : 216033036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7983",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxNjAzMzAzNg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216033036/reactions"
      },
      "updated_at" : "2016-05-01T10:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216033036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Well, ok, I guess then nothing remains of this patch and the PR can be closed....\n",
      "created_at" : "2016-05-01T10:30:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7983#issuecomment-216033375",
      "id" : 216033375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7983",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxNjAzMzM3NQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216033375/reactions"
      },
      "updated_at" : "2016-05-01T10:30:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216033375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Right, the overlap with other pulls is too large, closing.\n",
      "created_at" : "2016-05-02T11:11:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7983#issuecomment-216205421",
      "id" : 216205421,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7983",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDIxNjIwNTQyMQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216205421/reactions"
      },
      "updated_at" : "2016-05-02T11:11:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216205421",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
