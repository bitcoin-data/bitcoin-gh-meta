{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This changes how block height of a transaction in the memory pool is obtained, so that instead of being stored in CTxMemPoolEntry, it is derived when asked for.\r\n\r\nThis has a few advantages:-\r\n\r\n1. It reduces the memory usage of TxMemPoolEntry\r\n2. It allows the correct height to be used for transactions loaded from mempool.dat\r\n3. It allows the correct height to be used for transactions saved to the memory pool during initial block download.\r\n4. It therefore improves fee estimation given that correct values are being used.\r\n\r\nDisadvantages:-\r\n1. It requires access to the active chain by various functions that previously did not require access, and a lock on cs_main while doing this.\r\n\r\nDraft as still testing, but opening to request comments.",
   "closed_at" : "2021-09-16T12:34:18Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "node_id" : "MDQ6VXNlcjE1MzAyODM=",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   },
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22996/comments",
   "created_at" : "2021-09-16T12:30:52Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22996/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/22996",
   "id" : 998157301,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22996/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII584r1cmx",
   "number" : 22996,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/22996.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22996",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/22996.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22996"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Better GetHeight() for CTxMemPoolEntry",
   "updated_at" : "2021-09-16T12:34:18Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22996",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "node_id" : "MDQ6VXNlcjE1MzAyODM=",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   }
}
