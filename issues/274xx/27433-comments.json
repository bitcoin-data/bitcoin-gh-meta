[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "created_at" : "2023-04-06T18:18:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27433#issuecomment-1499447828",
      "id" : 1499447828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27433",
      "node_id" : "IC_kwDOABII585ZX8IU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499447828/reactions"
      },
      "updated_at" : "2023-04-06T18:18:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499447828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The \"rules\" field was introduced in #7935. It's not specified in [BIP 22](https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki) and [BIP 23](https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki) which describe the expected behaviour of `getblocktemplate`. But then in [BIP 145](https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki) for segwit it's assumed to be there. I'm guessing something in between is documented in Stratum software?\r\n\r\nHere's [an example](https://bitbucket.org/ckolivas/ckpool/src/73f560cf3144f824823077c1b9e1663d89823ed7/src/bitcoin.c#lines-127:135) of how it's used by pool software. There's also some documentation through bug reports, e.g. #17946. My understanding is that `!` means that it's unsafe to mine without understanding the rule.\r\n\r\nIt's unclear to me how it is intented to be used, both as an argument and in the results. I'm also not sure how to interpret this wording in BIP 145:\r\n\r\n> The '!' rule prefix MUST be enabled on the \"segwit\" rule for templates including transactions with witness data.\r\n\r\nFor 6ab119d4c1c8cf3d9c0994c22d75d016a30cdd6a I have assumed that the consumer of this RPC may care about it, so we keep `!segwit` in the result. I've the read the above sentence as referring only to the result of the RPC. With this commit it doesn't matter if you set it or not.\r\n\r\n\r\n\r\ncc @luke-jr",
      "created_at" : "2023-04-06T19:18:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27433#issuecomment-1499509064",
      "id" : 1499509064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27433",
      "node_id" : "IC_kwDOABII585ZYLFI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499509064/reactions"
      },
      "updated_at" : "2023-04-06T19:32:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499509064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
