[
   {
      "author_association" : "MEMBER",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [glozow](https://github.com/bitcoin/bitcoin/pull/27460#pullrequestreview-1434610510) |\n| Concept ACK | [kevkevinpal](https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1507496302), [instagibbs](https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1508506500), [michaelfolkson](https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1523860147), [svanstaa](https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1551252948), [kristapsk](https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1551280433) |\n| Approach ACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/27460#pullrequestreview-1384593990) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27711](https://github.com/bitcoin/bitcoin/pull/27711) (kernel: Remove shutdown from kernel library by TheCharlatan)\n* [#27636](https://github.com/bitcoin/bitcoin/pull/27636) (kernel: Remove interface_ui, util/system from kernel library by TheCharlatan)\n* [#27576](https://github.com/bitcoin/bitcoin/pull/27576) (kernel: Remove args, chainparams, chainparamsbase from kernel library by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-04-13T11:19:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1506789821",
      "id" : 1506789821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585Zz8m9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1506789821/reactions"
      },
      "updated_at" : "2023-05-21T20:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1506789821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hi @MarcoFalke \r\n\r\nMore than 5 tests are failing",
      "created_at" : "2023-04-13T17:23:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1507338618",
      "id" : 1507338618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585Z2Cl6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507338618/reactions"
      },
      "updated_at" : "2023-04-13T17:23:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507338618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10137?v=4",
         "events_url" : "https://api.github.com/users/ghost/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ghost/followers",
         "following_url" : "https://api.github.com/users/ghost/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ghost/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ghost",
         "id" : 10137,
         "login" : "ghost",
         "node_id" : "MDQ6VXNlcjEwMTM3",
         "organizations_url" : "https://api.github.com/users/ghost/orgs",
         "received_events_url" : "https://api.github.com/users/ghost/received_events",
         "repos_url" : "https://api.github.com/users/ghost/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ghost/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ghost"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I changed the approach to force named RPC options, compatible with https://github.com/bitcoin/bitcoin/pull/26485",
      "created_at" : "2023-04-13T17:56:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1507391422",
      "id" : 1507391422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585Z2Pe-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507391422/reactions"
      },
      "updated_at" : "2023-04-13T17:56:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507391422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1165893783"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165893783"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "would it make sense to add a `./pathto/mempool.dat` to the example param because right now when I type\r\n`bitcoin-cli importmempool` \r\n\r\nI get\r\n\r\n```\r\nExamples:\r\n> bitcoin-cli importmempool\r\n> curl --user myusername --data-binary '{\"jsonrpc\": \"1.0\", \"id\": \"curltest\", \"method\": \"importmempool\", \"params\": []}' -H 'content-type: text/plain;' http://127.0.0.1:8332/\r\n```\r\n\r\nThis might be confusing\r\n```suggestion\r\n        RPCExamples{HelpExampleCli(\"importmempool\", \"./pathto/mempool.dat\") + HelpExampleRpc(\"importmempool\", \"./pathto/mempool.dat\")},\r\n```",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-13T18:32:25Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},\n+             },\n+             RPCArgOptions{.oneline_description = \"\\\"options\\\"\"}},\n+        },\n+        RPCResult{RPCResult::Type::OBJ, \"\", \"\", std::vector<RPCResult>{}},\n+        RPCExamples{HelpExampleCli(\"importmempool\", \"\") + HelpExampleRpc(\"importmempool\", \"\")},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1165893783",
      "id" : 1165893783,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FfiCX",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 747,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1383999376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165893783/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-13T18:38:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1165893783",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK 846ff37fe7ac2a5b4f855faaadb3434158ed6364 (need to check latest commit)\r\n\r\n### tested by doing the following in regtest\r\n\r\n`bitcoin-cli createwallet \"testwallet\"`\r\n`bitcoin-cli getnewaddress`\r\n`bitcoin-cli generateto address 6 <previous commands output>`\r\n`bitcoin-cli generate 20 (did this a couple times)`\r\n`bitcoin-cli getbalance` (validate you have a balance)\r\n`bitcoin-cli getnewaddress`\r\n`bitcoin-cli send '{\"<above output>\": 0.1}' null \"unset\" null '{\"fee_rate\": 1}'` (did this a few times)\r\n\r\nshutdown bitcoind\r\ncopy mempool.dat from datadir to different location\r\ndelete mempool.dat from datadir\r\nrestart bitcoind\r\n`bitcoin-cli importmempool ./mempool.dat`\r\n\r\nSaw this in the logs\r\n`2023-04-13T19:12:01Z Imported mempool transactions from disk: 5 succeeded, 0 failed, 0 expired, 0 already there, 0 waiting for initial broadcast`\r\ngot `{}` as response from cli\r\n\r\nMight test again and check the exact values\r\n\r\n---\r\n\r\n### Checking diff of mempool.dat files\r\ndid `git diff ./datadir/regtest/mempool.dat mempool.dat` and it gave me no changes in the vim editor to see\r\nbut \r\n`diff ./datadir/regtest/mempool.dat mempool.dat` gave me \r\n`Binary files ./datadir/regtest/mempool.dat and ./mempool.dat differ`\r\nnot sure if that matters",
      "created_at" : "2023-04-13T19:22:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1507496302",
      "id" : 1507496302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585Z2pFu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 3,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507496302/reactions"
      },
      "updated_at" : "2023-04-13T19:22:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1507496302",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166274209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166274209"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why would either of these \"corrupt\" the mempool state? They definitely might be undesirable (\"unbroadcast\" txs might reveal which node just loaded the mempool state, and \"fee delta\" may allow an attacker to pin txs to your mempool that will never be mined, or to get you to mine unprofitable txs), but the problems should be localised and not result in \"corruption\", no?",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T04:50:11Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166274209",
      "id" : 1166274209,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Fg-6h",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 742,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384593990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166274209/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T06:21:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166274209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166274761"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166274761"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe reference `prioritisetransaction` here explicitly?",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T04:51:37Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166274761",
      "id" : 1166274761,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Fg_DJ",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 736,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384593990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166274761/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T06:21:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166274761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166325126"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166325126"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should this also include the ability to override the (added to the mempool) `nTime` data with the current time (or an explicitly nominated time)?\r\n\r\nHaving a child transaction with an earlier `nTime` than its parent transaction might be confusing. I think the only way that can currently happen is with system/mock time shenanigans.",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T06:15:45Z",
      "diff_hunk" : "@@ -12,15 +12,18 @@ class CTxMemPool;\n \n namespace kernel {\n \n-/** Dump the mempool to disk. */\n+/** Dump the mempool to a file. */\n bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path,\n                  fsbridge::FopenFn mockable_fopen_function = fsbridge::fopen,\n                  bool skip_file_commit = false);\n \n-/** Load the mempool from disk. */\n-bool LoadMempool(CTxMemPool& pool, const fs::path& load_path,\n-                 Chainstate& active_chainstate,\n-                 fsbridge::FopenFn mockable_fopen_function = fsbridge::fopen);\n+struct ImportMempoolOptions {\n+    fsbridge::FopenFn mockable_fopen_function{fsbridge::fopen};\n+    bool apply_fee_delta_priority{true};\n+    bool apply_unbroadcast_set{true};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166325126",
      "id" : 1166325126,
      "line" : 24,
      "node_id" : "PRRC_kwDOABII585FhLWG",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 24,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.h",
      "position" : 18,
      "pull_request_review_id" : 1384593990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166325126/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T06:21:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166325126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166327231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166327231"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Change \"the file\" to \"a mempool.dat file\" ?\r\n\r\nMaybe reference the \"savemempool\" rpc as a way of updating mempool.dat with the current mempool?",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T06:17:35Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166327231",
      "id" : 1166327231,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FhL2_",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 726,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384593990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166327231/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T06:21:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166327231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166365182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166365182"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, happy to change the wording, if there is a suggestion I can copy-paste?",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T06:56:11Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166365182",
      "id" : 1166365182,
      "in_reply_to_id" : 1166274209,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FhVH-",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 742,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384726584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166365182/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T06:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166365182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166368024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166368024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe `\"Warning: Importing untrusted metadata may lead to unexpected issues and undesirable bugs. Do not set this bool unless you understand exactly what it does.\"`?",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T06:59:53Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166368024",
      "id" : 1166368024,
      "in_reply_to_id" : 1166274209,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FhV0Y",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 742,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384730797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166368024/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T06:59:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166368024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166394731"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166394731"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I guess it should also clarify that this is not a replacement for `-persistmempool` ",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T07:20:42Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166394731",
      "id" : 1166394731,
      "in_reply_to_id" : 1166327231,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FhcVr",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 726,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384788689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166394731/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T07:20:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166394731",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166428615"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166428615"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"undesirable behaviour\" instead of bugs -- this is a case of you telling it to do the wrong thing, so not really a bug? Otherwise sgtm.",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T07:45:28Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166428615",
      "id" : 1166428615,
      "in_reply_to_id" : 1166274209,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FhknH",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 742,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384833926,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166428615/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T07:45:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166428615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166430613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166430613"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(I more just meant \"what the heck type of file do you want me to give it???\")",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T07:46:00Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166430613",
      "id" : 1166430613,
      "in_reply_to_id" : 1166327231,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FhlGV",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 726,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1384835873,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166430613/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T07:46:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166430613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK, will review",
      "created_at" : "2023-04-14T13:29:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1508506500",
      "id" : 1508506500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585Z6fuE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1508506500/reactions"
      },
      "updated_at" : "2023-04-14T13:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1508506500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166889886"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166889886"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd like the test to load against two mempool files with differing txn subsets at least, showing that \"additional\" txs are loaded even if they weren't there originally. Even better if they're not strict subsets.",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T14:10:47Z",
      "diff_hunk" : "@@ -159,6 +159,15 @@ def run_test(self):\n         assert self.nodes[0].getmempoolinfo()[\"loaded\"]\n         assert_equal(len(self.nodes[0].getrawmempool()), 0)\n \n+        self.log.debug(\"Import mempool at runtime to node0.\")\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0))\n+        assert_equal(len(self.nodes[0].getrawmempool()), 7)\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]\n+        assert_equal(fees[\"base\"], fees[\"modified\"])\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166889886",
      "id" : 1166889886,
      "line" : 169,
      "node_id" : "PRRC_kwDOABII585FjVOe",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 169,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "test/functional/mempool_persist.py",
      "position" : 20,
      "pull_request_review_id" : 1385543037,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166889886/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T14:10:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166889886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166947724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166947724"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, done",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T15:00:09Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},\n+             },\n+             RPCArgOptions{.oneline_description = \"\\\"options\\\"\"}},\n+        },\n+        RPCResult{RPCResult::Type::OBJ, \"\", \"\", std::vector<RPCResult>{}},\n+        RPCExamples{HelpExampleCli(\"importmempool\", \"\") + HelpExampleRpc(\"importmempool\", \"\")},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166947724",
      "id" : 1166947724,
      "in_reply_to_id" : 1165893783,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FjjWM",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 747,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1385634531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166947724/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T15:00:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166947724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166947957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166947957"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, done",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T15:00:22Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"\n+                  \"Warning: Importing untrusted metadata may corrupt the mempool \"\n+                  \"state.\"},\n+                 {\"apply_unbroadcast_set\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the unbroadcast set metadata from the mempool file.\"\n+                  \"Warning: Importing untrusted metadata may corrupt the \"\n+                  \"mempool state.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166947957",
      "id" : 1166947957,
      "in_reply_to_id" : 1166274209,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FjjZ1",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 742,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1385634872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166947957/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T15:00:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166947957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166948122"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948122"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, done",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T15:00:32Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"\n+        \"Warning: Importing untrusted files is dangerous, especially if metadata from the file is taken over.\",\n+        {\n+            {\"filepath\", RPCArg::Type::STR, RPCArg::Optional::NO, \"The mempool file\"},\n+            {\"options\",\n+             RPCArg::Type::OBJ,\n+             RPCArg::Optional::OMITTED,\n+             \"\",\n+             {\n+                 {\"apply_fee_delta_priority\", RPCArg::Type::BOOL, RPCArg::Default{false},\n+                  \"Whether to apply the fee delta metadata from the mempool file. \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166948122",
      "id" : 1166948122,
      "in_reply_to_id" : 1166274761,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Fjjca",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 736,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1385635135,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948122/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T15:00:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166948363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, done",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T15:00:43Z",
      "diff_hunk" : "@@ -719,6 +719,56 @@ static RPCHelpMan getmempoolinfo()\n     };\n }\n \n+static RPCHelpMan importmempool()\n+{\n+    return RPCHelpMan{\n+        \"importmempool\",\n+        \"Import the file and attempt to add its contents to the mempool.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166948363",
      "id" : 1166948363,
      "in_reply_to_id" : 1166327231,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585FjjgL",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 726,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1385635438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948363/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T15:00:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166948827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948827"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might do next week/month, unless someone beats me to it",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T15:01:10Z",
      "diff_hunk" : "@@ -159,6 +159,15 @@ def run_test(self):\n         assert self.nodes[0].getmempoolinfo()[\"loaded\"]\n         assert_equal(len(self.nodes[0].getrawmempool()), 0)\n \n+        self.log.debug(\"Import mempool at runtime to node0.\")\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0))\n+        assert_equal(len(self.nodes[0].getrawmempool()), 7)\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]\n+        assert_equal(fees[\"base\"], fees[\"modified\"])\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166948827",
      "id" : 1166948827,
      "in_reply_to_id" : 1166889886,
      "line" : 169,
      "node_id" : "PRRC_kwDOABII585Fjjnb",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 169,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "test/functional/mempool_persist.py",
      "position" : 20,
      "pull_request_review_id" : 1385636122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948827/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T15:01:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166948827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166950408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166950408"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just using the current time seems good enough. Might implement next week.",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-14T15:02:38Z",
      "diff_hunk" : "@@ -12,15 +12,18 @@ class CTxMemPool;\n \n namespace kernel {\n \n-/** Dump the mempool to disk. */\n+/** Dump the mempool to a file. */\n bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path,\n                  fsbridge::FopenFn mockable_fopen_function = fsbridge::fopen,\n                  bool skip_file_commit = false);\n \n-/** Load the mempool from disk. */\n-bool LoadMempool(CTxMemPool& pool, const fs::path& load_path,\n-                 Chainstate& active_chainstate,\n-                 fsbridge::FopenFn mockable_fopen_function = fsbridge::fopen);\n+struct ImportMempoolOptions {\n+    fsbridge::FopenFn mockable_fopen_function{fsbridge::fopen};\n+    bool apply_fee_delta_priority{true};\n+    bool apply_unbroadcast_set{true};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1166950408",
      "id" : 1166950408,
      "in_reply_to_id" : 1166325126,
      "line" : 24,
      "node_id" : "PRRC_kwDOABII585FjkAI",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 24,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.h",
      "position" : 18,
      "pull_request_review_id" : 1385638493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166950408/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-14T15:02:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1166950408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1169040746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169040746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Wrote a test, feel free to take / not take: https://github.com/glozow/bitcoin/commit/893f79c5ff612122e5b98d65b9859e7260c51a95#diff-99a8c43ebc6b8546e5fb9bf74032e96a6d3376b65655837e12454425098b9ad3R222",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-17T17:10:51Z",
      "diff_hunk" : "@@ -159,6 +159,15 @@ def run_test(self):\n         assert self.nodes[0].getmempoolinfo()[\"loaded\"]\n         assert_equal(len(self.nodes[0].getrawmempool()), 0)\n \n+        self.log.debug(\"Import mempool at runtime to node0.\")\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0))\n+        assert_equal(len(self.nodes[0].getrawmempool()), 7)\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]\n+        assert_equal(fees[\"base\"], fees[\"modified\"])\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1169040746",
      "id" : 1169040746,
      "in_reply_to_id" : 1166889886,
      "line" : 169,
      "node_id" : "PRRC_kwDOABII585FriVq",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 169,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "test/functional/mempool_persist.py",
      "position" : 20,
      "pull_request_review_id" : 1388599658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169040746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-17T17:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169040746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1169040970"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169040970"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`PrioritiseTransaction` applies the delta on top, so if txmempool already has a tx prioritised + this mempool.dat contains priority for it, this will stack them instead of rewriting the existing priority. I don't know if this is problematic, but probably good to keep in mind? (Wrote a test)",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-17T17:11:07Z",
      "diff_hunk" : "@@ -73,7 +72,7 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n-            if (amountdelta) {\n+            if (amountdelta && opts.apply_fee_delta_priority) {\n                 pool.PrioritiseTransaction(tx->GetHash(), amountdelta);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1169040970",
      "id" : 1169040970,
      "line" : 80,
      "node_id" : "PRRC_kwDOABII585FriZK",
      "original_commit_id" : "1ef7f7a512a4996d70a1d207befb3c289a1b3d1a",
      "original_line" : 80,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 42,
      "pull_request_review_id" : 1388599658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169040970/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-17T17:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1169040970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172760920"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172760920"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Correct. Do you want me to add it to the apply_fee_delta_priority doc?",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-20T15:26:59Z",
      "diff_hunk" : "@@ -73,7 +72,7 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n-            if (amountdelta) {\n+            if (amountdelta && opts.apply_fee_delta_priority) {\n                 pool.PrioritiseTransaction(tx->GetHash(), amountdelta);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172760920",
      "id" : 1172760920,
      "in_reply_to_id" : 1169040970,
      "line" : 80,
      "node_id" : "PRRC_kwDOABII585F5ulY",
      "original_commit_id" : "1ef7f7a512a4996d70a1d207befb3c289a1b3d1a",
      "original_line" : 80,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 42,
      "pull_request_review_id" : 1394260102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172760920/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-20T15:30:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172760920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172763708"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172763708"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice, pushed your test",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-20T15:29:03Z",
      "diff_hunk" : "@@ -159,6 +159,15 @@ def run_test(self):\n         assert self.nodes[0].getmempoolinfo()[\"loaded\"]\n         assert_equal(len(self.nodes[0].getrawmempool()), 0)\n \n+        self.log.debug(\"Import mempool at runtime to node0.\")\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0))\n+        assert_equal(len(self.nodes[0].getrawmempool()), 7)\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]\n+        assert_equal(fees[\"base\"], fees[\"modified\"])\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172763708",
      "id" : 1172763708,
      "in_reply_to_id" : 1166889886,
      "line" : 169,
      "node_id" : "PRRC_kwDOABII585F5vQ8",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 169,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "test/functional/mempool_persist.py",
      "position" : 20,
      "pull_request_review_id" : 1394264642,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172763708/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-20T15:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172763708",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172766671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172766671"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry for being pedantic, yes please. Something like \"fee delta priority from the file is added on top of any priority already present in the mempool\"",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-20T15:31:17Z",
      "diff_hunk" : "@@ -73,7 +72,7 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n-            if (amountdelta) {\n+            if (amountdelta && opts.apply_fee_delta_priority) {\n                 pool.PrioritiseTransaction(tx->GetHash(), amountdelta);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172766671",
      "id" : 1172766671,
      "in_reply_to_id" : 1169040970,
      "line" : 80,
      "node_id" : "PRRC_kwDOABII585F5v_P",
      "original_commit_id" : "1ef7f7a512a4996d70a1d207befb3c289a1b3d1a",
      "original_line" : 80,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 42,
      "pull_request_review_id" : 1394269230,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172766671/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-20T15:31:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172766671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172860400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172860400"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-20T16:50:57Z",
      "diff_hunk" : "@@ -12,15 +12,18 @@ class CTxMemPool;\n \n namespace kernel {\n \n-/** Dump the mempool to disk. */\n+/** Dump the mempool to a file. */\n bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path,\n                  fsbridge::FopenFn mockable_fopen_function = fsbridge::fopen,\n                  bool skip_file_commit = false);\n \n-/** Load the mempool from disk. */\n-bool LoadMempool(CTxMemPool& pool, const fs::path& load_path,\n-                 Chainstate& active_chainstate,\n-                 fsbridge::FopenFn mockable_fopen_function = fsbridge::fopen);\n+struct ImportMempoolOptions {\n+    fsbridge::FopenFn mockable_fopen_function{fsbridge::fopen};\n+    bool apply_fee_delta_priority{true};\n+    bool apply_unbroadcast_set{true};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172860400",
      "id" : 1172860400,
      "in_reply_to_id" : 1166325126,
      "line" : 24,
      "node_id" : "PRRC_kwDOABII585F6G3w",
      "original_commit_id" : "d31a87fd0fa9a210c06e3d2953042ae54374365c",
      "original_line" : 24,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.h",
      "position" : 18,
      "pull_request_review_id" : 1394408599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172860400/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-20T16:50:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172860400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172860609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172860609"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, added doc",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-20T16:51:10Z",
      "diff_hunk" : "@@ -73,7 +72,7 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             file >> nFeeDelta;\n \n             CAmount amountdelta = nFeeDelta;\n-            if (amountdelta) {\n+            if (amountdelta && opts.apply_fee_delta_priority) {\n                 pool.PrioritiseTransaction(tx->GetHash(), amountdelta);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1172860609",
      "id" : 1172860609,
      "in_reply_to_id" : 1169040970,
      "line" : 80,
      "node_id" : "PRRC_kwDOABII585F6G7B",
      "original_commit_id" : "1ef7f7a512a4996d70a1d207befb3c289a1b3d1a",
      "original_line" : 80,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 42,
      "pull_request_review_id" : 1394408926,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172860609/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-20T16:51:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1172860609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Why is `use_current_time` defaulting to true? As far as i understand, this would set all the broadcast times of the transactions in mempool.dat to the current time, effectively extending their lifetimes, to the point that (time-) expired txns would be dumped into the network again.\r\nSo I would suggest defaulting the value to false, unless there is some rationale behind it that is not obvious. ",
      "created_at" : "2023-04-26T18:06:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1523843886",
      "id" : 1523843886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585a1AMu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523843886/reactions"
      },
      "updated_at" : "2023-04-26T18:06:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523843886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7563059?v=4",
         "events_url" : "https://api.github.com/users/svanstaa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/svanstaa/followers",
         "following_url" : "https://api.github.com/users/svanstaa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/svanstaa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/svanstaa",
         "id" : 7563059,
         "login" : "svanstaa",
         "node_id" : "MDQ6VXNlcjc1NjMwNTk=",
         "organizations_url" : "https://api.github.com/users/svanstaa/orgs",
         "received_events_url" : "https://api.github.com/users/svanstaa/received_events",
         "repos_url" : "https://api.github.com/users/svanstaa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/svanstaa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/svanstaa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/svanstaa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Also while we're sneaking [PR review club](https://bitcoincore.reviews/27460) questions on here what do people here use this for? I'm assuming it is useful for mempool dev work (specific details would be interesting) but I can't imagine it is common for a user to want this.\r\n\r\nConcept ACK (the RPC approach seems superior assuming people are currently importing mempools without a RPC being available)",
      "created_at" : "2023-04-26T18:21:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1523860147",
      "id" : 1523860147,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585a1EKz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523860147/reactions"
      },
      "updated_at" : "2023-04-26T18:21:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1523860147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The use case would be wanting to sync both the chain and the mempool to include everything/most known by the network or one of your other nodes. This is trivially possible for the chain, however for the mempool it is not.\r\n\r\nOne option would be to use the `mempool` P2P message type, or add a new message type. This would likely require lifting some restrictions or adding others to make it usable in a normal setting and still prevent privacy/DoS concerns. To what extent the existing `mempool` message type behavior can be modified will need to be considered in light of the discussion about its removal.\r\n\r\nAnother option would be to use a new RPC to import a mempool. In light of people potentially loading untrusted mempool data, I opted to use the same mempool acceptance defaults that would be picked as if the transactions were synced/submitted over P2P.",
      "created_at" : "2023-04-27T07:41:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1524999351",
      "id" : 1524999351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585a5aS3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 3,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1524999351/reactions"
      },
      "updated_at" : "2023-04-27T07:41:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1524999351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1178919301"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1178919301"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK \r\nI think here since \"apply_unbroadcast_set\": True` option is added, we should test mempool unbroadcast set list, else there would be no need for the second option.\r\n```suggestion\r\n        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))\r\n        assert_equal(2, self.nodes[0].getmempoolinfo()['unbroadcastcount'])\r\n```",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-04-27T09:58:05Z",
      "diff_hunk" : "@@ -159,6 +159,15 @@ def run_test(self):\n         assert self.nodes[0].getmempoolinfo()[\"loaded\"]\n         assert_equal(len(self.nodes[0].getrawmempool()), 0)\n \n+        self.log.debug(\"Import mempool at runtime to node0.\")\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0))\n+        assert_equal(len(self.nodes[0].getrawmempool()), 7)\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]\n+        assert_equal(fees[\"base\"], fees[\"modified\"])\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1178919301",
      "id" : 1178919301,
      "line" : 167,
      "node_id" : "PRRC_kwDOABII585GROGF",
      "original_commit_id" : "fab8b370257c7770abc32649ad4940eefc512f44",
      "original_line" : 167,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/mempool_persist.py",
      "position" : 18,
      "pull_request_review_id" : 1403668582,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1178919301/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-27T09:58:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1178919301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Concept ACK",
      "created_at" : "2023-05-17T11:51:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1551252948",
      "id" : 1551252948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585cdj3U",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1551252948/reactions"
      },
      "updated_at" : "2023-05-17T11:51:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1551252948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7563059?v=4",
         "events_url" : "https://api.github.com/users/svanstaa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/svanstaa/followers",
         "following_url" : "https://api.github.com/users/svanstaa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/svanstaa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/svanstaa",
         "id" : 7563059,
         "login" : "svanstaa",
         "node_id" : "MDQ6VXNlcjc1NjMwNTk=",
         "organizations_url" : "https://api.github.com/users/svanstaa/orgs",
         "received_events_url" : "https://api.github.com/users/svanstaa/received_events",
         "repos_url" : "https://api.github.com/users/svanstaa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/svanstaa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/svanstaa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/svanstaa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1196407013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196407013"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, rebased and fixed up the nit",
      "commit_id" : "fa83be1c30d5b181c024a40bfb9d5ea15ce64aec",
      "created_at" : "2023-05-17T12:08:41Z",
      "diff_hunk" : "@@ -159,6 +159,15 @@ def run_test(self):\n         assert self.nodes[0].getmempoolinfo()[\"loaded\"]\n         assert_equal(len(self.nodes[0].getrawmempool()), 0)\n \n+        self.log.debug(\"Import mempool at runtime to node0.\")\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0))\n+        assert_equal(len(self.nodes[0].getrawmempool()), 7)\n+        fees = self.nodes[0].getmempoolentry(txid=last_txid)[\"fees\"]\n+        assert_equal(fees[\"base\"], fees[\"modified\"])\n+        assert_equal({}, self.nodes[0].importmempool(mempooldat0, {\"apply_fee_delta_priority\": True, \"apply_unbroadcast_set\": True}))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#discussion_r1196407013",
      "id" : 1196407013,
      "in_reply_to_id" : 1178919301,
      "line" : 167,
      "node_id" : "PRRC_kwDOABII585HT7jl",
      "original_commit_id" : "fab8b370257c7770abc32649ad4940eefc512f44",
      "original_line" : 167,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/mempool_persist.py",
      "position" : 18,
      "pull_request_review_id" : 1430518703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27460",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196407013/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-17T12:08:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1196407013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-05-17T12:11:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1551280433",
      "id" : 1551280433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585cdqkx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1551280433/reactions"
      },
      "updated_at" : "2023-05-17T12:11:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1551280433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Should the rpc be executable before the mempool load from ThreadImport has finished?\r\n\r\nI'd say yes, because the transaction may also arrive via the P2P interface before the persisted mempool is loaded. (The RPC interface is designed to mimic the P2P one).\r\n\r\nHowever, a better check may be to refuse loading a mempool while in IBD? It seems better to error early instead of silently throwing away transactions that can not be applied to the current tip, because it is too old.",
      "created_at" : "2023-05-22T10:14:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27460#issuecomment-1556947317",
      "id" : 1556947317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27460",
      "node_id" : "IC_kwDOABII585czSF1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1556947317/reactions"
      },
      "updated_at" : "2023-05-22T10:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1556947317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
