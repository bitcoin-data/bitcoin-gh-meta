[
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK.\r\n\r\nLocale-enabled functions *should* be using the user's locale. If we don't want that, we should use locale-independent equivalents.",
      "created_at" : "2020-02-14T17:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-586382736",
      "id" : 586382736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjM4MjczNg==",
      "updated_at" : "2020-02-14T17:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586382736",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr \r\n\r\nI'm unable to parse your message.\r\n\r\nIn `bitcoin-qt` we have no less than three(!) locales to consider:\r\n* The C locale (`std::string{setlocale(LC_ALL, nullptr)}`)\r\n* The global C++ locale (`std::locale{}.name()`)\r\n* The Qt locale (`QLocale::system().name().toStdString()`)\r\n\r\nWhich of these are you suggesting should be set according to what the user has specified in his/hers `LC_*` environment variables (which I assume is what you mean by \"should be using the user's locale\")?",
      "created_at" : "2020-02-15T16:30:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-586615984",
      "id" : 586615984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjYxNTk4NA==",
      "updated_at" : "2020-02-15T20:30:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586615984",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift The user-specified locale should affect all locale code, so all 3 should be set correctly...",
      "created_at" : "2020-02-15T17:15:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-586621537",
      "id" : 586621537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjYyMTUzNw==",
      "updated_at" : "2020-02-15T17:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586621537",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr Are you aware that it does not work like that today?",
      "created_at" : "2020-02-15T17:17:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-586621664",
      "id" : 586621664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjYyMTY2NA==",
      "updated_at" : "2020-02-15T17:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586621664",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr Are you aware that we never set the global C++ locale to the user-specified locale in any of the programs we produce?",
      "created_at" : "2020-02-23T10:58:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-590056175",
      "id" : 590056175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MDA1NjE3NQ==",
      "updated_at" : "2020-02-23T10:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590056175",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr Friendly ping. Could you clarify? :)  I'm trying to make sense of the feedback.",
      "created_at" : "2020-03-06T15:28:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-595819590",
      "id" : 595819590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NTgxOTU5MA==",
      "updated_at" : "2020-03-06T15:28:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/595819590",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-03-09T22:38:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-596812416",
      "id" : 596812416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NjgxMjQxNg==",
      "updated_at" : "2020-03-27T00:00:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596812416",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-03-25T19:46:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-604048778",
      "id" : 604048778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDA0ODc3OA==",
      "updated_at" : "2020-03-25T19:46:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604048778",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Locale-enabled functions should be using the user's locale. If we don't want that, we should use locale-independent equivalents.\r\n\r\nI agree with Luke-Jr for a change.\r\n\r\nWe should move to locale-independent functions for locale-independent formatting and functionality (RPC and command line handling and logging and such), not add more and more layers of these kind of increasingly obscure global  workarounds to coerce the functions into hopefully being locale-independent.",
      "created_at" : "2020-03-26T15:38:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-604501866",
      "id" : 604501866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDUwMTg2Ng==",
      "updated_at" : "2020-03-26T15:38:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604501866",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj \r\n\r\nI agree that we should use locale-independent functions, but I think you're misunderstanding what I am suggesting.\r\n\r\nI think that the implicit `setlocale(LC_NUMERIC, \"\")` call we're doing in the current code via Qt is purely unintentional.\r\n\r\nAFAICT we rely on `QLocale` everywhere we want locale dependence, so there is no reason to do `setlocale(LC_NUMERIC, \"\")`.\r\n\r\nFrom what I can tell this implicit `setlocale(LC_NUMERIC, \"\")` via Qt has given us years of locale problems without anyone really noticing that this call is the root cause.\r\n\r\nAre you following my reasoning?\r\n\r\nIf not, can you think of a counter-example where we want the `setlocale(LC_NUMERIC, \"\")` call? I.e. where we are not relying on `QLocale` for the locale dependence we want.\r\n\r\nMy suggestion is thus that:\r\n* we should continue to remove calls to locale dependent functions (the whack-a-mole game), and\r\n* we should not opt-in to locale dependence we don't want (such as `setlocale(LC_NUMERIC, \"\")`).\r\n\r\nI think we should do *both* - not either-or :)\r\n\r\nWhat would the downsides be from such an approach? :)",
      "created_at" : "2020-03-26T16:04:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-604517472",
      "id" : 604517472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDUxNzQ3Mg==",
      "updated_at" : "2020-03-26T16:04:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604517472",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased :)",
      "created_at" : "2020-03-26T21:28:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-604696465",
      "id" : 604696465,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDY5NjQ2NQ==",
      "updated_at" : "2020-03-26T21:28:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604696465",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift My preference (and I suspect that's what @laanwj means as well) is that in the parts of the codebase that are supposed to be locale-independent, simply *no* locale-related operations are present (including locale-dependent formatting, or checks of, or setting of, any global locale). That would make those pieces of code maximally reusable.",
      "created_at" : "2020-03-26T22:50:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-604727148",
      "id" : 604727148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNDcyNzE0OA==",
      "updated_at" : "2020-03-26T22:50:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/604727148",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa I understand that and I agree with that: I've worked extensively with getting rid of the use of locale-dependent functions in our code base :)\r\n\r\nWhat I still don't understand is how we would be better off by **opting in** to locale dependence that we do not want.\r\n\r\nI don't see how a.) getting rid of usage of locale independent functions and b.) not opting in to locale dependence we do not want would in any way be mutually exclusive :)\r\n\r\nTo make this more concrete:\r\n\r\nIs there a single place in the code base where we want the locale dependency we're now opting in to by the implicit `setlocale(LC_NUMERIC, \"\")` call we are making accidentally and indirectly via Qt?\r\n\r\nAre we intentionally opting in to locale dependency for the POSIX functions? To me it looks like this is purely by accident. Please correct me if I'm wrong :)\r\n\r\nFrom the [Qt documentation](https://doc.qt.io/qt-5/qcoreapplication.html):\r\n\r\n> \"On Unix/Linux Qt is configured to use the system locale settings by default. This can cause a conflict when using POSIX functions, for instance, when converting between data types such as floats and strings, since the notation may differ between locales. To get around this problem, call the POSIX function `setlocale(LC_NUMERIC,\"C\")` right after initializing `QApplication`, `QGuiApplication` or `QCoreApplication` to reset the locale that is used for number formatting to \"C\"-locale.\"\r\n",
      "created_at" : "2020-03-27T15:30:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-605063536",
      "id" : 605063536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTA2MzUzNg==",
      "updated_at" : "2020-03-27T15:30:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605063536",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I guess this is like mitigations in general -- an example:\r\n\r\n- a. We want to avoid buffer overflows in our code. We do that by auditing code and fix it as we discover issues.\r\n- b. If we one day discovered that we were accidentally and globally opted in to a certain subset of buffer overflows via the logic in a third party dependency then we would like to correct that by restoring the default of not opting in to that.\r\n\r\na.) and b.) are clearly not mutually exclusive: we would do b.) immediately and over time do our best to achieve a.) as well.\r\n\r\nI fail to see how this case is different :)\r\n\r\nThis case:\r\n\r\n- a. We want to avoid locale dependency bugs in our code. We do that by auditing code and fix it as we discover issues.\r\n- b. If we one day discovered that we were accidentally and globally opted in to a certain subset of locale dependency bugs via the logic in a third party dependency then we would like to correct that by restoring the default of not opting in to that.\r\n\r\nHelp me understand what I'm missing :)\r\n",
      "created_at" : "2020-03-27T15:39:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18147#issuecomment-605067872",
      "id" : 605067872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18147",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTA2Nzg3Mg==",
      "updated_at" : "2020-03-27T15:45:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605067872",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
