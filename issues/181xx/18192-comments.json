[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #15761 (Replace -upgradewallet startup option with upgradewallet RPC by achow101)\n* #15719 (Drop Chain::requestMempoolTransactions method by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-02-22T09:25:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-589936619",
      "id" : 589936619,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4OTkzNjYxOQ==",
      "updated_at" : "2020-04-03T20:58:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589936619",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r383474930"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383474930"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why keep `name` around at all? I would prefer we get replace it with `m_label` and have a `Getlabel()` as well.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-02-24T19:43:36Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r383474930",
      "id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ3NDkzMA==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 363651647,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383474930",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r383475706"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383475706"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: capital S. `SetLabel`",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-02-24T19:45:08Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;\n     std::string purpose;\n \n-    CAddressBookData() : purpose(\"unknown\") {}\n+    CAddressBookData() : name(m_label), purpose(\"unknown\") {}\n \n     typedef std::map<std::string, std::string> StringMap;\n     StringMap destdata;\n+\n+    void setLabel(const std::string& label) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r383475706",
      "id" : 383475706,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ3NTcwNg==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 192,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 363651647,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383475706",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r383536404"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383536404"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe as a follow-up refactor. Just trying to minimally fix the bug here. :)",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-02-24T21:51:50Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r383536404",
      "id" : 383536404,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzNjQwNA==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 363727466,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383536404",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK",
      "created_at" : "2020-02-25T16:01:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-590941498",
      "id" : 590941498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MDk0MTQ5OA==",
      "updated_at" : "2020-02-25T16:01:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590941498",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/fa733bbd78add587e19f0175ab9c127a8c27e024/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-03-07T01:01:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-596024738",
      "id" : 596024738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NjAyNDczOA==",
      "updated_at" : "2020-03-07T01:01:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596024738",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, nit addressed",
      "created_at" : "2020-04-02T16:39:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-607957719",
      "id" : 607957719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzk1NzcxOQ==",
      "updated_at" : "2020-04-02T16:39:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607957719",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402473332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402473332"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe we should return a const reference instead considering we do `m_address_book.erase(address);` and that would render this pointer invalid.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-02T17:09:36Z",
      "diff_hunk" : "@@ -4098,12 +4105,22 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         walletInstance->WalletLogPrintf(\"setKeyPool.size() = %u\\n\",      walletInstance->GetKeyPoolSize());\n         walletInstance->WalletLogPrintf(\"mapWallet.size() = %u\\n\",       walletInstance->mapWallet.size());\n-        walletInstance->WalletLogPrintf(\"mapAddressBook.size() = %u\\n\",  walletInstance->mapAddressBook.size());\n+        walletInstance->WalletLogPrintf(\"m_address_book.size() = %u\\n\",  walletInstance->m_address_book.size());\n     }\n \n     return walletInstance;\n }\n \n+const CAddressBookData* CWallet::FindAddressBookEntry(const CTxDestination& dest, bool allow_change) const\n+{\n+    const auto& address_book_it = m_address_book.find(dest);\n+    if (address_book_it == m_address_book.end()) return nullptr;\n+    if ((!allow_change) && address_book_it->second.IsChange()) {\n+        return nullptr;\n+    }\n+    return &address_book_it->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402473332",
      "id" : 402473332,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ3MzMzMg==",
      "original_commit_id" : "b5795a788639305bab86a8b3f6b75d6ce81be083",
      "original_line" : 4124,
      "original_position" : 121,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 386627514,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402473332",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402525298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402525298"
         }
      },
      "author_association" : "MEMBER",
      "body" : "References have the same validity lifetime as pointers AFAIK?",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-02T18:29:53Z",
      "diff_hunk" : "@@ -4098,12 +4105,22 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         walletInstance->WalletLogPrintf(\"setKeyPool.size() = %u\\n\",      walletInstance->GetKeyPoolSize());\n         walletInstance->WalletLogPrintf(\"mapWallet.size() = %u\\n\",       walletInstance->mapWallet.size());\n-        walletInstance->WalletLogPrintf(\"mapAddressBook.size() = %u\\n\",  walletInstance->mapAddressBook.size());\n+        walletInstance->WalletLogPrintf(\"m_address_book.size() = %u\\n\",  walletInstance->m_address_book.size());\n     }\n \n     return walletInstance;\n }\n \n+const CAddressBookData* CWallet::FindAddressBookEntry(const CTxDestination& dest, bool allow_change) const\n+{\n+    const auto& address_book_it = m_address_book.find(dest);\n+    if (address_book_it == m_address_book.end()) return nullptr;\n+    if ((!allow_change) && address_book_it->second.IsChange()) {\n+        return nullptr;\n+    }\n+    return &address_book_it->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402525298",
      "id" : 402525298,
      "in_reply_to_id" : 402473332,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjUyNTI5OA==",
      "original_commit_id" : "b5795a788639305bab86a8b3f6b75d6ce81be083",
      "original_line" : 4124,
      "original_position" : 121,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 386690074,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402525298",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402550620"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402550620"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree that we should remove `name` in this PR. Leaving it here is confusing and makes the code less readable.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-02T19:12:59Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402550620",
      "id" : 402550620,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU1MDYyMA==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 386721082,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402550620",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402566154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402566154"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I mean that if the caller keeps the pointer after releasing cs_wallet then you can get trouble. With reference that wouldn't happen because the reference would be in the lock scope. ",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-02T19:41:22Z",
      "diff_hunk" : "@@ -4098,12 +4105,22 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         walletInstance->WalletLogPrintf(\"setKeyPool.size() = %u\\n\",      walletInstance->GetKeyPoolSize());\n         walletInstance->WalletLogPrintf(\"mapWallet.size() = %u\\n\",       walletInstance->mapWallet.size());\n-        walletInstance->WalletLogPrintf(\"mapAddressBook.size() = %u\\n\",  walletInstance->mapAddressBook.size());\n+        walletInstance->WalletLogPrintf(\"m_address_book.size() = %u\\n\",  walletInstance->m_address_book.size());\n     }\n \n     return walletInstance;\n }\n \n+const CAddressBookData* CWallet::FindAddressBookEntry(const CTxDestination& dest, bool allow_change) const\n+{\n+    const auto& address_book_it = m_address_book.find(dest);\n+    if (address_book_it == m_address_book.end()) return nullptr;\n+    if ((!allow_change) && address_book_it->second.IsChange()) {\n+        return nullptr;\n+    }\n+    return &address_book_it->second;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402566154",
      "id" : 402566154,
      "in_reply_to_id" : 402473332,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU2NjE1NA==",
      "original_commit_id" : "b5795a788639305bab86a8b3f6b75d6ce81be083",
      "original_line" : 4124,
      "original_position" : 121,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 386739736,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402566154",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402592657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402592657"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: a line wrap here would be welcome if you retouch",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-02T20:41:15Z",
      "diff_hunk" : "@@ -3212,16 +3213,21 @@ bool CWallet::SetAddressBook(const CTxDestination& address, const std::string& s\n \n bool CWallet::DelAddressBook(const CTxDestination& address)\n {\n+    // If we want to delete receiving addresses, we need to take care that DestData \"used\" (and possibly newer DestData) gets preserved (and the \"deleted\" address transformed into a change entry instead of actually being deleted)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402592657",
      "id" : 402592657,
      "line" : 3216,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU5MjY1Nw==",
      "original_commit_id" : "b5795a788639305bab86a8b3f6b75d6ce81be083",
      "original_line" : 3216,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 386771023,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402592657",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would it be possible to write a test that fails before the bugfix?",
      "created_at" : "2020-04-02T22:32:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-608125680",
      "id" : 608125680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODEyNTY4MA==",
      "updated_at" : "2020-04-02T22:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608125680",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402706455"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402706455"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's also a pain to review because we can't just sed it...",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-03T02:46:32Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402706455",
      "id" : 402706455,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcwNjQ1NQ==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 386904143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402706455",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402709564"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402709564"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ultimately, it's unrelated to this PR... All confusion/unreadability from it predates this.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-03T02:57:42Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402709564",
      "id" : 402709564,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcwOTU2NA==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 386907171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402709564",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402711562"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402711562"
         }
      },
      "author_association" : "MEMBER",
      "body" : "See here: https://github.com/bitcoin/bitcoin/commit/c16a57a2a9f694feaf0020e057fa9468e99045db",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-03T03:05:05Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r402711562",
      "id" : 402711562,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcxMTU2Mg==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 386909090,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/402711562",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Test here: https://github.com/bitcoin/bitcoin/commit/86d6059a10502338e844f6d2330e22c1540b8b0e\r\n\r\nShould I update this PR with it, or leave it for a follow-up?",
      "created_at" : "2020-04-03T03:05:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-608204221",
      "id" : 608204221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODIwNDIyMQ==",
      "updated_at" : "2020-04-03T03:05:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608204221",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r403080403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403080403"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks good. Please tag me when you open a PR for that branch.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-03T15:19:07Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r403080403",
      "id" : 403080403,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA4MDQwMw==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 387351763,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403080403",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r403084263"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403084263"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this would be safer as a `return false`. The interface method `delAddressBook()` doesn't enforce any conditions on the address book entry type to be deleted, so a buggy wallet client could cause the node to assert. We have a bool return value (which an already be used if the database fails to update the entry), so lets use it.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-03T15:24:51Z",
      "diff_hunk" : "@@ -3212,16 +3213,21 @@ bool CWallet::SetAddressBook(const CTxDestination& address, const std::string& s\n \n bool CWallet::DelAddressBook(const CTxDestination& address)\n {\n+    // If we want to delete receiving addresses, we need to take care that DestData \"used\" (and possibly newer DestData) gets preserved (and the \"deleted\" address transformed into a change entry instead of actually being deleted)\n+    // NOTE: This isn't a problem for sending addresses because they never have any DestData yet!\n+    // When adding new DestData, it should be considered here whether to retain or delete it (or move it?).\n+    assert(!IsMine(address));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r403084263",
      "id" : 403084263,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA4NDI2Mw==",
      "original_commit_id" : "b5795a788639305bab86a8b3f6b75d6ce81be083",
      "original_line" : 3219,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 387356684,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403084263",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r403092834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403092834"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Looks good. Please tag me when you open a PR for that branch.\r\n\r\nI agree. Happy to review that change.",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-03T15:37:24Z",
      "diff_hunk" : "@@ -178,14 +178,20 @@ class ReserveDestination\n /** Address book data */\n class CAddressBookData\n {\n+private:\n+    std::string m_label;\n public:\n-    std::string name;\n+    const std::string& name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r403092834",
      "id" : 403092834,
      "in_reply_to_id" : 383474930,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA5MjgzNA==",
      "original_commit_id" : "23c482efba7f9bc9405a4864978ae97ad2b5fe21",
      "original_line" : 188,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 387367200,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403092834",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Test here: [86d6059](https://github.com/bitcoin/bitcoin/commit/86d6059a10502338e844f6d2330e22c1540b8b0e)\r\n> \r\n> Should I update this PR with it, or leave it for a follow-up?\r\n\r\nI'm happy to re-review with the test pulled in.",
      "created_at" : "2020-04-03T15:41:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-608513248",
      "id" : 608513248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODUxMzI0OA==",
      "updated_at" : "2020-04-03T15:41:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608513248",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Going to merge this, please submit the test as a follow up. Style cleanups can also go in as follow-ups.",
      "created_at" : "2020-04-06T19:52:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-610002686",
      "id" : 610002686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDAwMjY4Ng==",
      "updated_at" : "2020-04-06T19:52:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610002686",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r404348021"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404348021"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "61af5901a117c6e4124a5f8307ea59202d3d4ebd",
      "created_at" : "2020-04-06T19:52:29Z",
      "diff_hunk" : "@@ -3212,16 +3213,21 @@ bool CWallet::SetAddressBook(const CTxDestination& address, const std::string& s\n \n bool CWallet::DelAddressBook(const CTxDestination& address)\n {\n+    // If we want to delete receiving addresses, we need to take care that DestData \"used\" (and possibly newer DestData) gets preserved (and the \"deleted\" address transformed into a change entry instead of actually being deleted)\n+    // NOTE: This isn't a problem for sending addresses because they never have any DestData yet!\n+    // When adding new DestData, it should be considered here whether to retain or delete it (or move it?).\n+    assert(!IsMine(address));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#discussion_r404348021",
      "id" : 404348021,
      "in_reply_to_id" : 403084263,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0ODAyMQ==",
      "original_commit_id" : "b5795a788639305bab86a8b3f6b75d6ce81be083",
      "original_line" : 3219,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 388567954,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18192",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-06T19:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404348021",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This has been merged, but somehow GitHub is broken (as usual).",
      "created_at" : "2020-04-06T19:54:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18192#issuecomment-610003656",
      "id" : 610003656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18192",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDAwMzY1Ng==",
      "updated_at" : "2020-04-06T19:54:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610003656",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
