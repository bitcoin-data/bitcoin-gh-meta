[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18410 (Docs: Improve commenting for coins.cpp|h by jnewbery)\n* #16910 (wallet: reduce loading time by using unordered maps by achow101)\n* #9384 (CCoinsViewCache code cleanup & deduplication by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-02-11T05:48:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-584486715",
      "id" : 584486715,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NDQ4NjcxNQ==",
      "updated_at" : "2020-04-17T00:14:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584486715",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed a whitespace oops that our linters didn't like.",
      "created_at" : "2020-02-11T16:38:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-584726951",
      "id" : 584726951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NDcyNjk1MQ==",
      "updated_at" : "2020-02-11T16:38:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584726951",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will review (this was discussed in part in the meeting log of https://bitcoincore.reviews/17487.html)",
      "created_at" : "2020-02-19T19:31:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-588405436",
      "id" : 588405436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4ODQwNTQzNg==",
      "updated_at" : "2020-02-19T19:31:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/588405436",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394108204"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394108204"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "grammar issue- \"which is does exist\" \r\nmaybe- \"which actually does exist\" \r\n\r\nalso, I find this sentence a bit confusing, mostly because of the phrasing of \"will\" vs \"might\". If a coin exists in the parent view & gets incorrectly marked as FRESH, is there a way it could still be deleted from the parent when the cache is flushed? ",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T05:03:26Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.\n+        DIRTY = (1 << 0),\n+        //! The parent cache does not have this coin (or it is spent in the parent cache).\n+        //! If a FRESH coin is spent in this cache, then it can be deleted entirely\n+        //! and doesn't ever need to be flushed to the parent. This is a performance\n+        //! optimization. Note that a coin cannot be both FRESH and empty.\n+        //! Marking a coin FRESH which is does exist in the parent view will",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394108204",
      "id" : 394108204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDEwODIwNA==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 21,
      "path" : "src/coins.h",
      "position" : 21,
      "pull_request_review_id" : 376566237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T05:06:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394108204",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394112049"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394112049"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> grammar issue- \"which is does exist\"\r\n> maybe- \"which actually does exist\"\r\n\r\nOr simply \"exists\"?",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T05:21:26Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.\n+        DIRTY = (1 << 0),\n+        //! The parent cache does not have this coin (or it is spent in the parent cache).\n+        //! If a FRESH coin is spent in this cache, then it can be deleted entirely\n+        //! and doesn't ever need to be flushed to the parent. This is a performance\n+        //! optimization. Note that a coin cannot be both FRESH and empty.\n+        //! Marking a coin FRESH which is does exist in the parent view will",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394112049",
      "id" : 394112049,
      "in_reply_to_id" : 394108204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDExMjA0OQ==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 21,
      "path" : "src/coins.h",
      "position" : 21,
      "pull_request_review_id" : 376571028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T05:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394112049",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4015903?v=4",
         "events_url" : "https://api.github.com/users/jkczyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jkczyz/followers",
         "following_url" : "https://api.github.com/users/jkczyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jkczyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jkczyz",
         "id" : 4015903,
         "login" : "jkczyz",
         "node_id" : "MDQ6VXNlcjQwMTU5MDM=",
         "organizations_url" : "https://api.github.com/users/jkczyz/orgs",
         "received_events_url" : "https://api.github.com/users/jkczyz/received_events",
         "repos_url" : "https://api.github.com/users/jkczyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jkczyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jkczyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jkczyz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394425148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394425148"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Block 1,983,702 -- about 26 years from now? Is that a timestamp rolling over or something?\r\nI thought BIP34 (block height in coinbase) will prevent this from ever happening since it was enforced:\r\n\r\n> Block number 227,835 (timestamp 2013-03-24 15:49:13 GMT) was the last version 1 block.",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T15:16:25Z",
      "diff_hunk" : "@@ -77,8 +75,26 @@ void CCoinsViewCache::AddCoin(const COutPoint &outpoint, Coin&& coin, bool possi\n     }\n     if (!possible_overwrite) {\n         if (!it->second.coin.IsSpent()) {\n-            throw std::logic_error(\"Adding new coin that replaces non-pruned entry\");\n+            throw std::logic_error(\"Attempted to overwrite an unspent coin\");\n         }\n+        // If the coin exists in this cache, is spent and is DIRTY, then\n+        // its spentness hasn't been flushed to the parent cache. We're\n+        // re-adding the coin to this cache now but we can't mark it as FRESH.\n+        // If we mark it FRESH and then spend it before the cache is flushed\n+        // we would remove it from this cache and would never flush spentness\n+        // to the parent cache.\n+        //\n+        // Re-adding a spent coin can happen in the case of a re-org (the coin\n+        // is 'spent' when the block containing it is disconnected and then\n+        // re-added if it also appears in the newly connected blocks). It can\n+        // also happen in the case of duplicate txids. In practice, BIP30 and\n+        // BIP34 ensure that the only duplicate transactions before block\n+        // 1,983,702 are the two pairs of coinbase txs at heights 91812/91842",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394425148",
      "id" : 394425148,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQyNTE0OA==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 38,
      "path" : "src/coins.cpp",
      "position" : 38,
      "pull_request_review_id" : 376964867,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T15:16:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394425148",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394427130"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394427130"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think you could clean up and clarify this parameter here as well. First of all, it is sometimes called `possible_overwrite` and sometimes `potential_overwrite` in the code base, making it harder to grep etc. And I think part of the comment below could be moved here or there could be an additional comment here to explain what this does. I still found it confusing at first after reading comments in `coins.h` and `validation.cpp`.",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T15:18:52Z",
      "diff_hunk" : "@@ -75,8 +75,26 @@ void CCoinsViewCache::AddCoin(const COutPoint &outpoint, Coin&& coin, bool possi\n     }\n     if (!possible_overwrite) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394427130",
      "id" : 394427130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQyNzEzMA==",
      "original_commit_id" : "78b81673b54cb8f35f9461f1eaa750f768d780a3",
      "original_position" : 2,
      "path" : "src/coins.cpp",
      "position" : 21,
      "pull_request_review_id" : 376967250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T16:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394427130",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394432175"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394432175"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Or, I should rather say, the combination of the comments confused me more. From `validation.cpp` where `AddCoin` is called: \"The potential_overwrite parameter to AddCoin is only allowed to be false if we know for sure that the coin did not already exist in the cache.\" When it is false we end up in this code branch and your comment starts with \"If the coin exists in this cache...\"",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T15:25:27Z",
      "diff_hunk" : "@@ -75,8 +75,26 @@ void CCoinsViewCache::AddCoin(const COutPoint &outpoint, Coin&& coin, bool possi\n     }\n     if (!possible_overwrite) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394432175",
      "id" : 394432175,
      "in_reply_to_id" : 394427130,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzMjE3NQ==",
      "original_commit_id" : "78b81673b54cb8f35f9461f1eaa750f768d780a3",
      "original_position" : 2,
      "path" : "src/coins.cpp",
      "position" : 21,
      "pull_request_review_id" : 376967250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T20:16:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394432175",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394433944"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394433944"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What is an \"empty\" coin?",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T15:27:47Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394433944",
      "id" : 394433944,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQzMzk0NA==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 15,
      "path" : "src/coins.h",
      "position" : 15,
      "pull_request_review_id" : 376975903,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T15:27:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394433944",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394470756"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394470756"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this references `emptyCoin` (`coins.h:132`) which calls an empty constructor of `Coin` (`coins.h:53`).",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T16:15:34Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394470756",
      "id" : 394470756,
      "in_reply_to_id" : 394433944,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQ3MDc1Ng==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 15,
      "path" : "src/coins.h",
      "position" : 15,
      "pull_request_review_id" : 376967250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T19:28:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394470756",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Reading about it in details now. Not sure if I can suggest anything in next few hours because this looks more complex than I thought.\r\n\r\nWill join the Bitcoin Core PR Review Club Meeting on IRC today to understand more and research later in the week : https://bitcoincore.reviews/18113.html",
      "created_at" : "2020-03-18T16:19:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-600726713",
      "id" : 600726713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMDcyNjcxMw==",
      "updated_at" : "2020-03-18T16:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600726713",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394474557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394474557"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: empty line could be removed",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T16:20:58Z",
      "diff_hunk" : "@@ -152,21 +150,25 @@ bool CCoinsViewCache::BatchWrite(CCoinsMap &mapCoins, const uint256 &hashBlockIn\n         }\n         CCoinsMap::iterator itUs = cacheCoins.find(it->first);\n         if (itUs == cacheCoins.end()) {\n-            // The parent cache does not have an entry, while the child does\n-            // We can ignore it if it's both FRESH and pruned in the child\n-            if (!(it->second.flags & CCoinsCacheEntry::FRESH && it->second.coin.IsSpent())) {\n-                // Otherwise we will need to create it in the parent\n-                // and move the data up and mark it as dirty\n-                CCoinsCacheEntry& entry = cacheCoins[it->first];\n-                entry.coin = std::move(it->second.coin);\n-                cachedCoinsUsage += entry.coin.DynamicMemoryUsage();\n-                entry.flags = CCoinsCacheEntry::DIRTY;\n-                // We can mark it FRESH in the parent if it was FRESH in the child\n-                // Otherwise it might have just been flushed from the parent's cache\n-                // and already exist in the grandparent\n-                if (it->second.flags & CCoinsCacheEntry::FRESH) {\n-                    entry.flags |= CCoinsCacheEntry::FRESH;\n-                }\n+            // The parent cache does not have an entry, while the child does.\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394474557",
      "id" : 394474557,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQ3NDU1Nw==",
      "original_commit_id" : "7053da36bf3879f1f160303f369605fd91ba957d",
      "original_position" : 39,
      "path" : "src/coins.cpp",
      "position" : 67,
      "pull_request_review_id" : 376967250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T16:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394474557",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394496432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394496432"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think this references `emptyCoin` (`coins.h:132`) which calls an empty contractor of `Coin` (`coins.h:53`).\r\n\r\nI think this is suppose to say `coinEmpty` (`coins.cpp:132`).",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T16:52:49Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394496432",
      "id" : 394496432,
      "in_reply_to_id" : 394433944,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQ5NjQzMg==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 15,
      "path" : "src/coins.h",
      "position" : 15,
      "pull_request_review_id" : 377055052,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T16:52:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394496432",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4015903?v=4",
         "events_url" : "https://api.github.com/users/jkczyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jkczyz/followers",
         "following_url" : "https://api.github.com/users/jkczyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jkczyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jkczyz",
         "id" : 4015903,
         "login" : "jkczyz",
         "node_id" : "MDQ6VXNlcjQwMTU5MDM=",
         "organizations_url" : "https://api.github.com/users/jkczyz/orgs",
         "received_events_url" : "https://api.github.com/users/jkczyz/received_events",
         "repos_url" : "https://api.github.com/users/jkczyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jkczyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jkczyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jkczyz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 9288d747e849b126930ef9e2f623ce6746555ed4\r\n\r\nAgree the terminology between FRESH and DIRTY is a bit confusing as people brought up in the PR review meeting this morning.",
      "created_at" : "2020-03-18T19:24:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-600816372",
      "id" : 600816372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMDgxNjM3Mg==",
      "updated_at" : "2020-03-18T19:24:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600816372",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394632466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394632466"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Take a look at the comments here: https://github.com/bitcoin/bitcoin/blob/a421e0a22f1230abd69b4661a019bed39b72205f/src/validation.cpp#L1989",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T20:52:29Z",
      "diff_hunk" : "@@ -77,8 +75,26 @@ void CCoinsViewCache::AddCoin(const COutPoint &outpoint, Coin&& coin, bool possi\n     }\n     if (!possible_overwrite) {\n         if (!it->second.coin.IsSpent()) {\n-            throw std::logic_error(\"Adding new coin that replaces non-pruned entry\");\n+            throw std::logic_error(\"Attempted to overwrite an unspent coin\");\n         }\n+        // If the coin exists in this cache, is spent and is DIRTY, then\n+        // its spentness hasn't been flushed to the parent cache. We're\n+        // re-adding the coin to this cache now but we can't mark it as FRESH.\n+        // If we mark it FRESH and then spend it before the cache is flushed\n+        // we would remove it from this cache and would never flush spentness\n+        // to the parent cache.\n+        //\n+        // Re-adding a spent coin can happen in the case of a re-org (the coin\n+        // is 'spent' when the block containing it is disconnected and then\n+        // re-added if it also appears in the newly connected blocks). It can\n+        // also happen in the case of duplicate txids. In practice, BIP30 and\n+        // BIP34 ensure that the only duplicate transactions before block\n+        // 1,983,702 are the two pairs of coinbase txs at heights 91812/91842",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394632466",
      "id" : 394632466,
      "in_reply_to_id" : 394425148,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYzMjQ2Ng==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 38,
      "path" : "src/coins.cpp",
      "position" : 38,
      "pull_request_review_id" : 377226371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T20:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394632466",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK 9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T20:54:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-600853279",
      "id" : 600853279,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMDg1MzI3OQ==",
      "updated_at" : "2020-03-18T20:54:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600853279",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394665143"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394665143"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh THAT large comment in `connectBlock()` thanks ;-)",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-18T22:02:37Z",
      "diff_hunk" : "@@ -77,8 +75,26 @@ void CCoinsViewCache::AddCoin(const COutPoint &outpoint, Coin&& coin, bool possi\n     }\n     if (!possible_overwrite) {\n         if (!it->second.coin.IsSpent()) {\n-            throw std::logic_error(\"Adding new coin that replaces non-pruned entry\");\n+            throw std::logic_error(\"Attempted to overwrite an unspent coin\");\n         }\n+        // If the coin exists in this cache, is spent and is DIRTY, then\n+        // its spentness hasn't been flushed to the parent cache. We're\n+        // re-adding the coin to this cache now but we can't mark it as FRESH.\n+        // If we mark it FRESH and then spend it before the cache is flushed\n+        // we would remove it from this cache and would never flush spentness\n+        // to the parent cache.\n+        //\n+        // Re-adding a spent coin can happen in the case of a re-org (the coin\n+        // is 'spent' when the block containing it is disconnected and then\n+        // re-added if it also appears in the newly connected blocks). It can\n+        // also happen in the case of duplicate txids. In practice, BIP30 and\n+        // BIP34 ensure that the only duplicate transactions before block\n+        // 1,983,702 are the two pairs of coinbase txs at heights 91812/91842",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r394665143",
      "id" : 394665143,
      "in_reply_to_id" : 394425148,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY2NTE0Mw==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 38,
      "path" : "src/coins.cpp",
      "position" : 38,
      "pull_request_review_id" : 377266969,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-18T22:02:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/394665143",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Agree the terminology between FRESH and DIRTY is a bit confusing as people brought up in the PR review meeting this morning.\r\n\r\nGiven that there are four _valid_ states but eight possible combinations (see @amitiuttarwar's [summarization](https://bitcoincore.reviews/18113.html#appendix)), one option is to refactor the code to use an enum with four variants named appropriately. This removes the possibility of getting into an invalid states. However, I'm not sure how practical this refactor would be or how difficult it would be to come up with meaningful names.",
      "created_at" : "2020-03-18T22:36:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-600893617",
      "id" : 600893617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMDg5MzYxNw==",
      "updated_at" : "2020-03-18T22:36:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600893617",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4015903?v=4",
         "events_url" : "https://api.github.com/users/jkczyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jkczyz/followers",
         "following_url" : "https://api.github.com/users/jkczyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jkczyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jkczyz",
         "id" : 4015903,
         "login" : "jkczyz",
         "node_id" : "MDQ6VXNlcjQwMTU5MDM=",
         "organizations_url" : "https://api.github.com/users/jkczyz/orgs",
         "received_events_url" : "https://api.github.com/users/jkczyz/received_events",
         "repos_url" : "https://api.github.com/users/jkczyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jkczyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jkczyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jkczyz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Given that there are four _valid_ states but eight possible combinations (see @amitiuttarwar's [summarization](https://bitcoincore.reviews/18113.html#appendix)), one option is to refactor the code to use an enum with four variants named appropriately. This removes the possibility of getting into an invalid states. However, I'm not sure how practical this refactor would be or how difficult it would be to come up with meaningful names.\r\n\r\ninteresting idea but then I think renaming the flags to `NEWCOIN` and `MUSTFLUSH` as suggest by @jnewbery is a more practical change.",
      "created_at" : "2020-03-19T00:12:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-600919222",
      "id" : 600919222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMDkxOTIyMg==",
      "updated_at" : "2020-03-19T00:12:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600919222",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nReiterating my comments from the PR review club, I think this PR might benefit from being split up. It's attempting two separate things, one of which is a consensus change. I think review on that important change might be more focused if this was split into a name and comment update, and then just the logic change.",
      "created_at" : "2020-03-19T04:39:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-600984698",
      "id" : 600984698,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMDk4NDY5OA==",
      "updated_at" : "2020-03-19T04:39:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600984698",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r396456125"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396456125"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You're right that this is unclear. Empty here means that the coin has been spent (see Coin.Clear() above which nulls out a coin when it is spent). I've changed this to \"Note that a spent coin MUST be DIRTY\", which I think is much clearer.",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-23T13:38:23Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r396456125",
      "id" : 396456125,
      "in_reply_to_id" : 394433944,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjQ1NjEyNQ==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 15,
      "path" : "src/coins.h",
      "position" : 15,
      "pull_request_review_id" : 379435365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-23T13:38:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396456125",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r396456646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396456646"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "created_at" : "2020-03-23T13:39:13Z",
      "diff_hunk" : "@@ -115,13 +115,20 @@ struct CCoinsCacheEntry\n     unsigned char flags;\n \n     enum Flags {\n-        DIRTY = (1 << 0), // This cache entry is potentially different from the version in the parent view.\n-        FRESH = (1 << 1), // The parent view does not have this entry (or it is pruned).\n-        /* Note that FRESH is a performance optimization with which we can\n-         * erase coins that are fully spent if we know we do not need to\n-         * flush the changes to the parent cache.  It is always safe to\n-         * not mark FRESH if that condition is not guaranteed.\n-         */\n+        //! This cache entry is potentially different from the version in the parent cache.\n+        //! Failing to mark a coin as DIRTY when it is potentially different from the\n+        //! parent view will cause a consensus failure, since the coin's state won't get\n+        //! written to the parent when the cache is flushed.\n+        //! Note that all empty coins in the cache MUST be DIRTY.\n+        DIRTY = (1 << 0),\n+        //! The parent cache does not have this coin (or it is spent in the parent cache).\n+        //! If a FRESH coin is spent in this cache, then it can be deleted entirely\n+        //! and doesn't ever need to be flushed to the parent. This is a performance\n+        //! optimization. Note that a coin cannot be both FRESH and empty.\n+        //! Marking a coin FRESH which is does exist in the parent view will",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#discussion_r396456646",
      "id" : 396456646,
      "in_reply_to_id" : 394108204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjQ1NjY0Ng==",
      "original_commit_id" : "9288d747e849b126930ef9e2f623ce6746555ed4",
      "original_position" : 21,
      "path" : "src/coins.h",
      "position" : 21,
      "pull_request_review_id" : 379436032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18113",
      "updated_at" : "2020-03-23T13:39:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396456646",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've moved all the comment changes to ~#18113~ #18410, which this PR now builds off. Please review #18113 first.",
      "created_at" : "2020-03-23T15:36:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-602679600",
      "id" : 602679600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwMjY3OTYwMA==",
      "updated_at" : "2020-05-27T21:14:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602679600",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-22T14:13:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-617804561",
      "id" : 617804561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzgwNDU2MQ==",
      "updated_at" : "2020-04-22T14:13:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617804561",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR originally included changes to comments and the change to not fetch spend coins from the cache. The comments changes have been merged in ~#18113~ #18410. Most of the review comments here are about those comments changes, so I'm closing this and using #18746 to PR the code changes.",
      "created_at" : "2020-04-22T22:30:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-618073723",
      "id" : 618073723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxODA3MzcyMw==",
      "updated_at" : "2020-05-27T21:14:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618073723",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think there is a typo in the last two comments `18113` should be `18410`. #18410 ",
      "created_at" : "2020-05-24T14:57:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-633243350",
      "id" : 633243350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzI0MzM1MA==",
      "updated_at" : "2020-05-24T14:57:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633243350",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks Marco. I fixed those comments.",
      "created_at" : "2020-05-27T21:14:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18113#issuecomment-634944313",
      "id" : 634944313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18113",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNDk0NDMxMw==",
      "updated_at" : "2020-05-27T21:14:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/634944313",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
