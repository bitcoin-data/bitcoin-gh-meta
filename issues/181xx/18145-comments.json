[
   {
      "author_association" : "MEMBER",
      "body" : "~(don't merge this yet, I need to drop the last commit 4294b2f which should produce the error)~\r\n\r\nProof that Travis indeed catches this: https://travis-ci.org/bitcoin/bitcoin/jobs/650359000#L2713",
      "created_at" : "2020-02-14T09:33:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18145#issuecomment-586177171",
      "id" : 586177171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjE3NzE3MQ==",
      "updated_at" : "2020-02-14T09:59:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586177171",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`-Wreturn-type` is enabled by default (even without `-Wall`) in clang and gcc:\r\n\r\nhttps://releases.llvm.org/9.0.0/tools/clang/docs/DiagnosticsReference.html#wreturn-type\r\nhttps://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html\r\n\r\nThe following code:\r\n\r\n```c++\r\nenum Color {\r\n    RED,\r\n    BLUE\r\n};\r\n\r\nbool isWarm(Color c) {\r\n    switch (c) {\r\n    case RED:\r\n        return true;\r\n    case BLUE:\r\n        return false;\r\n    }\r\n}\r\n\r\nbool isCold(Color c) {\r\n    if (c == BLUE) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nproduces:\r\n\r\nClang 7.0.1, 8.0.1, 9.0.1 with no options, with just `-Wall`, with `-Wall -Wreturn-type`: only a warning for `isCold()`: `warning: control may reach end of non-void function [-Wreturn-type]`.\r\n\r\nGCC 9.2.0 with no options, with just `-Wall`, with `-Wall -Wreturn-type`: a warning for both functions: `warning: control reaches end of non-void function [-Wreturn-type]`.\r\n\r\nClang is staying silent about `isWarm()` because it sees that all enumeration values are handled in the switch. If I remove the `case BLUE:`, then I get two warnings for `isWarm()`:\r\n```\r\nwarning: enumeration value 'BLUE' not handled in switch [-Wswitch]\r\nwarning: control may reach end of non-void function [-Wreturn-type]\r\n```\r\n\r\nThat said, adding explicitly `-Wreturn-type` is unnecessary because it is enabled by default.",
      "created_at" : "2020-02-14T10:39:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18145#issuecomment-586204335",
      "id" : 586204335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjIwNDMzNQ==",
      "updated_at" : "2020-02-14T10:39:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586204335",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah! But we are using `-Werror=whatever` which selectively turns only some warnings into errors. Sorry for the noise above.\r\n\r\nACK c98c26e.",
      "created_at" : "2020-02-14T10:56:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18145#issuecomment-586210166",
      "id" : 586210166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjIxMDE2Ng==",
      "updated_at" : "2020-02-14T10:56:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586210166",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for working on this! I think we're currently somewhat underutilising the help we can get from compilers in the form of compiler diagnostics to prevent mistakes and this PR brings us in the right direction :)\r\n\r\nACK c98c26ee992f204b17bf17d271512b36c40ad8c5\r\n\r\nIf you have time please consider submitting a PR enabling the subset of compiler diagnostics discussed in #17344 that you think make sense. I would be glad to review such PRs, so don't hesitate to ping me in for review.\r\n\r\n",
      "created_at" : "2020-02-14T13:30:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18145#issuecomment-586288336",
      "id" : 586288336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjI4ODMzNg==",
      "updated_at" : "2020-02-14T13:37:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586288336",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #15112 (build: Optionally enable -Wzero-as-null-pointer-constant by Empact)\n* #14920 (Build: enable -Wdocumentation via isystem by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-02-14T13:41:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18145#issuecomment-586292207",
      "id" : 586292207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjI5MjIwNw==",
      "updated_at" : "2020-02-14T13:41:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586292207",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
