{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Each 250ms the slot `WalletModel::pollBalanceChanged` is called which, at worst case, calls `Wallet::GetBalance`. This is a waste of resources since most of the time there aren't new transactions or new blocks. Fix this by early checking if cache is dirty or not.\r\n\r\nThe actual balance computation can still hang the GUI thread but that is tracked in #16874 and should be fixed with a solution similar to #1713z5.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18160/comments",
   "created_at" : "2020-02-16T11:45:28Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18160/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18160",
   "id" : 565892270,
   "labels" : [
      {
         "color" : "02d7e1",
         "default" : false,
         "description" : null,
         "id" : 135946,
         "name" : "GUI",
         "node_id" : "MDU6TGFiZWwxMzU5NDY=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18160/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0Mzc1ODE2Mjkz",
   "number" : 18160,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18160.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18160",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18160.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18160"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "gui: Avoid Wallet::GetBalance in WalletModel::pollBalanceChanged",
   "updated_at" : "2020-02-16T11:57:44Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18160",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
      "events_url" : "https://api.github.com/users/promag/events{/privacy}",
      "followers_url" : "https://api.github.com/users/promag/followers",
      "following_url" : "https://api.github.com/users/promag/following{/other_user}",
      "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/promag",
      "id" : 3534524,
      "login" : "promag",
      "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
      "organizations_url" : "https://api.github.com/users/promag/orgs",
      "received_events_url" : "https://api.github.com/users/promag/received_events",
      "repos_url" : "https://api.github.com/users/promag/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/promag"
   }
}
