[
   {
      "body" : "A transaction id wouldn't necessarily help here if it's already spent (you do want to include past transactions, right?). Why not just add the stealth address support into Bitcoin Core directly?",
      "created_at" : "2015-03-14T14:25:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-80507357",
      "id" : 80507357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-03-14T14:25:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80507357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr There are no past transactions since it's a new address that's calculated at the time of the stealth payment. I'd think that Stealth support would be great, but that's like moving mountains compared to what I'm asking for.\r\n\r\nEither:\r\n\r\n1. Expose `rescan` to rpc and startup `-rescan` flag and a parameter to accept the start block. By default, it's the genesis block. In other words, just expose the method `ScanForWalletTransactions` as seen here https://github.com/bitcoin/bitcoin/blob/v0.10.0/src/wallet.cpp#L930 (Would probably want to modify `importprivkey` as well to have a parameter for starting block as well)\r\n\r\n2. Expose a method to add the transaction to the wallet i.e. `AddToWalletIfInvolvingMe` via RPC. Method found here: https://github.com/bitcoin/bitcoin/blob/v0.10.0/src/wallet.cpp#L684\r\n\r\nEven better, add both changes. ",
      "created_at" : "2015-03-14T18:51:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-80664668",
      "id" : 80664668,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-03-14T18:52:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80664668",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/150063?v=3",
         "events_url" : "https://api.github.com/users/jprichardson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jprichardson/followers",
         "following_url" : "https://api.github.com/users/jprichardson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jprichardson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jprichardson",
         "id" : 150063,
         "login" : "jprichardson",
         "organizations_url" : "https://api.github.com/users/jprichardson/orgs",
         "received_events_url" : "https://api.github.com/users/jprichardson/received_events",
         "repos_url" : "https://api.github.com/users/jprichardson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jprichardson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jprichardson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jprichardson"
      }
   },
   {
      "body" : "You can use `importwallet`, which can multiple keys at once, with birth time information, and will rescan whatever is necessary.",
      "created_at" : "2015-03-14T18:54:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-80665893",
      "id" : 80665893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-03-14T18:54:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80665893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I don't see how `importwallet` would help solve this problem since (as far as I can tell) with the `importwallet` format I can only specify keys. A rescan would still be necessary. I'm trying to avoid doing the rescan as much as possible since I already know the transaction ID that I need to add to the wallet.",
      "created_at" : "2015-03-14T19:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-80672513",
      "id" : 80672513,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-03-14T19:01:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80672513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/150063?v=3",
         "events_url" : "https://api.github.com/users/jprichardson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jprichardson/followers",
         "following_url" : "https://api.github.com/users/jprichardson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jprichardson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jprichardson",
         "id" : 150063,
         "login" : "jprichardson",
         "organizations_url" : "https://api.github.com/users/jprichardson/orgs",
         "received_events_url" : "https://api.github.com/users/jprichardson/received_events",
         "repos_url" : "https://api.github.com/users/jprichardson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jprichardson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jprichardson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jprichardson"
      }
   },
   {
      "body" : "> with birth time information\r\n\r\nSorry, I just missed this important part. I assume this may solve the problem... hehehe",
      "created_at" : "2015-03-14T19:04:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-80675016",
      "id" : 80675016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-03-14T19:05:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80675016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/150063?v=3",
         "events_url" : "https://api.github.com/users/jprichardson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jprichardson/followers",
         "following_url" : "https://api.github.com/users/jprichardson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jprichardson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jprichardson",
         "id" : 150063,
         "login" : "jprichardson",
         "organizations_url" : "https://api.github.com/users/jprichardson/orgs",
         "received_events_url" : "https://api.github.com/users/jprichardson/received_events",
         "repos_url" : "https://api.github.com/users/jprichardson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jprichardson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jprichardson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jprichardson"
      }
   },
   {
      "body" : "OK, after experimenting more with this, it looks like `importwallet` should be satisfactory for now. It'll be a minor inconvenience for the user if the `birth time` is really old, but it still won't be as bad as scanning the entire blockchain. I think the other requests are valid, but there are no doubt other higher priorities that you must take care of (and understandably so). Closing for now. Thanks for the suggestion and help.",
      "created_at" : "2015-03-15T03:54:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-80826892",
      "id" : 80826892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-03-15T03:54:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80826892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/150063?v=3",
         "events_url" : "https://api.github.com/users/jprichardson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jprichardson/followers",
         "following_url" : "https://api.github.com/users/jprichardson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jprichardson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jprichardson",
         "id" : 150063,
         "login" : "jprichardson",
         "organizations_url" : "https://api.github.com/users/jprichardson/orgs",
         "received_events_url" : "https://api.github.com/users/jprichardson/received_events",
         "repos_url" : "https://api.github.com/users/jprichardson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jprichardson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jprichardson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jprichardson"
      }
   },
   {
      "body" : "Having a rescan for starting at a specific block would also be very useful for joinmarket and similar uses. When first starting it adds a ton of new addresses to the wallet but since newly created we are sure they have no previous trxs. Currently it has to rescan from block 0, which takes for friggin ever.",
      "created_at" : "2015-07-19T06:37:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-122633495",
      "id" : 122633495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-07-19T06:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122633495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5811476?v=3",
         "events_url" : "https://api.github.com/users/neocogent/events{/privacy}",
         "followers_url" : "https://api.github.com/users/neocogent/followers",
         "following_url" : "https://api.github.com/users/neocogent/following{/other_user}",
         "gists_url" : "https://api.github.com/users/neocogent/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/neocogent",
         "id" : 5811476,
         "login" : "neocogent",
         "organizations_url" : "https://api.github.com/users/neocogent/orgs",
         "received_events_url" : "https://api.github.com/users/neocogent/received_events",
         "repos_url" : "https://api.github.com/users/neocogent/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/neocogent/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/neocogent/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/neocogent"
      }
   },
   {
      "body" : "Use dumpwallet/importwallet if you don't want to rescan everything. It is\nfar more efficient, and supports timestamped keys. It will rescan multiple\nkeys at once, and only the necessary part of the blockchain.\n",
      "created_at" : "2015-07-19T12:27:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5899#issuecomment-122657682",
      "id" : 122657682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5899",
      "updated_at" : "2015-07-19T12:27:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/122657682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
