[
   {
      "body" : "The purpose of the rpcwait argument is to ask the command line client to wait until it can connect to a running bitcoind so that way test scripts and whatnot don't have to worry about how long it takes a fresh bitcoind to warm up.\r\n\r\nWhat is the exact misconfiguration you are referring to?",
      "created_at" : "2015-02-24T21:32:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75850826",
      "id" : 75850826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-24T21:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75850826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "In this case server was not set. From the user's perspective it's a very bad way of dealing with inputs. What I'm supposed to do with this output information? (none) That's what output is there for: to inform a user about the internal state. With no output, I have no way to know what is going on, no way of fixing it. And if something is misconfigured the system should exit. Here it just loops on.",
      "created_at" : "2015-02-25T01:09:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75886064",
      "id" : 75886064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T08:47:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75886064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5390515?v=3",
         "events_url" : "https://api.github.com/users/benjyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benjyz/followers",
         "following_url" : "https://api.github.com/users/benjyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benjyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benjyz",
         "id" : 5390515,
         "login" : "benjyz",
         "organizations_url" : "https://api.github.com/users/benjyz/orgs",
         "received_events_url" : "https://api.github.com/users/benjyz/received_events",
         "repos_url" : "https://api.github.com/users/benjyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benjyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benjyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benjyz"
      }
   },
   {
      "body" : " Can you specify the exact command line you're using (and the OS)? I've tried various combinations of rpcwait and invalid commands, and cannot reproduce an infinite loop.\r\n\r\n    src/bitcoin-cli -testnet -rpcwait test\r\n    error: {\"code\":-32601,\"message\":\"Method not found\"}\r\n\r\n",
      "created_at" : "2015-02-25T08:48:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75925021",
      "id" : 75925021,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T08:49:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75925021",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "On Ubuntu 14, tag 0.10.0, if the conf does not contain server=1\r\n```\r\n./bitcoin-cli getinfo\r\n```\r\n\r\nIn this case I'd expect an error like \"error: server not set.\" or something like it. ",
      "created_at" : "2015-02-25T08:55:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75925886",
      "id" : 75925886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T08:56:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75925886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5390515?v=3",
         "events_url" : "https://api.github.com/users/benjyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benjyz/followers",
         "following_url" : "https://api.github.com/users/benjyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benjyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benjyz",
         "id" : 5390515,
         "login" : "benjyz",
         "organizations_url" : "https://api.github.com/users/benjyz/orgs",
         "received_events_url" : "https://api.github.com/users/benjyz/received_events",
         "repos_url" : "https://api.github.com/users/benjyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benjyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benjyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benjyz"
      }
   },
   {
      "body" : "Do you run `bitcoind` or `bitcoin-qt` (which requires server=1 to enable RPC at all...)?",
      "created_at" : "2015-02-25T08:59:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75926256",
      "id" : 75926256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T08:59:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75926256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Running bitcoind.\r\n\r\nIf I try to reproduce I get an appropriate error message. So I can't reproduce the problem. Strange - I thought this is default behaviour, because it happened many times.\r\n\r\n```\r\nbitcoin-cli getinfo\r\nerror: {\"code\":-28,\"message\":\"Verifying blocks...\"}\r\n```\r\n\r\nand if server is down, also a correct error message:\r\n```\r\n./bitcoin-cli getinfo\r\nerror: couldn't connect to server\r\n```",
      "created_at" : "2015-02-25T09:03:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75926782",
      "id" : 75926782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T09:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75926782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5390515?v=3",
         "events_url" : "https://api.github.com/users/benjyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benjyz/followers",
         "following_url" : "https://api.github.com/users/benjyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benjyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benjyz",
         "id" : 5390515,
         "login" : "benjyz",
         "organizations_url" : "https://api.github.com/users/benjyz/orgs",
         "received_events_url" : "https://api.github.com/users/benjyz/received_events",
         "repos_url" : "https://api.github.com/users/benjyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benjyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benjyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benjyz"
      }
   },
   {
      "body" : "I can reproduce endless loop with\r\n```\r\nbitcoind -server=0 &\r\nbitcoin-cli -rpcwait test\r\n```\r\nbut... Ugh. Is it the case you are reporting?\r\n",
      "created_at" : "2015-02-25T09:14:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75928189",
      "id" : 75928189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T09:14:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75928189",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "That might be the bug, but without the -rpcwait flag. But you misunderstand some things here: server=0 is not set in versions before 0.10. So it breaks compatibility, because old conf files don't contain server=0. Also an error like this is the responsibility of the person who writes the software, not the user. Blaming users for bad inputs is something you can allow yourself to do in your personal projects. It's like saying if I send -1 bitcoins the software crashes and that's the users fault. No, that's not how error handling and input validation works.",
      "created_at" : "2015-02-25T09:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-75929452",
      "id" : 75929452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-25T09:32:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75929452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5390515?v=3",
         "events_url" : "https://api.github.com/users/benjyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benjyz/followers",
         "following_url" : "https://api.github.com/users/benjyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benjyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benjyz",
         "id" : 5390515,
         "login" : "benjyz",
         "organizations_url" : "https://api.github.com/users/benjyz/orgs",
         "received_events_url" : "https://api.github.com/users/benjyz/received_events",
         "repos_url" : "https://api.github.com/users/benjyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benjyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benjyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benjyz"
      }
   },
   {
      "body" : "Right: The point of `-rpcwait` is to wait indefinitely until the server comes up. If you didn't start the server then it will wait and wait and wait. It cannot print errors because that will interfere with script usage. Scripts just expect the output, not intermediate status messages.\r\n\r\n*Without* the `-rpcwait` flag it should never end up in an infinite loop, though. Anyone else that reproduce this without rpcwait?\r\n",
      "created_at" : "2015-02-26T09:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5821#issuecomment-76150923",
      "id" : 76150923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5821",
      "updated_at" : "2015-02-26T09:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76150923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
