[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678734212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678734212"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`All calls to LogPrintf() and LogPrint() should be terminated with \\n`",
      "commit_id" : "fa084733e31f40148a40dbafad7174d0a5b2ce9d",
      "created_at" : "2021-07-29T00:16:26Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\", m_banlist_dat);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678734212",
      "id" : 678734212,
      "line" : 203,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODczNDIxMg==",
      "original_commit_id" : "fab2cd82875c845e2147779e3ac1e857e0542556",
      "original_line" : 203,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 6,
      "pull_request_review_id" : 717562770,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T00:16:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678734212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, but agree with @fanquake's [comment](https://github.com/bitcoin/bitcoin/pull/22570/files#r678734212) regarding `LogPrintf()` and adding a terminal newline.",
      "created_at" : "2021-07-29T01:02:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888720082",
      "id" : 888720082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5840-MrS",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T01:02:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888720082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23586626?v=4",
         "events_url" : "https://api.github.com/users/Zero-1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Zero-1729/followers",
         "following_url" : "https://api.github.com/users/Zero-1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Zero-1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Zero-1729",
         "id" : 23586626,
         "login" : "Zero-1729",
         "node_id" : "MDQ6VXNlcjIzNTg2NjI2",
         "organizations_url" : "https://api.github.com/users/Zero-1729/orgs",
         "received_events_url" : "https://api.github.com/users/Zero-1729/received_events",
         "repos_url" : "https://api.github.com/users/Zero-1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Zero-1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Zero-1729"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22375 by MarcoFalke\n* #22362 by MarcoFalke\n* #22140 by jonatack\n* #21283 by achow101\n* #20233 by jnewbery\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-07-29T03:39:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888776153",
      "id" : 888776153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5840-aXZ",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T14:13:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888776153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678865530"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678865530"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, fixed.",
      "commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "created_at" : "2021-07-29T06:35:52Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\", m_banlist_dat);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678865530",
      "id" : 678865530,
      "in_reply_to_id" : 678734212,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODg2NTUzMA==",
      "original_commit_id" : "fab2cd82875c845e2147779e3ac1e857e0542556",
      "original_line" : 203,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 717719459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T06:35:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678865530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678884122"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678884122"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this should read 22.0 instead of 23.0 because already in 22.0 we ignore `banlist.dat` if `banlist.json` is present during read and only write to `banlist.json`.\r\n\r\n```suggestion\r\n`banlist.dat`  | Stores the addresses/subnets of banned nodes; superseded by `banlist.json` in 22.0 and completely ignored in 23.0 | [PR #20966](https://github.com/bitcoin/bitcoin/pull/20966), [PR #22570](https://github.com/bitcoin/bitcoin/pull/22570)\r\n```",
      "commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "created_at" : "2021-07-29T07:09:12Z",
      "diff_hunk" : "@@ -114,6 +113,7 @@ These subdirectories and files are no longer used by Bitcoin Core:\n \n Path           | Description | Repository notes\n ---------------|-------------|-----------------\n+`banlist.dat`  | Stores the addresses/subnets of banned nodes; replaced by `banlist.json` in 23.0 | [PR #22570](https://github.com/bitcoin/bitcoin/pull/22570)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678884122",
      "id" : 678884122,
      "line" : 116,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODg4NDEyMg==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 116,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "doc/files.md",
      "position" : 12,
      "pull_request_review_id" : 717742904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T09:50:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678884122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678917238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678917238"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The `dirty` argument can be removed.\r\n\r\nThere is just one caller of this method and if this method returns `false`, then the caller would ignore the value set in `Read()` and would set the dirty flag to `true` regardless. The only reason for the `dirty` flag was if `Read()` returns `true` and would set `dirty` to `true`. This was done to force json creation if only `banlist.dat` existed and was read successfully.",
      "commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "created_at" : "2021-07-29T07:59:25Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678917238",
      "id" : 678917238,
      "line" : 200,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODkxNzIzOA==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 200,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 2,
      "pull_request_review_id" : 717742904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T09:49:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678917238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678919223"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678919223"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n\r\n```suggestion\r\n        LogPrintf(\"%s ignored because it can only be read by \" PACKAGE_NAME \" version 22.x or older. Remove %s to silence this warning.\\n\", m_banlist_dat, m_banlist_dat);\r\n```\r\n\r\nOr maybe remove `CBanDB::m_banlist_dat` and hardcode the string `\"banlist.dat\"` here since it is only used here.",
      "commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "created_at" : "2021-07-29T08:02:11Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\\n\", m_banlist_dat);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r678919223",
      "id" : 678919223,
      "line" : 203,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODkxOTIyMw==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 203,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 6,
      "pull_request_review_id" : 717742904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T09:49:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678919223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-07-29T08:41:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888925230",
      "id" : 888925230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5840--wu",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T08:41:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888925230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679000178"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679000178"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is the whitespace fixup that was dropped as a standalone change in https://github.com/bitcoin/bitcoin/pull/22562. Here it is combined with some other changes that touch those files.\r\n\r\n`netaddress.h` is not fully clang-formatted. Running `clang-format -i netaddress.h` produces the following diff:\r\n\r\n<details>\r\n<summary>format diff</summary>\r\n\r\n```diff\r\ndiff --git i/src/netaddress.h w/src/netaddress.h\r\nindex 77e1c0464e..eb35ed3fac 100644\r\n--- i/src/netaddress.h\r\n+++ w/src/netaddress.h\r\n@@ -39,14 +39,13 @@ static constexpr int ADDRV2_FORMAT = 0x20000000;\r\n  * belongs to both `NET_UNROUTABLE` and `NET_IPV4`.\r\n  * Keep these sequential starting from 0 and `NET_MAX` as the last entry.\r\n  * We have loops like `for (int i = 0; i < NET_MAX; ++i)` that expect to iterate\r\n  * over all enum values and also `GetExtNetwork()` \"extends\" this enum by\r\n  * introducing standalone constants starting from `NET_MAX`.\r\n  */\r\n-enum Network\r\n-{\r\n+enum Network {\r\n     /// Addresses from these networks are not publicly routable on the global Internet.\r\n     NET_UNROUTABLE = 0,\r\n \r\n     /// IPv4\r\n     NET_IPV4,\r\n \r\n@@ -70,22 +69,20 @@ enum Network\r\n     NET_MAX,\r\n };\r\n \r\n /// Prefix of an IPv6 address when it contains an embedded IPv4 address.\r\n /// Used when (un)serializing addresses in ADDRv1 format (pre-BIP155).\r\n static const std::array<uint8_t, 12> IPV4_IN_IPV6_PREFIX{\r\n-    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF\r\n-};\r\n+    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF};\r\n \r\n /// Prefix of an IPv6 address when it contains an embedded TORv2 address.\r\n /// Used when (un)serializing addresses in ADDRv1 format (pre-BIP155).\r\n /// Such dummy IPv6 addresses are guaranteed to not be publicly routable as they\r\n /// fall under RFC4193's fc00::/7 subnet allocated to unique-local addresses.\r\n static const std::array<uint8_t, 6> TORV2_IN_IPV6_PREFIX{\r\n-    0xFD, 0x87, 0xD8, 0x7E, 0xEB, 0x43\r\n-};\r\n+    0xFD, 0x87, 0xD8, 0x7E, 0xEB, 0x43};\r\n \r\n /// Prefix of an IPv6 address when it contains an embedded \"internal\" address.\r\n /// Used when (un)serializing addresses in ADDRv1 format (pre-BIP155).\r\n /// The prefix comes from 0xFD + SHA256(\"bitcoin\")[0:5].\r\n /// Such dummy IPv6 addresses are guaranteed to not be publicly routable as they\r\n /// fall under RFC4193's fc00::/7 subnet allocated to unique-local addresses.\r\n```\r\n</details>\r\n\r\nI guess a scripted diff that fully formats the files would be even easier to verify and more complete.",
      "commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "created_at" : "2021-07-29T09:48:04Z",
      "diff_hunk" : "@@ -120,354 +120,354 @@ static constexpr uint16_t I2P_SAM31_PORT{0};\n  */\n class CNetAddr\n {\n-    protected:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679000178",
      "id" : 679000178,
      "line" : 123,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAwMDE3OA==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 123,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/netaddress.h",
      "position" : 4,
      "pull_request_review_id" : 717742904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T09:49:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679000178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Just to confirm that my understanding is correct: if this is merged now in master, it will be included in 23.0 but not in 22.1, right?\r\n\r\nYes, the pull request is to the `master` branch. 22.x is a different branch: https://github.com/bitcoin/bitcoin/tree/22.x",
      "created_at" : "2021-07-29T10:08:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-888987556",
      "id" : 888987556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5840_N-k",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T10:08:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888987556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679018983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679018983"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I need the full path for `fs::exists(m_banlist_dat)`, so I am going to keep as is for now.",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:13:22Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)\n {\n-    // If the JSON banlist does not exist, then try to read the non-upgraded banlist.dat.\n+    if (fs::exists(m_banlist_dat)) {\n+        LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\\n\", m_banlist_dat);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679018983",
      "id" : 679018983,
      "in_reply_to_id" : 678919223,
      "line" : 203,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAxODk4Mw==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 203,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 9,
      "pull_request_review_id" : 717918178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:13:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679018983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679021220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679021220"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The `dirty` argument is used to not write the json file again if it was read successfully and nothing needed to be swept. Happy to drop it, as it simplifies and writing the json once per startup shouldn't cost too much.",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:16:40Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679021220",
      "id" : 679021220,
      "in_reply_to_id" : 678917238,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAyMTIyMA==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 200,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 717921029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:16:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679021220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, taken. Couldn't get a scripted-diff working, but happy to take if you find one.",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:27:23Z",
      "diff_hunk" : "@@ -120,354 +120,354 @@ static constexpr uint16_t I2P_SAM31_PORT{0};\n  */\n class CNetAddr\n {\n-    protected:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028024",
      "id" : 679028024,
      "in_reply_to_id" : 679000178,
      "line" : 123,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAyODAyNA==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 123,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/netaddress.h",
      "position" : 33,
      "pull_request_review_id" : 717930251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:27:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028420"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028420"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, since `Read()` does not do any sweeping its return value is enough to tell whether the read was successful or not. Or, in other words - with this PR it is not possible `Read()` to return `true` and set its second argument (`dirty`) to `true`.\r\n\r\nSomething like this should work (not tested):\r\n```diff\r\ndiff --git i/src/addrdb.cpp w/src/addrdb.cpp\r\nindex fbffd5c959..c3e224ee83 100644\r\n--- i/src/addrdb.cpp\r\n+++ w/src/addrdb.cpp\r\n@@ -194,25 +194,22 @@ bool CBanDB::Write(const banmap_t& banSet)\r\n     for (const auto& err : errors) {\r\n         error(\"%s\", err);\r\n     }\r\n     return false;\r\n }\r\n \r\n-bool CBanDB::Read(banmap_t& banSet, bool& dirty)\r\n+bool CBanDB::Read(banmap_t& banSet)\r\n {\r\n     if (fs::exists(m_banlist_dat)) {\r\n         LogPrintf(\"banlist.dat ignored because it can only be read by \" PACKAGE_NAME \" version 22.x. Remove %s to silence this warning.\\n\", m_banlist_dat);\r\n     }\r\n     // If the JSON banlist does not exist, then recreate it\r\n     if (!fs::exists(m_banlist_json)) {\r\n-        dirty = true;\r\n         return false;\r\n     }\r\n \r\n-    dirty = false;\r\n-\r\n     std::map<std::string, util::SettingsValue> settings;\r\n     std::vector<std::string> errors;\r\n \r\n     if (!util::ReadSettings(m_banlist_json, settings, errors)) {\r\n         for (const auto& err : errors) {\r\n             LogPrintf(\"Cannot load banlist %s: %s\\n\", m_banlist_json.string(), err);\r\ndiff --git i/src/addrdb.h w/src/addrdb.h\r\nindex 0213a14af5..1e0ccb1f60 100644\r\n--- i/src/addrdb.h\r\n+++ w/src/addrdb.h\r\n@@ -92,17 +92,15 @@ public:\r\n     bool Write(const banmap_t& banSet);\r\n \r\n     /**\r\n      * Read the banlist from disk.\r\n      * @param[out] banSet The loaded list. Set if `true` is returned, otherwise it is left\r\n      * in an undefined state.\r\n-     * @param[out] dirty Indicates whether the loaded list needs flushing to disk. Set if\r\n-     * `true` is returned, otherwise it is left in an undefined state.\r\n      * @return true on success\r\n      */\r\n-    bool Read(banmap_t& banSet, bool& dirty);\r\n+    bool Read(banmap_t& banSet);\r\n };\r\n \r\n /**\r\n  * Dump the anchor IP address database (anchors.dat)\r\n  *\r\n  * Anchors are last known outgoing block-relay-only peers that are\r\ndiff --git i/src/banman.cpp w/src/banman.cpp\r\nindex d2437e6733..c64a48a05a 100644\r\n--- i/src/banman.cpp\r\n+++ w/src/banman.cpp\r\n@@ -15,13 +15,13 @@\r\n BanMan::BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time)\r\n     : m_client_interface(client_interface), m_ban_db(std::move(ban_file)), m_default_ban_time(default_ban_time)\r\n {\r\n     if (m_client_interface) m_client_interface->InitMessage(_(\"Loading banlistâ¦\").translated);\r\n \r\n     int64_t n_start = GetTimeMillis();\r\n-    if (m_ban_db.Read(m_banned, m_is_dirty)) {\r\n+    if (m_ban_db.Read(m_banned)) {\r\n         SweepBanned(); // sweep out unused entries\r\n \r\n         LogPrint(BCLog::NET, \"Loaded %d banned node addresses/subnets  %dms\\n\", m_banned.size(),\r\n                  GetTimeMillis() - n_start);\r\n     } else {\r\n         LogPrintf(\"Recreating the banlist database\\n\");\r\n```",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:28:00Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679028420",
      "id" : 679028420,
      "in_reply_to_id" : 678917238,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAyODQyMA==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 200,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 717930793,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:28:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679028420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679038691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679038691"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, will pick the patch. It is almost correct ð¥²:\r\n\r\n\r\n```\r\n==4031966== Conditional jump or move depends on uninitialised value(s)\r\n==4031966==    at 0x46011B: BanMan::DumpBanlist() (banman.cpp:44)\r\n==4031966==    by 0x45E962: BanMan::BanMan(boost::filesystem::path, CClientUIInterface*, long) (banman.cpp:32)\r\n==4031966==    by 0x15C119: make_unique<BanMan, boost::filesystem::path, CClientUIInterface *, long> (unique_ptr.h:962)\r\n==4031966==    by 0x15C119: AppInitMain(NodeContext&, interfaces::BlockAndHeaderTipInfo*) (init.cpp:1164)\r\n==4031966==    by 0x141388: AppInit (bitcoind.cpp:226)\r\n==4031966==    by 0x141388: main (bitcoind.cpp:269)\r\n==4031966== \r\n",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:44:21Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679038691",
      "id" : 679038691,
      "in_reply_to_id" : 678917238,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAzODY5MQ==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 200,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 717944239,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679038691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679042528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679042528"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```\r\ncommit f8a3771957cb1d4d202cd7e3173edfbbeed2657e\r\nParent: faaf9e930d94328c6be42516beab817d45d847f1\r\nAuthor:     Vasil Dimov <vd@FreeBSD.org>\r\nAuthorDate: Thu Jul 29 12:39:49 2021 +0200\r\nCommit:     Vasil Dimov <vd@FreeBSD.org>\r\nCommitDate: Thu Jul 29 12:39:49 2021 +0200\r\n\r\n\r\n    scripted-diff: violate guidelines\r\n    \r\n    -BEGIN VERIFY SCRIPT-\r\n    clang-format -i src/netaddress.h src/test/fuzz/deserialize.cpp\r\n    -END VERIFY SCRIPT-\r\n\r\ndiff --git a/src/netaddress.h b/src/netaddress.h\r\nindex c81f9fd5d8..eb35ed3fac 100644\r\n--- a/src/netaddress.h\r\n+++ b/src/netaddress.h\r\n...\r\nsame diff as in fa81dae3db\r\n...\r\n```\r\n\r\nVerify:\r\n```sh\r\n$ test/lint/commit-script-check.sh origin/master..HEAD\r\nRunning script for: f8a3771957cb1d4d202cd7e3173edfbbeed2657e\r\nclang-format -i src/netaddress.h src/test/fuzz/deserialize.cpp\r\nOK\r\n```\r\n",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:50:28Z",
      "diff_hunk" : "@@ -120,354 +120,354 @@ static constexpr uint16_t I2P_SAM31_PORT{0};\n  */\n class CNetAddr\n {\n-    protected:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679042528",
      "id" : 679042528,
      "in_reply_to_id" : 679000178,
      "line" : 123,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA0MjUyOA==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 123,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/netaddress.h",
      "position" : 33,
      "pull_request_review_id" : 717949134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:50:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679042528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679044442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679044442"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh, why did you had to run valgrind on this? It was perfectly safe before that...",
      "commit_id" : "fac51e94ff2781de70ad4e8d3b4868a2d148d237",
      "created_at" : "2021-07-29T10:53:31Z",
      "diff_hunk" : "@@ -199,11 +199,13 @@ bool CBanDB::Write(const banmap_t& banSet)\n \n bool CBanDB::Read(banmap_t& banSet, bool& dirty)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#discussion_r679044442",
      "id" : 679044442,
      "in_reply_to_id" : 678917238,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA0NDQ0Mg==",
      "original_commit_id" : "fa718eab709cfba868da83bfb1c9280402b96572",
      "original_line" : 200,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 717951653,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22570",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T10:53:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679044442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Further cleanup is possible:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/787296eb6744b15ab693c053e4030ff68dfc95e0/src/test/fuzz/banman.cpp#L55\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/787296eb6744b15ab693c053e4030ff68dfc95e0/src/test/fuzz/banman.cpp#L117",
      "created_at" : "2021-07-30T08:47:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-889741474",
      "id" : 889741474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5841CGCi",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-30T08:47:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889741474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re-ACK fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
      "created_at" : "2021-07-30T09:30:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-889767013",
      "id" : 889767013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5841CMRl",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-30T09:30:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889767013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23586626?v=4",
         "events_url" : "https://api.github.com/users/Zero-1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Zero-1729/followers",
         "following_url" : "https://api.github.com/users/Zero-1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Zero-1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Zero-1729",
         "id" : 23586626,
         "login" : "Zero-1729",
         "node_id" : "MDQ6VXNlcjIzNTg2NjI2",
         "organizations_url" : "https://api.github.com/users/Zero-1729/orgs",
         "received_events_url" : "https://api.github.com/users/Zero-1729/received_events",
         "repos_url" : "https://api.github.com/users/Zero-1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Zero-1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Zero-1729"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not a big fan of the huge whitespace change in the last commit, but otherwise\r\nconcept and code review ACK fa1eddb1a3d1319ddc3643b6f34fe2014de32764",
      "created_at" : "2021-08-02T10:43:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-890923290",
      "id" : 890923290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5841Gmka",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T10:43:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890923290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Release notes for 23.0 added in #22603",
      "created_at" : "2021-08-02T14:20:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-891068358",
      "id" : 891068358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5841HJ_G",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T14:20:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/891068358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like we can re-enable the disabled assert again due to the removal of the code here: #22657 ",
      "created_at" : "2021-08-07T08:23:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22570#issuecomment-894624066",
      "id" : 894624066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22570",
      "node_id" : "IC_kwDOABII5841UuFC",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-07T08:23:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/894624066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
