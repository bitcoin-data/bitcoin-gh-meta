[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "please tag wallet.\n",
      "created_at" : "2016-02-10T01:48:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182163839",
      "id" : 182163839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjE2MzgzOQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182163839/reactions"
      },
      "updated_at" : "2016-02-10T01:48:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182163839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm working to attach debug.log and wallet.dat. If you need further verbosity or any other files, let me know, and I'll try to reproduce the error again to produce these for you. It's pretty straightforward to reproduce the issue, but time consuming and doesn't happen every time.  It's happened to me enough times in the last few days, though, that I think I'll be able to.\n\nMachine specs are: AMD E-350 Processor, 6 GB RAM, Windows 10 Pro, 64-bit.\nBitcoin Core 0.12.0rc3 64-bit.\n\nbitcoin.conf:\ndaemon=1\nserver=1\nmaxuploadtarget=144\nprune=550\n",
      "created_at" : "2016-02-10T03:05:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182178033",
      "id" : 182178033,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjE3ODAzMw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182178033/reactions"
      },
      "updated_at" : "2016-02-10T03:11:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182178033",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8298277?v=4",
         "events_url" : "https://api.github.com/users/mmortal03/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmortal03/followers",
         "following_url" : "https://api.github.com/users/mmortal03/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmortal03/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmortal03",
         "id" : 8298277,
         "login" : "mmortal03",
         "node_id" : "MDQ6VXNlcjgyOTgyNzc=",
         "organizations_url" : "https://api.github.com/users/mmortal03/orgs",
         "received_events_url" : "https://api.github.com/users/mmortal03/received_events",
         "repos_url" : "https://api.github.com/users/mmortal03/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmortal03/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmortal03/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmortal03"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Here is the debug.log and wallet.dat:\nhttps://dde19c9eff451e7e0b7d819897f53dd506692a8f.googledrive.com/host/0B2Wm1faUufb7N3J5QkRFeHpRUkk/Bitcoin_prune_debug.zip\n",
      "created_at" : "2016-02-10T03:10:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182178664",
      "id" : 182178664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjE3ODY2NA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182178664/reactions"
      },
      "updated_at" : "2016-02-10T03:10:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182178664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8298277?v=4",
         "events_url" : "https://api.github.com/users/mmortal03/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmortal03/followers",
         "following_url" : "https://api.github.com/users/mmortal03/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmortal03/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmortal03",
         "id" : 8298277,
         "login" : "mmortal03",
         "node_id" : "MDQ6VXNlcjgyOTgyNzc=",
         "organizations_url" : "https://api.github.com/users/mmortal03/orgs",
         "received_events_url" : "https://api.github.com/users/mmortal03/received_events",
         "repos_url" : "https://api.github.com/users/mmortal03/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmortal03/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmortal03/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmortal03"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Haven't looked at the wallet and debug.log yet, but at first glance it appears that when it is blasting though large number of blocks (e.g. during initial sync, or when catching up) it is possible for the wallet (at least the state synced to disk, even on a clean shutdown) to lag behind more than the amount of blocks that is retained.\n",
      "created_at" : "2016-02-10T11:21:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182322835",
      "id" : 182322835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjMyMjgzNQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182322835/reactions"
      },
      "updated_at" : "2016-02-10T11:30:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182322835",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "From that wallet.dat:\n\n```\nbestblock 0000000000000000006b500f79750a2c5a48da5ad2a13fed6cdaffade6cada25 ...\n```\n\nSo block 373499. According to the debug.log the chain was way ahead of that before shutting down for the last time:\n\n```\n2016-02-10 00:11:27 UpdateTip: new best=000000000000000004fd3098365fb488f31f013ee41d0de63bdb7b4b0aa1dcb2  height=373816  log2_work=83.32589  tx=83020932  date=2015-09-10 04:35:03 progress=0.854354  cache=20.6MiB(12251tx)\n```\n\n(373816 -373499)=317 blocks to be exact.\n",
      "created_at" : "2016-02-10T13:34:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182377080",
      "id" : 182377080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjM3NzA4MA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182377080/reactions"
      },
      "updated_at" : "2016-02-10T13:36:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182377080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems that the bestblock descriptor in the wallet is not updated when flushing occurs for pruning, which is a bug. It could explain the issue here, but only in the case of an unclean shutdown (as the bestblock descriptor is always updated on clean shutdown).\n",
      "created_at" : "2016-02-10T13:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182385005",
      "id" : 182385005,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjM4NTAwNQ==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182385005/reactions"
      },
      "updated_at" : "2016-02-10T13:52:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182385005",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "As the debug.log does show a clean shutdown, I hope this doesn't mean that there are problems with clean shutdown not being as clean as we think. But updating the bestblock descriptor when flushing for pruning would probably solve the immediate issue.\n",
      "created_at" : "2016-02-10T14:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182388474",
      "id" : 182388474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjM4ODQ3NA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182388474/reactions"
      },
      "updated_at" : "2016-02-10T14:03:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182388474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj It looks to me like a clean shutdown still doesn't update the bestblock descriptor if it has been less than an hour.  So I think this problem could happen with clean shutdowns but will be fixed properly by #7502.\n",
      "created_at" : "2016-02-10T17:08:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182484684",
      "id" : 182484684,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjQ4NDY4NA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182484684/reactions"
      },
      "updated_at" : "2016-02-10T17:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182484684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "node_id" : "MDQ6VXNlcjQzNjAzNDk=",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@morcos Nice catch. I think that explains it.\n",
      "created_at" : "2016-02-10T17:21:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182489932",
      "id" : 182489932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4MjQ4OTkzMg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182489932/reactions"
      },
      "updated_at" : "2016-02-10T17:21:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182489932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @laanwj It looks to me like a clean shutdown still doesn't update the bestblock descriptor if it has been less than an hour\n\nYes that must be the problem then :(\n\nSolved by #7502 (which is in rc5)\n",
      "created_at" : "2016-02-11T07:58:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7494#issuecomment-182755272",
      "id" : 182755272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7494",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDE4Mjc1NTI3Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182755272/reactions"
      },
      "updated_at" : "2016-02-11T07:58:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/182755272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
