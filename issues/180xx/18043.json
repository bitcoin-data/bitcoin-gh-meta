{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "@chris-belcher brought this up on the [bitcoin-dev mailinglist](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-December/017529.html) recently.\r\n\r\n> I've recently been playing around with descriptors, and they are very\r\nnice to work with. They should become the standard for master public\r\nkeys IMO.\r\n\r\n> One downside is that users cant easily copypaste them to-and-fro to make\r\nwatch-only wallet. The descriptors contain parenthesis and commas which\r\nstop highlighting by double-clicking. Also the syntax might look scary\r\nto newbs.\r\n\r\n@achow101 wrote in that thread:\r\n\r\n> The main reasons this was proposed in the first place is because of\r\nconcerns that users will be unwilling to use or be confused by descriptors.\r\nThere is a concern that users will not understand the commas,\r\nparentheses, brackets, etc. syntax of descriptors and thus only copy\r\npart of it.\r\nThere is also the concern that users will see this code-like syntax and\r\nbe intimidated by it so they will not want to handle them.\r\n\r\n> So my (offhanded) suggestion was to encode it in some way to just make\r\nit look like some magic string that they need to handle as one unit.\r\n\r\nNote, I'm selectively quoting from the thread, so maybe read it yourself :-)\r\n\r\nPerhaps we can serialize [output descriptors](https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md) with a key-value map similar to [PSBT](https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki#Specification). For example:\r\n\r\nText: `sh(sortedmulti(2,03acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe,022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01))`\r\n\r\nJSON:\r\n```json\r\n{\r\n   \"sh\": {\r\n       \"sortedmulti\": {\r\n            \"threshold\": 2,\r\n            \"pubkeys\": [\r\n\"3acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe\",\r\n\"022f01e5e15cca351daff3843fb70f3c2f0a1bdd05e5af888a67784ef3e10a2a01\"\r\n]\r\n       }\r\n    }\r\n}\r\n```\r\n\r\nAny xpub would be serialized in its binary form, not in base58.\r\n\r\nI'm tempted to allow multiple descriptors, and jam slightly more information to this serialized form. In particular wallet age and whether a descriptor is intended as change. That way a wallet backup can consist of a seed phrase plus a single QR code.\r\n\r\nRegarding checksums, @achow101 wrote:\r\n\r\n> Descriptors already have their own BCH code for descriptor checksums\r\noptimized for their length and character rset. This can be repurposed to\r\nbe used with whatever encoding scheme is chosen so long as the\r\nencoding's character set is covered by the descriptor checksum character\r\nset. The checksum's character set is fairly large and covers all(?)\r\ncharacters on a standard keyboard so that descriptors could be expanded\r\nwith other features in the future. Thus it should cover any encoding\r\nscheme that is suggested.\r\n\r\nWe could re-use the checksum for the text representation, but that only makes sense if we encode the literal descriptor string, rather its \"meaning\", as I'm suggesting above.\r\n\r\nWe can instead use the standard bech32 checksum. [BIP173](https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki#checksum-design) claims that its error detection \"the chosen code performs reasonably well up to 1023 characters\". Although it recommends that \"other designs are preferable for lengths above 89 characters\", if copy-paste is the main use case for descriptors, that seems unnecessary.",
   "closed_at" : "2021-01-06T12:33:40Z",
   "closed_by" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18043/comments",
   "created_at" : "2020-01-31T16:24:11Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18043/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/18043",
   "id" : 558231035,
   "labels" : [
      {
         "color" : "7cf575",
         "default" : false,
         "description" : null,
         "id" : 64583,
         "name" : "Feature",
         "node_id" : "MDU6TGFiZWw2NDU4Mw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18043/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU1NTgyMzEwMzU=",
   "number" : 18043,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Output Descriptor encoding",
   "updated_at" : "2021-01-06T12:33:40Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18043",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
