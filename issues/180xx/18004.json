{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "There was a [reproducibility issue (IRC logs)](http://www.erisian.com.au/bitcoin-core-dev/log-2020-01-25.html) with the osx `0.19.1rc1` gitian builds. The `build-id` embedded into the `dmg` tool was mismatching. It's possible that differing versions of binutils/ld were the cause.\r\n\r\nWhile it was resolved after rebuilding the base gitian image, whether an upstream package issue or fluke, we can remove the possibility of it happening in future by just not embedding a build-id into the `dmg` tool at all. Can close if it's not deemed worth it.\r\n\r\nYou can test this change using the following:\r\n\r\n```bash\r\n# build libdmg\r\nmake native_libdmg-hfsplus_built -C depends/ HOST=x86_64-apple-darwin16 -j6 V=1\r\n\r\n# master\r\nreadelf --string-dump .note.gnu.build-id /bitcoin/depends/work/build/x86_64-apple-darwin16/native_libdmg-hfsplus/7ac55ec64c96f7800d9818ce64c79670e7f02b67-3830944ef98/build/dmg/dmg \r\n\r\nString dump of section '.note.gnu.build-id':\r\n  [     c]  GNU\r\n  [    11]  CjRa?]?^V8?v?;%n??\r\n\r\n# this pr\r\nreadelf --string-dump  .note.gnu.build-id /bitcoin/depends/work/build/x86_64-apple-darwin16/native_libdmg-hfsplus/7ac55ec64c96f7800d9818ce64c79670e7f02b67-a72f53ab110/build/dmg/dmg \r\nreadelf: Warning: Section '.note.gnu.build-id' was not dumped because it does not exist!\r\n```",
   "closed_at" : "2020-02-12T00:50:38Z",
   "closed_by" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   },
   "comments" : 7,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18004/comments",
   "created_at" : "2020-01-26T05:55:32Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18004/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18004",
   "id" : 555182270,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "ff8200",
         "default" : false,
         "description" : "",
         "id" : 294841739,
         "name" : "Needs backport (0.19)",
         "node_id" : "MDU6TGFiZWwyOTQ4NDE3Mzk=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20backport%20(0.19)"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18004/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzY3MTg1MjU5",
   "number" : 18004,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18004.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18004",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18004.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18004"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "build: don't embed a build-id when building libdmg-hfsplus",
   "updated_at" : "2020-02-12T00:51:07Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18004",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
