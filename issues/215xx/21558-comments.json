[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "![image](https://user-images.githubusercontent.com/1530283/113124724-68e3eb00-9248-11eb-9ba1-dae3139f2947.png)\r\nThis screenshot shows that the minfeefilter change could be effective, as the mempool seems to quickly fill up again once the feefilter drops low enough.",
      "created_at" : "2021-03-31T09:30:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21558#issuecomment-810921986",
      "id" : 810921986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21558",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMDkyMTk4Ng==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810921986/reactions"
      },
      "updated_at" : "2021-03-31T09:43:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810921986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I have a idea - in the same way that nodes indirectly reveal their maxmempool size by sending feefilter messages, why not allow them to do this upon connection instead of waiting for their mempools to fill before doing this? i.e. send a number close to the maxmempool. Nodes can then factor this in to determine the feefilter message that would have been sent and restrict TXs accordingly. This would require a new P2P message, I suspect to do this.\r\n\r\nHowever, already this could be done (without a new message):- when a node sends a feefilter message that is lower than the previous one, the node could prioritize sending TXs in that fee band in order to help the node acquire the TXs in that fee band more quickly. This would avoid a protocol change and yet helps nodes to fill up their mempool in a way that avoids receiving too many TXs that will be deleted (once the mempool fills to max again).",
      "created_at" : "2021-04-15T12:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21558#issuecomment-820399243",
      "id" : 820399243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21558",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyMDM5OTI0Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820399243/reactions"
      },
      "updated_at" : "2021-04-15T13:04:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820399243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Another idea - When mempool fills and TXs are deleted, why not instead write them to disk (similar to when mempool is written to disk at shutdown) and re-load them when a block arrives and there's free space again?\r\n\r\nor write the deleted mempool to disk as a leveldb (as suggested 5 years ago by @luke-jr https://github.com/bitcoin/bitcoin/pull/8448#issuecomment-237441154)\r\n\r\n@MarcoFalke could/should the label \"mempool\" also be added to this?",
      "created_at" : "2021-04-16T12:44:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21558#issuecomment-821148147",
      "id" : 821148147,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21558",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyMTE0ODE0Nw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821148147/reactions"
      },
      "updated_at" : "2021-04-16T20:42:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/821148147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
