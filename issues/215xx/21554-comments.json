[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "bitcoin can really tax your hardware, see: https://github.com/bitcoin/bitcoin/issues/21568#issuecomment-812396403\r\n\r\nFirst, make sure that this is not related to a possible hardware issue. Are you overclocking any pieces to the point that instabilities come out because of how taxing bitcoin can be?",
      "created_at" : "2021-04-04T03:36:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-812965177",
      "id" : 812965177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMjk2NTE3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T03:36:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812965177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23396902?v=4",
         "events_url" : "https://api.github.com/users/jarolrod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jarolrod/followers",
         "following_url" : "https://api.github.com/users/jarolrod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jarolrod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jarolrod",
         "id" : 23396902,
         "login" : "jarolrod",
         "node_id" : "MDQ6VXNlcjIzMzk2OTAy",
         "organizations_url" : "https://api.github.com/users/jarolrod/orgs",
         "received_events_url" : "https://api.github.com/users/jarolrod/received_events",
         "repos_url" : "https://api.github.com/users/jarolrod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jarolrod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jarolrod"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> bitcoin can really tax your hardware, see: [#21568 (comment)](https://github.com/bitcoin/bitcoin/issues/21568#issuecomment-812396403)\r\n> \r\n> First, make sure that this is not related to a possible hardware issue. Are you overclocking any pieces to the point that instabilities come out because of how taxing bitcoin can be?\r\n\r\nYes I'm quite sure my hardware is not \"taxed\" :)\r\n\r\nResource manager showed less than 10% hard memory usage (I have 48GB of RAM).  Additionally, the error doesnt happen if I simply lower or remove the dbcache parameter.  The problem is that there is an assert somewhere which blocks the debugger from breaking at the issue, so it's effectively masked.  \"out of memory\" is not a string constant anywhere, at least not one that Visual Studio could find.\r\n\r\n",
      "created_at" : "2021-04-04T16:03:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813057441",
      "id" : 813057441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1NzQ0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813057441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Do you also get this problem if you use the release binaries (which aren't created using msvc)?",
      "created_at" : "2021-04-04T16:05:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813057726",
      "id" : 813057726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1NzcyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:05:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813057726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Do you also get this problem if you use the release binaries (which aren't created using msvc)?\r\n\r\nInteresting!  I had not tried that - will do it now.",
      "created_at" : "2021-04-04T16:08:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813058038",
      "id" : 813058038,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1ODAzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:08:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813058038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can you use the task manager to see where the memory is being consumed?",
      "created_at" : "2021-04-04T16:08:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813058092",
      "id" : 813058092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1ODA5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:08:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813058092",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Can you use the task manager to see where the memory is being consumed?\r\n\r\nYes I did - it was bitcoind, but there was like maybe 4GB of reserved RAM and my machine has 48GB of RAM.",
      "created_at" : "2021-04-04T16:10:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813058281",
      "id" : 813058281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1ODI4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:10:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813058281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is msvc's default compile mode the debug mode, which might consume more memory at run time?",
      "created_at" : "2021-04-04T16:11:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813058471",
      "id" : 813058471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1ODQ3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:11:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813058471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "So I found it!  I think maybe VS was not indexing correctly\r\n\r\nline 931 of init.cpp\r\n    LogPrintf(\"Error: Out of memory. Terminating.\\n\");\r\n\r\nI will reclone btc core now and set a breakpoint...",
      "created_at" : "2021-04-04T16:13:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813058688",
      "id" : 813058688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1ODY4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:13:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813058688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Maybe it's somehow compiled in 32-bit mode, and can't access more than 4 GB as a result?",
      "created_at" : "2021-04-04T16:16:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813059159",
      "id" : 813059159,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1OTE1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:16:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813059159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Maybe it's somehow compiled in 32-bit mode, and can't access more than 4 GB as a result?\r\n\r\nTesting",
      "created_at" : "2021-04-04T16:18:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813059544",
      "id" : 813059544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA1OTU0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T16:18:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813059544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "After investigation and testing, suggest adding the following \"quality of life\" code at line 1577 in init.cpp:\r\n\r\n#ifdef _WIN32\r\n    if (nTotalCache >= ((int64_t)(2048) << 20))\r\n        LogPrintf(\"WARNING: Memory allocations over 2GB on Windows x86 builds will fail, adjust dbcache parameter to less than 2048.\\n\");\r\n#endif\r\n\r\n<img width=\"879\" alt=\"Capture\" src=\"https://user-images.githubusercontent.com/81651363/113519458-57595680-955a-11eb-88a1-fe0f4f4d3bdf.PNG\">\r\n",
      "created_at" : "2021-04-04T19:28:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813087279",
      "id" : 813087279,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA4NzI3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T19:28:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813087279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This is very surprising. Are you sure you're not building in 32-bit mode?",
      "created_at" : "2021-04-04T19:31:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813087640",
      "id" : 813087640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA4NzY0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T19:31:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813087640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yes it is x86, so I'm suggesting the above guard code to inform people of when they make a poor choice for dbcache which will always result in the server crashing.\r\n\r\nx64 runs fine, albeit still slowly.  dbcache 8192 did nothing to improve performance of IBD.",
      "created_at" : "2021-04-04T19:33:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813087986",
      "id" : 813087986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA4Nzk4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T19:33:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813087986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "_WIN32 is also set for 64-bit windows, I believe.\n\nAnd I thought we already limited dbcache on 32-bit platforms, though MSVC builds in general are not officially supported, and far less tested. So it's possible that it just doesn't work there.\n\ndbcache over a few gigabytes only has diminishing returns, but for a full sync I would expect a speedup between 2048 and 8192; it should result in far fewer flushes to disk.",
      "created_at" : "2021-04-04T19:38:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813088527",
      "id" : 813088527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA4ODUyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T19:38:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813088527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "__WIN32 is also set for 64-bit windows, I believe._\r\n\r\nSomething being included is defining it...revision below, with proof of testing.\r\n\r\n_And I thought we already limited dbcache on 32-bit platforms, though MSVC builds in general are not officially supported, and far less tested. So it's possible that it just doesn't work there._\r\n\r\nOther than absolute min/max testing, I dont see any limit on dbcache in init.cpp (lines 1561 to 1565).\r\n\r\nupdated to filter for (is windows) and (not 64 bit)\r\n#ifdef _WIN32\r\n    #ifndef _WIN64\r\n    if (nTotalCache >= ((int64_t)(2048) << 20))\r\n        LogPrintf(\"WARNING: Memory allocations over 2GB on Windows x86 builds will fail, adjust dbcache parameter to less than 2048.\\n\");\r\n    #endif\r\n#endif\r\n\r\n<img width=\"511\" alt=\"Capture\" src=\"https://user-images.githubusercontent.com/81651363/113519945-afde2300-955d-11eb-8eaf-183c2f20eecd.PNG\">\r\n\r\n![image](https://user-images.githubusercontent.com/81651363/113519954-bcfb1200-955d-11eb-8063-7b97509dd09e.png)\r\n\r\nIncluding proper support for windows helps get alot more programmers interested :)\r\n\r\n\r\n",
      "created_at" : "2021-04-04T19:55:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813090639",
      "id" : 813090639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA5MDYzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T19:55:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813090639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "First of all, do you have the problem also with release builds?",
      "created_at" : "2021-04-04T19:56:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813090811",
      "id" : 813090811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA5MDgxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T19:56:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813090811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> First of all, do you have the problem also with release builds?\r\n\r\nYes, Windows X86 release build with dbcache > 4096 will run out of memory.  I didnt test\r\n - X64 build (but I suppose that works)\r\n - dbcache >=2048 (but I suppose that fails)\r\n \r\nIf by \"release build\" you mean the binaries published on the bitcoin core website - those appear to be X64 and wont have this issue.\r\n\r\nAnyway my question is answered, so I'll close it.",
      "created_at" : "2021-04-04T20:04:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813091846",
      "id" : 813091846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA5MTg0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T20:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813091846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/81651363?v=4",
         "events_url" : "https://api.github.com/users/dynamo-foundation/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dynamo-foundation/followers",
         "following_url" : "https://api.github.com/users/dynamo-foundation/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dynamo-foundation/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dynamo-foundation",
         "id" : 81651363,
         "login" : "dynamo-foundation",
         "node_id" : "MDQ6VXNlcjgxNjUxMzYz",
         "organizations_url" : "https://api.github.com/users/dynamo-foundation/orgs",
         "received_events_url" : "https://api.github.com/users/dynamo-foundation/received_events",
         "repos_url" : "https://api.github.com/users/dynamo-foundation/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dynamo-foundation/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dynamo-foundation/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dynamo-foundation"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If by \"release build\" you mean the binaries published on the bitcoin core website - those appear to be X64 and wont have this issue.\n\nYes, that's what I meant. I forgot we stopped supporting 32-bit Windows a while ago.",
      "created_at" : "2021-04-04T20:10:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21554#issuecomment-813092691",
      "id" : 813092691,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21554",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA5MjY5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T20:10:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813092691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
