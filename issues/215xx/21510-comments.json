[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If you are calling `createwallet(path)` with a relative path, or absolute path inside the wallets directory and it succeeds without creating the wallet or listing it in `listwalletdir`, that's definitely a bug, and it would great if you could provide a specific path or narrow down which paths cause this.\r\n\r\nIf you are calling `createwallet(path)` with a path outside the wallet directory, the wallet should be created, but it's expected to not be listed by `listwalletdir` because `listwalletdir`  only lists the wallets in the wallets directory.\r\n\r\nWallets are directories containing database and log files. Wallets don't have internal names separate from directory names because there hasn't been a need for internal names and it is potentially more confusing if wallets have two different names instead of one.\r\n\r\nA drawback of making wallet names directory names is that we have to follow limits of file systems. For example, we can't have two wallet names that differ only in case on case-insensitive files systems. Or we can't have wallets with special names [CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, or LPT9](https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file) on windows. If you try to create wallets with forbidden names, it should fail gracefully with a clear error, and it's a bug if this isn't happening.",
      "created_at" : "2021-03-23T05:31:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21510#issuecomment-804629064",
      "id" : 804629064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwNDYyOTA2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-23T05:31:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/804629064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "**Before running the above mentioned python script:**\r\n\r\nZero wallets\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/112100721-93400380-8bcb-11eb-80bd-ea40c43ee202.png)\r\n\r\nZero wallets\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/112100813-b074d200-8bcb-11eb-9218-d0e755e277c0.png)\r\n\r\n**After running the python script:**\r\n\r\n29 wallets\r\n\r\n```\r\n    Directory: E:\\Bitcoin-Core\\testnet3\\wallets\r\n\r\n\r\nMode                 LastWriteTime         Length Name\r\n----                 -------------         ------ ----\r\nd-----        23-03-2021     11:35                $H);f+FxJIw`pjeFuc&!\r\nd-----        23-03-2021     11:36                '_N(Onr$L&W\r\nd-----        23-03-2021     11:35                ,NOcKVt^ZAb!xZZrlPd;\r\nd-----        23-03-2021     11:35                .!n#N$@j~-Fs{\r\nd-----        23-03-2021     11:35                .h_%)+w=iHI\r\nd-----        23-03-2021     11:35                dY)~eGo;L^xNFg=cSf$#\r\nd-----        23-03-2021     11:36                e!S$pg\r\nd-----        23-03-2021     11:36                fjI}x$E~Z]gXM@-ujJqA\r\nd-----        23-03-2021     11:35                ft#Er%CmXga\r\nd-----        23-03-2021     11:36                hD#HSlHa=d#]'eP.EZ+c\r\nd-----        23-03-2021     11:36                hf$&N\r\nd-----        23-03-2021     11:36                JhyPA%]@-F+hNnOhyGy&\r\nd-----        23-03-2021     11:35                M\r\nd-----        23-03-2021     11:35                mH\r\nd-----        23-03-2021     11:35                m_tCq\r\nd-----        23-03-2021     11:36                N\r\nd-----        23-03-2021     11:35                NJv\r\nd-----        23-03-2021     11:35                N}nQpHcFJpi&fq)gx=sK\r\nd-----        23-03-2021     11:35                Qi&`J\r\nd-----        23-03-2021     11:36                qynIaA]W=nHc~AebbI^X\r\nd-----        23-03-2021     11:36                RiS}&B{m\r\nd-----        23-03-2021     11:35                Ut\r\nd-----        23-03-2021     11:36                uThc%.wi$TK}'-rE^\r\nd-----        23-03-2021     11:36                W{idf.CaVc`V;gpVKYlx\r\nd-----        23-03-2021     11:35                XY;'w.(I}BDKU~&LYzga\r\nd-----        23-03-2021     11:36                yCG-EBUmSg(Dbjdl`M[+\r\nd-----        23-03-2021     11:36                z'G`j`JGEvaYnZZ)Nzgx\r\nd-----        23-03-2021     11:35                {~c\r\nd-----        23-03-2021     11:36                }c@S`NB)t%+HbMo(ioXV\r\n```\r\n\r\n\r\n17 wallets\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/112101297-68a27a80-8bcc-11eb-88e6-162d505fb176.png)\r\n\r\n12 wallets which are missing from `listwalletdir`:\r\n```\r\nN\r\ne!S$pg\r\nRiS}&B{m\r\nhf$&N\r\nM\r\nNJv\r\nUt\r\n{~c\r\nm_tCq\r\nQi&`J\r\nuThc%.wi$TK}'-rE^\r\n.h_%)+w=iHI\r\n```\r\n\r\nInteresting that all these 12 are empty directories and there are no wallet related files inside.\r\n\r\nAll the strings that were tried by the script for `wallet_name`:\r\n\r\n```\r\nqagK@t+gt<WH+ny'Rueh\r\nLU-.hlUOt\"skR;Zs\\gHq\r\nvW{;qW;>j[~xMv!MXA[*\r\nN\"tm}h$Iqh]^TE)t\"uWi\r\nD&^\"tc>ksrFr-D*D@jUf\r\nmH/}=[UH`i!R%s.DhZN`\r\nm_tCq\\[{~)h*>tUxpKd#\r\nUI<BGE^_/eCZE#ebp{:D\r\n{~c/C\"qkkGEV&K;'z<h&\r\nsl[RK`Ox\"k[[Ia+.LRi@\r\nQi&`J/Tt\"alx\\py.!dvL\r\ndY)~eGo;L^xNFg=cSf$#\r\n]b@<yQ?fCbg;?Kf(w]LM\r\n*Z[?Zx#\\mlH%<bt\"`@#h\r\n.!n#N$@j~-Fs{\\YPbR&w\r\nJ{;Yzj_:IIi,j/>_@*JI\r\n`#IjD&<@,[knEpn)QDBl\r\nXCc)aI>J<;~pwpk\"z[|&\r\nFHEcxk_lAI_|`Bjlv<*L\r\n_I**A_:=lvI'P=zy[vi'\r\n}:rSldmyS{:Jd<|cyq$N\r\nKC*B,]VwpA/p=<[UvY&,\r\n){.HGz+\"e{On@qI`rkRd\r\nN}nQpHcFJpi&fq)gx=sK\r\nNJv/?cA\"m;i\",CP=>^VC\r\nTf];P{L\"C`$_qdTJ_E$\\\r\n'NhYfgU~@*W/{JgTcX`z\r\n@z=`(u*_;$,\"Hk)+KHy(\r\nUt/zCd/&=rCUY<.$Q~:C\r\nM\\+r.x(-v<Lw|,c/=OHY\r\nDe<WU@U?#QW!:gh\"bIhS\r\nXY;'w.(I}BDKU~&LYzga\r\nTG:sU(.>a$s'T,m]`+[M\r\n@(<{s,&jROH\"slzf*`R:\r\nCELB{A{ENW)t(>qULw^D\r\nNUBhzxuvc>MaLg;+%gGx\r\n>bIF`j)R\\;\\E:r^n\\~mr\r\nCz:sTWT~JXH&ep@;JLg\\\r\n.h_%)+w=iHI\\W=nqCiB:\r\nkV|QxW[UpPHY!tR_ff=a\r\n^Y^l]H*<{:i~lZE{Rn$\"\r\n>Lr`^~\\zf{{J+;_X_N:O\r\n=tX`H|:wkv!YQ:.O<uNs\r\nzc+i-T<rcINuwSqr)k'(\r\n=h:TcHS}/+mMi$KH{gmZ\r\nft#Er%CmXga/$AeR%]kW\r\n\\)S$+z@,m*%B_YcJSvYi\r\ns#z!LpVkhqZ%@Rd<Vleu\r\n$H);f+FxJIw`pjeFuc&!\r\n,NOcKVt^ZAb!xZZrlPd;\r\nhf$&N\\zli(Qh\"kYXEq/A\r\nm@ZmkBGAG+hRevg'~?Kk\r\nqynIaA]W=nHc~AebbI^X\r\nhD#HSlHa=d#]'eP.EZ+c\r\nRiS}&B{m/AGCf|:Po`d~\r\n*e!=|<A*OOqum-_IFpb^\r\nGCypzOzXbO<>A!~!wXeM\r\nL;iyHJpgTNQsIT@'\"Nt$\r\nfjI}x$E~Z]gXM@-ujJqA\r\nL|+Rw|ChWG^t*^ca`PkB\r\n[,[xsz,Ha>x@\".'W'z\\(\r\nk*C(qt'YsdPiz<\\N@XY]\r\n,qPvq&guX%IBo>UGA('R\r\n\\&!(xehWHmOye\\Z?&^j_\r\n[=hSxy}V)bS#KPFq:u&=\r\nJhyPA%]@-F+hNnOhyGy&\r\n'_N(Onr$L&W\\\\)iHg/Qy\r\nJ>Y}~>Us!BK'$#ullC`\"\r\nvdEVV{m<~'SknPjG~$L'\r\nil'c>'Q\\:AyWE}JqilPC\r\n}:&@,lrhebyLw+U\"zX%h\r\n|Cr\")k?|NiMb(#z{[b&O\r\nrM`btv\"BY?vSOHM?(EX-\r\n?QgDv>hhgl@`$KUYbxfU\r\nRgA,*d,f+R{#enlbk*QH\r\nTI_O+XQd\"`lS)|eI?cKj\r\noe])_Lm\"-tSLhVcPxymu\r\nGf~t>-Oz;iS&zeWXPm)\\\r\n*.W*aFK~<M-BP~Suins\\\r\n]zO#C\"ctzFJQo\"C,*f,e\r\n>u?GDVml>YS|K'OUSwga\r\n`$t<YSCUWGGg[XRs\\`C{\r\n,<yayh:K+K};{<[j*O`B\r\nz'G`j`JGEvaYnZZ)Nzgx\r\nX.[U_Z:a#<c<{&Hl#]yY\r\nU+|xwfEJ[aCpXO`D:Ri!\r\n}c@S`NB)t%+HbMo(ioXV\r\nNe+gc:W]bN/v<x}=lOZf\r\nvB-+coaq?Kg_.[AJGzWQ\r\ne!S$pg\\q?#UAqpZ$EUtQ\r\n*>WB{s`Bd+zqHh-eCl/'\r\nW{idf.CaVc`V;gpVKYlx\r\nLV]z@|}jj>fw_QTdLuOe\r\n<Xi^Aq,$DRoQr_oiImrC\r\nyCG-EBUmSg(Dbjdl`M[+\r\nIE(\"ayHmI~wpNEIf^|rh\r\nMTrQ$STykE)P(]HhewH<\r\nN/eYg{~|\"!|de\\;.IinJ\r\nuThc%.wi$TK}'-rE^\\^\"\r\n/R`ras_wSiMztn\\-E//(\r\n```\r\n\r\nThe error message I get if exception is printed instead of using `pass`:\r\n\r\n```\r\n-1: boost::filesystem::create_directories: The filename, directory name, or volume label syntax is incorrect:\r\n```\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n",
      "created_at" : "2021-03-23T06:42:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21510#issuecomment-804660026",
      "id" : 804660026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwNDY2MDAyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-23T07:01:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/804660026",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tried using Burp Suite for testing few days back: https://bitcoin.stackexchange.com/questions/105838/rate-limits-bitcoin-core-json-rpc\r\n\r\nFound some issues while reviewing PR today: https://github.com/bitcoin/bitcoin/pull/21907\r\n\r\nGUI:\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/117986645-70260a80-b357-11eb-928c-26284a589f74.png)\r\n\r\nCLI:\r\n\r\nhttps://pastebin.com/BnxU9QeK\r\n\r\nFew examples from the list:\r\n\r\n```\r\n    {\r\n      \"name\": \"inance\"\r\n    },\r\n    {\r\n      \"name\": \"ore-Backup\\\\Bitcoin-Core\\\\testnet3\\\\WalletA\"\r\n    },\r\n    {\r\n      \"name\": \"ore-Backup\\\\bitcoin-mainnet\\\\Test-Wallet-2\"\r\n    },\r\n    {\r\n      \"name\": \"ore-Backup\\\\Testnet\\\\Bitcoin-Core\\\\testnet3\\\\WalletA\"\r\n    },\r\n    {\r\n      \"name\": \"egtest\\\\wallets\"\r\n    },\r\n    {\r\n      \"name\": \"estnet3\\\\wallets\"\r\n```\r\n\r\nResult for `dir` in E:\\ https://pastebin.com/ieTPM6z7",
      "created_at" : "2021-05-12T14:09:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/21510#issuecomment-839803680",
      "id" : 839803680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzOTgwMzY4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-12T14:09:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839803680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   }
]
