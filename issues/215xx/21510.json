{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "I am testing few things with different strings in `wallet_name` containing special characters because of few related issues and PRs mentioned in the end.\r\n\r\n**Expected behavior**\r\n\r\nIdeally few special chars should not be allowed and if allowed the wallet should be created only in wallets directory unless a path is mentioned with other argument. Right now same argument is used for name and path. Maybe there can be better solutions but Bitcoin Core's weird behavior with wallet names in some cases can be fixed.\r\n\r\n**Actual behavior**\r\n\r\nI tried creating few wallets with random strings as `wallet_name`. Some of them are not even visible in `listwalletdir` or _Bitcoin-Qt->File->Open Wallet_\r\n\r\n**To reproduce**\r\n\r\n```python\r\nimport random \r\nimport string\r\nfrom bitcoinrpc.authproxy import AuthServiceProxy\r\n\r\nrpc_port = 18444\r\nrpc_user = 'user3'\r\nrpc_password = 'pass3'\r\n\r\ndef wallet_name(size): \r\n\t\r\n\tgenerate_wallet = ''.join([random.choice(string.punctuation + string.ascii_letters) \r\n\t\t\t\t\t\t for n in range(size)]) \r\n\t\t\t\t\t\t\r\n\treturn generate_wallet\r\n \r\n\r\nrpc_connection = AuthServiceProxy(\"http://%s:%s@127.0.0.1:%s\"%(rpc_user,rpc_password,rpc_port))\r\n\r\nfor i in range(100):\r\n    wallet = wallet_name(20)\r\n    print(wallet)\r\n    try:\r\n        result = rpc_connection.createwallet(wallet)        \r\n    except:\r\n        pass    \r\n```\r\n\r\nThe above code will try to create 100 wallets with random strings containing special characters. Not every string tried (and printed) will be used for creating a wallet, exceptions are ignored and next string is tried. \r\n\r\nOnce few wallets are created with random strings, we can check the wallet folders in `testnet3\\wallets` which is different from the wallets that we see in results of `listwalletdir` or _Bitcoin-Qt->File->Open Wallet_\r\n\r\n\r\n**System information**\r\n\r\nBitcoin Core v0.21.0\r\n\r\nWindows 10\r\n\r\nRelated issues: https://github.com/bitcoin/bitcoin/issues/21501 https://github.com/bitcoin/bitcoin/issues/19928 https://github.com/bitcoin/bitcoin/issues/20128\r\nRelated PRs: https://github.com/bitcoin/bitcoin/pull/20080 https://github.com/bitcoin/bitcoin/pull/20393 https://github.com/bitcoin/bitcoin/pull/20741",
   "closed_at" : "2021-06-09T10:53:39Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/3211283?v=4",
      "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
      "followers_url" : "https://api.github.com/users/meshcollider/followers",
      "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/meshcollider",
      "id" : 3211283,
      "login" : "meshcollider",
      "node_id" : "MDQ6VXNlcjMyMTEyODM=",
      "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
      "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
      "repos_url" : "https://api.github.com/users/meshcollider/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/meshcollider"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510/comments",
   "created_at" : "2021-03-23T04:38:37Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/21510",
   "id" : 838341569,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      },
      {
         "color" : "08a781",
         "default" : false,
         "description" : null,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU4MzgzNDE1Njk=",
   "number" : 21510,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Special characters in `wallet_name`",
   "updated_at" : "2021-06-09T10:53:39Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21510",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
      "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
      "followers_url" : "https://api.github.com/users/prayank23/followers",
      "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
      "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/prayank23",
      "id" : 13405205,
      "login" : "prayank23",
      "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
      "organizations_url" : "https://api.github.com/users/prayank23/orgs",
      "received_events_url" : "https://api.github.com/users/prayank23/received_events",
      "repos_url" : "https://api.github.com/users/prayank23/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/prayank23"
   }
}
