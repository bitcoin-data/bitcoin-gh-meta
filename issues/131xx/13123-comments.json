[
   {
      "author_association" : "NONE",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-07-09T23:27:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-403651001",
      "id" : 403651001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzY1MTAwMQ==",
      "updated_at" : "2018-07-09T23:27:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403651001",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased!",
      "created_at" : "2018-07-11T23:26:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-404341373",
      "id" : 404341373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDM0MTM3Mw==",
      "updated_at" : "2018-07-11T23:26:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404341373",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Imo could squash everything, since most of the commits only touch 2 lines.",
      "created_at" : "2018-08-12T22:05:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-412375098",
      "id" : 412375098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjM3NTA5OA==",
      "updated_at" : "2018-08-12T22:05:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412375098",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke Rebased and squashed! Please re-review :-)",
      "created_at" : "2018-08-13T07:39:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-412433709",
      "id" : 412433709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjQzMzcwOQ==",
      "updated_at" : "2018-08-13T07:39:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412433709",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and added missing lock:\r\n\r\n```\r\ndiff --git a/src/net.cpp b/src/net.cpp\r\nindex 529a2f82f..7fcf6a3ef 100644\r\n--- a/src/net.cpp\r\n+++ b/src/net.cpp\r\n@@ -715,7 +715,10 @@ void CNode::copyStats(CNodeStats &stats)\r\n         X(nRecvBytes);\r\n     }\r\n     X(fWhitelisted);\r\n-    X(minFeeFilter);\r\n+    {\r\n+        LOCK(cs_feeFilter);\r\n+        X(minFeeFilter);\r\n+    }\r\n\r\n     // It is common for nodes with good ping times to suddenly become lagged,\r\n     // due to a new block arriving or other large transfer.\r\n```",
      "created_at" : "2018-08-30T13:37:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-417322135",
      "id" : 417322135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNzMyMjEzNQ==",
      "updated_at" : "2018-08-30T13:37:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/417322135",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r214530949"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214530949"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: move this down?",
      "commit_id" : "4894133dc5095ed971bf98d695384e7cbb16e54c",
      "created_at" : "2018-09-02T07:11:42Z",
      "diff_hunk" : "@@ -621,23 +621,23 @@ class CNode\n public:\n     // socket\n     std::atomic<ServiceFlags> nServices;\n-    SOCKET hSocket;\n+    CCriticalSection cs_hSocket;\n+    SOCKET hSocket GUARDED_BY(cs_hSocket);\n     size_t nSendSize; // total size of all vSendMsg entries\n     size_t nSendOffset; // offset inside the first vSendMsg already sent\n-    uint64_t nSendBytes;\n-    std::deque<std::vector<unsigned char>> vSendMsg;\n     CCriticalSection cs_vSend;\n-    CCriticalSection cs_hSocket;\n+    uint64_t nSendBytes GUARDED_BY(cs_vSend);\n+    std::deque<std::vector<unsigned char>> vSendMsg GUARDED_BY(cs_vSend);\n     CCriticalSection cs_vRecv;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r214530949",
      "id" : 214530949,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUzMDk0OQ==",
      "original_commit_id" : "36ecc9ee38799efca737fcb77e02d1a1423c26aa",
      "original_position" : 41,
      "path" : "src/net.h",
      "position" : 39,
      "pull_request_review_id" : 151611462,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123",
      "updated_at" : "2018-11-28T08:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214530949",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r214531021"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214531021"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: separate lines?",
      "commit_id" : "4894133dc5095ed971bf98d695384e7cbb16e54c",
      "created_at" : "2018-09-02T07:14:30Z",
      "diff_hunk" : "@@ -653,8 +653,8 @@ class CNode\n     // to be printed out, displayed to humans in various forms and so on. So we sanitize it and\n     // store the sanitized version in cleanSubVer. The original should be used when dealing with\n     // the network or wire types and the cleaned string used when displayed or logged.\n-    std::string strSubVer, cleanSubVer;\n     CCriticalSection cs_SubVer; // used for both cleanSubVer and strSubVer\n+    std::string strSubVer GUARDED_BY(cs_SubVer), cleanSubVer GUARDED_BY(cs_SubVer);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r214531021",
      "id" : 214531021,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUzMTAyMQ==",
      "original_commit_id" : "36ecc9ee38799efca737fcb77e02d1a1423c26aa",
      "original_position" : 62,
      "path" : "src/net.h",
      "position" : 59,
      "pull_request_review_id" : 151611523,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123",
      "updated_at" : "2018-11-28T08:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214531021",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r214531075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214531075"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`PT_GUARDED_BY`?",
      "commit_id" : "4894133dc5095ed971bf98d695384e7cbb16e54c",
      "created_at" : "2018-09-02T07:16:39Z",
      "diff_hunk" : "@@ -664,15 +664,15 @@ class CNode\n     const bool fInbound;\n     std::atomic_bool fSuccessfullyConnected;\n     std::atomic_bool fDisconnect;\n+    mutable CCriticalSection cs_filter;\n     // We use fRelayTxes for two purposes -\n     // a) it allows us to not relay tx invs before receiving the peer's version message\n     // b) the peer may tell us in its version message that we should not relay tx invs\n     //    unless it loads a bloom filter.\n-    bool fRelayTxes; //protected by cs_filter\n+    bool fRelayTxes GUARDED_BY(cs_filter);\n     bool fSentAddr;\n     CSemaphoreGrant grantOutbound;\n-    CCriticalSection cs_filter;\n-    std::unique_ptr<CBloomFilter> pfilter;\n+    std::unique_ptr<CBloomFilter> pfilter GUARDED_BY(cs_filter);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r214531075",
      "id" : 214531075,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUzMTA3NQ==",
      "original_commit_id" : "36ecc9ee38799efca737fcb77e02d1a1423c26aa",
      "original_position" : 81,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 151611570,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123",
      "updated_at" : "2018-11-28T08:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214531075",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14605](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14605.html) (Return of the Banman by dongcarl)\n* [#14046](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14046.html) (net: Refactor message parsing (CNetMessage), adds flexibility by jonasschnelli)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-09-20T22:37:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-423356795",
      "id" : 423356795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzM1Njc5NQ==",
      "updated_at" : "2018-11-27T20:34:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423356795",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke @Empact Updated. Please re-review :-)",
      "created_at" : "2018-10-08T13:30:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-427833650",
      "id" : 427833650,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNzgzMzY1MA==",
      "updated_at" : "2018-10-08T13:30:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/427833650",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added two `validation.cpp` annotations:\r\n\r\n```\r\nVersionBitsCache versionbitscache GUARDED_BY(cs_main);\r\nstatic ThresholdConditionCache warningcache[VERSIONBITS_NUM_BITS] GUARDED_BY(cs_main);\r\n```\r\n\r\nContext: #14772\r\n",
      "created_at" : "2018-11-21T08:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-440586378",
      "id" : 440586378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MDU4NjM3OA==",
      "updated_at" : "2018-11-27T14:07:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440586378",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r236826301"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/236826301"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is moving those lines required? It makes automated review harder, so best to keep them where they were?",
      "commit_id" : "4894133dc5095ed971bf98d695384e7cbb16e54c",
      "created_at" : "2018-11-27T20:05:17Z",
      "diff_hunk" : "@@ -673,15 +674,15 @@ class CNode\n     const bool fInbound;\n     std::atomic_bool fSuccessfullyConnected;\n     std::atomic_bool fDisconnect;\n+    mutable CCriticalSection cs_filter;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r236826301",
      "id" : 236826301,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjgyNjMwMQ==",
      "original_commit_id" : "559e910a4f17aef3d28d6064e7b84f124cf2125f",
      "original_position" : 72,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 178983853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123",
      "updated_at" : "2018-11-28T08:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/236826301",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r236973185"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/236973185"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point! Fixed. Please re-review :-)",
      "commit_id" : "4894133dc5095ed971bf98d695384e7cbb16e54c",
      "created_at" : "2018-11-28T08:01:24Z",
      "diff_hunk" : "@@ -673,15 +674,15 @@ class CNode\n     const bool fInbound;\n     std::atomic_bool fSuccessfullyConnected;\n     std::atomic_bool fDisconnect;\n+    mutable CCriticalSection cs_filter;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#discussion_r236973185",
      "id" : 236973185,
      "in_reply_to_id" : 236826301,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNjk3MzE4NQ==",
      "original_commit_id" : "559e910a4f17aef3d28d6064e7b84f124cf2125f",
      "original_position" : 72,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 179160843,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13123",
      "updated_at" : "2018-11-28T08:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/236973185",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 4894133dc5095ed971bf98d695384e7cbb16e54c\r\n\r\n* Checked that where the lock is added is also a place where tsan would complain [1]\r\n* Checked that the lock annotations don't change the objdump of the bitcoind, compiled with gcc or clang on my system\r\n\r\n\r\n[1]\r\n\r\n```\r\nWARNING: ThreadSanitizer: data race (pid=30947)\r\n  Read of size 8 at 0x7d6c0005e688 by thread T12 (mutexes: write M131981):\r\n    #0 CNode::copyStats(CNodeStats&) /bitcoin/src/net.cpp:718 (bitcoind+0x0000005224e5)\r\n    #1 CConnman::GetNodeStats(std::vector<CNodeStats, std::allocator<CNodeStats> >&) /bitcoin/src/net.cpp:2567 (bitcoind+0x0000005346b7)\r\n    #2 getpeerinfo(JSONRPCRequest const&) /bitcoin/src/rpc/net.cpp:131 (bitcoind+0x000000617137)\r\n\r\n...\r\n\r\n  Previous write of size 8 at 0x7d6c0005e688 by thread T19 (mutexes: write M134272):\r\n    #0 ProcessMessage(CNode*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, CDataStream&, long, CChainParams const&, CConnman*, std::atomic<bool> const&, bool) /bitcoin/src/net_processing.cpp:2927 (bitcoind+0x000000562dc8)",
      "created_at" : "2018-11-28T16:05:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-442501948",
      "id" : 442501948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjUwMTk0OA==",
      "updated_at" : "2018-11-28T16:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442501948",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift why are `nNextAddrSend` and `nNextLocalAddrSend` now guarded by `cs_sendProcessing`? I don't think those things should be connected.",
      "created_at" : "2020-06-22T13:02:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-647505130",
      "id" : 647505130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzUwNTEzMA==",
      "updated_at" : "2020-06-22T13:02:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647505130",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery I agree that sure looks like an error! Good catch!",
      "created_at" : "2020-06-22T13:10:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-647509328",
      "id" : 647509328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzUwOTMyOA==",
      "updated_at" : "2020-06-22T13:10:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647509328",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the quick reply. I have a PR moving some of those fields around, so I'll get rid of the lock annotations there.",
      "created_at" : "2020-06-22T13:19:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-647514383",
      "id" : 647514383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzUxNDM4Mw==",
      "updated_at" : "2020-06-22T13:19:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647514383",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery Thanks a lot for fixing (and finding)! Much appreciated!",
      "created_at" : "2020-06-22T14:18:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-647549068",
      "id" : 647549068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzU0OTA2OA==",
      "updated_at" : "2020-06-22T14:18:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647549068",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift sorry I meant to say that I have a branch that moves the fields around that I haven't PR'ed yet. I'll ping you when the PR is open.",
      "created_at" : "2020-06-22T14:44:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-647563993",
      "id" : 647563993,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzU2Mzk5Mw==",
      "updated_at" : "2020-06-22T14:44:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647563993",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @practicalswift sorry I meant to say that I have a branch that moves the fields around that I haven't PR'ed yet. I'll ping you when the PR is open.\r\n\r\nPR is open here: #21236. It's a pure refactor and should be easy to review.",
      "created_at" : "2021-02-28T11:53:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13123#issuecomment-787440264",
      "id" : 787440264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13123",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NzQ0MDI2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-28T11:53:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787440264",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
