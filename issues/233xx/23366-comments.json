[
   {
      "author_association" : "MEMBER",
      "body" : "Also the same bug was observed on the master branch recently:\r\n- https://github.com/bitcoin/bitcoin/commit/22a90186496aea8025316bc5616905ffcf1aeb29 -- [log](https://api.cirrus-ci.com/v1/task/6008336282812416/logs/ci.log)\r\n- https://github.com/bitcoin/bitcoin/commit/23a7d56df2dd42b16e5d9748aad5630e448becd7 -- [log](https://api.cirrus-ci.com/v1/task/6464283501395968/logs/ci.log)",
      "created_at" : "2021-10-27T05:06:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-952542538",
      "id" : 952542538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5844xqVK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952542538/reactions"
      },
      "updated_at" : "2021-10-27T05:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952542538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Indeed, this is not an issue with  #15719, but with master",
      "created_at" : "2021-10-27T08:21:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-952659398",
      "id" : 952659398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5844yG3G",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952659398/reactions"
      },
      "updated_at" : "2021-10-27T08:21:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952659398",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Indeed, this is not an issue with #15719, but with master\r\n\r\nSuggested suppression in #23370.",
      "created_at" : "2021-10-27T08:45:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-952681950",
      "id" : 952681950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5844yMXe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952681950/reactions"
      },
      "updated_at" : "2021-10-27T08:45:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952681950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Looking at https://cirrus-ci.com/github/bitcoin/bitcoin/master, I guess this problem does not happen reliably on master, but is nondeterministic? IIRC, when I was seeing similar TSAN errors months ago in #15719, the problem seemed to be deterministic and would happen every time.\r\n\r\nThe `chainstate_update_tip` was added a month ago in 673a5bd3377929a0a6a62eda8b560e47bc2cca0c from #21526 by @jamesob, so maybe James could look at stack traces and clarify whether it is expected that there might be multiple threads writing to cout at same time.\r\n\r\n**I think the TSAN suppression seems safe, but am not completely confident about it. And even if it is thread safe it still means multiple threads could be writing to stdout at the same time and producing garbled output.**\r\n\r\nAlso, I'm not sure why this bug would start happening now if #21526 was merged a month ago, so wondering if something else might have changed recently? Or if this happens infrequently enough to not be noticed? Or if this was noticed but was just ignored a little while?\r\n\r\nWould be nice if there was a way to easily grep cirrus logs and find all the instances of this.",
      "created_at" : "2021-10-27T11:36:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-952830424",
      "id" : 952830424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5844ywnY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952830424/reactions"
      },
      "updated_at" : "2021-10-27T11:36:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/952830424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "As mentioned `std::cout` is supposed to be threadsafe: https://eel.is/c++draft/iostream.objects#overview-7\r\n\r\nThe problem is, it seems that io manipulators are *not* threadsafe: the stream members are not atomic, and there are no locks: https://github.com/llvm/llvm-project/blob/release/12.x/libcxx/include/ios#L372\r\n\r\nBut many methods call `ios.width(0)` so that `std::setw()` is only valid for one output: https://en.cppreference.com/w/cpp/io/ios_base/width\r\n\r\nThis is done here: https://github.com/llvm/llvm-project/blob/main/libcxx/include/locale#L1400 which is called whenever e.g. `operator<<(char const*)` is called. \r\n\r\nSo even when the standard says that concurrent access to `cout` isn't supposed to have any data races, this is one right there. Not sure what to do about that.",
      "created_at" : "2021-11-07T16:45:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-962643450",
      "id" : 962643450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5845YMX6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/962643450/reactions"
      },
      "updated_at" : "2021-11-07T16:45:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/962643450",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Interesting that no one else ran into this before us. Maybe a bug should be reported, since I couldn't find any https://bugs.llvm.org/buglist.cgi?quicksearch=race%20ios_base&list_id=226152",
      "created_at" : "2021-11-08T09:01:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-962941266",
      "id" : 962941266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5845ZVFS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/962941266/reactions"
      },
      "updated_at" : "2021-11-08T09:01:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/962941266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I guess #23370 resolved CI failures, but from Martin's comment https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-962643450, it seems like the suppression isn't ideal because there is a real data race. I think good followups would be to: \r\n\r\n- Improve comment added in [#23370](https://github.com/bitcoin/bitcoin/issues/23370), so instead of being a blind link, it has some explanation and at least mentions std::cout. A good template could be comment from [`81be7ff5`](https://github.com/bitcoin/bitcoin/blob/81be7ff5215eb2f21ca7bc73e565c13215dda7bb/test/sanitizer_suppressions/tsan#L33-L40) with updated information from [#23366 (comment)](https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-962643450)\r\n- Add a new lock around uses of `std::cout` to remove the TSAN suppression. Or replace `cout` calls triggering this with calls that go through the logging framework to remove the suppression. Doing either of these would also prevent interleaved output from multiple threads in addition to avoiding need for the suppression.\r\n- Maybe check upstream and see if library implementation is violating the standard. From Martin's comment, it does seem like there is a bug in either the library or the standard, though it's not clear what a good fix would be.\r\n\r\nCould maybe mark this issue up for grabs if this makes sense and is of interest.",
      "created_at" : "2021-11-15T17:51:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-969164207",
      "id" : 969164207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5845xEWv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969164207/reactions"
      },
      "updated_at" : "2021-11-15T17:51:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969164207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Or replace cout calls triggering this with calls that go through the logging framework to remove the suppression.\r\n\r\nIf the boost test logging has internal locking, that seems a fine alternative. Are you referring to `BOOST_TEST_MESSAGE` https://www.boost.org/doc/libs/1_77_0/libs/test/doc/html/boost_test/utf_reference/testout_reference/test_output_macro_message.html ?",
      "created_at" : "2021-11-16T08:10:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-969992427",
      "id" : 969992427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII58450Ojr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969992427/reactions"
      },
      "updated_at" : "2021-11-16T08:10:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969992427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Or replace cout calls triggering this with calls that go through the logging framework to remove the suppression.\r\n> \r\n> If the boost test logging has internal locking, that seems a fine alternative. Are you referring to `BOOST_TEST_MESSAGE` https://www.boost.org/doc/libs/1_77_0/libs/test/doc/html/boost_test/utf_reference/testout_reference/test_output_macro_message.html ?\r\n\r\nI was being vague because I didn't look into where these cout writes were coming from. But from the cirrus TSAN output above, one `cout` call is coming `G_TEST_LOG_FUN` and the other one is coming from a boost method `boost::unit_test::unit_test_log_t::operator<<(boost::unit_test::lazy_ostream const&)`. We also do have a few scattered `BOOST_TEST_MESSAGE` calls which would be a third source of cout writes.\r\n\r\nTo be able to remove the suppression, all these these cout writes would need to be protect with a lock. We can lock  `G_TEST_LOG_FUN` ourselves since it is our own code. It looks like we could synchronize the boost cout output by redirecting it with `boost::unit_test::unit_test_log.set_stream( std::ostream& );` https://www.boost.org/doc/libs/1_77_0/libs/test/doc/html/boost_test/test_output/logging_api/log_ct_output_stream_redirection.html with a custom `std::ostream` subclass that locks a mutex and forwards to cout.\r\n\r\nI'm not sure if this would be worth it, but it seems something like this would be needed to remove the suppression.",
      "created_at" : "2021-11-17T02:48:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-971124886",
      "id" : 971124886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII58454jCW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/971124886/reactions"
      },
      "updated_at" : "2021-11-17T02:48:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/971124886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Someone (not me) created a bug for exactly this issue, with a nice short reproducer: https://bugs.llvm.org/show_bug.cgi?id=52509\r\n\r\nIn C++20 there will be `std::osyncstream`: https://en.cppreference.com/w/cpp/io/basic_osyncstream So I think it would be nice to have something with the same API that's eventually replaced with `std::osyncstream` once we switch to C++20",
      "created_at" : "2021-11-17T05:39:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-971208417",
      "id" : 971208417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII584543bh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/971208417/reactions"
      },
      "updated_at" : "2021-11-17T05:39:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/971208417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "bugs.llvm was deleted. The bug is now here: https://github.com/llvm/llvm-project/issues/51851",
      "created_at" : "2022-01-11T17:05:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23366#issuecomment-1010173785",
      "id" : 1010173785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23366",
      "node_id" : "IC_kwDOABII5848NgdZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010173785/reactions"
      },
      "updated_at" : "2022-01-11T17:05:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010173785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
