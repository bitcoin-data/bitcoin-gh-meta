{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Recently, on the master branch some failures were observed in the `wallet/test/psbt_wallet_tests.cpp`:\r\n\r\n- https://github.com/bitcoin/bitcoin/commit/49e40f5704db5e59fef834cac5d6b5395c75b091, [log](https://cirrus-ci.com/task/5381337495371776):\r\n```\r\n\u001b[0;39;49m\u001b[1;34;49mwallet/test/psbt_wallet_tests.cpp(27): Entering test case \"psbt_updater_test\"\r\n\u001b[0;39;49m2021-10-25T14:37:00.306414Z [test] [test/util/setup_common.cpp:65] [Seed] Seed: Setting random seed for current tests to RANDOM_CTX_SEED=9ae440b04274b0a20a4eee7d0c0467ce8001fdcecc2785a4e288d14ed935c106\r\n2021-10-25T14:37:00.306585Z [test] [init/common.cpp:165] [LogPackageVersion] Bitcoin Core version v22.99.0-49e40f5704db (debug build)\r\n2021-10-25T14:37:00.306966Z [test] [init.cpp:904] [AppInitParameterInteraction] Assuming ancestors of block 00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad have valid signatures.\r\n2021-10-25T14:37:00.307006Z [test] [init.cpp:917] [AppInitParameterInteraction] Setting nMinimumChainWork=00000000000000000000000000000000000000001fa4663bbbe19f82de910280\r\n2021-10-25T14:37:00.310970Z [test] [script/sigcache.cpp:102] [InitSignatureCache] Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2021-10-25T14:37:00.313940Z [test] [validation.cpp:1275] [InitScriptExecutionCache] Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2021-10-25T14:37:00.315039Z [test] [policy/fees.cpp:530] [CBlockPolicyEstimator] Failed to read fee estimates from /tmp/test_common_Bitcoin Core/8ee4dffed8f25e8b471e093ed7f53cb707111e2a24db9794e27a7890266e8c2b/fee_estimates.dat. Continue anyway.\r\n2021-10-25T14:37:00.315377Z [test] [dbwrapper.cpp:141] [CDBWrapper] Opened LevelDB successfully\r\n2021-10-25T14:37:00.315463Z [test] [dbwrapper.cpp:166] [CDBWrapper] Using obfuscation key for /tmp/test_common_Bitcoin Core/8ee4dffed8f25e8b471e093ed7f53cb707111e2a24db9794e27a7890266e8c2b/blocks/index: 0000000000000000\r\n2021-10-25T14:37:00.315728Z [test] [validation.cpp:4659] [InitializeChainstate] Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n2021-10-25T14:37:00.316030Z [test] [dbwrapper.cpp:141] [CDBWrapper] Opened LevelDB successfully\r\n2021-10-25T14:37:00.316155Z [test] [dbwrapper.cpp:163] [CDBWrapper] Wrote new obfuscate key for /tmp/test_common_Bitcoin Core/8ee4dffed8f25e8b471e093ed7f53cb707111e2a24db9794e27a7890266e8c2b/chainstate: e871977b736770ef\r\n2021-10-25T14:37:00.316192Z [test] [dbwrapper.cpp:166] [CDBWrapper] Using obfuscation key for /tmp/test_common_Bitcoin Core/8ee4dffed8f25e8b471e093ed7f53cb707111e2a24db9794e27a7890266e8c2b/chainstate: e871977b736770ef\r\n2021-10-25T14:37:00.316407Z [test] [flatfile.cpp:69] [Allocate] Pre-allocating up to position 0x1000000 in blk00000.dat\r\n2021-10-25T14:37:00.316887Z [test] [validation.cpp:2294] [ConnectTip]   - Load block from disk: 0.17ms [0.00s]\r\n2021-10-25T14:37:00.317033Z [test] [validationinterface.cpp:249] [BlockChecked] BlockChecked: block hash=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f state=Valid\r\n2021-10-25T14:37:00.317093Z [test] [validation.cpp:2306] [ConnectTip]   - Connect total: 0.22ms [0.00s (0.22ms/blk)]\r\n2021-10-25T14:37:00.317126Z [test] [validation.cpp:2311] [ConnectTip]   - Flush: 0.04ms [0.00s (0.04ms/blk)]\r\n2021-10-25T14:37:00.317196Z [test] [validation.cpp:2317] [ConnectTip]   - Writing chainstate: 0.07ms [0.00s (0.07ms/blk)]\r\n2021-10-25T14:37:00.317308Z [test] [validation.cpp:2111] [UpdateTipLog] UpdateTip: new best=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f height=0 version=0x00000001 log2_work=32.000022 tx=1 date='2009-01-03T18:15:05Z' progress=0.000000 cache=0.0MiB(0txo)\r\n2021-10-25T14:37:00.317340Z [test] [validation.cpp:2328] [ConnectTip]   - Connect postprocess: 0.15ms [0.00s (0.15ms/blk)]\r\n2021-10-25T14:37:00.317366Z [test] [validation.cpp:2329] [ConnectTip] - Connect block: 0.64ms [0.00s (0.64ms/blk)]\r\n2021-10-25T14:37:00.317402Z [test] [txmempool.cpp:691] [check] Checking mempool with 0 transactions and 0 inputs\r\n2021-10-25T14:37:00.317476Z [test] [validationinterface.cpp:226] [BlockConnected] Enqueuing BlockConnected: block hash=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f block height=0\r\n2021-10-25T14:37:00.317549Z [test] [validationinterface.cpp:199] [UpdatedBlockTip] Enqueuing UpdatedBlockTip: new block hash=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f fork block hash=nulmake[3]: *** [Makefile:18454: wallet/test/psbt_wallet_tests.cpp.test] Error 1\r\n```\r\n\r\n- https://github.com/bitcoin/bitcoin/commit/beb45b8b141f8b3ebaa4ea8cb2f35f9ba03efbaf, [log](https://cirrus-ci.com/task/4853362869927936):\r\n```\r\n\u001b[0;39;49m\u001b[1;34;49mwallet/test/psbt_wallet_tests.cpp(27): Entering test case \"psbt_updater_test\"\r\n\u001b[0;39;49m2021-10-25T14:09:48.595432Z [test] [test/util/setup_common.cpp:65] [Seed] Seed: Setting random seed for current tests to RANDOM_CTX_SEED=b22fbd18efa7c241ad6768e3811a8761f90f3ef69cd147d39e3380959b65a13e\r\n2021-10-25T14:09:48.595477Z [test] [init/common.cpp:165] [LogPackageVersion] Bitcoin Core version v22.99.0-beb45b8b141f (release build)\r\n2021-10-25T14:09:48.595608Z [test] [init.cpp:904] [AppInitParameterInteraction] Assuming ancestors of block 00000000000000000008a89e854d57e5667df88f1cdef6fde2fbca1de5b639ad have valid signatures.\r\n2021-10-25T14:09:48.595620Z [test] [init.cpp:917] [AppInitParameterInteraction] Setting nMinimumChainWork=00000000000000000000000000000000000000001fa4663bbbe19f82de910280\r\n2021-10-25T14:09:48.597202Z [test] [script/sigcache.cpp:102] [InitSignatureCache] Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2021-10-25T14:09:48.598513Z [test] [validation.cpp:1269] [InitScriptExecutionCache] Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2021-10-25T14:09:48.598678Z [scheduler] [util/thread.cpp:17] [TraceThread] scheduler thread start\r\n2021-10-25T14:09:48.599215Z [test] [policy/fees.cpp:530] [CBlockPolicyEstimator] Failed to read fee estimates from /tmp/test_common_Bitcoin Core/eabf744d4fabc12acc33a62b5991339fc39702ee5d19a3f1d76e220b6d7aff94/fee_estimates.dat. Continue anyway.\r\n2021-10-25T14:09:48.599370Z [test] [dbwrapper.cpp:141] [CDBWrapper] Opened LevelDB successfully\r\n2021-10-25T14:09:48.599399Z [test] [dbwrapper.cpp:166] [CDBWrapper] Using obfuscation key for /tmp/test_common_Bitcoin Core/eabf744d4fabc12acc33a62b5991339fc39702ee5d19a3f1d76e220b6d7aff94/blocks/index: 0000000000000000\r\n2021-10-25T14:09:48.599585Z [test] [validation.cpp:4653] [InitializeChainstate] Switching active chainstate to Chainstate [ibd] @ height -1 (null)\r\n2021-10-25T14:09:48.603729Z [test] [dbwrapper.cpp:141] [CDBWrapper] Opened LevelDB successfully\r\n2021-10-25T14:09:48.603818Z [test] [dbwrapper.cpp:163] [CDBWrapper] Wrote new obfuscate key for /tmp/test_common_Bitcoin Core/eabf744d4fabc12acc33a62b5991339fc39702ee5d19a3f1d76e220b6d7aff94/chainstate: 1cfa6d2d89aeac10\r\n2021-10-25T14:09:48.603836Z [test] [dbwrapper.cpp:166] [CDBWrapper] Using obfuscation key for /tmp/test_common_Bitcoin Core/eabf744d4fabc12acc33a62b5991339fc39702ee5d19a3f1d76e220b6d7aff94/chainstate: 1cfa6d2d89aeac10\r\n2021-10-25T14:09:48.603962Z [test] [flatfile.cpp:69] [Allocate] Pre-allocating up to position 0x1000000 in blk00000.dat\r\n2021-10-25T14:09:48.604157Z [test] [validation.cpp:2288] [ConnectTip]   - Load block from disk: 0.05ms [0.00s]\r\n2021-10-25T14:09:48.604212Z [test] [validationinterface.cpp:249] [BlockChecked] BlockChecked: block hash=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f state=Valid\r\n2021-10-25T14:09:48.604231Z [test] [validation.cpp:2300] [ConnectTip]   - Connect total: 0.09ms [0.00s (0.09ms/blk)]\r\n2021-10-25T14:09:48.604245Z [test] [validation.cpp:2305] [ConnectTip]   - Flush: 0.02ms [0.00s (0.02ms/blk)]\r\n2021-10-25T14:09:48.604263Z [test] [validation.cpp:2311] [ConnectTip]   - Writing chainstate: 0.02ms [0.00s (0.02ms/blk)]\r\n2021-10-25T14:09:48.604297Z [test] [validation.cpp:2105] [UpdateTipLog] UpdateTip: new best=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f height=0 version=0x00000001 log2_work=32.000022 tx=1 date='2009-01-03T18:15:05Z' progress=0.000000 cache=0.0MiB(0txo)\r\n2021-10-25T14:09:48.604313Z [test] [validation.cpp:2322] [ConnectTip]   - Connect postprocess: 0.05ms [0.00s (0.06ms/blk)]\r\n2021-10-25T14:09:48.604326Z [test] [validation.cpp:2323] [ConnectTip] - Connect block: 0.22ms [0.00s (0.23ms/blk)]\r\n2021-10-25T14:09:48.604341Z [test] [txmempool.cpp:683] [check] Checking mempool with 0 transactions and 0 inputs\r\n2021-10-25T14:09:48.604368Z [test] [validationinterface.cpp:226] [BlockConnected] Enqueuing BlockConnected: block hash=000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f block height=0\r\n2021-10-25T14:09:48.604401Z [test] [validationinterface.cpp:199] [UpdatedBlockTip] Enqueuing UpdatedBlockTip:Segmentation fault (core dumped)\r\nmake[3]: *** [Makefile:18453: wallet/test/psbt_wallet_tests.cpp.test] Error 1\r\n```",
   "closed_at" : "2021-11-01T13:25:36Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 11,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23368/comments",
   "created_at" : "2021-10-27T08:05:23Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23368/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/23368",
   "id" : 1037103014,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      },
      {
         "color" : "08a781",
         "default" : false,
         "description" : null,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      },
      {
         "color" : "d4c5f9",
         "default" : false,
         "description" : null,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23368/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII58490O-m",
   "number" : 23368,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23368/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23368/timeline",
   "title" : "qa: Intermittent failures in the psbt_wallet_tests/psbt_updater_test unit test",
   "updated_at" : "2021-11-01T13:25:36Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23368",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
      "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
      "followers_url" : "https://api.github.com/users/hebasto/followers",
      "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/hebasto",
      "id" : 32963518,
      "login" : "hebasto",
      "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
      "organizations_url" : "https://api.github.com/users/hebasto/orgs",
      "received_events_url" : "https://api.github.com/users/hebasto/received_events",
      "repos_url" : "https://api.github.com/users/hebasto/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/hebasto"
   }
}
