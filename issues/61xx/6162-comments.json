[
   {
      "body" : "More details about the bug are posted here: https://bitcointalk.org/index.php?topic=1065504.0",
      "created_at" : "2015-05-19T16:27:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103579244",
      "id" : 103579244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-19T16:27:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103579244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "Also reported in #5712.  FYI I don't think this is possible to hit on testnet even if it were to be reset, because the starting difficulty is high enough to prevent overflow.  Would be nice to fix this for regtest though...",
      "created_at" : "2015-05-19T16:42:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103585201",
      "id" : 103585201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-19T16:42:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103585201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Correct.  It can only be hit on regtest.",
      "created_at" : "2015-05-19T16:44:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103585927",
      "id" : 103585927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-19T16:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103585927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "You're right, testnet3 shares the same pow limit as mainnet.  I'll edit my commit message to match.",
      "created_at" : "2015-05-19T16:46:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103586683",
      "id" : 103586683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-19T16:47:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103586683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "Fixed the protected members by declaring all other `base_uint` classes to be friends of any `base_uint<BITS>`.",
      "created_at" : "2015-05-19T17:06:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103594466",
      "id" : 103594466,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-19T17:06:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103594466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "@jrick: wouldn't it make sense to provide a RPC test (maybe `qa/rpc-tests/reorg-overflow.py` or so) where you could prove your implementation? The test should fail on current master and succeed with master+this PR on top.",
      "created_at" : "2015-05-20T09:43:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103826182",
      "id" : 103826182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-20T09:43:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103826182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli agree that exercising this with a test would be good to have.  I can try my hand at the RPC test at it if no one else picks it up, but I am not familiar with python.\r\n\r\nDon't want to sidetrack the discussion, but writing tests in a different language that contributors might not know seems like a strange decision.  Testing everything over RPC instead of calling the functions directly also complicates the RPC API by requiring exposing many internals that otherwise an RPC client should not need.",
      "created_at" : "2015-05-20T14:20:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103903522",
      "id" : 103903522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-20T14:20:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103903522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "@jrick: no need to expose internals over RPC. If you PR solves a real world problems (which this PR does IMO) you should be able to automate the steps-to-produce-the-error-you-solve by creating a RPC test. You don't need to know python. Just copy'n'paste from other tests and adapt your scenario. :)\r\n",
      "created_at" : "2015-05-20T14:30:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-103905924",
      "id" : 103905924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-20T14:30:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/103905924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Added RPC tests.",
      "created_at" : "2015-05-20T21:46:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-104048519",
      "id" : 104048519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-20T21:46:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/104048519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30782721"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30782721"
         }
      },
      "body" : "This test should be disabled in `rpc-tests.sh` because it mines serval hundred blocks and it's therefore not ideal for travis/CI (timeouts,etc.).",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T08:39:19Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30782721",
      "id" : 30782721,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:00:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30782721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Tested (regtest only!). ACK.\r\nChanges look sane to me but i'm not sure if the changes in `src/pow.cpp` should go over chainparams (or something similar) so that this PR only affects regtest. ",
      "created_at" : "2015-05-21T08:47:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-104183920",
      "id" : 104183920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-21T08:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/104183920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> Changes look sane to me but i'm not sure if the changes in src/pow.cpp should go over chainparams (or something similar) so that this PR only affects regtest. \r\n\r\nI'm also wary of this, if this is a problem that affects only testing code (regtest), it's unnecessary risk to change mainnet consensus code for it.\r\n\r\nRemind me: Why does it retarget difficulty on regtest at all? From what I've always understood, the difficulty was supposed to be fixed at the bare minimum to allow instant block generation.\r\n",
      "created_at" : "2015-05-21T10:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-104223021",
      "id" : 104223021,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-21T10:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/104223021",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I can't speak for regtest, but @davecgh and I hit this issue while I was patching in support for btcd's simnet so I could do some testing against one of our private test networks.  The difficulty retarget is needed in this case, or block generation timings on our network would not be as realistic as we need.\r\n\r\nIn the past, whenever we've talked about simnet in #bitcoin-dev, we've been told \"that sounds just like regtest, why not use that instead?\", so there are some people who do expect regtest to also work for simulation testing and long-lived private networks.  A network that always has the lowest possible difficulty would indeed be useful for some situations, but useless for others.\r\n\r\nAssumming the regtest retarget is kept, how would you incorporate the logic to use the 512-bit math only on regtest?  I'm all for avoiding touching working mainnet code, but tests become less and less useful the more special cases are made for the test environment.  In this case, I would think that sharing the difficulty retarget code on all networks is safest.",
      "created_at" : "2015-05-21T14:37:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-104300457",
      "id" : 104300457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-21T14:44:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/104300457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30808425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30808425"
         }
      },
      "body" : "What is the command to run all RPC tests, including those disabled for the pull tester?",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T14:39:43Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30808425",
      "id" : 30808425,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:00:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30808425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30811609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30811609"
         }
      },
      "body" : "You can't.\r\nBut there is a PR in this direction #6097",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T15:08:58Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30811609",
      "id" : 30811609,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:00:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30811609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30812760"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30812760"
         }
      },
      "body" : "Should retarget-overflow.py not appear in rpc-tests.sh at all, or be commented out like forknotify.py?",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T15:19:57Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30812760",
      "id" : 30812760,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:00:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30812760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "I would also suggest that having a test for the retarget code which does not rely on special casing or branches specific to the network makes the most sense and is the least risky approach.\r\n\r\nThis code path is currently uncovered by the test code.  The block tester tool does not generate enough blocks to hit the retarget interval, and I haven't seen any test cases anywhere which otherwise cover it.  Empirically, it works properly on mainnet and testnet, and naturally mainnet can be externally tested via an ASIC by disabling checkpoints, which are all good things.  However, I personally don't think it's a good idea to solely rely on human testing for consensus-related code.",
      "created_at" : "2015-05-21T15:53:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-104328522",
      "id" : 104328522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-21T16:00:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/104328522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30816754"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30816754"
         }
      },
      "body" : "IMO best practice (for the current state) is to add your test commented out in `rpc-tests.sh`.",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T15:55:57Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30816754",
      "id" : 30816754,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:00:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30816754",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30817234"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30817234"
         }
      },
      "body" : "done",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T16:00:40Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30817234",
      "id" : 30817234,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:00:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30817234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30818040"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30818040"
         }
      },
      "body" : "The rule for regtest is just to start with a much lower difficulty than\nmainnet, but otherwise is identical in retargetting.\n\nIt's unfortunate that we would need larger integer support for just the\nregtest.\n\nAs regtest mining beyond the retargetting interval hasn't worked for a\nwhile, could we not just change its logic instead, and disable retargetting\nentirely? That seems closer to what people expect and needs fewer code\nchanges to non-test code.\n\nAnd yes, we do need a test that exercises retargetting... @sdaftuar?\n",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T16:09:22Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30818040",
      "id" : 30818040,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:09:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30818040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30819025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30819025"
         }
      },
      "body" : "Ignore my suggestion to disable retarget on regtest, as testing retarget on\nmainnet itself is not feasible.\n\nCan we easily redefine it to not require larger arithmetic?\n\nIf not, switching everything to 512 and adding tests for it like this PR\ndoes is probably the best option, as it's the only way to make sure the\ncode under test is the same as the one affecting mainnet.\n",
      "commit_id" : "bfa0f38f1dc28ec9ff4debd863ea38f9b743b797",
      "created_at" : "2015-05-21T16:19:52Z",
      "diff_hunk" : "@@ -34,6 +34,7 @@ testScripts=(\n     'maxblocksinflight.py'\n     'invalidblockrequest.py'\n     'rawtransactions.py'\n+    'retarget-overflow.py'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#discussion_r30819025",
      "id" : 30819025,
      "original_commit_id" : "8aced2167bd83efb7ee303f8fc4c9ab6cd67c606",
      "original_position" : 4,
      "path" : "qa/pull-tester/rpc-tests.sh",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6162",
      "updated_at" : "2015-05-21T16:19:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/30819025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "It's probably better for the rpc tests to calculate the exact expected retarget difficulty, instead of simply checking that the change was within the expected bounds.",
      "created_at" : "2015-05-21T17:03:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-104356136",
      "id" : 104356136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-05-21T17:03:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/104356136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "Regtest does retarget just like mainnet, the only difference is that it starts off at a much lower difficulty.\r\n\r\nGiven that part of the purpose of that regtest is covering code to be used by mainnet, I think it's important that they do use the same code. I'm not very keen on changing the code for mainnet, though - even if it shouldn't make any difference, so I don't really know what the best solution is...",
      "created_at" : "2015-06-14T14:04:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-111828786",
      "id" : 111828786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-06-14T14:04:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/111828786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "NACK, I would prefer regtest not to ever retarget as @laanwj suggests.",
      "created_at" : "2015-08-29T00:38:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-135922359",
      "id" : 135922359,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-08-29T00:38:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/135922359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Leaning towards closing.  Seems unlikely to be merged anytime soon given current comments.\r\n",
      "created_at" : "2015-09-15T17:54:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-140481339",
      "id" : 140481339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-09-15T17:54:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/140481339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "[Weak] NACK.\r\n\r\nIf it isn't an issue,  IMHO,  don't bother adding the code to calculate it,  however, it would be nice to document and assert that assumption.",
      "created_at" : "2015-09-16T07:03:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-140649508",
      "id" : 140649508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-09-16T15:10:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/140649508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Well regtest currently cannot deal with retargets. I believe that's a\nsignificant limitation and reduces the usefulness of regtest (but bringing\nit back ideally means using the same code for both).\n",
      "created_at" : "2015-09-16T11:59:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-140720330",
      "id" : 140720330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-09-16T11:59:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/140720330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "As previously mentioned, it is in fact an issue on regtest.  Retargets are not possible on regtest currently (and they used to be before commit df9eb5e14fa8072bc8a82b59e712c2ba36f13f4c).  Unfortunately, there is currently no test coverage which exercise the retarget code and is why this was able to go through.\r\n\r\nRepeating what I said above, I would also suggest that having a test for the retarget code which does not rely on special casing or branches specific to the network makes the most sense and is the least risky approach.  That is the approach this pull request takes.  It would appear @sipa agrees as he commented that it \"ideally means using the same code for both.\"\r\n\r\nThis isn't a theoretical issue.  We hit it because we were doing some testing with btcd and Bitcoin Core on regtest which involved retargets and noticed that btcd handles it correctly while Bitcoin Core does not even though they used to both handle it correctly in the past.  This creates a situation where 3rd-party software can't properly be tested across retarget intervals on the regression test network with Bitcoin Core.",
      "created_at" : "2015-09-16T14:13:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-140753408",
      "id" : 140753408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-09-16T14:15:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/140753408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "As retargetting never worked on regtest I'd prefer it to be disabled completely, as from what I've gathered, people don't really expect the difficulty on regtest to ramp up.",
      "created_at" : "2015-10-19T10:43:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149182235",
      "id" : 149182235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T10:43:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149182235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "In that case I think we should add a boolean to Consensus::Params called\nfNoRetargetting, that disables the logic entirely. Currently we just can't\ncreate regtest chains longer than 2016 blocks...\n",
      "created_at" : "2015-10-19T11:15:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149187376",
      "id" : 149187376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T11:15:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149187376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I agree, that would be a much clearer solution. I know the versionbits integration tests are going to need the ability to generate more than 2016 blocks on regtestnet (afaik). refs #6816 ",
      "created_at" : "2015-10-19T11:21:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149188300",
      "id" : 149188300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T11:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149188300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@sipa @btcdrak Regarding your fNoRetargetting, indeed! I had to force CheckProofOfWork to return true to actually run tests on #6816",
      "created_at" : "2015-10-19T11:24:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149188683",
      "id" : 149188683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T11:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149188683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "body" : "@CodeShark maybe you should just fix it in your PR, or should there be a separate PR?",
      "created_at" : "2015-10-19T11:30:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149189564",
      "id" : 149189564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T11:30:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149189564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@laanwj: It is not true that retargetting never worked on regtest.  It worked prior to commit df9eb5e.",
      "created_at" : "2015-10-19T13:26:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149212476",
      "id" : 149212476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T13:26:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149212476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "For the record, I was in favor of this pull, but not strongly enough to continue advocating for it.",
      "created_at" : "2015-10-19T14:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149224114",
      "id" : 149224114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T14:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149224114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "I also ACKed this PR. If only the mainnet effects would be reduced by moving/encapsulating the changes from the PR in `CalculateNextWorkRequired()` somehow towards `chainparams.cpp` ...",
      "created_at" : "2015-10-19T14:12:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149224775",
      "id" : 149224775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T14:12:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149224775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> This code path is currently uncovered by the test code.\r\n\r\nActually there's currently some unittest for CalculateNextWorkRequired(), see https://github.com/bitcoin/bitcoin/blob/master/src/test/pow_tests.cpp.\r\nIn fact, testing was the reason why CalculateNextWorkRequired() was separated from GetNextWorkRequired() in the first place (see https://github.com/bitcoin/bitcoin/commit/34e5015cd21e27c1bf635d92531afac93f553096 ).",
      "created_at" : "2015-10-19T17:37:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149292178",
      "id" : 149292178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6162",
      "updated_at" : "2015-10-19T17:43:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149292178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
